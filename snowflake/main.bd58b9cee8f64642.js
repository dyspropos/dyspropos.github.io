"use strict";var vL=Object.defineProperty,bL=(vt,Ke,m)=>Ke in vt?vL(vt,Ke,{enumerable:!0,configurable:!0,writable:!0,value:m}):vt[Ke]=m,ar=(vt,Ke,m)=>(bL(vt,"symbol"!=typeof Ke?Ke+"":Ke,m),m);(self.webpackChunksnowflake=self.webpackChunksnowflake||[]).push([[179],{2082:(vt,Ke,m)=>{m.a(vt,async v=>{m.d(Ke,{g:()=>N,Dp:()=>J,uF:()=>he,h4:()=>fe,ug:()=>Se,JV:()=>Ie,Or:()=>_e});var h=m(5864);vt=m.hmd(vt);var Q=v([h]);h=(Q.then?await Q:Q)[0];let R=new("undefined"==typeof TextDecoder?(0,vt.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});R.decode();let se=null;function j(){return(null===se||se.buffer!==h.memory.buffer)&&(se=new Uint8Array(h.memory.buffer)),se}function Y($,X){return R.decode(j().subarray($,$+X))}const V=new Array(32).fill(void 0);V.push(void 0,null,!0,!1);let x=V.length;function D($){return V[$]}let T=0,I=new("undefined"==typeof TextEncoder?(0,vt.require)("util").TextEncoder:TextEncoder)("utf-8");const H="function"==typeof I.encodeInto?function($,X){return I.encodeInto($,X)}:function($,X){const pe=I.encode($);return X.set(pe),{read:$.length,written:pe.length}};function N($,X,pe){var re=function K($,X,pe){if(void 0===pe){const we=I.encode($),He=X(we.length);return j().subarray(He,He+we.length).set(we),T=we.length,He}let re=$.length,ne=X(re);const ce=j();let ue=0;for(;ue<re;ue++){const we=$.charCodeAt(ue);if(we>127)break;ce[ne+ue]=we}if(ue!==re){0!==ue&&($=$.slice(ue)),ne=pe(ne,re,re=ue+3*$.length);const we=j().subarray(ne+ue,ne+re);ue+=H($,we).written}return T=ue,ne}($,h.__wbindgen_malloc,h.__wbindgen_realloc),ce=h.create_document(re,T,X,pe);return ye.__wrap(ce)}let P=null;function W(){return(null===P||P.buffer!==h.memory.buffer)&&(P=new Int32Array(h.memory.buffer)),P}function J($){try{const ne=h.__wbindgen_add_to_stack_pointer(-16);!function M($,X){if(!($ instanceof X))throw new Error(`expected instance of ${X.name}`)}($,ye);var X=$.ptr;$.ptr=0,h.compile_and_run(ne,X);var pe=W()[ne/4+0],re=W()[ne/4+1];return Y(pe,re)}finally{h.__wbindgen_add_to_stack_pointer(16),h.__wbindgen_free(pe,re)}}function he(){h.snow_initialize()}class ye{static __wrap(X){const pe=Object.create(ye.prototype);return pe.ptr=X,pe}__destroy_into_raw(){const X=this.ptr;return this.ptr=0,X}free(){const X=this.__destroy_into_raw();h.__wbg_document_free(X)}}function fe($,X){return function w($){x===V.length&&V.push(V.length+1);const X=x;return x=V[X],V[X]=$,X}(Y($,X))}function Se($){!function f($){const X=D($);return function F($){$<36||(V[$]=x,x=$)}($),X}($)}function Ie($){console.log(D($))}function _e($,X){throw new Error(Y($,X))}})},5041:(vt,Ke,m)=>{m.a(vt,async v=>{m.d(Ke,{y:()=>se});var h=m(4893),Q=m(1486),k=m(7101),R=v([Q]);Q=(R.then?await R:R)[0];let se=(()=>{class j{constructor(){this.title="snowflake",this.svg=""}setSvg(V){this.svg=V}}return j.\u0275fac=function(V){return new(V||j)},j.\u0275cmp=h.Xpm({type:j,selectors:[["app-root"]],decls:10,vars:1,consts:[[1,"header"],[1,"content"],[1,"item"],[3,"result"],["id","viewer",1,"item"],[3,"svg"]],template:function(V,x){1&V&&(h.TgZ(0,"div",0)(1,"h1"),h._uU(2,"Snowflake"),h.qZA()(),h.TgZ(3,"div",1)(4,"div",2)(5,"app-editor",3),h.NdJ("result",function(D){return x.setSvg(D)}),h.qZA()(),h.TgZ(6,"div",4)(7,"h2"),h._uU(8,"Output"),h.qZA(),h._UZ(9,"app-viewer",5),h.qZA()()),2&V&&(h.xp6(9),h.Q6J("svg",x.svg))},directives:[Q.P,k.B],styles:[".content[_ngcontent-%COMP%]{display:flex;height:100%}.header[_ngcontent-%COMP%]{width:100%;padding:16px}.item[_ngcontent-%COMP%]{width:50%;padding:16px}"]}),j})()})},6747:(vt,Ke,m)=>{m.a(vt,async v=>{m.d(Ke,{b:()=>F});var h=m(3554),Q=m(7423),k=m(7531),R=m(2313),se=m(6360),j=m(8704),Y=m(5041),V=m(5388),x=m(4893),w=v([Y]);Y=(w.then?await w:w)[0];const D={onMonacoLoad:()=>{const T=window.monaco;T.languages.register({id:"snowflake"}),T.languages.setMonarchTokensProvider("snowflake",{keywords:["system","rule","fn","struct","using","if","let","match","sy","else","with","weight","yield","term","start","return"],typeKeywords:["boolean","double","byte","int","short","char","void","long","float"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],[/[ \t\r\n]+/,"white"],[/\/\/.*$/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/#[0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],string:[[/[^\\"]+/,"string"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[]}})}};let F=(()=>{class T{}return T.\u0275fac=function(I){return new(I||T)},T.\u0275mod=x.oAB({type:T,bootstrap:[Y.y]}),T.\u0275inj=x.cJS({providers:[],imports:[[R.b2,h.u5,j.nm.forRoot(D),se.PW,Q.ot,k.c,V.Tx,h.UX]]}),T})()})},1486:(vt,Ke,m)=>{m.a(vt,async v=>{m.d(Ke,{P:()=>I});var h=m(5861),Q=m(4893),k=m(3554),R=m(1191),se=m(3206),j=m(4536),Y=m(7423),V=m(5388),x=m(8704),w=m(4106),D=m(7531),F=m(9808),f=v([j]);function T(H,K){if(1&H&&(Q.TgZ(0,"mat-error"),Q._uU(1),Q.qZA()),2&H){const N=Q.oxw();Q.xp6(1),Q.Oqu(N.getErrorMessage(N.seed))}}function z(H,K){if(1&H&&(Q.TgZ(0,"mat-error"),Q._uU(1),Q.qZA()),2&H){const N=Q.oxw();Q.xp6(1),Q.Oqu(N.getErrorMessage(N.depth))}}j=(f.then?await f:f)[0];let I=(()=>{class H{constructor(N,M){this.compileService=N,this.zone=M,this.result=new Q.vpe,this.editorOptions={theme:"vs-light",language:"snowflake",scrollBeyondLastLine:!1,minimap:{enabled:!1}},this.seed=new k.NI(1,[k.kI.required,R.Y]),this.depth=new k.NI(10,[k.kI.required,R.Y]),this.code=""}ngOnInit(){this.loadExample("koch_snowflake.snow")}compile(){var N=this;return(0,h.Z)(function*(){N.seed.setValue(N.seed.value+1),N.compileService.compile(N.code,N.seed.value,N.depth.value).subscribe(M=>{N.result.emit(M)})})()}getErrorMessage(N){return N.hasError("required")?"You must enter a value":N.hasError("invalid")?"Must be non-negative integer":"An error has occured"}onInitMonaco(N){N.addAction({id:"compileSnowflake",label:"Execute snowflake",keybindings:[se.DC.CtrlCmd|se.VD.KeyS],contextMenuGroupId:"execution",run:()=>{this.zone.run(()=>this.compile())}})}loadExample(N){var M=this;return(0,h.Z)(function*(){var P=new XMLHttpRequest;console.log("Loading "+N),P.open("GET","assets/"+N,!0),P.send(null);const W=M;P.onreadystatechange=function(){if(4===P.readyState&&200===P.status){var J=P.getResponseHeader("Content-Type");1!==(null==J?void 0:J.indexOf("text"))&&(W.code=P.responseText,W.compile())}}})()}}return H.\u0275fac=function(N){return new(N||H)(Q.Y36(j.x),Q.Y36(Q.R0b))},H.\u0275cmp=Q.Xpm({type:H,selectors:[["app-editor"]],outputs:{result:"result"},decls:24,vars:7,consts:[["mat-button","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"editor",3,"options","ngModel","ngModelChange","onInit"],[1,"setting-container"],["appearance","outline",1,"setting-input"],["type","number","min","0","matInput","","required","",3,"formControl"],[4,"ngIf"]],template:function(N,M){if(1&N&&(Q.TgZ(0,"button",0),Q.NdJ("click",function(){return M.compile()}),Q._uU(1,"Compile"),Q.qZA(),Q.TgZ(2,"button",1),Q._uU(3,"Examples"),Q.qZA(),Q.TgZ(4,"mat-menu",null,2)(6,"button",3),Q.NdJ("click",function(){return M.loadExample("koch_snowflake.snow")}),Q._uU(7,"Koch Snowflake"),Q.qZA(),Q.TgZ(8,"button",3),Q.NdJ("click",function(){return M.loadExample("koch_snowflake_random.snow")}),Q._uU(9,"Koch Snowflake (Random)"),Q.qZA(),Q.TgZ(10,"button",3),Q.NdJ("click",function(){return M.loadExample("box_divide.snow")}),Q._uU(11,"Boxes"),Q.qZA()(),Q.TgZ(12,"ngx-monaco-editor",4),Q.NdJ("ngModelChange",function(W){return M.code=W})("onInit",function(W){return M.onInitMonaco(W)}),Q.qZA(),Q.TgZ(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),Q._uU(16,"Seed"),Q.qZA(),Q._UZ(17,"input",7),Q.YNc(18,T,2,1,"mat-error",8),Q.qZA(),Q.TgZ(19,"mat-form-field",6)(20,"mat-label"),Q._uU(21,"Depth"),Q.qZA(),Q._UZ(22,"input",7),Q.YNc(23,z,2,1,"mat-error",8),Q.qZA()()),2&N){const P=Q.MAs(5);Q.xp6(2),Q.Q6J("matMenuTriggerFor",P),Q.xp6(10),Q.Q6J("options",M.editorOptions)("ngModel",M.code),Q.xp6(5),Q.Q6J("formControl",M.seed),Q.xp6(1),Q.Q6J("ngIf",M.seed.invalid),Q.xp6(4),Q.Q6J("formControl",M.depth),Q.xp6(1),Q.Q6J("ngIf",M.depth.invalid)}},directives:[Y.lW,V.p6,V.VK,V.OP,x.PG,k.JJ,k.On,w.KE,w.hX,k.qQ,k.wV,D.Nt,k.Fj,k.Q7,k.oH,F.O5,w.TO],styles:[".editor[_ngcontent-%COMP%]{height:80%}.setting-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.setting-input[_ngcontent-%COMP%]{flex-grow:1}"]}),H})()})},1191:(vt,Ke,m)=>{function v(h){return"number"!=typeof h.value||h.value<0?{invalid:!0}:null}m.d(Ke,{Y:()=>v})},4536:(vt,Ke,m)=>{m.a(vt,async v=>{m.d(Ke,{x:()=>se});var h=m(9646),Q=m(2082),k=m(4893),R=v([Q]);Q=(R.then?await R:R)[0];let se=(()=>{class j{constructor(){(0,Q.uF)()}compile(V,x,w){console.log("Compiling snowflake script");const D=(0,Q.g)(V,x,w);return(0,h.of)((0,Q.Dp)(D))}}return j.\u0275fac=function(V){return new(V||j)},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()})},7101:(vt,Ke,m)=>{m.d(Ke,{B:()=>Q});var v=m(4893);const h=["svg"];let Q=(()=>{class k{constructor(){this.svg=""}ngOnInit(){}ngOnChanges(){this.svgContainer&&(this.svgContainer.nativeElement.innerHTML=this.svg)}}return k.\u0275fac=function(se){return new(se||k)},k.\u0275cmp=v.Xpm({type:k,selectors:[["app-viewer"]],viewQuery:function(se,j){if(1&se&&v.Gf(h,5),2&se){let Y;v.iGM(Y=v.CRH())&&(j.svgContainer=Y.first)}},inputs:{svg:"svg"},features:[v.TTD],decls:2,vars:0,consts:[["svg",""]],template:function(se,j){1&se&&v._UZ(0,"div",null,0)},styles:[""]}),k})()},2340:(vt,Ke,m)=>{m.d(Ke,{N:()=>v});const v={production:!0}},4431:(vt,Ke,m)=>{m.a(vt,async v=>{var h=m(2313),Q=m(4893),k=m(6747),R=m(2340),se=v([k]);k=(se.then?await se:se)[0],R.N.production&&(0,Q.G48)(),h.q6().bootstrapModule(k.b).catch(j=>console.error(j))})},3366:(vt,Ke,m)=>{m.r(Ke),m.d(Ke,{PixelRatio:()=>se,getZoomFactor:()=>j,isFirefox:()=>V,isWebKit:()=>x,isChrome:()=>w,isSafari:()=>D,isWebkitWebView:()=>F,isEdgeLegacyWebView:()=>f,isElectron:()=>T,isAndroid:()=>z,isStandalone:()=>I});var v=m(2787),h=m(2425);class Q{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}Q.INSTANCE=new Q;class k extends h.JT{constructor(){super(),this._onDidChange=this._register(new v.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(),this._removeListener=this._installResolutionListener()}get value(){return this._value}dispose(){this._removeListener(),super.dispose()}_installResolutionListener(){const K=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),N=()=>this._updateValue();return K.addEventListener("change",N),()=>{K.removeEventListener("change",N)}}_updateValue(){this._value=this._getPixelRatio(),this._onDidChange.fire(this._value),this._removeListener=this._installResolutionListener()}_getPixelRatio(){const K=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(K.webkitBackingStorePixelRatio||K.mozBackingStorePixelRatio||K.msBackingStorePixelRatio||K.oBackingStorePixelRatio||K.backingStorePixelRatio||1)}}const se=new class R{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new k),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function j(){return Q.INSTANCE.getZoomFactor()}const Y=navigator.userAgent,V=Y.indexOf("Firefox")>=0,x=Y.indexOf("AppleWebKit")>=0,w=Y.indexOf("Chrome")>=0,D=!w&&Y.indexOf("Safari")>=0,F=!w&&!D&&x,f=Y.indexOf("Edge/")>=0&&Y.indexOf("WebView/")>=0,T=Y.indexOf("Electron/")>=0,z=Y.indexOf("Android")>=0,I=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},7991:(vt,Ke,m)=>{m.d(Ke,{D:()=>Q});var v=m(3366),h=m(8972);const Q={clipboard:{writeText:h.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:h.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:h.tY||v.isStandalone?0:navigator.keyboard||v.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},6889:(vt,Ke,m)=>{m.d(Ke,{go:()=>h,TN:()=>Q,P$:()=>k});const h={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:m(9341).v.text,TERMINALS:"Terminals"};class Q{constructor(se){this.data=se}update(){}getData(){return this.data}}const k={CurrentDragAndDropData:void 0}},8059:(vt,Ke,m)=>{m.d(Ke,{PO:()=>w,Uw:()=>D,nm:()=>f,mu:()=>I,Gw:()=>H,Lo:()=>N,qV:()=>M,j_:()=>P,RE:()=>W,IC:()=>J,lI:()=>fe,jL:()=>Se,Y_:()=>pe,Dx:()=>re,D6:()=>ne,Ro:()=>ue,xQ:()=>we,dp:()=>He,i:()=>lt,DI:()=>ut,w:()=>Ve,FK:()=>ct,If:()=>Nt,wn:()=>un,jg:()=>Jt,Fx:()=>St,uU:()=>en,OO:()=>Xt,Ay:()=>ze,vY:()=>At,dS:()=>Kt,fk:()=>yt,uN:()=>Ht,Re:()=>jt,tw:()=>_n,zB:()=>In,vL:()=>it,_0:()=>$t,go:()=>Zt,R3:()=>Rn,Ce:()=>vn,mc:()=>Wn,$:()=>ke,$Z:()=>ft,Cp:()=>Me,H$:()=>ot,Uh:()=>on,V3:()=>Tn,jt:()=>Mi,wY:()=>xn,_h:()=>rn,_q:()=>tn,uB:()=>bn});var v=m(3366),h=m(7991),Q=m(4616),k=m(8394),R=m(3072),se=m(3663),j=m(2787),Y=m(2425),V=m(278),x=m(8972);function w(mt){for(;mt.firstChild;)mt.firstChild.remove()}function D(mt){var Xe;return null!==(Xe=null==mt?void 0:mt.isConnected)&&void 0!==Xe&&Xe}class F{constructor(Xe,Dn,An,Ye){this._node=Xe,this._type=Dn,this._handler=An,this._options=Ye||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function f(mt,Xe,Dn,An){return new F(mt,Xe,Dn,An)}function T(mt){return function(Xe){return mt(new k.n(Xe))}}let I=function(Xe,Dn,An,Ye){let Te=An;return"click"===Dn||"mousedown"===Dn?Te=T(An):("keydown"===Dn||"keypress"===Dn||"keyup"===Dn)&&(Te=function z(mt){return function(Xe){return mt(new Q.y(Xe))}}(An)),f(Xe,Dn,Te,Ye)},H=function(Xe,Dn,An){return N(Xe,T(Dn),An)};function N(mt,Xe,Dn){return f(mt,x.gn&&h.D.pointerEvents?_n.POINTER_DOWN:_n.MOUSE_DOWN,Xe,Dn)}function M(mt,Xe,Dn){return f(mt,x.gn&&h.D.pointerEvents?_n.POINTER_UP:_n.MOUSE_UP,Xe,Dn)}function P(mt,Xe){return f(mt,"mouseout",Dn=>{let An=Dn.relatedTarget;for(;An&&An!==mt;)An=An.parentNode;An!==mt&&Xe(Dn)})}function W(mt,Xe){return f(mt,"pointerout",Dn=>{let An=Dn.relatedTarget;for(;An&&An!==mt;)An=An.parentNode;An!==mt&&Xe(Dn)})}function J(mt,Xe,Dn){let An=null;const Ye=Mt=>ht.fire(Mt),ht=new j.Q5({onFirstListenerAdd:()=>{An||(An=new F(mt,Xe,Ye,Dn))},onLastListenerRemove:()=>{An&&(An.dispose(),An=null)}});return ht}let fe,Se,he=null;class Ie{constructor(Xe,Dn=0){this._runner=Xe,this.priority=Dn,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Xe){(0,se.dL)(Xe)}}static sort(Xe,Dn){return Dn.priority-Xe.priority}}!function(){let mt=[],Xe=null,Dn=!1,An=!1,Ye=()=>{for(Dn=!1,Xe=mt,mt=[],An=!0;Xe.length>0;)Xe.sort(Ie.sort),Xe.shift().execute();An=!1};Se=(Te,Ae=0)=>{let ht=new Ie(Te,Ae);return mt.push(ht),Dn||(Dn=!0,function ye(mt){if(!he){const Xe=Dn=>setTimeout(()=>Dn((new Date).getTime()),0);he=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Xe}he.call(self,mt)}(Ye)),ht},fe=(Te,Ae)=>{if(An){let ht=new Ie(Te,Ae);return Xe.push(ht),ht}return Se(Te,Ae)}}();const $=function(mt,Xe){return Xe};class X extends Y.JT{constructor(Xe,Dn,An,Ye=$,Te=8){super();let Ae=null,ht=0,Mt=this._register(new R._F),Ge=()=>{ht=(new Date).getTime(),An(Ae),Ae=null};this._register(f(Xe,Dn,ln=>{Ae=Ye(Ae,ln);let jn=(new Date).getTime()-ht;jn>=Te?(Mt.cancel(),Ge()):Mt.setIfNotSet(Ge,Te-jn)}))}}function pe(mt,Xe,Dn,An,Ye){return new X(mt,Xe,Dn,An,Ye)}function re(mt){return document.defaultView.getComputedStyle(mt,null)}function ne(mt){if(mt!==document.body)return new ue(mt.clientWidth,mt.clientHeight);if(x.gn&&window.visualViewport)return new ue(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ue(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ue(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ue(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class ce{static convertToPixels(Xe,Dn){return parseFloat(Dn)||0}static getDimension(Xe,Dn,An){let Ye=re(Xe),Te="0";return Ye&&(Te=Ye.getPropertyValue?Ye.getPropertyValue(Dn):Ye.getAttribute(An)),ce.convertToPixels(Xe,Te)}static getBorderLeftWidth(Xe){return ce.getDimension(Xe,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Xe){return ce.getDimension(Xe,"border-right-width","borderRightWidth")}static getBorderTopWidth(Xe){return ce.getDimension(Xe,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Xe){return ce.getDimension(Xe,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Xe){return ce.getDimension(Xe,"padding-left","paddingLeft")}static getPaddingRight(Xe){return ce.getDimension(Xe,"padding-right","paddingRight")}static getPaddingTop(Xe){return ce.getDimension(Xe,"padding-top","paddingTop")}static getPaddingBottom(Xe){return ce.getDimension(Xe,"padding-bottom","paddingBottom")}static getMarginLeft(Xe){return ce.getDimension(Xe,"margin-left","marginLeft")}static getMarginTop(Xe){return ce.getDimension(Xe,"margin-top","marginTop")}static getMarginRight(Xe){return ce.getDimension(Xe,"margin-right","marginRight")}static getMarginBottom(Xe){return ce.getDimension(Xe,"margin-bottom","marginBottom")}}class ue{constructor(Xe,Dn){this.width=Xe,this.height=Dn}with(Xe=this.width,Dn=this.height){return Xe!==this.width||Dn!==this.height?new ue(Xe,Dn):this}static is(Xe){return"object"==typeof Xe&&"number"==typeof Xe.height&&"number"==typeof Xe.width}static lift(Xe){return Xe instanceof ue?Xe:new ue(Xe.width,Xe.height)}static equals(Xe,Dn){return Xe===Dn||!(!Xe||!Dn)&&Xe.width===Dn.width&&Xe.height===Dn.height}}function we(mt){let Xe=mt.offsetParent,Dn=mt.offsetTop,An=mt.offsetLeft;for(;null!==(mt=mt.parentNode)&&mt!==document.body&&mt!==document.documentElement;){Dn-=mt.scrollTop;const Ye=pn(mt)?null:re(mt);Ye&&(An-="rtl"!==Ye.direction?mt.scrollLeft:-mt.scrollLeft),mt===Xe&&(An+=ce.getBorderLeftWidth(mt),Dn+=ce.getBorderTopWidth(mt),Dn+=mt.offsetTop,An+=mt.offsetLeft,Xe=mt.offsetParent)}return{left:An,top:Dn}}function He(mt,Xe,Dn){"number"==typeof Xe&&(mt.style.width=`${Xe}px`),"number"==typeof Dn&&(mt.style.height=`${Dn}px`)}function lt(mt){let Xe=mt.getBoundingClientRect();return{left:Xe.left+ut.scrollX,top:Xe.top+ut.scrollY,width:Xe.width,height:Xe.height}}ue.None=new ue(0,0);const ut=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Ve(mt){let Xe=ce.getMarginLeft(mt)+ce.getMarginRight(mt);return mt.offsetWidth+Xe}function ct(mt){let Xe=ce.getBorderLeftWidth(mt)+ce.getBorderRightWidth(mt),Dn=ce.getPaddingLeft(mt)+ce.getPaddingRight(mt);return mt.offsetWidth-Xe-Dn}function Nt(mt){let Xe=ce.getBorderTopWidth(mt)+ce.getBorderBottomWidth(mt),Dn=ce.getPaddingTop(mt)+ce.getPaddingBottom(mt);return mt.offsetHeight-Xe-Dn}function un(mt){let Xe=ce.getMarginTop(mt)+ce.getMarginBottom(mt);return mt.offsetHeight+Xe}function Jt(mt,Xe){for(;mt;){if(mt===Xe)return!0;mt=mt.parentNode}return!1}function St(mt,Xe,Dn){for(;mt&&mt.nodeType===mt.ELEMENT_NODE;){if(mt.classList.contains(Xe))return mt;if(Dn)if("string"==typeof Dn){if(mt.classList.contains(Dn))return null}else if(mt===Dn)return null;mt=mt.parentNode}return null}function en(mt,Xe,Dn){return!!St(mt,Xe,Dn)}function pn(mt){return mt&&!!mt.host&&!!mt.mode}function Xt(mt){return!!ze(mt)}function ze(mt){for(;mt.parentNode;){if(mt===document.body)return null;mt=mt.parentNode}return pn(mt)?mt:null}function At(){let mt=document.activeElement;for(;null==mt?void 0:mt.shadowRoot;)mt=mt.shadowRoot.activeElement;return mt}function Kt(mt=document.getElementsByTagName("head")[0]){let Xe=document.createElement("style");return Xe.type="text/css",Xe.media="screen",mt.appendChild(Xe),Xe}let nn=null;function Mn(){return nn||(nn=Kt()),nn}function yt(mt,Xe,Dn=Mn()){!Dn||!Xe||Dn.sheet.insertRule(mt+"{"+Xe+"}",0)}function Ht(mt,Xe=Mn()){if(!Xe)return;let Dn=function Nn(mt){var Xe,Dn;return(null===(Xe=null==mt?void 0:mt.sheet)||void 0===Xe?void 0:Xe.rules)?mt.sheet.rules:(null===(Dn=null==mt?void 0:mt.sheet)||void 0===Dn?void 0:Dn.cssRules)?mt.sheet.cssRules:[]}(Xe),An=[];for(let Ye=0;Ye<Dn.length;Ye++)-1!==Dn[Ye].selectorText.indexOf(mt)&&An.push(Ye);for(let Ye=An.length-1;Ye>=0;Ye--)Xe.sheet.deleteRule(An[Ye])}function jt(mt){return"object"==typeof HTMLElement?mt instanceof HTMLElement:mt&&"object"==typeof mt&&1===mt.nodeType&&"string"==typeof mt.nodeName}const _n={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:v.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:v.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:v.isWebKit?"webkitAnimationIteration":"animationiteration"},In={stop:function(mt,Xe){mt.preventDefault?mt.preventDefault():mt.returnValue=!1,Xe&&(mt.stopPropagation?mt.stopPropagation():mt.cancelBubble=!0)}};function it(mt){let Xe=[];for(let Dn=0;mt&&mt.nodeType===mt.ELEMENT_NODE;Dn++)Xe[Dn]=mt.scrollTop,mt=mt.parentNode;return Xe}function $t(mt,Xe){for(let Dn=0;mt&&mt.nodeType===mt.ELEMENT_NODE;Dn++)mt.scrollTop!==Xe[Dn]&&(mt.scrollTop=Xe[Dn]),mt=mt.parentNode}class bt extends Y.JT{constructor(Xe){super(),this._onDidFocus=this._register(new j.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new j.Q5),this.onDidBlur=this._onDidBlur.event;let Dn=bt.hasFocusWithin(Xe),An=!1;const Ye=()=>{An=!1,Dn||(Dn=!0,this._onDidFocus.fire())},Te=()=>{Dn&&(An=!0,window.setTimeout(()=>{An&&(An=!1,Dn=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{bt.hasFocusWithin(Xe)!==Dn&&(Dn?Te():Ye())},this._register(f(Xe,_n.FOCUS,Ye,!0)),this._register(f(Xe,_n.BLUR,Te,!0)),this._register(f(Xe,_n.FOCUS_IN,()=>this._refreshStateHandler())),this._register(f(Xe,_n.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Xe){const Dn=ze(Xe);return Jt(Dn?Dn.activeElement:document.activeElement,Xe)}}function Zt(mt){return new bt(mt)}function Rn(mt,...Xe){if(mt.append(...Xe),1===Xe.length&&"string"!=typeof Xe[0])return Xe[0]}function vn(mt,Xe){return mt.insertBefore(Xe,mt.firstChild),Xe}function Wn(mt,...Xe){mt.innerText="",Rn(mt,...Xe)}const pt=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ei=(()=>{return(mt=ei||(ei={})).HTML="http://www.w3.org/1999/xhtml",mt.SVG="http://www.w3.org/2000/svg",ei;var mt})();function dt(mt,Xe,Dn,...An){let Ye=pt.exec(Xe);if(!Ye)throw new Error("Bad use of emmet");Dn=Object.assign({},Dn||{});let Ae,Te=Ye[1]||"div";return Ae=mt!==ei.HTML?document.createElementNS(mt,Te):document.createElement(Te),Ye[3]&&(Ae.id=Ye[3]),Ye[4]&&(Ae.className=Ye[4].replace(/\./g," ").trim()),Object.keys(Dn).forEach(ht=>{const Mt=Dn[ht];void 0!==Mt&&(/^on\w+$/.test(ht)?Ae[ht]=Mt:"selected"===ht?Mt&&Ae.setAttribute(ht,"true"):Ae.setAttribute(ht,Mt))}),Ae.append(...An),Ae}function ke(mt,Xe,...Dn){return dt(ei.HTML,mt,Xe,...Dn)}function ft(...mt){for(let Xe of mt)Xe.style.display="",Xe.removeAttribute("aria-hidden")}function Me(...mt){for(let Xe of mt)Xe.style.display="none",Xe.setAttribute("aria-hidden","true")}function ot(mt){return Array.prototype.slice.call(document.getElementsByTagName(mt),0)}function on(mt){const Xe=window.devicePixelRatio*mt;return Math.max(1,Math.floor(Xe))/window.devicePixelRatio}function Tn(mt){window.open(mt,"_blank","noopener")}function Mi(mt){const Xe=()=>{mt(),Dn=Se(Xe)};let Dn=Se(Xe);return(0,Y.OF)(()=>Dn.dispose())}function xn(mt){return mt?`url('${V.Gi.asBrowserUri(mt).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function rn(mt){return`'${mt.replace(/'/g,"%27")}'`}ke.SVG=function(mt,Xe,...Dn){return dt(ei.SVG,mt,Xe,...Dn)},V.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class tn extends j.Q5{constructor(){super(),this._subscriptions=new Y.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(f(window,"keydown",Xe=>{if(Xe.defaultPrevented)return;const Dn=new Q.y(Xe);if(6!==Dn.keyCode||!Xe.repeat){if(Xe.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Xe.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Xe.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Xe.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===Dn.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=Xe.altKey,this._keyStatus.ctrlKey=Xe.ctrlKey,this._keyStatus.metaKey=Xe.metaKey,this._keyStatus.shiftKey=Xe.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Xe,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(f(window,"keyup",Xe=>{Xe.defaultPrevented||(this._keyStatus.lastKeyReleased=!Xe.altKey&&this._keyStatus.altKey?"alt":!Xe.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!Xe.metaKey&&this._keyStatus.metaKey?"meta":!Xe.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Xe.altKey,this._keyStatus.ctrlKey=Xe.ctrlKey,this._keyStatus.metaKey=Xe.metaKey,this._keyStatus.shiftKey=Xe.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Xe,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(f(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mousemove",Xe=>{Xe.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(f(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return tn.instance||(tn.instance=new tn),tn.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function bn(mt,Xe){window.matchMedia(mt).addEventListener("change",Xe)}},5691:(vt,Ke,m)=>{m.d(Ke,{Y:()=>h,p:()=>Q});var v=m(2787);class h{constructor(R,se,j){const Y=V=>this.emitter.fire(V);this.emitter=new v.Q5({onFirstListenerAdd:()=>R.addEventListener(se,Y,j),onLastListenerRemove:()=>R.removeEventListener(se,Y,j)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Q(k){return k.preventDefault(),k.stopPropagation(),k}},8554:(vt,Ke,m)=>{m.d(Ke,{Z:()=>v,X:()=>h});class v{constructor(k){this.domNode=k,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(k){this._maxWidth!==k&&(this._maxWidth=k,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(k){this._width!==k&&(this._width=k,this.domNode.style.width=this._width+"px")}setHeight(k){this._height!==k&&(this._height=k,this.domNode.style.height=this._height+"px")}setTop(k){this._top!==k&&(this._top=k,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(k){this._left!==k&&(this._left=k,this.domNode.style.left=this._left+"px")}setBottom(k){this._bottom!==k&&(this._bottom=k,this.domNode.style.bottom=this._bottom+"px")}setRight(k){this._right!==k&&(this._right=k,this.domNode.style.right=this._right+"px")}setFontFamily(k){this._fontFamily!==k&&(this._fontFamily=k,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(k){this._fontWeight!==k&&(this._fontWeight=k,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(k){this._fontSize!==k&&(this._fontSize=k,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(k){this._fontFeatureSettings!==k&&(this._fontFeatureSettings=k,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(k){this._lineHeight!==k&&(this._lineHeight=k,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(k){this._letterSpacing!==k&&(this._letterSpacing=k,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(k){this._className!==k&&(this._className=k,this.domNode.className=this._className)}toggleClassName(k,R){this.domNode.classList.toggle(k,R),this._className=this.domNode.className}setDisplay(k){this._display!==k&&(this._display=k,this.domNode.style.display=this._display)}setPosition(k){this._position!==k&&(this._position=k,this.domNode.style.position=this._position)}setVisibility(k){this._visibility!==k&&(this._visibility=k,this.domNode.style.visibility=this._visibility)}setBackgroundColor(k){this._backgroundColor!==k&&(this._backgroundColor=k,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(k){this._layerHint!==k&&(this._layerHint=k,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(k){this._boxShadow!==k&&(this._boxShadow=k,this.domNode.style.boxShadow=k)}setContain(k){this._contain!==k&&(this._contain=k,this.domNode.style.contain=this._contain)}setAttribute(k,R){this.domNode.setAttribute(k,R)}removeAttribute(k){this.domNode.removeAttribute(k)}appendChild(k){this.domNode.appendChild(k.domNode)}removeChild(k){this.domNode.removeChild(k.domNode)}}function h(Q){return new v(Q)}},5109:(vt,Ke,m)=>{m.d(Ke,{IY:()=>h,BO:()=>Q,az:()=>k});var v=m(8059);function h(x,w={}){const D=k(w);return D.textContent=x,D}function Q(x,w={}){const D=k(w);return se(D,function j(x,w){const D={type:1,children:[]};let F=0,f=D;const T=[],z=new R(x);for(;!z.eos();){let I=z.next();const H="\\"===I&&0!==V(z.peek(),w);if(H&&(I=z.next()),!H&&Y(I,w)&&I===z.peek()){z.advance(),2===f.type&&(f=T.pop());const K=V(I,w);if(f.type===K||5===f.type&&6===K)f=T.pop();else{const N={type:K,children:[]};5===K&&(N.index=F,F++),f.children.push(N),T.push(f),f=N}}else if("\n"===I)2===f.type&&(f=T.pop()),f.children.push({type:8});else if(2!==f.type){const K={type:2,content:I};f.children.push(K),T.push(f),f=K}else f.content+=I}return 2===f.type&&(f=T.pop()),D}(x,!!w.renderCodeSegments),w.actionHandler,w.renderCodeSegments),D}function k(x){const D=document.createElement(x.inline?"span":"div");return x.className&&(D.className=x.className),D}class R{constructor(w){this.source=w,this.index=0}eos(){return this.index>=this.source.length}next(){const w=this.peek();return this.advance(),w}peek(){return this.source[this.index]}advance(){this.index++}}function se(x,w,D,F){let f;if(2===w.type)f=document.createTextNode(w.content||"");else if(3===w.type)f=document.createElement("b");else if(4===w.type)f=document.createElement("i");else if(7===w.type&&F)f=document.createElement("code");else if(5===w.type&&D){const T=document.createElement("a");D.disposables.add(v.mu(T,"click",z=>{D.callback(String(w.index),z)})),f=T}else 8===w.type?f=document.createElement("br"):1===w.type&&(f=x);f&&x!==f&&x.appendChild(f),f&&Array.isArray(w.children)&&w.children.forEach(T=>{se(f,T,D,F)})}function Y(x,w){return 0!==V(x,w)}function V(x,w){switch(x){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return w?7:0;default:return 0}}},3449:(vt,Ke,m)=>{m.d(Ke,{e:()=>se,Z:()=>j});var v=m(8059),h=m(9220),Q=m(8394),k=m(2425),R=m(8972);function se(Y,V){let x=new Q.n(V);return x.preventDefault(),{leftButton:x.leftButton,buttons:x.buttons,posx:x.posx,posy:x.posy}}class j{constructor(){this._hooks=new k.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(V,x){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const w=this._onStopCallback;this._onStopCallback=null,V&&w&&w(x)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(V,x,w,D,F){if(this.isMonitoring())return;this._mouseMoveEventMerger=w,this._mouseMoveCallback=D,this._onStopCallback=F;const f=h.E.getSameOriginWindowChain(),T=R.gn?"pointermove":"mousemove",I=f.map(K=>K.window.document),H=v.Ay(V);H&&I.unshift(H);for(const K of I)this._hooks.add(v.Y_(K,T,N=>{N.buttons===x?this._mouseMoveCallback(N):this.stopMonitoring(!0)},(N,M)=>this._mouseMoveEventMerger(N,M))),this._hooks.add(v.nm(K,"mouseup",N=>this.stopMonitoring(!0)));if(h.E.hasDifferentOriginAncestor()){let K=f[f.length-1];this._hooks.add(v.nm(K.window.document,"mouseout",N=>{"html"===new Q.n(N).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(v.nm(K.window.document,"mouseover",N=>{"html"===new Q.n(N).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(v.nm(K.window.document.body,"mouseleave",N=>{this.stopMonitoring(!0)}))}}}},9220:(vt,Ke,m)=>{m.d(Ke,{E:()=>k});let v=!1,h=null;function Q(R){if(!R.parent||R.parent===R)return null;try{let se=R.location,j=R.parent.location;if("null"!==se.origin&&"null"!==j.origin&&se.origin!==j.origin)return v=!0,null}catch(se){return v=!0,null}return R.parent}class k{static getSameOriginWindowChain(){if(!h){h=[];let j,se=window;do{j=Q(se),h.push(j?{window:se,iframeElement:se.frameElement||null}:{window:se,iframeElement:null}),se=j}while(se)}return h.slice(0)}static hasDifferentOriginAncestor(){return h||this.getSameOriginWindowChain(),v}static getPositionOfChildWindowRelativeToAncestorWindow(se,j){if(!j||se===j)return{top:0,left:0};let Y=0,V=0,x=this.getSameOriginWindowChain();for(const w of x){if(Y+=w.window.scrollY,V+=w.window.scrollX,w.window===j||!w.iframeElement)break;let D=w.iframeElement.getBoundingClientRect();Y+=D.top,V+=D.left}return{top:Y,left:V}}}},4616:(vt,Ke,m)=>{m.d(Ke,{y:()=>x});var v=m(3366),h=m(6950),Q=m(5016),k=m(8972);const se=k.dz?256:2048,V=k.dz?2048:256;class x{constructor(D){this._standardKeyboardEventBrand=!0;let F=D;this.browserEvent=F,this.target=F.target,this.ctrlKey=F.ctrlKey,this.shiftKey=F.shiftKey,this.altKey=F.altKey,this.metaKey=F.metaKey,this.keyCode=function R(w){if(w.charCode){let F=String.fromCharCode(w.charCode).toUpperCase();return h.kL.fromString(F)}const D=w.keyCode;if(3===D)return 7;if(v.isFirefox){if(59===D)return 80;if(107===D)return 81;if(109===D)return 83;if(k.dz&&224===D)return 57}else if(v.isWebKit){if(91===D)return 57;if(k.dz&&93===D)return 57;if(!k.dz&&92===D)return 57}return h.H_[D]||0}(F),this.code=F.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(D){return this._asKeybinding===D}_computeKeybinding(){let D=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(D=this.keyCode);let F=0;return this.ctrlKey&&(F|=se),this.altKey&&(F|=512),this.shiftKey&&(F|=1024),this.metaKey&&(F|=V),F|=D,F}_computeRuntimeKeybinding(){let D=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(D=this.keyCode),new Q.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,D)}}},8394:(vt,Ke,m)=>{m.d(Ke,{n:()=>k,q:()=>R});var v=m(3366),h=m(9220),Q=m(8972);class k{constructor(j){this.timestamp=Date.now(),this.browserEvent=j,this.leftButton=0===j.button,this.middleButton=1===j.button,this.rightButton=2===j.button,this.buttons=j.buttons,this.target=j.target,this.detail=j.detail||1,"dblclick"===j.type&&(this.detail=2),this.ctrlKey=j.ctrlKey,this.shiftKey=j.shiftKey,this.altKey=j.altKey,this.metaKey=j.metaKey,"number"==typeof j.pageX?(this.posx=j.pageX,this.posy=j.pageY):(this.posx=j.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=j.clientY+document.body.scrollTop+document.documentElement.scrollTop);let Y=h.E.getPositionOfChildWindowRelativeToAncestorWindow(self,j.view);this.posx-=Y.left,this.posy-=Y.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class R{constructor(j,Y=0,V=0){if(this.browserEvent=j||null,this.target=j?j.target||j.targetNode||j.srcElement:null,this.deltaY=V,this.deltaX=Y,j){let x=j,w=j;void 0!==x.wheelDeltaY?this.deltaY=x.wheelDeltaY/120:void 0!==w.VERTICAL_AXIS&&w.axis===w.VERTICAL_AXIS?this.deltaY=-w.detail/3:"wheel"===j.type&&(this.deltaY=j.deltaMode===j.DOM_DELTA_LINE?v.isFirefox&&!Q.dz?-j.deltaY/3:-j.deltaY:-j.deltaY/40),void 0!==x.wheelDeltaX?this.deltaX=v.isSafari&&Q.ED?-x.wheelDeltaX/120:x.wheelDeltaX/120:void 0!==w.HORIZONTAL_AXIS&&w.axis===w.HORIZONTAL_AXIS?this.deltaX=-j.detail/3:"wheel"===j.type&&(this.deltaX=j.deltaMode===j.DOM_DELTA_LINE?v.isFirefox&&!Q.dz?-j.deltaX/3:-j.deltaX:-j.deltaX/40),0===this.deltaY&&0===this.deltaX&&j.wheelDelta&&(this.deltaY=j.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},9680:(vt,Ke,m)=>{m.d(Ke,{t:()=>se,o:()=>j});var v=m(8059),h=m(8337),Q=m(87),k=m(2425),se=(()=>{return(Y=se||(se={})).Tap="-monaco-gesturetap",Y.Change="-monaco-gesturechange",Y.Start="-monaco-gesturestart",Y.End="-monaco-gesturesend",Y.Contextmenu="-monaco-gesturecontextmenu",se;var Y})();class j extends k.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(v.nm(document,"touchstart",V=>this.onTouchStart(V),{passive:!1})),this._register(v.nm(document,"touchend",V=>this.onTouchEnd(V))),this._register(v.nm(document,"touchmove",V=>this.onTouchMove(V),{passive:!1}))}static addTarget(V){return j.isTouchDevice()?(j.INSTANCE||(j.INSTANCE=new j),j.INSTANCE.targets.push(V),{dispose:()=>{j.INSTANCE.targets=j.INSTANCE.targets.filter(x=>x!==V)}}):k.JT.None}static ignoreTarget(V){return j.isTouchDevice()?(j.INSTANCE||(j.INSTANCE=new j),j.INSTANCE.ignoreTargets.push(V),{dispose:()=>{j.INSTANCE.ignoreTargets=j.INSTANCE.ignoreTargets.filter(x=>x!==V)}}):k.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(V){let x=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let w=0,D=V.targetTouches.length;w<D;w++){let F=V.targetTouches.item(w);this.activeTouches[F.identifier]={id:F.identifier,initialTarget:F.target,initialTimeStamp:x,initialPageX:F.pageX,initialPageY:F.pageY,rollingTimestamps:[x],rollingPageX:[F.pageX],rollingPageY:[F.pageY]};let f=this.newGestureEvent(se.Start,F.target);f.pageX=F.pageX,f.pageY=F.pageY,this.dispatchEvent(f)}this.dispatched&&(V.preventDefault(),V.stopPropagation(),this.dispatched=!1)}onTouchEnd(V){let x=Date.now(),w=Object.keys(this.activeTouches).length;for(let D=0,F=V.changedTouches.length;D<F;D++){let f=V.changedTouches.item(D);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("move of an UNKNOWN touch",f);continue}let T=this.activeTouches[f.identifier],z=Date.now()-T.initialTimeStamp;if(z<j.HOLD_DELAY&&Math.abs(T.initialPageX-h.Gb(T.rollingPageX))<30&&Math.abs(T.initialPageY-h.Gb(T.rollingPageY))<30){let I=this.newGestureEvent(se.Tap,T.initialTarget);I.pageX=h.Gb(T.rollingPageX),I.pageY=h.Gb(T.rollingPageY),this.dispatchEvent(I)}else if(z>=j.HOLD_DELAY&&Math.abs(T.initialPageX-h.Gb(T.rollingPageX))<30&&Math.abs(T.initialPageY-h.Gb(T.rollingPageY))<30){let I=this.newGestureEvent(se.Contextmenu,T.initialTarget);I.pageX=h.Gb(T.rollingPageX),I.pageY=h.Gb(T.rollingPageY),this.dispatchEvent(I)}else if(1===w){let I=h.Gb(T.rollingPageX),H=h.Gb(T.rollingPageY),K=h.Gb(T.rollingTimestamps)-T.rollingTimestamps[0],N=I-T.rollingPageX[0],M=H-T.rollingPageY[0];const P=this.targets.filter(W=>T.initialTarget instanceof Node&&W.contains(T.initialTarget));this.inertia(P,x,Math.abs(N)/K,N>0?1:-1,I,Math.abs(M)/K,M>0?1:-1,H)}this.dispatchEvent(this.newGestureEvent(se.End,T.initialTarget)),delete this.activeTouches[f.identifier]}this.dispatched&&(V.preventDefault(),V.stopPropagation(),this.dispatched=!1)}newGestureEvent(V,x){let w=document.createEvent("CustomEvent");return w.initEvent(V,!1,!0),w.initialTarget=x,w.tapCount=0,w}dispatchEvent(V){if(V.type===se.Tap){const x=(new Date).getTime();let w=0;w=x-this._lastSetTapCountTime>j.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=x,V.tapCount=w}else(V.type===se.Change||V.type===se.Contextmenu)&&(this._lastSetTapCountTime=0);for(let x=0;x<this.ignoreTargets.length;x++)if(V.initialTarget instanceof Node&&this.ignoreTargets[x].contains(V.initialTarget))return;this.targets.forEach(x=>{V.initialTarget instanceof Node&&x.contains(V.initialTarget)&&(x.dispatchEvent(V),this.dispatched=!0)})}inertia(V,x,w,D,F,f,T,z){this.handle=v.jL(()=>{let I=Date.now(),H=I-x,K=0,N=0,M=!0;(w+=j.SCROLL_FRICTION*H)>0&&(M=!1,K=D*w*H),(f+=j.SCROLL_FRICTION*H)>0&&(M=!1,N=T*f*H);let P=this.newGestureEvent(se.Change);P.translationX=K,P.translationY=N,V.forEach(W=>W.dispatchEvent(P)),M||this.inertia(V,I,w,D,F+K,f,T,z+N)})}onTouchMove(V){let x=Date.now();for(let w=0,D=V.changedTouches.length;w<D;w++){let F=V.changedTouches.item(w);if(!this.activeTouches.hasOwnProperty(String(F.identifier))){console.warn("end of an UNKNOWN touch",F);continue}let f=this.activeTouches[F.identifier],T=this.newGestureEvent(se.Change,f.initialTarget);T.translationX=F.pageX-h.Gb(f.rollingPageX),T.translationY=F.pageY-h.Gb(f.rollingPageY),T.pageX=F.pageX,T.pageY=F.pageY,this.dispatchEvent(T),f.rollingPageX.length>3&&(f.rollingPageX.shift(),f.rollingPageY.shift(),f.rollingTimestamps.shift()),f.rollingPageX.push(F.pageX),f.rollingPageY.push(F.pageY),f.rollingTimestamps.push(x)}this.dispatched&&(V.preventDefault(),V.stopPropagation(),this.dispatched=!1)}}j.SCROLL_FRICTION=-.005,j.HOLD_DELAY=700,j.CLEAR_TAP_COUNT_TIME=400,function(Y,V,x,w){var f,D=arguments.length,F=D<3?V:null===w?w=Object.getOwnPropertyDescriptor(V,x):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(Y,V,x,w);else for(var T=Y.length-1;T>=0;T--)(f=Y[T])&&(F=(D<3?f(F):D>3?f(V,x,F):f(V,x))||F);D>3&&F&&Object.defineProperty(V,x,F)}([Q.H],j,"isTouchDevice",null)},5909:(vt,Ke,m)=>{m.d(Ke,{Y:()=>w,g:()=>D});var v=m(3366),h=m(6889),Q=m(8059),k=m(9680),R=m(5113),se=m(2425),j=m(8972),Y=m(4435),x=(m(552),m(402));class w extends se.JT{constructor(f,T,z={}){super(),this.options=z,this._context=f||this,this._action=T,T instanceof R.aU&&this._register(T.onDidChange(I=>{!this.element||this.handleActionChangeEvent(I)}))}handleActionChangeEvent(f){void 0!==f.enabled&&this.updateEnabled(),void 0!==f.checked&&this.updateChecked(),void 0!==f.class&&this.updateClass(),void 0!==f.label&&(this.updateLabel(),this.updateTooltip()),void 0!==f.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new R.Wi)),this._actionRunner}set actionRunner(f){this._actionRunner=f}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(f){this._context=f}render(f){const T=this.element=f;this._register(k.o.addTarget(f));const z=this.options&&this.options.draggable;z&&(f.draggable=!0,v.isFirefox&&this._register((0,Q.nm)(f,Q.tw.DRAG_START,I=>{var H;return null===(H=I.dataTransfer)||void 0===H?void 0:H.setData(h.go.TEXT,this._action.label)}))),this._register((0,Q.nm)(T,k.t.Tap,I=>this.onClick(I,!0))),this._register((0,Q.nm)(T,Q.tw.MOUSE_DOWN,I=>{z||Q.zB.stop(I,!0),this._action.enabled&&0===I.button&&T.classList.add("active")})),j.dz&&this._register((0,Q.nm)(T,Q.tw.CONTEXT_MENU,I=>{0===I.button&&!0===I.ctrlKey&&this.onClick(I)})),this._register((0,Q.nm)(T,Q.tw.CLICK,I=>{Q.zB.stop(I,!0),this.options&&this.options.isMenu||this.onClick(I)})),this._register((0,Q.nm)(T,Q.tw.DBLCLICK,I=>{Q.zB.stop(I,!0)})),[Q.tw.MOUSE_UP,Q.tw.MOUSE_OUT].forEach(I=>{this._register((0,Q.nm)(T,I,H=>{Q.zB.stop(H),T.classList.remove("active")}))})}onClick(f,T=!1){var z;Q.zB.stop(f,!0);const I=Y.Jp(this._context)?(null===(z=this.options)||void 0===z?void 0:z.useEventAsContext)?f:{preserveFocus:T}:this._context;this.actionRunner.run(this._action,I)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(f){this.element&&(this.element.tabIndex=f?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class D extends w{constructor(f,T,z={}){super(f,T,z),this.options=z,this.options.icon=void 0!==z.icon&&z.icon,this.options.label=void 0===z.label||z.label,this.cssClass=""}render(f){super.render(f),this.element&&(this.label=(0,Q.R3)(this.element,(0,Q.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===R.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,Q.R3)(this.element,(0,Q.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(f){this.label&&(this.label.tabIndex=f?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let f=null;this.getAction().tooltip?f=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(f=this.getAction().label,this.options.keybinding&&(f=x.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",f,this.options.keybinding))),f&&this.label&&(this.label.title=f)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},4039:(vt,Ke,m)=>{m.d(Ke,{o:()=>x});var v=m(8059),h=m(4616),Q=m(5909),k=m(5113),R=m(2787),se=m(2425),j=m(4435),V=(m(552),function(w,D,F,f){return new(F||(F=Promise))(function(z,I){function H(M){try{N(f.next(M))}catch(P){I(P)}}function K(M){try{N(f.throw(M))}catch(P){I(P)}}function N(M){M.done?z(M.value):function T(z){return z instanceof F?z:new F(function(I){I(z)})}(M.value).then(H,K)}N((f=f.apply(w,D||[])).next())})});class x extends se.JT{constructor(D,F={}){var f,T,z,I,H,K;let N,M;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new R.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new R.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new R.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new R.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=F,this._context=null!==(f=F.context)&&void 0!==f?f:null,this._orientation=null!==(T=this.options.orientation)&&void 0!==T?T:0,this._triggerKeys={keyDown:null!==(I=null===(z=this.options.triggerKeys)||void 0===z?void 0:z.keyDown)&&void 0!==I&&I,keys:null!==(K=null===(H=this.options.triggerKeys)||void 0===H?void 0:H.keys)&&void 0!==K?K:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new k.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(P=>this._onDidRun.fire(P))),this._register(this._actionRunner.onBeforeRun(P=>this._onBeforeRun.fire(P))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==F.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:N=[15],M=[17];break;case 1:N=[16],M=[18],this.domNode.className+=" vertical"}this._register(v.nm(this.domNode,v.tw.KEY_DOWN,P=>{const W=new h.y(P);let J=!0;const he="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;N&&(W.equals(N[0])||W.equals(N[1]))?J=this.focusPrevious():M&&(W.equals(M[0])||W.equals(M[1]))?J=this.focusNext():W.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():W.equals(14)?J=this.focusFirst():W.equals(13)?J=this.focusLast():W.equals(2)&&he instanceof Q.Y&&he.trapsArrowNavigation?J=this.focusNext():this.isTriggerKeyEvent(W)?this._triggerKeys.keyDown?this.doTrigger(W):this.triggerKeyDown=!0:J=!1,J&&(W.preventDefault(),W.stopPropagation())})),this._register(v.nm(this.domNode,v.tw.KEY_UP,P=>{const W=new h.y(P);this.isTriggerKeyEvent(W)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(W)),W.preventDefault(),W.stopPropagation()):(W.equals(2)||W.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(v.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(v.vY()===this.domNode||!v.jg(v.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),D.appendChild(this.domNode)}setFocusable(D){if(this.focusable=D,this.focusable){const F=this.viewItems.find(f=>f instanceof Q.Y&&f.isEnabled());F instanceof Q.Y&&F.setFocusable(!0)}else this.viewItems.forEach(F=>{F instanceof Q.Y&&F.setFocusable(!1)})}isTriggerKeyEvent(D){let F=!1;return this._triggerKeys.keys.forEach(f=>{F=F||D.equals(f)}),F}updateFocusedItem(){for(let D=0;D<this.actionsList.children.length;D++){const F=this.actionsList.children[D];if(v.jg(v.vY(),F)){this.focusedItem=D;break}}}get context(){return this._context}set context(D){this._context=D,this.viewItems.forEach(F=>F.setActionContext(D))}get actionRunner(){return this._actionRunner}set actionRunner(D){D&&(this._actionRunner=D,this.viewItems.forEach(F=>F.actionRunner=D))}getContainer(){return this.domNode}push(D,F={}){const f=Array.isArray(D)?D:[D];let T=j.hj(F.index)?F.index:null;f.forEach(z=>{const I=document.createElement("li");let H;I.className="action-item",I.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(v.nm(I,v.tw.CONTEXT_MENU,K=>{v.zB.stop(K,!0)})),this.options.actionViewItemProvider&&(H=this.options.actionViewItemProvider(z)),H||(H=new Q.g(this.context,z,F)),H.actionRunner=this._actionRunner,H.setActionContext(this.context),H.render(I),this.focusable&&H instanceof Q.Y&&0===this.viewItems.length&&H.setFocusable(!0),null===T||T<0||T>=this.actionsList.children.length?(this.actionsList.appendChild(I),this.viewItems.push(H),this._actionIds.push(z.id)):(this.actionsList.insertBefore(I,this.actionsList.children[T]),this.viewItems.splice(T,0,H),this._actionIds.splice(T,0,z.id),T++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){(0,se.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],v.PO(this.actionsList)}length(){return this.viewItems.length}focus(D){let f,F=!1;if(void 0===D?F=!0:"number"==typeof D?f=D:"boolean"==typeof D&&(F=D),F&&void 0===this.focusedItem){const T=this.viewItems.findIndex(z=>z.isEnabled());this.focusedItem=-1===T?void 0:T,this.updateFocus(void 0,void 0,!0)}else void 0!==f&&(this.focusedItem=f),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(D){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const F=this.focusedItem;let f;do{if(!D&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=F,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,f=this.viewItems[this.focusedItem]}while(this.focusedItem!==F&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(),!0}focusPrevious(D){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const F=this.focusedItem;let f;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!D&&this.options.preventLoopNavigation)return this.focusedItem=F,!1;this.focusedItem=this.viewItems.length-1}f=this.viewItems[this.focusedItem]}while(this.focusedItem!==F&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(!0),!0}updateFocus(D,F,f=!1){var T;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:F}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(T=this.viewItems[this.previouslyFocusedItem])||void 0===T||T.blur());const z=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(z){let I=!0;j.mf(z.focus)||(I=!1),this.options.focusOnlyEnabledItems&&j.mf(z.isEnabled)&&!z.isEnabled()&&(I=!1),I?(f||this.previouslyFocusedItem!==this.focusedItem)&&(z.focus(D),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:F}),this.previouslyFocusedItem=void 0)}}doTrigger(D){if(void 0===this.focusedItem)return;const F=this.viewItems[this.focusedItem];F instanceof Q.Y&&this.run(F._action,null==F._context?D:F._context)}run(D,F){return V(this,void 0,void 0,function*(){yield this._actionRunner.run(D,F)})}dispose(){(0,se.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},3619:(vt,Ke,m)=>{m.d(Ke,{wW:()=>x,Z9:()=>w,i7:()=>D});var v=m(8059),h=m(8972);let R,se,j,Y,V;function x(f){R=document.createElement("div"),R.className="monaco-aria-container";const T=()=>{const I=document.createElement("div");return I.className="monaco-alert",I.setAttribute("role","alert"),I.setAttribute("aria-atomic","true"),R.appendChild(I),I};se=T(),j=T();const z=()=>{const I=document.createElement("div");return I.className="monaco-status",I.setAttribute("role","complementary"),I.setAttribute("aria-live","polite"),I.setAttribute("aria-atomic","true"),R.appendChild(I),I};Y=z(),V=z(),f.appendChild(R)}function w(f){!R||(se.textContent!==f?(v.PO(j),F(se,f)):(v.PO(se),F(j,f)))}function D(f){!R||(h.dz?w(f):Y.textContent!==f?(v.PO(V),F(Y,f)):(v.PO(Y),F(V,f)))}function F(f,T){v.PO(f),T.length>2e4&&(T=T.substr(0,2e4)),f.textContent=T,f.style.visibility="hidden",f.style.visibility="visible"}m(2898)},4202:(vt,Ke,m)=>{m.d(Ke,{a:()=>k});var v=m(2450);function k(R){let se=R.definition;for(;se instanceof v.lA;)se=se.definition;return`.codicon-${R.id}:before { content: '${se.fontCharacter}'; }`}m(4376),m(2175)},727:(vt,Ke,m)=>{m.d(Ke,{Z:()=>j});var v=m(8059),h=m(8927),Q=m(5271),k=m(4705);m(3667);const se={badgeBackground:h.Il.fromHex("#4D4D4D"),badgeForeground:h.Il.fromHex("#FFFFFF")};class j{constructor(V,x){this.count=0,this.options=x||Object.create(null),(0,Q.jB)(this.options,se,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,v.R3)(V,(0,v.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(V){this.count=V,this.render()}setTitleFormat(V){this.titleFormat=V,this.render()}render(){this.element.textContent=(0,k.WU)(this.countFormat,this.count),this.element.title=(0,k.WU)(this.titleFormat,this.count),this.applyStyles()}style(V){this.badgeBackground=V.badgeBackground,this.badgeForeground=V.badgeForeground,this.badgeBorder=V.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const V=this.badgeBackground?this.badgeBackground.toString():"",x=this.badgeForeground?this.badgeForeground.toString():"",w=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=V,this.element.style.color=x,this.element.style.borderWidth=w?"1px":"",this.element.style.borderStyle=w?"solid":"",this.element.style.borderColor=w}}}},9450:(vt,Ke,m)=>{m.d(Ke,{q:()=>k});var v=m(8059),h=m(4459),Q=m(5271);class k{constructor(se,j){var Y;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(Y=null==j?void 0:j.supportIcons)&&void 0!==Y&&Y,this.domNode=v.R3(se,v.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(se,j=[],Y="",V){se||(se=""),V&&(se=k.escapeNewLines(se,j)),(!this.didEverRender||this.text!==se||this.title!==Y||!Q.fS(this.highlights,j))&&(this.text=se,this.title=Y,this.highlights=j,this.render())}render(){const se=[];let j=0;for(const Y of this.highlights){if(Y.end===Y.start)continue;if(j<Y.start){const w=this.text.substring(j,Y.start);se.push(v.$("span",void 0,...this.supportIcons?(0,h.T)(w):[w])),j=Y.end}const V=this.text.substring(Y.start,Y.end),x=v.$("span.highlight",void 0,...this.supportIcons?(0,h.T)(V):[V]);Y.extraClasses&&x.classList.add(...Y.extraClasses),se.push(x),j=Y.end}if(j<this.text.length){const Y=this.text.substring(j);se.push(v.$("span",void 0,...this.supportIcons?(0,h.T)(Y):[Y]))}v.mc(this.domNode,...se),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(se,j){let Y=0,V=0;return se.replace(/\r\n|\r|\n/g,(x,w)=>{V="\r\n"===x?-1:0,w+=Y;for(const D of j)D.end<=w||(D.start>=w&&(D.start+=V),D.end>=w&&(D.end+=V));return Y+=V,"\u23ce"})}}},200:(vt,Ke,m)=>{m.d(Ke,{g:()=>H});var v=m(8059),h=m(9450),Q=m(3072),k=m(152),R=m(2468),se=m(661),j=m(2425),Y=m(4435),V=m(402),x=function(P,W,J,he){return new(J||(J=Promise))(function(fe,Se){function Ie(X){try{$(he.next(X))}catch(pe){Se(pe)}}function _e(X){try{$(he.throw(X))}catch(pe){Se(pe)}}function $(X){X.done?fe(X.value):function ye(fe){return fe instanceof J?fe:new J(function(Se){Se(fe)})}(X.value).then(Ie,_e)}$((he=he.apply(P,W||[])).next())})};class D{constructor(W,J,he){this.hoverDelegate=W,this.target=J,this.fadeInAnimation=he}update(W,J){var he;return x(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let ye;if(void 0===W||(0,Y.HD)(W)||W instanceof HTMLElement)ye=W;else if((0,Y.mf)(W.markdown)){this._hoverWidget||this.show((0,V.N)("iconLabel.loading","Loading..."),J),this._cancellationTokenSource=new k.A;const fe=this._cancellationTokenSource.token;if(ye=yield W.markdown(fe),this.isDisposed||fe.isCancellationRequested)return}else ye=null!==(he=W.markdown)&&void 0!==he?he:W.markdownNotSupportedFallback;this.show(ye,J)})}show(W,J){const he=this._hoverWidget;this.hasContent(W)&&(this._hoverWidget=this.hoverDelegate.showHover({content:W,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!he},J)),null==he||he.dispose()}hasContent(W){return!(!W||(0,R.Fr)(W)&&!W.value)}get isDisposed(){var W;return null===(W=this._hoverWidget)||void 0===W?void 0:W.isDisposed}dispose(){var W,J;null===(W=this._hoverWidget)||void 0===W||W.dispose(),null===(J=this._cancellationTokenSource)||void 0===J||J.dispose(!0),this._cancellationTokenSource=void 0}}var f=m(5271),T=m(6656);m(9141);class I{constructor(W){this._element=W}get element(){return this._element}set textContent(W){this.disposed||W===this._textContent||(this._textContent=W,this._element.textContent=W)}set className(W){this.disposed||W===this._className||(this._className=W,this._element.className=W)}set empty(W){this.disposed||W===this._empty||(this._empty=W,this._element.style.marginLeft=W?"0":"")}dispose(){this.disposed=!0}}class H extends j.JT{constructor(W,J){super(),this.customHovers=new Map,this.domNode=this._register(new I(v.R3(W,v.$(".monaco-icon-label")))),this.labelContainer=v.R3(this.domNode.element,v.$(".monaco-icon-label-container"));const he=v.R3(this.labelContainer,v.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new I(v.R3(this.labelContainer,v.$("span.monaco-icon-description-container")))),this.nameNode=(null==J?void 0:J.supportHighlights)||(null==J?void 0:J.supportIcons)?new M(he,!!J.supportIcons):new K(he),this.descriptionNodeFactory=(null==J?void 0:J.supportDescriptionHighlights)?()=>new h.q(v.R3(this.descriptionContainer.element,v.$("span.label-description")),{supportIcons:!!J.supportIcons}):()=>this._register(new I(v.R3(this.descriptionContainer.element,v.$("span.label-description")))),this.hoverDelegate=null==J?void 0:J.hoverDelegate}get element(){return this.domNode.element}setLabel(W,J,he){const ye=["monaco-icon-label"];he&&(he.extraClasses&&ye.push(...he.extraClasses),he.italic&&ye.push("italic"),he.strikethrough&&ye.push("strikethrough")),this.domNode.className=ye.join(" "),this.setupHover((null==he?void 0:he.descriptionTitle)?this.labelContainer:this.element,null==he?void 0:he.title),this.nameNode.setLabel(W,he),(J||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof h.q?(this.descriptionNode.set(J||"",he?he.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==he?void 0:he.descriptionTitle)):(this.descriptionNode.textContent=J||"",this.setupHover(this.descriptionNode.element,(null==he?void 0:he.descriptionTitle)||""),this.descriptionNode.empty=!J))}setupHover(W,J){const he=this.customHovers.get(W);if(he&&(he.dispose(),this.customHovers.delete(W)),J)if(this.hoverDelegate){const ye=function F(P,W,J){let he,ye;const fe=(X,pe)=>{var re;X&&(null==ye||ye.dispose(),ye=void 0),pe&&(null==he||he.dispose(),he=void 0),null===(re=P.onDidHideHover)||void 0===re||re.call(P)},Se=(X,pe,re)=>new Q._F(()=>x(this,void 0,void 0,function*(){(!ye||ye.isDisposed)&&(ye=new D(P,re||W,X>0),yield ye.update(J,pe))}),X),_e=v.nm(W,v.tw.MOUSE_OVER,()=>{if(he)return;const X=new j.SL;X.add(v.nm(W,v.tw.MOUSE_LEAVE,ce=>fe(!1,ce.fromElement===W),!0)),X.add(v.nm(W,v.tw.MOUSE_DOWN,()=>fe(!0,!0),!0));const ne={targetElements:[W],dispose:()=>{}};void 0!==P.placement&&"mouse"!==P.placement||X.add(v.nm(W,v.tw.MOUSE_MOVE,ue=>ne.x=ue.x+10,!0)),X.add(Se(P.delay,!1,ne)),he=X},!0);return{show:X=>{fe(!1,!0),Se(0,X)},hide:()=>{fe(!0,!0)},update:X=>x(this,void 0,void 0,function*(){J=X,yield null==ye?void 0:ye.update(J)}),dispose:()=>{_e.dispose(),fe(!0,!0)}}}(this.hoverDelegate,W,J);ye&&this.customHovers.set(W,ye)}else!function w(P,W){(0,Y.HD)(W)?P.title=(0,se.x$)(W):(null==W?void 0:W.markdownNotSupportedFallback)?P.title=W.markdownNotSupportedFallback:P.removeAttribute("title")}(W,J);else W.removeAttribute("title")}dispose(){super.dispose();for(const W of this.customHovers.values())W.dispose();this.customHovers.clear()}}class K{constructor(W){this.container=W,this.label=void 0,this.singleLabel=void 0}setLabel(W,J){if(this.label!==W||!(0,f.fS)(this.options,J))if(this.label=W,this.options=J,"string"==typeof W)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=v.R3(this.container,v.$("a.label-name",{id:null==J?void 0:J.domId}))),this.singleLabel.textContent=W;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let he=0;he<W.length;he++)v.R3(this.container,v.$("a.label-name",{id:(null==J?void 0:J.domId)&&`${null==J?void 0:J.domId}_${he}`,"data-icon-label-count":W.length,"data-icon-label-index":he,role:"treeitem"},W[he])),he<W.length-1&&v.R3(this.container,v.$("span.label-separator",void 0,(null==J?void 0:J.separator)||"/"))}}}class M{constructor(W,J){this.container=W,this.supportIcons=J,this.label=void 0,this.singleLabel=void 0}setLabel(W,J){if(this.label!==W||!(0,f.fS)(this.options,J))if(this.label=W,this.options=J,"string"==typeof W)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new h.q(v.R3(this.container,v.$("a.label-name",{id:null==J?void 0:J.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(W,null==J?void 0:J.matches,void 0,null==J?void 0:J.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const he=(null==J?void 0:J.separator)||"/",ye=function N(P,W,J){if(!J)return;let he=0;return P.map(ye=>{const fe={start:he,end:he+ye.length},Se=J.map(Ie=>T.e.intersect(fe,Ie)).filter(Ie=>!T.e.isEmpty(Ie)).map(({start:Ie,end:_e})=>({start:Ie-he,end:_e-he}));return he=fe.end+W.length,Se})}(W,he,null==J?void 0:J.matches);for(let fe=0;fe<W.length;fe++){const Se=W[fe],Ie=ye?ye[fe]:void 0,$=v.$("a.label-name",{id:(null==J?void 0:J.domId)&&`${null==J?void 0:J.domId}_${fe}`,"data-icon-label-count":W.length,"data-icon-label-index":fe,role:"treeitem"});new h.q(v.R3(this.container,$),{supportIcons:this.supportIcons}).set(Se,Ie,void 0,null==J?void 0:J.labelEscapeNewLines),fe<W.length-1&&v.R3($,v.$("span.label-separator",void 0,he))}}}}},4459:(vt,Ke,m)=>{m.d(Ke,{T:()=>k});var v=m(8059),h=m(2450);const Q=new RegExp(`(\\\\)?\\$\\((${h.dT.iconNameExpression}(?:${h.dT.iconModifierExpression})?)\\)`,"g");function k(se){const j=new Array;let Y,V=0,x=0;for(;null!==(Y=Q.exec(se));){x=Y.index||0,j.push(se.substring(V,x)),V=(Y.index||0)+Y[0].length;const[,w,D]=Y;j.push(w?`$(${D})`:R({id:D}))}return V<se.length&&j.push(se.substring(V)),j}function R(se){const j=v.$("span");return j.classList.add(...h.dT.asClassNameArray(se)),j}},1523:(vt,Ke,m)=>{m.d(Ke,{p:()=>H,W:()=>I});var v=m(8059),h=m(5691),Q=m(5109),k=m(4039),R=m(3619),se=m(8152),j=m(3568),Y=m(8927),V=m(2787);class x{constructor(N,M=0,P=N.length,W=M-1){this.items=N,this.start=M,this.end=P,this.index=W}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class w{constructor(N=[],M=10){this._initialize(N),this._limit=M,this._onChange()}getHistory(){return this._elements}add(N){this._history.delete(N),this._history.add(N),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(N){return this._history.has(N)}_onChange(){this._reduceToLimit();const N=this._elements;this._navigator=new x(N,0,N.length,N.length)}_reduceToLimit(){const N=this._elements;N.length>this._limit&&this._initialize(N.slice(N.length-this._limit))}_currentPosition(){const N=this._navigator.current();return N?this._elements.indexOf(N):-1}_initialize(N){this._history=new Set;for(const M of N)this._history.add(M)}get _elements(){const N=[];return this._history.forEach(M=>N.push(M)),N}}var D=m(5271),f=(m(5395),m(402));const T=v.$,z={inputBackground:Y.Il.fromHex("#3C3C3C"),inputForeground:Y.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:Y.Il.fromHex("#55AAFF"),inputValidationInfoBackground:Y.Il.fromHex("#063B49"),inputValidationWarningBorder:Y.Il.fromHex("#B89500"),inputValidationWarningBackground:Y.Il.fromHex("#352A05"),inputValidationErrorBorder:Y.Il.fromHex("#BE1100"),inputValidationErrorBackground:Y.Il.fromHex("#5A1D1D")};class I extends j.${constructor(N,M,P){var W;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new V.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new V.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=M,this.options=P||Object.create(null),(0,D.jB)(this.options,z,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(W=this.options.tooltip)&&void 0!==W?W:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=v.R3(N,T(".monaco-inputbox.idle"));let J=this.options.flexibleHeight?"textarea":"input",he=v.R3(this.element,T(".ibwrapper"));if(this.input=v.R3(he,T(J+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=v.R3(he,T("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new se.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),v.R3(N,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(Se=>this.input.scrollTop=Se.scrollTop));const ye=this._register(new h.Y(document,"selectionchange")),fe=V.ju.filter(ye.event,()=>{const Se=document.getSelection();return(null==Se?void 0:Se.anchorNode)===he});this._register(fe(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new k.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(N){this.placeholder=N,this.input.setAttribute("placeholder",N)}setTooltip(N){this.tooltip=N,this.input.title=N}setAriaLabel(N){this.ariaLabel=N,N?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(N){this.input.value!==N&&(this.input.value=N,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:v.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(N=null){this.input.select(),N&&(this.input.setSelectionRange(N.start,N.end),N.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return v.w(this.input)}set width(N){if(this.options.flexibleHeight&&this.options.flexibleWidth){let M=0;this.mirror&&(M=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=N-M+"px"}else this.input.style.width=N+"px";this.mirror&&(this.mirror.style.width=N+"px")}set paddingRight(N){this.input.style.width=`calc(100% - ${N}px)`,this.mirror&&(this.mirror.style.paddingRight=N+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const P=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:P})}showMessage(N,M){this.message=N,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(N.type));const P=this.stylesForType(this.message.type);this.element.style.border=P.border?`1px solid ${P.border}`:"",(this.hasFocus()||M)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let N=null;return this.validation&&(N=this.validation(this.value),N?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(N)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==N?void 0:N.type}stylesForType(N){switch(N){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(N){switch(N){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let N,P,M=()=>N.style.width=v.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:W=>{if(!this.message)return null;N=v.R3(W,T(".monaco-inputbox-container")),M();const J={inline:!0,className:"monaco-inputbox-message"},he=this.message.formatContent?(0,Q.BO)(this.message.content,J):(0,Q.IY)(this.message.content,J);he.classList.add(this.classForType(this.message.type));const ye=this.stylesForType(this.message.type);return he.style.backgroundColor=ye.background?ye.background.toString():"",he.style.color=ye.foreground?ye.foreground.toString():"",he.style.border=ye.border?`1px solid ${ye.border}`:"",v.R3(N,he),null},onHide:()=>{this.state="closed"},layout:M}),P=3===this.message.type?f.N("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?f.N("alertWarningMessage","Warning: {0}",this.message.content):f.N("alertInfoMessage","Info: {0}",this.message.content),R.Z9(P),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const N=this.value,P=10===N.charCodeAt(N.length-1)?" ":"";(N+P).replace(/\u000c/g,"")?this.mirror.textContent=N+P:this.mirror.innerText="\xa0",this.layout()}style(N){this.inputBackground=N.inputBackground,this.inputForeground=N.inputForeground,this.inputBorder=N.inputBorder,this.inputValidationInfoBackground=N.inputValidationInfoBackground,this.inputValidationInfoForeground=N.inputValidationInfoForeground,this.inputValidationInfoBorder=N.inputValidationInfoBorder,this.inputValidationWarningBackground=N.inputValidationWarningBackground,this.inputValidationWarningForeground=N.inputValidationWarningForeground,this.inputValidationWarningBorder=N.inputValidationWarningBorder,this.inputValidationErrorBackground=N.inputValidationErrorBackground,this.inputValidationErrorForeground=N.inputValidationErrorForeground,this.inputValidationErrorBorder=N.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const N=this.inputBackground?this.inputBackground.toString():"",M=this.inputForeground?this.inputForeground.toString():"",P=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=N,this.element.style.color=M,this.input.style.backgroundColor="inherit",this.input.style.color=M,this.element.style.borderWidth=P?"1px":"",this.element.style.borderStyle=P?"solid":"",this.element.style.borderColor=P}layout(){if(!this.mirror)return;const N=this.cachedContentHeight;this.cachedContentHeight=v.wn(this.mirror),N!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(N){const M=this.inputElement,P=M.selectionStart,W=M.selectionEnd,J=M.value;null!==P&&null!==W&&(this.value=J.substr(0,P)+N+J.substr(W),M.setSelectionRange(P+1,P+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class H extends I{constructor(N,M,P){const W=f.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),J=` or \u21c5 ${W}`,he=` (\u21c5 ${W})`;super(N,M,P),this.history=new w(P.history,100);const ye=()=>{if(P.showHistoryHint&&P.showHistoryHint()&&!this.placeholder.endsWith(J)&&!this.placeholder.endsWith(he)&&this.history.getHistory().length){const fe=this.placeholder.endsWith(")")?J:he,Se=this.placeholder+fe;P.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=Se:this.setPlaceHolder(Se)}};this.observer=new MutationObserver((fe,Se)=>{fe.forEach(Ie=>{Ie.target.textContent||ye()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>ye()),this.onblur(this.input,()=>{const fe=Se=>{if(this.placeholder.endsWith(Se)){const Ie=this.placeholder.slice(0,this.placeholder.length-Se.length);return P.showPlaceholderOnFocus?this.placeholder=Ie:this.setPlaceHolder(Ie),!0}return!1};fe(he)||fe(J)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let N=this.getNextValue();N&&(N=N===this.value?this.getNextValue():N),N&&(this.value=N,R.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let N=this.getPreviousValue();N&&(N=N===this.value?this.getPreviousValue():N),N&&(this.value=N,R.i7(this.value))}getCurrentValue(){let N=this.history.current();return N||(N=this.history.last(),this.history.next()),N}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},1100:(vt,Ke,m)=>{m.d(Ke,{kX:()=>J,Bv:()=>Ie});var v=m(3366),h=m(6889),Q=m(8059),k=m(5691),R=m(9680),se=m(8152),j=m(8337),Y=m(3072),V=m(87),x=m(2787),w=m(2425),D=m(5271),F=m(6656),f=m(2816);function T(_e,$){const X=[];for(let pe of $){if(_e.start>=pe.range.end)continue;if(_e.end<pe.range.start)break;const re=F.e.intersect(_e,pe.range);F.e.isEmpty(re)||X.push({range:re,size:pe.size})}return X}function z({start:_e,end:$},X){return{start:_e+X,end:$+X}}class K{constructor(){this.groups=[],this._size=0}splice($,X,pe=[]){const re=pe.length-X,ne=T({start:0,end:$},this.groups),ce=T({start:$+X,end:Number.POSITIVE_INFINITY},this.groups).map(we=>({range:z(we.range,re),size:we.size})),ue=pe.map((we,He)=>({range:{start:$+He,end:$+He+1},size:we.size}));this.groups=function H(..._e){return function I(_e){const $=[];let X=null;for(let pe of _e){const re=pe.range.start,ne=pe.range.end,ce=pe.size;X&&ce===X.size?X.range.end=ne:(X={range:{start:re,end:ne},size:ce},$.push(X))}return $}(_e.reduce(($,X)=>$.concat(X),[]))}(ne,ue,ce),this._size=this.groups.reduce((we,He)=>we+He.size*(He.range.end-He.range.start),0)}get count(){const $=this.groups.length;return $?this.groups[$-1].range.end:0}get size(){return this._size}indexAt($){if($<0)return-1;let X=0,pe=0;for(let re of this.groups){const ne=re.range.end-re.range.start,ce=pe+ne*re.size;if($<ce)return X+Math.floor(($-pe)/re.size);X+=ne,pe=ce}return X}indexAfter($){return Math.min(this.indexAt($)+1,this.count)}positionAt($){if($<0)return-1;let X=0,pe=0;for(let re of this.groups){const ne=re.range.end-re.range.start,ce=pe+ne;if($<ce)return X+($-pe)*re.size;X+=ne*re.size,pe=ce}return-1}}class M{constructor($){this.renderers=$,this.cache=new Map}alloc($){let X=this.getTemplateCache($).pop();if(!X){const pe=(0,Q.$)(".monaco-list-row");X={domNode:pe,templateId:$,templateData:this.getRenderer($).renderTemplate(pe)}}return X}release($){!$||this.releaseRow($)}releaseRow($){const{domNode:X,templateId:pe}=$;X&&(X.classList.remove("scrolling"),function N(_e){try{_e.parentElement&&_e.parentElement.removeChild(_e)}catch($){}}(X)),this.getTemplateCache(pe).push($)}getTemplateCache($){let X=this.cache.get($);return X||(X=[],this.cache.set($,X)),X}dispose(){this.cache.forEach(($,X)=>{for(const pe of $)this.getRenderer(X).disposeTemplate(pe.templateData),pe.templateData=null}),this.cache.clear()}getRenderer($){const X=this.renderers.get($);if(!X)throw new Error(`No renderer found for ${$}`);return X}}var P=function(_e,$,X,pe){var ce,re=arguments.length,ne=re<3?$:null===pe?pe=Object.getOwnPropertyDescriptor($,X):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(_e,$,X,pe);else for(var ue=_e.length-1;ue>=0;ue--)(ce=_e[ue])&&(ne=(re<3?ce(ne):re>3?ce($,X,ne):ce($,X))||ne);return re>3&&ne&&Object.defineProperty($,X,ne),ne};const W={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:_e=>[_e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class J{constructor($){this.elements=$}update(){}getData(){return this.elements}}class he{constructor($){this.elements=$}update(){}getData(){return this.elements}}class ye{constructor(){this.types=[],this.files=[]}update($){if($.types&&this.types.splice(0,this.types.length,...$.types),$.files){this.files.splice(0,this.files.length);for(let X=0;X<$.files.length;X++){const pe=$.files.item(X);pe&&(pe.size||pe.type)&&this.files.push(pe)}}}getData(){return{types:this.types,files:this.files}}}class Se{constructor($){this.getSetSize=(null==$?void 0:$.getSetSize)?$.getSetSize.bind($):(X,pe,re)=>re,this.getPosInSet=(null==$?void 0:$.getPosInSet)?$.getPosInSet.bind($):(X,pe)=>pe+1,this.getRole=(null==$?void 0:$.getRole)?$.getRole.bind($):X=>"listitem",this.isChecked=(null==$?void 0:$.isChecked)?$.isChecked.bind($):X=>{}}}class Ie{constructor($,X,pe,re=W){if(this.virtualDelegate=X,this.domId="list_id_"+ ++Ie.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Y.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=w.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=w.JT.None,this.onDragLeaveTimeout=w.JT.None,this.disposables=new w.SL,this._onDidChangeContentHeight=new x.Q5,this._horizontalScrolling=!1,re.horizontalScrolling&&re.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new K;for(const ce of pe)this.renderers.set(ce.templateId,ce);this.cache=this.disposables.add(new M(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof re.mouseSupport||re.mouseSupport),this._horizontalScrolling=(0,D.CJ)(re,ce=>ce.horizontalScrolling,W.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===re.additionalScrollHeight?0:re.additionalScrollHeight,this.accessibilityProvider=new Se(re.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,D.CJ)(re,ce=>ce.transformOptimization,W.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(R.o.addTarget(this.rowsContainer)),this.scrollable=new f.Rm({forceIntegerValues:!0,smoothScrollDuration:(0,D.CJ)(re,ce=>ce.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:ce=>(0,Q.jL)(ce)}),this.scrollableElement=this.disposables.add(new se.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,D.CJ)(re,ce=>ce.alwaysConsumeMouseWheel,W.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,D.CJ)(re,ce=>ce.verticalScrollMode,W.verticalScrollMode),useShadows:(0,D.CJ)(re,ce=>ce.useShadows,W.useShadows),mouseWheelScrollSensitivity:re.mouseWheelScrollSensitivity,fastScrollSensitivity:re.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),$.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Q.nm)(this.rowsContainer,R.t.Change,ce=>this.onTouchChange(ce))),this.disposables.add((0,Q.nm)(this.scrollableElement.getDomNode(),"scroll",ce=>ce.target.scrollTop=0)),this.disposables.add((0,Q.nm)(this.domNode,"dragover",ce=>this.onDragOver(this.toDragEvent(ce)))),this.disposables.add((0,Q.nm)(this.domNode,"drop",ce=>this.onDrop(this.toDragEvent(ce)))),this.disposables.add((0,Q.nm)(this.domNode,"dragleave",ce=>this.onDragLeave(this.toDragEvent(ce)))),this.disposables.add((0,Q.nm)(this.domNode,"dragend",ce=>this.onDragEnd(ce))),this.setRowLineHeight=(0,D.CJ)(re,ce=>ce.setRowLineHeight,W.setRowLineHeight),this.setRowHeight=(0,D.CJ)(re,ce=>ce.setRowHeight,W.setRowHeight),this.supportDynamicHeights=(0,D.CJ)(re,ce=>ce.supportDynamicHeights,W.supportDynamicHeights),this.dnd=(0,D.CJ)(re,ce=>ce.dnd,W.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling($){if($!==this._horizontalScrolling){if($&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=$,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const X of this.items)this.measureItemWidth(X);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Q.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions($){void 0!==$.additionalScrollHeight&&(this.additionalScrollHeight=$.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==$.smoothScrolling&&this.scrollable.setSmoothScrollDuration($.smoothScrolling?125:0),void 0!==$.horizontalScrolling&&(this.horizontalScrolling=$.horizontalScrolling),void 0!==$.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:$.mouseWheelScrollSensitivity}),void 0!==$.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:$.fastScrollSensitivity})}splice($,X,pe=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice($,X,pe)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice($,X,pe=[]){const re=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ce=F.e.intersect(re,{start:$,end:$+X}),ue=new Map;for(let At=ce.end-1;At>=ce.start;At--){const Kt=this.items[At];if(Kt.dragStartDisposable.dispose(),Kt.row){let nn=ue.get(Kt.templateId);nn||(nn=[],ue.set(Kt.templateId,nn));const Mn=this.renderers.get(Kt.templateId);Mn&&Mn.disposeElement&&Mn.disposeElement(Kt.element,At,Kt.row.templateData,Kt.size),nn.push(Kt.row)}Kt.row=null}const we={start:$+X,end:this.items.length},He=F.e.intersect(we,re),lt=F.e.relativeComplement(we,re),ut=pe.map(At=>({id:String(this.itemId++),element:At,templateId:this.virtualDelegate.getTemplateId(At),size:this.virtualDelegate.getHeight(At),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(At),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:w.JT.None}));let Ve;0===$&&X>=this.items.length?(this.rangeMap=new K,this.rangeMap.splice(0,0,ut),Ve=this.items,this.items=ut):(this.rangeMap.splice($,X,ut),Ve=this.items.splice($,X,...ut));const ct=pe.length-X,Nt=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),un=z(He,ct),Jt=F.e.intersect(Nt,un);for(let At=Jt.start;At<Jt.end;At++)this.updateItemInDOM(this.items[At],At);const St=F.e.relativeComplement(un,Nt);for(const At of St)for(let Kt=At.start;Kt<At.end;Kt++)this.removeItemFromDOM(Kt);const en=lt.map(At=>z(At,ct)),Xt=[{start:$,end:$+pe.length},...en].map(At=>F.e.intersect(Nt,At)),ze=this.getNextToLastElement(Xt);for(const At of Xt)for(let Kt=At.start;Kt<At.end;Kt++){const Mn=ue.get(this.items[Kt].templateId),Nn=null==Mn?void 0:Mn.pop();this.insertItemInDOM(Kt,ze,Nn)}for(const At of ue.values())for(const Kt of At)this.cache.release(Kt);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Ve.map(At=>At.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Q.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let $=0;for(const X of this.items)void 0!==X.width&&($=Math.max($,X.width));this.scrollWidth=$,this.scrollableElement.setScrollDimensions({scrollWidth:0===$?0:$+10})}rerender(){if(this.supportDynamicHeights){for(const $ of this.items)$.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element($){return this.items[$].element}domElement($){const X=this.items[$].row;return X&&X.domNode}elementHeight($){return this.items[$].size}elementTop($){return this.rangeMap.positionAt($)}indexAt($){return this.rangeMap.indexAt($)}indexAfter($){return this.rangeMap.indexAfter($)}layout($,X){let pe={height:"number"==typeof $?$:(0,Q.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,pe.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(pe),void 0!==X&&(this.renderWidth=X,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof X?X:(0,Q.FK)(this.domNode)})}render($,X,pe,re,ne,ce=!1){const ue=this.getRenderRange(X,pe),we=F.e.relativeComplement(ue,$),He=F.e.relativeComplement($,ue),lt=this.getNextToLastElement(we);if(ce){const ut=F.e.intersect($,ue);for(let Ve=ut.start;Ve<ut.end;Ve++)this.updateItemInDOM(this.items[Ve],Ve)}for(const ut of we)for(let Ve=ut.start;Ve<ut.end;Ve++)this.insertItemInDOM(Ve,lt);for(const ut of He)for(let Ve=ut.start;Ve<ut.end;Ve++)this.removeItemFromDOM(Ve);void 0!==re&&(this.rowsContainer.style.left=`-${re}px`),this.rowsContainer.style.top=`-${X}px`,this.horizontalScrolling&&void 0!==ne&&(this.rowsContainer.style.width=`${Math.max(ne,this.renderWidth)}px`),this.lastRenderTop=X,this.lastRenderHeight=pe}insertItemInDOM($,X,pe){const re=this.items[$];re.row||(re.row=null!=pe?pe:this.cache.alloc(re.templateId));const ne=this.accessibilityProvider.getRole(re.element)||"listitem";re.row.domNode.setAttribute("role",ne);const ce=this.accessibilityProvider.isChecked(re.element);void 0!==ce&&re.row.domNode.setAttribute("aria-checked",String(!!ce)),re.row.domNode.parentElement||(X?this.rowsContainer.insertBefore(re.row.domNode,X):this.rowsContainer.appendChild(re.row.domNode)),this.updateItemInDOM(re,$);const ue=this.renderers.get(re.templateId);if(!ue)throw new Error(`No renderer found for template id ${re.templateId}`);ue&&ue.renderElement(re.element,$,re.row.templateData,re.size);const we=this.dnd.getDragURI(re.element);re.dragStartDisposable.dispose(),re.row.domNode.draggable=!!we,we&&(re.dragStartDisposable=(0,Q.nm)(re.row.domNode,"dragstart",He=>this.onDragStart(re.element,we,He))),this.horizontalScrolling&&(this.measureItemWidth(re),this.eventuallyUpdateScrollWidth())}measureItemWidth($){if(!$.row||!$.row.domNode)return;$.row.domNode.style.width=v.isFirefox?"-moz-fit-content":"fit-content",$.width=(0,Q.FK)($.row.domNode);const X=window.getComputedStyle($.row.domNode);X.paddingLeft&&($.width+=parseFloat(X.paddingLeft)),X.paddingRight&&($.width+=parseFloat(X.paddingRight)),$.row.domNode.style.width=""}updateItemInDOM($,X){$.row.domNode.style.top=`${this.elementTop(X)}px`,this.setRowHeight&&($.row.domNode.style.height=`${$.size}px`),this.setRowLineHeight&&($.row.domNode.style.lineHeight=`${$.size}px`),$.row.domNode.setAttribute("data-index",`${X}`),$.row.domNode.setAttribute("data-last-element",X===this.length-1?"true":"false"),$.row.domNode.setAttribute("data-parity",X%2==0?"even":"odd"),$.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize($.element,X,this.length))),$.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet($.element,X))),$.row.domNode.setAttribute("id",this.getElementDomId(X)),$.row.domNode.classList.toggle("drop-target",$.dropTarget)}removeItemFromDOM($){const X=this.items[$];if(X.dragStartDisposable.dispose(),X.row){const pe=this.renderers.get(X.templateId);pe&&pe.disposeElement&&pe.disposeElement(X.element,$,X.row.templateData,X.size),this.cache.release(X.row),X.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop($,X){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:$,reuseAnimation:X})}get scrollTop(){return this.getScrollTop()}set scrollTop($){this.setScrollTop($)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return x.ju.map(this.disposables.add(new k.Y(this.domNode,"click")).event,$=>this.toMouseEvent($))}get onMouseDblClick(){return x.ju.map(this.disposables.add(new k.Y(this.domNode,"dblclick")).event,$=>this.toMouseEvent($))}get onMouseMiddleClick(){return x.ju.filter(x.ju.map(this.disposables.add(new k.Y(this.domNode,"auxclick")).event,$=>this.toMouseEvent($)),$=>1===$.browserEvent.button)}get onMouseDown(){return x.ju.map(this.disposables.add(new k.Y(this.domNode,"mousedown")).event,$=>this.toMouseEvent($))}get onContextMenu(){return x.ju.any(x.ju.map(this.disposables.add(new k.Y(this.domNode,"contextmenu")).event,$=>this.toMouseEvent($)),x.ju.map(this.disposables.add(new k.Y(this.domNode,R.t.Contextmenu)).event,$=>this.toGestureEvent($)))}get onTouchStart(){return x.ju.map(this.disposables.add(new k.Y(this.domNode,"touchstart")).event,$=>this.toTouchEvent($))}get onTap(){return x.ju.map(this.disposables.add(new k.Y(this.rowsContainer,R.t.Tap)).event,$=>this.toGestureEvent($))}toMouseEvent($){const X=this.getItemIndexFromEventTarget($.target||null),pe=void 0===X?void 0:this.items[X];return{browserEvent:$,index:X,element:pe&&pe.element}}toTouchEvent($){const X=this.getItemIndexFromEventTarget($.target||null),pe=void 0===X?void 0:this.items[X];return{browserEvent:$,index:X,element:pe&&pe.element}}toGestureEvent($){const X=this.getItemIndexFromEventTarget($.initialTarget||null),pe=void 0===X?void 0:this.items[X];return{browserEvent:$,index:X,element:pe&&pe.element}}toDragEvent($){const X=this.getItemIndexFromEventTarget($.target||null),pe=void 0===X?void 0:this.items[X];return{browserEvent:$,index:X,element:pe&&pe.element}}onScroll($){try{const X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(X,$.scrollTop,$.height,$.scrollLeft,$.scrollWidth),this.supportDynamicHeights&&this._rerender($.scrollTop,$.height,$.inSmoothScrolling)}catch(X){throw console.error("Got bad scroll event:",$),X}}onTouchChange($){$.preventDefault(),$.stopPropagation(),this.scrollTop-=$.translationY}onDragStart($,X,pe){if(!pe.dataTransfer)return;const re=this.dnd.getDragElements($);if(pe.dataTransfer.effectAllowed="copyMove",pe.dataTransfer.setData(h.go.TEXT,X),pe.dataTransfer.setDragImage){let ne;this.dnd.getDragLabel&&(ne=this.dnd.getDragLabel(re,pe)),void 0===ne&&(ne=String(re.length));const ce=(0,Q.$)(".monaco-drag-image");ce.textContent=ne,document.body.appendChild(ce),pe.dataTransfer.setDragImage(ce,-10,-10),setTimeout(()=>document.body.removeChild(ce),0)}this.currentDragData=new J(re),h.P$.CurrentDragAndDropData=new he(re),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,pe)}onDragOver($){if($.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),h.P$.CurrentDragAndDropData&&"vscode-ui"===h.P$.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation($.browserEvent),!$.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(h.P$.CurrentDragAndDropData)this.currentDragData=h.P$.CurrentDragAndDropData;else{if(!$.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ye}const X=this.dnd.onDragOver(this.currentDragData,$.element,$.index,$.browserEvent);if(this.canDrop="boolean"==typeof X?X:X.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let pe;if($.browserEvent.dataTransfer.dropEffect="boolean"!=typeof X&&0===X.effect?"copy":"move",pe="boolean"!=typeof X&&X.feedback?X.feedback:void 0===$.index?[-1]:[$.index],pe=(0,j.EB)(pe).filter(re=>re>=-1&&re<this.length).sort((re,ne)=>re-ne),pe=-1===pe[0]?[-1]:pe,function fe(_e,$){return Array.isArray(_e)&&Array.isArray($)?(0,j.fS)(_e,$):_e===$}(this.currentDragFeedback,pe))return!0;if(this.currentDragFeedback=pe,this.currentDragFeedbackDisposable.dispose(),-1===pe[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,w.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const re of pe){const ne=this.items[re];ne.dropTarget=!0,ne.row&&ne.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,w.OF)(()=>{for(const re of pe){const ne=this.items[re];ne.dropTarget=!1,ne.row&&ne.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave($){var X,pe;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,Y.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(pe=(X=this.dnd).onDragLeave)||void 0===pe||pe.call(X,this.currentDragData,$.element,$.index,$.browserEvent))}onDrop($){if(!this.canDrop)return;const X=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,h.P$.CurrentDragAndDropData=void 0,X&&$.browserEvent.dataTransfer&&($.browserEvent.preventDefault(),X.update($.browserEvent.dataTransfer),this.dnd.drop(X,$.element,$.index,$.browserEvent))}onDragEnd($){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,h.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd($)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=w.JT.None}setupDragAndDropScrollTopAnimation($){if(!this.dragOverAnimationDisposable){const X=(0,Q.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,Q.jt)(this.animateDragAndDropScrollTop.bind(this,X))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,Y.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=$.pageY}animateDragAndDropScrollTop($){if(void 0===this.dragOverMouseY)return;const X=this.dragOverMouseY-$,pe=this.renderHeight-35;X<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(X-35))):X>pe&&(this.scrollTop+=Math.min(14,Math.floor(.3*(X-pe))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget($){const X=this.scrollableElement.getDomNode();let pe=$;for(;pe instanceof HTMLElement&&pe!==this.rowsContainer&&X.contains(pe);){const re=pe.getAttribute("data-index");if(re){const ne=Number(re);if(!isNaN(ne))return ne}pe=pe.parentElement}}getRenderRange($,X){return{start:this.rangeMap.indexAt($),end:this.rangeMap.indexAfter($+X-1)}}_rerender($,X,pe){const re=this.getRenderRange($,X);let ne,ce;$===this.elementTop(re.start)?(ne=re.start,ce=0):re.end-re.start>1&&(ne=re.start+1,ce=this.elementTop(ne)-$);let ue=0;for(;;){const we=this.getRenderRange($,X);let He=!1;for(let lt=we.start;lt<we.end;lt++){const ut=this.probeDynamicHeight(lt);0!==ut&&this.rangeMap.splice(lt,1,[this.items[lt]]),ue+=ut,He=He||0!==ut}if(!He){0!==ue&&this.eventuallyUpdateScrollDimensions();const lt=F.e.relativeComplement(re,we);for(const Ve of lt)for(let ct=Ve.start;ct<Ve.end;ct++)this.items[ct].row&&this.removeItemFromDOM(ct);const ut=F.e.relativeComplement(we,re);for(const Ve of ut)for(let ct=Ve.start;ct<Ve.end;ct++){const Nt=ct+1,un=Nt<this.items.length?this.items[Nt].row:null;this.insertItemInDOM(ct,un?un.domNode:null)}for(let Ve=we.start;Ve<we.end;Ve++)this.items[Ve].row&&this.updateItemInDOM(this.items[Ve],Ve);if("number"==typeof ne){const Ve=this.scrollable.getFutureScrollPosition().scrollTop-$,ct=this.elementTop(ne)-ce+Ve;this.setScrollTop(ct,pe)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight($){const X=this.items[$];if(this.virtualDelegate.getDynamicHeight){const ce=this.virtualDelegate.getDynamicHeight(X.element);if(null!==ce){const ue=X.size;return X.size=ce,X.lastDynamicHeightWidth=this.renderWidth,ce-ue}}if(!X.hasDynamicHeight||X.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(X.element))return 0;const pe=X.size;if(!this.setRowHeight&&X.row){let ce=X.row.domNode.offsetHeight;return X.size=ce,X.lastDynamicHeightWidth=this.renderWidth,ce-pe}const re=this.cache.alloc(X.templateId);re.domNode.style.height="",this.rowsContainer.appendChild(re.domNode);const ne=this.renderers.get(X.templateId);return ne&&(ne.renderElement(X.element,$,re.templateData,void 0),ne.disposeElement&&ne.disposeElement(X.element,$,re.templateData,void 0)),X.size=re.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(X.element,X.size),X.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(re.domNode),this.cache.release(re),X.size-pe}getNextToLastElement($){const X=$[$.length-1];if(!X)return null;const pe=this.items[X.end];return pe&&pe.row?pe.row.domNode:null}getElementDomId($){return`${this.domId}_${$}`}dispose(){if(this.items){for(const $ of this.items)if($.row){const X=this.renderers.get($.row.templateId);X&&(X.disposeElement&&X.disposeElement($.element,-1,$.row.templateData,void 0),X.disposeTemplate($.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,w.B9)(this.disposables)}}Ie.InstanceCount=0,P([V.H],Ie.prototype,"onMouseClick",null),P([V.H],Ie.prototype,"onMouseDblClick",null),P([V.H],Ie.prototype,"onMouseMiddleClick",null),P([V.H],Ie.prototype,"onMouseDown",null),P([V.H],Ie.prototype,"onContextMenu",null),P([V.H],Ie.prototype,"onTouchStart",null),P([V.H],Ie.prototype,"onTap",null)},7367:(vt,Ke,m)=>{m.d(Ke,{WK:()=>$,wD:()=>He,aV:()=>pn,sx:()=>we,cK:()=>fe,hD:()=>Se,wn:()=>ne,Zo:()=>re});var v=m(8059),h=m(5691),Q=m(4616),k=m(9680),R=m(3619);class se{constructor(ze){this.spliceables=ze}splice(ze,At,Kt){this.spliceables.forEach(nn=>nn.splice(ze,At,Kt))}}var j=m(8337),Y=m(3072),V=m(8927),x=m(87),w=m(2787),D=m(1979),F=m(2425),f=m(8829),T=m(5271),z=m(8972),I=m(4435);m(4397);class K extends Error{constructor(ze,At){super(`ListError [${ze}] ${At}`)}}var N=m(1100),M=function(Xt,ze,At,Kt){var Nn,nn=arguments.length,Mn=nn<3?ze:null===Kt?Kt=Object.getOwnPropertyDescriptor(ze,At):Kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Mn=Reflect.decorate(Xt,ze,At,Kt);else for(var yt=Xt.length-1;yt>=0;yt--)(Nn=Xt[yt])&&(Mn=(nn<3?Nn(Mn):nn>3?Nn(ze,At,Mn):Nn(ze,At))||Mn);return nn>3&&Mn&&Object.defineProperty(ze,At,Mn),Mn},P=function(Xt,ze,At,Kt){return new(At||(At=Promise))(function(Mn,Nn){function yt(_n){try{jt(Kt.next(_n))}catch(In){Nn(In)}}function Ht(_n){try{jt(Kt.throw(_n))}catch(In){Nn(In)}}function jt(_n){_n.done?Mn(_n.value):function nn(Mn){return Mn instanceof At?Mn:new At(function(Nn){Nn(Mn)})}(_n.value).then(yt,Ht)}jt((Kt=Kt.apply(Xt,ze||[])).next())})};class W{constructor(ze){this.trait=ze,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(ze){return ze}renderElement(ze,At,Kt){const nn=this.renderedElements.findIndex(Mn=>Mn.templateData===Kt);if(nn>=0){const Mn=this.renderedElements[nn];this.trait.unrender(Kt),Mn.index=At}else this.renderedElements.push({index:At,templateData:Kt});this.trait.renderIndex(At,Kt)}splice(ze,At,Kt){const nn=[];for(const Mn of this.renderedElements)Mn.index<ze?nn.push(Mn):Mn.index>=ze+At&&nn.push({index:Mn.index+Kt-At,templateData:Mn.templateData});this.renderedElements=nn}renderIndexes(ze){for(const{index:At,templateData:Kt}of this.renderedElements)ze.indexOf(At)>-1&&this.trait.renderIndex(At,Kt)}disposeTemplate(ze){const At=this.renderedElements.findIndex(Kt=>Kt.templateData===ze);At<0||this.renderedElements.splice(At,1)}}class J{constructor(ze){this._trait=ze,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new w.Q5,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new W(this)}splice(ze,At,Kt){var nn;At=Math.max(0,Math.min(At,this.length-ze));const Mn=Kt.length-At,Nn=ze+At,yt=[...this.sortedIndexes.filter(jt=>jt<ze),...Kt.map((jt,_n)=>jt?_n+ze:-1).filter(jt=>-1!==jt),...this.sortedIndexes.filter(jt=>jt>=Nn).map(jt=>jt+Mn)],Ht=this.length+Mn;if(this.sortedIndexes.length>0&&0===yt.length&&Ht>0){const jt=null!==(nn=this.sortedIndexes.find(_n=>_n>=ze))&&void 0!==nn?nn:Ht-1;yt.push(Math.min(jt,Ht-1))}this.renderer.splice(ze,At,Kt.length),this._set(yt,yt),this.length=Ht}renderIndex(ze,At){At.classList.toggle(this._trait,this.contains(ze))}unrender(ze){ze.classList.remove(this._trait)}set(ze,At){return this._set(ze,[...ze].sort(un),At)}_set(ze,At,Kt){const nn=this.indexes,Mn=this.sortedIndexes;this.indexes=ze,this.sortedIndexes=At;const Nn=ct(Mn,ze);return this.renderer.renderIndexes(Nn),this._onChange.fire({indexes:ze,browserEvent:Kt}),nn}get(){return this.indexes}contains(ze){return(0,j.ry)(this.sortedIndexes,ze,un)>=0}dispose(){(0,F.B9)(this._onChange)}}M([x.H],J.prototype,"renderer",null);class he extends J{constructor(ze){super("selected"),this.setAriaSelected=ze}renderIndex(ze,At){super.renderIndex(ze,At),this.setAriaSelected&&(this.contains(ze)?At.setAttribute("aria-selected","true"):At.setAttribute("aria-selected","false"))}}class ye{constructor(ze,At,Kt){this.trait=ze,this.view=At,this.identityProvider=Kt}splice(ze,At,Kt){if(!this.identityProvider)return this.trait.splice(ze,At,Kt.map(()=>!1));const nn=this.trait.get().map(Nn=>this.identityProvider.getId(this.view.element(Nn)).toString()),Mn=Kt.map(Nn=>nn.indexOf(this.identityProvider.getId(Nn).toString())>-1);this.trait.splice(ze,At,Mn)}}function fe(Xt){return"INPUT"===Xt.tagName||"TEXTAREA"===Xt.tagName}function Se(Xt){return!!Xt.classList.contains("monaco-editor")||!(Xt.classList.contains("monaco-list")||!Xt.parentElement)&&Se(Xt.parentElement)}class Ie{constructor(ze,At,Kt){this.list=ze,this.view=At,this.disposables=new F.SL,this.multipleSelectionDisposables=new F.SL,this.onKeyDown.filter(nn=>3===nn.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(nn=>16===nn.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(nn=>18===nn.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(nn=>11===nn.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(nn=>12===nn.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(nn=>9===nn.keyCode).on(this.onEscape,this,this.disposables),!1!==Kt.multipleSelectionSupport&&this.onKeyDown.filter(nn=>(z.dz?nn.metaKey:nn.ctrlKey)&&31===nn.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return w.ju.chain(this.disposables.add(new h.Y(this.view.domNode,"keydown")).event).filter(ze=>!fe(ze.target)).map(ze=>new Q.y(ze))}updateOptions(ze){void 0!==ze.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),ze.multipleSelectionSupport&&this.onKeyDown.filter(At=>(z.dz?At.metaKey:At.ctrlKey)&&31===At.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(ze){ze.preventDefault(),ze.stopPropagation(),this.list.setSelection(this.list.getFocus(),ze.browserEvent)}onUpArrow(ze){ze.preventDefault(),ze.stopPropagation(),this.list.focusPrevious(1,!1,ze.browserEvent);const At=this.list.getFocus()[0];this.list.setAnchor(At),this.list.reveal(At),this.view.domNode.focus()}onDownArrow(ze){ze.preventDefault(),ze.stopPropagation(),this.list.focusNext(1,!1,ze.browserEvent);const At=this.list.getFocus()[0];this.list.setAnchor(At),this.list.reveal(At),this.view.domNode.focus()}onPageUpArrow(ze){ze.preventDefault(),ze.stopPropagation(),this.list.focusPreviousPage(ze.browserEvent);const At=this.list.getFocus()[0];this.list.setAnchor(At),this.list.reveal(At),this.view.domNode.focus()}onPageDownArrow(ze){ze.preventDefault(),ze.stopPropagation(),this.list.focusNextPage(ze.browserEvent);const At=this.list.getFocus()[0];this.list.setAnchor(At),this.list.reveal(At),this.view.domNode.focus()}onCtrlA(ze){ze.preventDefault(),ze.stopPropagation(),this.list.setSelection((0,j.w6)(this.list.length),ze.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ze){this.list.getSelection().length&&(ze.preventDefault(),ze.stopPropagation(),this.list.setSelection([],ze.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}M([x.H],Ie.prototype,"onKeyDown",null);var _e=(()=>{return(Xt=_e||(_e={}))[Xt.Idle=0]="Idle",Xt[Xt.Typing=1]="Typing",_e;var Xt})();const $=new class{mightProducePrintableCharacter(Xt){return!(Xt.ctrlKey||Xt.metaKey||Xt.altKey)&&(Xt.keyCode>=31&&Xt.keyCode<=56||Xt.keyCode>=21&&Xt.keyCode<=30||Xt.keyCode>=93&&Xt.keyCode<=102||Xt.keyCode>=80&&Xt.keyCode<=90)}};class X{constructor(ze,At,Kt,nn){this.list=ze,this.view=At,this.keyboardNavigationLabelProvider=Kt,this.delegate=nn,this.enabled=!1,this.state=_e.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new F.SL,this.disposables=new F.SL,this.updateOptions(ze.options)}updateOptions(ze){void 0===ze.enableKeyboardNavigation||ze.enableKeyboardNavigation?this.enable():this.disable(),void 0!==ze.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=ze.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const ze=w.ju.chain(this.enabledDisposables.add(new h.Y(this.view.domNode,"keydown")).event).filter(nn=>!fe(nn.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(nn=>new Q.y(nn)).filter(nn=>this.delegate.mightProducePrintableCharacter(nn)).forEach(nn=>nn.preventDefault()).map(nn=>nn.browserEvent.key).event,At=w.ju.debounce(ze,()=>null,800);w.ju.reduce(w.ju.any(ze,At),(nn,Mn)=>null===Mn?null:(nn||"")+Mn)(this.onInput,this,this.enabledDisposables),At(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ze;const At=this.list.getFocus();if(At.length>0&&At[0]===this.previouslyFocused){const Kt=null===(ze=this.list.options.accessibilityProvider)||void 0===ze?void 0:ze.getAriaLabel(this.list.element(At[0]));Kt&&(0,R.Z9)(Kt)}this.previouslyFocused=-1}onInput(ze){if(!ze)return this.state=_e.Idle,void(this.triggered=!1);const At=this.list.getFocus(),Kt=At.length>0?At[0]:0,nn=this.state===_e.Idle?1:0;this.state=_e.Typing;for(let Mn=0;Mn<this.list.length;Mn++){const Nn=(Kt+Mn+nn)%this.list.length,yt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Nn)),Ht=yt&&yt.toString();if(void 0===Ht||(0,D.Ji)(ze,Ht))return this.previouslyFocused=Kt,this.list.setFocus([Nn]),void this.list.reveal(Nn)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class pe{constructor(ze,At){this.list=ze,this.view=At,this.disposables=new F.SL,w.ju.chain(this.disposables.add(new h.Y(At.domNode,"keydown")).event).filter(nn=>!fe(nn.target)).map(nn=>new Q.y(nn)).filter(nn=>!(2!==nn.keyCode||nn.ctrlKey||nn.metaKey||nn.shiftKey||nn.altKey)).on(this.onTab,this,this.disposables)}onTab(ze){if(ze.target!==this.view.domNode)return;const At=this.list.getFocus();if(0===At.length)return;const Kt=this.view.domElement(At[0]);if(!Kt)return;const nn=Kt.querySelector("[tabIndex]");if(!(nn&&nn instanceof HTMLElement&&-1!==nn.tabIndex))return;const Mn=window.getComputedStyle(nn);"hidden"===Mn.visibility||"none"===Mn.display||(ze.preventDefault(),ze.stopPropagation(),nn.focus())}dispose(){this.disposables.dispose()}}function re(Xt){return z.dz?Xt.browserEvent.metaKey:Xt.browserEvent.ctrlKey}function ne(Xt){return Xt.browserEvent.shiftKey}const ue={isSelectionSingleChangeEvent:re,isSelectionRangeChangeEvent:ne};class we{constructor(ze){this.list=ze,this.disposables=new F.SL,this._onPointer=new w.Q5,this.onPointer=this._onPointer.event,!1!==ze.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ue),this.mouseSupport=void 0===ze.options.mouseSupport||!!ze.options.mouseSupport,this.mouseSupport&&(ze.onMouseDown(this.onMouseDown,this,this.disposables),ze.onContextMenu(this.onContextMenu,this,this.disposables),ze.onMouseDblClick(this.onDoubleClick,this,this.disposables),ze.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(k.o.addTarget(ze.getHTMLElement()))),w.ju.any(ze.onMouseClick,ze.onMouseMiddleClick,ze.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ze){void 0!==ze.multipleSelectionSupport&&(this.multipleSelectionController=void 0,ze.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ue))}isSelectionSingleChangeEvent(ze){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(ze)}isSelectionRangeChangeEvent(ze){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(ze)}isSelectionChangeEvent(ze){return this.isSelectionSingleChangeEvent(ze)||this.isSelectionRangeChangeEvent(ze)}onMouseDown(ze){Se(ze.browserEvent.target)||document.activeElement!==ze.browserEvent.target&&this.list.domFocus()}onContextMenu(ze){Se(ze.browserEvent.target)||this.list.setFocus(void 0===ze.index?[]:[ze.index],ze.browserEvent)}onViewPointer(ze){if(!this.mouseSupport||fe(ze.browserEvent.target)||Se(ze.browserEvent.target))return;const At=ze.index;return void 0===At?(this.list.setFocus([],ze.browserEvent),this.list.setSelection([],ze.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(ze)||this.isSelectionChangeEvent(ze)?this.changeSelection(ze):(this.list.setFocus([At],ze.browserEvent),this.list.setAnchor(At),function ce(Xt){return Xt instanceof MouseEvent&&2===Xt.button}(ze.browserEvent)||this.list.setSelection([At],ze.browserEvent),void this._onPointer.fire(ze))}onDoubleClick(ze){if(fe(ze.browserEvent.target)||Se(ze.browserEvent.target)||this.isSelectionChangeEvent(ze))return;const At=this.list.getFocus();this.list.setSelection(At,ze.browserEvent)}changeSelection(ze){const At=ze.index;let Kt=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ze)){if(void 0===Kt){const _n=this.list.getFocus()[0];Kt=null!=_n?_n:At,this.list.setAnchor(Kt)}const nn=Math.min(Kt,At),Mn=Math.max(Kt,At),Nn=(0,j.w6)(nn,Mn+1),yt=this.list.getSelection(),Ht=function Ve(Xt,ze){const At=Xt.indexOf(ze);if(-1===At)return[];const Kt=[];let nn=At-1;for(;nn>=0&&Xt[nn]===ze-(At-nn);)Kt.push(Xt[nn--]);for(Kt.reverse(),nn=At;nn<Xt.length&&Xt[nn]===ze+(nn-At);)Kt.push(Xt[nn++]);return Kt}(ct(yt,[Kt]),Kt);if(0===Ht.length)return;const jt=ct(Nn,function Nt(Xt,ze){const At=[];let Kt=0,nn=0;for(;Kt<Xt.length||nn<ze.length;)if(Kt>=Xt.length)At.push(ze[nn++]);else if(nn>=ze.length)At.push(Xt[Kt++]);else{if(Xt[Kt]===ze[nn]){Kt++,nn++;continue}Xt[Kt]<ze[nn]?At.push(Xt[Kt++]):nn++}return At}(yt,Ht));this.list.setSelection(jt,ze.browserEvent),this.list.setFocus([At],ze.browserEvent)}else if(this.isSelectionSingleChangeEvent(ze)){const nn=this.list.getSelection(),Mn=nn.filter(Nn=>Nn!==At);this.list.setFocus([At]),this.list.setAnchor(At),this.list.setSelection(nn.length===Mn.length?[...Mn,At]:Mn,ze.browserEvent)}}dispose(){this.disposables.dispose()}}class He{constructor(ze,At){this.styleElement=ze,this.selectorSuffix=At}style(ze){const At=this.selectorSuffix&&`.${this.selectorSuffix}`,Kt=[];ze.listBackground&&(ze.listBackground.isOpaque()?Kt.push(`.monaco-list${At} .monaco-list-rows { background: ${ze.listBackground}; }`):z.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),ze.listFocusBackground&&(Kt.push(`.monaco-list${At}:focus .monaco-list-row.focused { background-color: ${ze.listFocusBackground}; }`),Kt.push(`.monaco-list${At}:focus .monaco-list-row.focused:hover { background-color: ${ze.listFocusBackground}; }`)),ze.listFocusForeground&&Kt.push(`.monaco-list${At}:focus .monaco-list-row.focused { color: ${ze.listFocusForeground}; }`),ze.listActiveSelectionBackground&&(Kt.push(`.monaco-list${At}:focus .monaco-list-row.selected { background-color: ${ze.listActiveSelectionBackground}; }`),Kt.push(`.monaco-list${At}:focus .monaco-list-row.selected:hover { background-color: ${ze.listActiveSelectionBackground}; }`)),ze.listActiveSelectionForeground&&Kt.push(`.monaco-list${At}:focus .monaco-list-row.selected { color: ${ze.listActiveSelectionForeground}; }`),ze.listActiveSelectionIconForeground&&Kt.push(`.monaco-list${At}:focus .monaco-list-row.selected .codicon { color: ${ze.listActiveSelectionIconForeground}; }`),ze.listFocusAndSelectionBackground&&Kt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${At}:focus .monaco-list-row.selected.focused { background-color: ${ze.listFocusAndSelectionBackground}; }\n\t\t\t`),ze.listFocusAndSelectionForeground&&Kt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${At}:focus .monaco-list-row.selected.focused { color: ${ze.listFocusAndSelectionForeground}; }\n\t\t\t`),ze.listInactiveFocusForeground&&(Kt.push(`.monaco-list${At} .monaco-list-row.focused { color:  ${ze.listInactiveFocusForeground}; }`),Kt.push(`.monaco-list${At} .monaco-list-row.focused:hover { color:  ${ze.listInactiveFocusForeground}; }`)),ze.listInactiveSelectionIconForeground&&Kt.push(`.monaco-list${At} .monaco-list-row.focused .codicon { color:  ${ze.listInactiveSelectionIconForeground}; }`),ze.listInactiveFocusBackground&&(Kt.push(`.monaco-list${At} .monaco-list-row.focused { background-color:  ${ze.listInactiveFocusBackground}; }`),Kt.push(`.monaco-list${At} .monaco-list-row.focused:hover { background-color:  ${ze.listInactiveFocusBackground}; }`)),ze.listInactiveSelectionBackground&&(Kt.push(`.monaco-list${At} .monaco-list-row.selected { background-color:  ${ze.listInactiveSelectionBackground}; }`),Kt.push(`.monaco-list${At} .monaco-list-row.selected:hover { background-color:  ${ze.listInactiveSelectionBackground}; }`)),ze.listInactiveSelectionForeground&&Kt.push(`.monaco-list${At} .monaco-list-row.selected { color: ${ze.listInactiveSelectionForeground}; }`),ze.listHoverBackground&&Kt.push(`.monaco-list${At}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ze.listHoverBackground}; }`),ze.listHoverForeground&&Kt.push(`.monaco-list${At} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ze.listHoverForeground}; }`),ze.listSelectionOutline&&Kt.push(`.monaco-list${At} .monaco-list-row.selected { outline: 1px dotted ${ze.listSelectionOutline}; outline-offset: -1px; }`),ze.listFocusOutline&&Kt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${At}:focus .monaco-list-row.focused { outline: 1px solid ${ze.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${At}.last-focused .monaco-list-row.focused { outline: 1px solid ${ze.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),ze.listInactiveFocusOutline&&Kt.push(`.monaco-list${At} .monaco-list-row.focused { outline: 1px dotted ${ze.listInactiveFocusOutline}; outline-offset: -1px; }`),ze.listHoverOutline&&Kt.push(`.monaco-list${At} .monaco-list-row:hover { outline: 1px dashed ${ze.listHoverOutline}; outline-offset: -1px; }`),ze.listDropBackground&&Kt.push(`\n\t\t\t\t.monaco-list${At}.drop-target,\n\t\t\t\t.monaco-list${At} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${At} .monaco-list-row.drop-target { background-color: ${ze.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),ze.listFilterWidgetBackground&&Kt.push(`.monaco-list-type-filter { background-color: ${ze.listFilterWidgetBackground} }`),ze.listFilterWidgetOutline&&Kt.push(`.monaco-list-type-filter { border: 1px solid ${ze.listFilterWidgetOutline}; }`),ze.listFilterWidgetNoMatchesOutline&&Kt.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${ze.listFilterWidgetNoMatchesOutline}; }`),ze.listMatchesShadow&&Kt.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${ze.listMatchesShadow}; }`),ze.tableColumnsBorder&&Kt.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${ze.tableColumnsBorder};\n\t\t\t}`),ze.tableOddRowsBackgroundColor&&Kt.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${ze.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=Kt.join("\n")}}const lt={listFocusBackground:V.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:V.Il.fromHex("#0E639C"),listActiveSelectionForeground:V.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:V.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:V.Il.fromHex("#094771"),listFocusAndSelectionForeground:V.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:V.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:V.Il.fromHex("#FFFFFF"),listHoverBackground:V.Il.fromHex("#2A2D2E"),listDropBackground:V.Il.fromHex("#383B3D"),treeIndentGuidesStroke:V.Il.fromHex("#a9a9a9"),tableColumnsBorder:V.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:V.Il.fromHex("#cccccc").transparent(.04)},ut={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function ct(Xt,ze){const At=[];let Kt=0,nn=0;for(;Kt<Xt.length||nn<ze.length;)if(Kt>=Xt.length)At.push(ze[nn++]);else if(nn>=ze.length)At.push(Xt[Kt++]);else{if(Xt[Kt]===ze[nn]){At.push(Xt[Kt]),Kt++,nn++;continue}At.push(Xt[Kt]<ze[nn]?Xt[Kt++]:ze[nn++])}return At}const un=(Xt,ze)=>Xt-ze;class Jt{constructor(ze,At){this._templateId=ze,this.renderers=At}get templateId(){return this._templateId}renderTemplate(ze){return this.renderers.map(At=>At.renderTemplate(ze))}renderElement(ze,At,Kt,nn){let Mn=0;for(const Nn of this.renderers)Nn.renderElement(ze,At,Kt[Mn++],nn)}disposeElement(ze,At,Kt,nn){let Mn=0;for(const Nn of this.renderers)Nn.disposeElement&&Nn.disposeElement(ze,At,Kt[Mn],nn),Mn+=1}disposeTemplate(ze){let At=0;for(const Kt of this.renderers)Kt.disposeTemplate(ze[At++])}}class St{constructor(ze){this.accessibilityProvider=ze,this.templateId="a18n"}renderTemplate(ze){return ze}renderElement(ze,At,Kt){const nn=this.accessibilityProvider.getAriaLabel(ze);nn?Kt.setAttribute("aria-label",nn):Kt.removeAttribute("aria-label");const Mn=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ze);"number"==typeof Mn?Kt.setAttribute("aria-level",`${Mn}`):Kt.removeAttribute("aria-level")}disposeTemplate(ze){}}class en{constructor(ze,At){this.list=ze,this.dnd=At}getDragElements(ze){const At=this.list.getSelectedElements();return At.indexOf(ze)>-1?At:[ze]}getDragURI(ze){return this.dnd.getDragURI(ze)}getDragLabel(ze,At){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ze,At)}onDragStart(ze,At){this.dnd.onDragStart&&this.dnd.onDragStart(ze,At)}onDragOver(ze,At,Kt,nn){return this.dnd.onDragOver(ze,At,Kt,nn)}onDragLeave(ze,At,Kt,nn){var Mn,Nn;null===(Nn=(Mn=this.dnd).onDragLeave)||void 0===Nn||Nn.call(Mn,ze,At,Kt,nn)}onDragEnd(ze){this.dnd.onDragEnd&&this.dnd.onDragEnd(ze)}drop(ze,At,Kt,nn){this.dnd.drop(ze,At,Kt,nn)}}class pn{constructor(ze,At,Kt,nn,Mn=ut){var Nn;this.user=ze,this._options=Mn,this.focus=new J("focused"),this.anchor=new J("anchor"),this.eventBufferer=new w.E7,this._ariaLabel="",this.disposables=new F.SL,this._onDidDispose=new w.Q5,this.onDidDispose=this._onDidDispose.event;const yt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Nn=this._options.accessibilityProvider)||void 0===Nn?void 0:Nn.getWidgetRole():"list";this.selection=new he("listbox"!==yt),(0,T.jB)(Mn,lt,!1);const Ht=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Mn.accessibilityProvider,this.accessibilityProvider&&(Ht.push(new St(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),nn=nn.map(_n=>new Jt(_n.templateId,[...Ht,_n]));const jt=Object.assign(Object.assign({},Mn),{dnd:Mn.dnd&&new en(this,Mn.dnd)});if(this.view=new N.Bv(At,Kt,nn,jt),this.view.domNode.setAttribute("role",yt),Mn.styleController)this.styleController=Mn.styleController(this.view.domId);else{const _n=(0,v.dS)(this.view.domNode);this.styleController=new He(_n,this.view.domId)}this.spliceable=new se([new ye(this.focus,this.view,Mn.identityProvider),new ye(this.selection,this.view,Mn.identityProvider),new ye(this.anchor,this.view,Mn.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new pe(this,this.view)),("boolean"!=typeof Mn.keyboardSupport||Mn.keyboardSupport)&&(this.keyboardController=new Ie(this,this.view,Mn),this.disposables.add(this.keyboardController)),Mn.keyboardNavigationLabelProvider&&(this.typeLabelController=new X(this,this.view,Mn.keyboardNavigationLabelProvider,Mn.keyboardNavigationDelegate||$),this.disposables.add(this.typeLabelController)),this.mouseController=this.createMouseController(Mn),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return w.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ze=>this.toListEvent(ze))}get onDidChangeSelection(){return w.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ze=>this.toListEvent(ze))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ze=!1;const At=w.ju.chain(this.disposables.add(new h.Y(this.view.domNode,"keydown")).event).map(Mn=>new Q.y(Mn)).filter(Mn=>ze=58===Mn.keyCode||Mn.shiftKey&&68===Mn.keyCode).map(h.p).filter(()=>!1).event,Kt=w.ju.chain(this.disposables.add(new h.Y(this.view.domNode,"keyup")).event).forEach(()=>ze=!1).map(Mn=>new Q.y(Mn)).filter(Mn=>58===Mn.keyCode||Mn.shiftKey&&68===Mn.keyCode).map(h.p).map(({browserEvent:Mn})=>{const Nn=this.getFocus(),yt=Nn.length?Nn[0]:void 0;return{index:yt,element:void 0!==yt?this.view.element(yt):void 0,anchor:void 0!==yt?this.view.domElement(yt):this.view.domNode,browserEvent:Mn}}).event,nn=w.ju.chain(this.view.onContextMenu).filter(Mn=>!ze).map(({element:Mn,index:Nn,browserEvent:yt})=>({element:Mn,index:Nn,anchor:{x:yt.pageX+1,y:yt.pageY},browserEvent:yt})).event;return w.ju.any(At,Kt,nn)}get onKeyDown(){return this.disposables.add(new h.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return w.ju.signal(this.disposables.add(new h.Y(this.view.domNode,"focus",!0)).event)}createMouseController(ze){return new we(this)}updateOptions(ze={}){var At;this._options=Object.assign(Object.assign({},this._options),ze),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ze),null===(At=this.keyboardController)||void 0===At||At.updateOptions(ze),this.view.updateOptions(ze)}get options(){return this._options}splice(ze,At,Kt=[]){if(ze<0||ze>this.view.length)throw new K(this.user,`Invalid start index: ${ze}`);if(At<0)throw new K(this.user,`Invalid delete count: ${At}`);0===At&&0===Kt.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ze,At,Kt))}rerender(){this.view.rerender()}element(ze){return this.view.element(ze)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ze){this.view.setScrollTop(ze)}get ariaLabel(){return this._ariaLabel}set ariaLabel(ze){this._ariaLabel=ze,this.view.domNode.setAttribute("aria-label",ze)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ze,At){this.view.layout(ze,At)}setSelection(ze,At){for(const Kt of ze)if(Kt<0||Kt>=this.length)throw new K(this.user,`Invalid index ${Kt}`);this.selection.set(ze,At)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ze=>this.view.element(ze))}setAnchor(ze){if(void 0!==ze){if(ze<0||ze>=this.length)throw new K(this.user,`Invalid index ${ze}`);this.anchor.set([ze])}else this.anchor.set([])}getAnchor(){return(0,j.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ze=this.getAnchor();return void 0===ze?void 0:this.element(ze)}setFocus(ze,At){for(const Kt of ze)if(Kt<0||Kt>=this.length)throw new K(this.user,`Invalid index ${Kt}`);this.focus.set(ze,At)}focusNext(ze=1,At=!1,Kt,nn){if(0===this.length)return;const Mn=this.focus.get(),Nn=this.findNextIndex(Mn.length>0?Mn[0]+ze:0,At,nn);Nn>-1&&this.setFocus([Nn],Kt)}focusPrevious(ze=1,At=!1,Kt,nn){if(0===this.length)return;const Mn=this.focus.get(),Nn=this.findPreviousIndex(Mn.length>0?Mn[0]-ze:0,At,nn);Nn>-1&&this.setFocus([Nn],Kt)}focusNextPage(ze,At){return P(this,void 0,void 0,function*(){let Kt=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Kt=0===Kt?0:Kt-1;const nn=this.view.element(Kt),Mn=this.getFocusedElements()[0];if(Mn!==nn){const Nn=this.findPreviousIndex(Kt,!1,At);Nn>-1&&Mn!==this.view.element(Nn)?this.setFocus([Nn],ze):this.setFocus([Kt],ze)}else{const Nn=this.view.getScrollTop();this.view.setScrollTop(Nn+this.view.renderHeight-this.view.elementHeight(Kt)),this.view.getScrollTop()!==Nn&&(this.setFocus([]),yield(0,Y.Vs)(0),yield this.focusNextPage(ze,At))}})}focusPreviousPage(ze,At){return P(this,void 0,void 0,function*(){let Kt;const nn=this.view.getScrollTop();Kt=0===nn?this.view.indexAt(nn):this.view.indexAfter(nn-1);const Mn=this.view.element(Kt),Nn=this.getFocusedElements()[0];if(Nn!==Mn){const yt=this.findNextIndex(Kt,!1,At);yt>-1&&Nn!==this.view.element(yt)?this.setFocus([yt],ze):this.setFocus([Kt],ze)}else{const yt=nn;this.view.setScrollTop(nn-this.view.renderHeight),this.view.getScrollTop()!==yt&&(this.setFocus([]),yield(0,Y.Vs)(0),yield this.focusPreviousPage(ze,At))}})}focusLast(ze,At){if(0===this.length)return;const Kt=this.findPreviousIndex(this.length-1,!1,At);Kt>-1&&this.setFocus([Kt],ze)}focusFirst(ze,At){this.focusNth(0,ze,At)}focusNth(ze,At,Kt){if(0===this.length)return;const nn=this.findNextIndex(ze,!1,Kt);nn>-1&&this.setFocus([nn],At)}findNextIndex(ze,At=!1,Kt){for(let nn=0;nn<this.length;nn++){if(ze>=this.length&&!At)return-1;if(ze%=this.length,!Kt||Kt(this.element(ze)))return ze;ze++}return-1}findPreviousIndex(ze,At=!1,Kt){for(let nn=0;nn<this.length;nn++){if(ze<0&&!At)return-1;if(ze=(this.length+ze%this.length)%this.length,!Kt||Kt(this.element(ze)))return ze;ze--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ze=>this.view.element(ze))}reveal(ze,At){if(ze<0||ze>=this.length)throw new K(this.user,`Invalid index ${ze}`);const Kt=this.view.getScrollTop(),nn=this.view.elementTop(ze),Mn=this.view.elementHeight(ze);if((0,I.hj)(At))this.view.setScrollTop((Mn-this.view.renderHeight)*(0,f.uZ)(At,0,1)+nn);else{const Nn=nn+Mn,yt=Kt+this.view.renderHeight;nn<Kt&&Nn>=yt||(nn<Kt||Nn>=yt&&Mn>=this.view.renderHeight?this.view.setScrollTop(nn):Nn>=yt&&this.view.setScrollTop(Nn-this.view.renderHeight))}}getRelativeTop(ze){if(ze<0||ze>=this.length)throw new K(this.user,`Invalid index ${ze}`);const At=this.view.getScrollTop(),Kt=this.view.elementTop(ze),nn=this.view.elementHeight(ze);return Kt<At||Kt+nn>At+this.view.renderHeight?null:Math.abs((At-Kt)/(nn-this.view.renderHeight))}getHTMLElement(){return this.view.domNode}style(ze){this.styleController.style(ze)}toListEvent({indexes:ze,browserEvent:At}){return{indexes:ze,elements:ze.map(Kt=>this.view.element(Kt)),browserEvent:At}}_onFocusChange(){const ze=this.focus.get();this.view.domNode.classList.toggle("element-focused",ze.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ze;const At=this.focus.get();if(At.length>0){let Kt;(null===(ze=this.accessibilityProvider)||void 0===ze?void 0:ze.getActiveDescendantId)&&(Kt=this.accessibilityProvider.getActiveDescendantId(this.view.element(At[0]))),this.view.domNode.setAttribute("aria-activedescendant",Kt||this.view.getElementDomId(At[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ze=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===ze.length),this.view.domNode.classList.toggle("selection-single",1===ze.length),this.view.domNode.classList.toggle("selection-multiple",ze.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}M([x.H],pn.prototype,"onDidChangeFocus",null),M([x.H],pn.prototype,"onDidChangeSelection",null),M([x.H],pn.prototype,"onContextMenu",null),M([x.H],pn.prototype,"onKeyDown",null),M([x.H],pn.prototype,"onDidFocus",null)},1382:(vt,Ke,m)=>{m.d(Ke,{S:()=>h}),m(8928);const h="monaco-mouse-cursor-text"},7687:(vt,Ke,m)=>{m.d(Ke,{l:()=>D,g:()=>M});var v=m(8059),h=m(5691),Q=m(9680),k=m(3072),R=m(87),se=m(2787),j=m(2425),Y=m(8972),x=(m(9215),function(P,W,J,he){var Se,ye=arguments.length,fe=ye<3?W:null===he?he=Object.getOwnPropertyDescriptor(W,J):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(P,W,J,he);else for(var Ie=P.length-1;Ie>=0;Ie--)(Se=P[Ie])&&(fe=(ye<3?Se(fe):ye>3?Se(W,J,fe):Se(W,J))||fe);return ye>3&&fe&&Object.defineProperty(W,J,fe),fe}),D=(()=>{return(P=D||(D={})).North="north",P.South="south",P.East="east",P.West="west",D;var P})();const f=new se.Q5,z=new se.Q5;class I{constructor(){this.disposables=new j.SL}get onPointerMove(){return this.disposables.add(new h.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new h.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}x([R.H],I.prototype,"onPointerMove",null),x([R.H],I.prototype,"onPointerUp",null);class H{constructor(W){this.el=W,this.disposables=new j.SL}get onPointerMove(){return this.disposables.add(new h.Y(this.el,Q.t.Change)).event}get onPointerUp(){return this.disposables.add(new h.Y(this.el,Q.t.End)).event}dispose(){this.disposables.dispose()}}x([R.H],H.prototype,"onPointerMove",null),x([R.H],H.prototype,"onPointerUp",null);class K{constructor(W){this.factory=W}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}x([R.H],K.prototype,"onPointerMove",null),x([R.H],K.prototype,"onPointerUp",null);const N="pointer-events-disabled";class M extends j.JT{constructor(W,J,he){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new k.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new se.Q5),this._onDidStart=this._register(new se.Q5),this._onDidChange=this._register(new se.Q5),this._onDidReset=this._register(new se.Q5),this._onDidEnd=this._register(new se.Q5),this.orthogonalStartSashDisposables=this._register(new j.SL),this.orthogonalStartDragHandleDisposables=this._register(new j.SL),this.orthogonalEndSashDisposables=this._register(new j.SL),this.orthogonalEndDragHandleDisposables=this._register(new j.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,v.R3)(W,(0,v.$)(".monaco-sash")),he.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${he.orthogonalEdge}`),Y.dz&&this.el.classList.add("mac");const ye=this._register(new h.Y(this.el,"mousedown")).event;this._register(ye(pe=>this.onPointerStart(pe,new I),this));const fe=this._register(new h.Y(this.el,"dblclick")).event;this._register(fe(this.onPointerDoublePress,this));const Se=this._register(new h.Y(this.el,"mouseenter")).event;this._register(Se(()=>M.onMouseEnter(this)));const Ie=this._register(new h.Y(this.el,"mouseleave")).event;this._register(Ie(()=>M.onMouseLeave(this))),this._register(Q.o.addTarget(this.el));const _e=se.ju.map(this._register(new h.Y(this.el,Q.t.Start)).event,pe=>{var re;return Object.assign(Object.assign({},pe),{target:null!==(re=pe.initialTarget)&&void 0!==re?re:null})});this._register(_e(pe=>this.onPointerStart(pe,new H(this.el)),this));const $=this._register(new h.Y(this.el,Q.t.Tap)).event,X=se.ju.map(se.ju.filter(se.ju.debounce($,(pe,re)=>{var ne;return{event:re,count:(null!==(ne=null==pe?void 0:pe.count)&&void 0!==ne?ne:0)+1}},250),({count:pe})=>2===pe),({event:pe})=>{var re;return Object.assign(Object.assign({},pe),{target:null!==(re=pe.initialTarget)&&void 0!==re?re:null})});this._register(X(this.onPointerDoublePress,this)),"number"==typeof he.size?(this.size=he.size,0===he.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(f.event(pe=>{this.size=pe,this.layout()}))),this._register(z.event(pe=>this.hoverDelay=pe)),this.layoutProvider=J,this.orthogonalStartSash=he.orthogonalStartSash,this.orthogonalEndSash=he.orthogonalEndSash,this.orientation=he.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(W){this._state!==W&&(this.el.classList.toggle("disabled",0===W),this.el.classList.toggle("minimum",1===W),this.el.classList.toggle("maximum",2===W),this._state=W,this.onDidEnablementChange.fire(W))}set orthogonalStartSash(W){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),W){const J=he=>{this.orthogonalStartDragHandleDisposables.clear(),0!==he&&(this._orthogonalStartDragHandle=(0,v.R3)(this.el,(0,v.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,j.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new h.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>M.onMouseEnter(W),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new h.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>M.onMouseLeave(W),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(W.onDidEnablementChange.event(J,this)),J(W.state)}this._orthogonalStartSash=W}set orthogonalEndSash(W){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),W){const J=he=>{this.orthogonalEndDragHandleDisposables.clear(),0!==he&&(this._orthogonalEndDragHandle=(0,v.R3)(this.el,(0,v.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,j.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new h.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>M.onMouseEnter(W),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new h.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>M.onMouseLeave(W),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(W.onDidEnablementChange.event(J,this)),J(W.state)}this._orthogonalEndSash=W}onPointerStart(W,J){v.zB.stop(W);let he=!1;if(!W.__orthogonalSashEvent){const ce=this.getOrthogonalSash(W);ce&&(he=!0,W.__orthogonalSashEvent=!0,ce.onPointerStart(W,new K(J)))}if(this.linkedSash&&!W.__linkedSashEvent&&(W.__linkedSashEvent=!0,this.linkedSash.onPointerStart(W,new K(J))),!this.state)return;const ye=(0,v.H$)("iframe");for(const ce of ye)ce.classList.add(N);const fe=W.pageX,Se=W.pageY,Ie=W.altKey,_e={startX:fe,currentX:fe,startY:Se,currentY:Se,altKey:Ie};this.el.classList.add("active"),this._onDidStart.fire(_e);const $=(0,v.dS)(this.el),X=()=>{let ce="";ce=he?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":Y.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":Y.dz?"col-resize":"ew-resize",$.textContent=`* { cursor: ${ce} !important; }`},pe=new j.SL;X(),he||this.onDidEnablementChange.event(X,null,pe),J.onPointerMove(ce=>{v.zB.stop(ce,!1),this._onDidChange.fire({startX:fe,currentX:ce.pageX,startY:Se,currentY:ce.pageY,altKey:Ie})},null,pe),J.onPointerUp(ce=>{v.zB.stop(ce,!1),this.el.removeChild($),this.el.classList.remove("active"),this._onDidEnd.fire(),pe.dispose();for(const ue of ye)ue.classList.remove(N)},null,pe),pe.add(J)}onPointerDoublePress(W){const J=this.getOrthogonalSash(W);J&&J._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(W,J=!1){W.el.classList.contains("active")?(W.hoverDelayer.cancel(),W.el.classList.add("hover")):W.hoverDelayer.trigger(()=>W.el.classList.add("hover"),W.hoverDelay).then(void 0,()=>{}),!J&&W.linkedSash&&M.onMouseEnter(W.linkedSash,!0)}static onMouseLeave(W,J=!1){W.hoverDelayer.cancel(),W.el.classList.remove("hover"),!J&&W.linkedSash&&M.onMouseLeave(W.linkedSash,!0)}clearSashHoverState(){M.onMouseLeave(this)}layout(){if(0===this.orientation){const W=this.layoutProvider;this.el.style.left=W.getVerticalSashLeft(this)-this.size/2+"px",W.getVerticalSashTop&&(this.el.style.top=W.getVerticalSashTop(this)+"px"),W.getVerticalSashHeight&&(this.el.style.height=W.getVerticalSashHeight(this)+"px")}else{const W=this.layoutProvider;this.el.style.top=W.getHorizontalSashTop(this)-this.size/2+"px",W.getHorizontalSashLeft&&(this.el.style.left=W.getHorizontalSashLeft(this)+"px"),W.getHorizontalSashWidth&&(this.el.style.width=W.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(W){if(W.target&&W.target instanceof HTMLElement&&W.target.classList.contains("orthogonal-drag-handle"))return W.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},8152:(vt,Ke,m)=>{m.d(Ke,{s$:()=>$,NB:()=>Ie,$Z:()=>_e});var v=m(3366),h=m(8059),Q=m(8554),k=m(8394),R=m(3449),se=m(3568),j=m(3072);class V extends se.${constructor(re){super(),this._onActivate=re.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=re.bgWidth+"px",this.bgDomNode.style.height=re.bgHeight+"px",void 0!==re.top&&(this.bgDomNode.style.top="0px"),void 0!==re.left&&(this.bgDomNode.style.left="0px"),void 0!==re.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==re.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=re.className,this.domNode.classList.add(...re.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==re.top&&(this.domNode.style.top=re.top+"px"),void 0!==re.left&&(this.domNode.style.left=re.left+"px"),void 0!==re.bottom&&(this.domNode.style.bottom=re.bottom+"px"),void 0!==re.right&&(this.domNode.style.right=re.right+"px"),this._mouseMoveMonitor=this._register(new R.Z),this.onmousedown(this.bgDomNode,ne=>this._arrowMouseDown(ne)),this.onmousedown(this.domNode,ne=>this._arrowMouseDown(ne)),this._mousedownRepeatTimer=this._register(new j.zh),this._mousedownScheduleRepeatTimer=this._register(new j._F)}_arrowMouseDown(re){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)},200),this._mouseMoveMonitor.startMonitoring(re.target,re.buttons,R.e,ce=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),re.preventDefault()}}var x=m(2425);class w extends x.JT{constructor(re,ne,ce){super(),this._visibility=re,this._visibleClassName=ne,this._invisibleClassName=ce,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new j._F)}setVisibility(re){this._visibility!==re&&(this._visibility=re,this._updateShouldBeVisible())}setShouldBeVisible(re){this._rawShouldBeVisible=re,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const re=this._applyVisibilitySetting();this._shouldBeVisible!==re&&(this._shouldBeVisible=re,this.ensureVisibility())}setIsNeeded(re){this._isNeeded!==re&&(this._isNeeded=re,this.ensureVisibility())}setDomNode(re){this._domNode=re,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(re){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(re?" fade":"")))}}var D=m(8972);class f extends se.${constructor(re){super(),this._lazyRender=re.lazyRender,this._host=re.host,this._scrollable=re.scrollable,this._scrollByPage=re.scrollByPage,this._scrollbarState=re.scrollbarState,this._visibilityController=this._register(new w(re.visibility,"visible scrollbar "+re.extraScrollbarClassName,"invisible scrollbar "+re.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new R.Z),this._shouldRender=!0,this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,ne=>this._domNodeMouseDown(ne))}_createArrow(re){const ne=this._register(new V(re));this.domNode.domNode.appendChild(ne.bgDomNode),this.domNode.domNode.appendChild(ne.domNode)}_createSlider(re,ne,ce,ue){this.slider=(0,Q.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(re),this.slider.setLeft(ne),"number"==typeof ce&&this.slider.setWidth(ce),"number"==typeof ue&&this.slider.setHeight(ue),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,we=>{we.leftButton&&(we.preventDefault(),this._sliderMouseDown(we,()=>{}))}),this.onclick(this.slider.domNode,we=>{we.leftButton&&we.stopPropagation()})}_onElementSize(re){return this._scrollbarState.setVisibleSize(re)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(re){return this._scrollbarState.setScrollSize(re)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(re){return this._scrollbarState.setScrollPosition(re)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(re){re.target===this.domNode.domNode&&this._onMouseDown(re)}delegateMouseDown(re){const ne=this.domNode.domNode.getClientRects()[0].top,ce=ne+this._scrollbarState.getSliderPosition(),ue=ne+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),we=this._sliderMousePosition(re);ce<=we&&we<=ue?re.leftButton&&(re.preventDefault(),this._sliderMouseDown(re,()=>{})):this._onMouseDown(re)}_onMouseDown(re){let ne,ce;if(re.target===this.domNode.domNode&&"number"==typeof re.browserEvent.offsetX&&"number"==typeof re.browserEvent.offsetY)ne=re.browserEvent.offsetX,ce=re.browserEvent.offsetY;else{const we=h.i(this.domNode.domNode);ne=re.posx-we.left,ce=re.posy-we.top}const ue=this._mouseDownRelativePosition(ne,ce);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ue):this._scrollbarState.getDesiredScrollPositionFromOffset(ue)),re.leftButton&&(re.preventDefault(),this._sliderMouseDown(re,()=>{}))}_sliderMouseDown(re,ne){const ce=this._sliderMousePosition(re),ue=this._sliderOrthogonalMousePosition(re),we=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(re.target,re.buttons,R.e,He=>{const lt=this._sliderOrthogonalMousePosition(He),ut=Math.abs(lt-ue);if(D.ED&&ut>140)return void this._setDesiredScrollPositionNow(we.getScrollPosition());const ct=this._sliderMousePosition(He)-ce;this._setDesiredScrollPositionNow(we.getDesiredScrollPositionFromDelta(ct))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),ne()}),this._host.onDragStart()}_setDesiredScrollPositionNow(re){const ne={};this.writeScrollPosition(ne,re),this._scrollable.setScrollPositionNow(ne)}updateScrollbarSize(re){this._updateScrollbarSize(re),this._scrollbarState.setScrollbarSize(re),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class z{constructor(re,ne,ce,ue,we,He){this._scrollbarSize=Math.round(ne),this._oppositeScrollbarSize=Math.round(ce),this._arrowSize=Math.round(re),this._visibleSize=ue,this._scrollSize=we,this._scrollPosition=He,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new z(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(re){const ne=Math.round(re);return this._visibleSize!==ne&&(this._visibleSize=ne,this._refreshComputedValues(),!0)}setScrollSize(re){const ne=Math.round(re);return this._scrollSize!==ne&&(this._scrollSize=ne,this._refreshComputedValues(),!0)}setScrollPosition(re){const ne=Math.round(re);return this._scrollPosition!==ne&&(this._scrollPosition=ne,this._refreshComputedValues(),!0)}setScrollbarSize(re){this._scrollbarSize=Math.round(re)}setOppositeScrollbarSize(re){this._oppositeScrollbarSize=Math.round(re)}static _computeValues(re,ne,ce,ue,we){const He=Math.max(0,ce-re),lt=Math.max(0,He-2*ne),ut=ue>0&&ue>ce;if(!ut)return{computedAvailableSize:Math.round(He),computedIsNeeded:ut,computedSliderSize:Math.round(lt),computedSliderRatio:0,computedSliderPosition:0};const Ve=Math.round(Math.max(20,Math.floor(ce*lt/ue))),ct=(lt-Ve)/(ue-ce),Nt=we*ct;return{computedAvailableSize:Math.round(He),computedIsNeeded:ut,computedSliderSize:Math.round(Ve),computedSliderRatio:ct,computedSliderPosition:Math.round(Nt)}}_refreshComputedValues(){const re=z._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=re.computedAvailableSize,this._computedIsNeeded=re.computedIsNeeded,this._computedSliderSize=re.computedSliderSize,this._computedSliderRatio=re.computedSliderRatio,this._computedSliderPosition=re.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(re){return this._computedIsNeeded?Math.round((re-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(re){if(!this._computedIsNeeded)return 0;let ce=this._scrollPosition;return re-this._arrowSize<this._computedSliderPosition?ce-=this._visibleSize:ce+=this._visibleSize,ce}getDesiredScrollPositionFromDelta(re){return this._computedIsNeeded?Math.round((this._computedSliderPosition+re)/this._computedSliderRatio):0}}var I=m(2450);class H extends f{constructor(re,ne,ce){const ue=re.getScrollDimensions(),we=re.getCurrentScrollPosition();if(super({lazyRender:ne.lazyRender,host:ce,scrollbarState:new z(ne.horizontalHasArrows?ne.arrowSize:0,2===ne.horizontal?0:ne.horizontalScrollbarSize,2===ne.vertical?0:ne.verticalScrollbarSize,ue.width,ue.scrollWidth,we.scrollLeft),visibility:ne.horizontal,extraScrollbarClassName:"horizontal",scrollable:re,scrollByPage:ne.scrollByPage}),ne.horizontalHasArrows){const He=(ne.arrowSize-11)/2,lt=(ne.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:I.lA.scrollbarButtonLeft,top:lt,left:He,bottom:void 0,right:void 0,bgWidth:ne.arrowSize,bgHeight:ne.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,1,0))}),this._createArrow({className:"scra",icon:I.lA.scrollbarButtonRight,top:lt,left:void 0,bottom:void 0,right:He,bgWidth:ne.arrowSize,bgHeight:ne.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,-1,0))})}this._createSlider(Math.floor((ne.horizontalScrollbarSize-ne.horizontalSliderSize)/2),0,void 0,ne.horizontalSliderSize)}_updateSlider(re,ne){this.slider.setWidth(re),this.slider.setLeft(ne)}_renderDomNode(re,ne){this.domNode.setWidth(re),this.domNode.setHeight(ne),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(re){return this._shouldRender=this._onElementScrollSize(re.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(re.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(re.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(re,ne){return re}_sliderMousePosition(re){return re.posx}_sliderOrthogonalMousePosition(re){return re.posy}_updateScrollbarSize(re){this.slider.setHeight(re)}writeScrollPosition(re,ne){re.scrollLeft=ne}updateOptions(re){this.updateScrollbarSize(2===re.horizontal?0:re.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===re.vertical?0:re.verticalScrollbarSize),this._visibilityController.setVisibility(re.horizontal),this._scrollByPage=re.scrollByPage}}class K extends f{constructor(re,ne,ce){const ue=re.getScrollDimensions(),we=re.getCurrentScrollPosition();if(super({lazyRender:ne.lazyRender,host:ce,scrollbarState:new z(ne.verticalHasArrows?ne.arrowSize:0,2===ne.vertical?0:ne.verticalScrollbarSize,0,ue.height,ue.scrollHeight,we.scrollTop),visibility:ne.vertical,extraScrollbarClassName:"vertical",scrollable:re,scrollByPage:ne.scrollByPage}),ne.verticalHasArrows){const He=(ne.arrowSize-11)/2,lt=(ne.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:I.lA.scrollbarButtonUp,top:He,left:lt,bottom:void 0,right:void 0,bgWidth:ne.verticalScrollbarSize,bgHeight:ne.arrowSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,0,1))}),this._createArrow({className:"scra",icon:I.lA.scrollbarButtonDown,top:void 0,left:lt,bottom:He,right:void 0,bgWidth:ne.verticalScrollbarSize,bgHeight:ne.arrowSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,0,-1))})}this._createSlider(0,Math.floor((ne.verticalScrollbarSize-ne.verticalSliderSize)/2),ne.verticalSliderSize,void 0)}_updateSlider(re,ne){this.slider.setHeight(re),this.slider.setTop(ne)}_renderDomNode(re,ne){this.domNode.setWidth(ne),this.domNode.setHeight(re),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(re){return this._shouldRender=this._onElementScrollSize(re.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(re.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(re.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(re,ne){return ne}_sliderMousePosition(re){return re.posy}_sliderOrthogonalMousePosition(re){return re.posx}_updateScrollbarSize(re){this.slider.setWidth(re)}writeScrollPosition(re,ne){re.scrollTop=ne}updateOptions(re){this.updateScrollbarSize(2===re.vertical?0:re.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(re.vertical),this._scrollByPage=re.scrollByPage}}var N=m(2787),M=m(2816);m(5352);class ye{constructor(re,ne,ce){this.timestamp=re,this.deltaX=ne,this.deltaY=ce,this.score=0}}class fe{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let re=1,ne=0,ce=1,ue=this._rear;for(;;){const we=ue===this._front?re:Math.pow(2,-ce);if(re-=we,ne+=this._memory[ue].score*we,ue===this._front)break;ue=(this._capacity+ue-1)%this._capacity,ce++}return ne<=.5}accept(re,ne,ce){const ue=new ye(re,ne,ce);ue.score=this._computeScore(ue),-1===this._front&&-1===this._rear?(this._memory[0]=ue,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ue)}_computeScore(re){if(Math.abs(re.deltaX)>0&&Math.abs(re.deltaY)>0)return 1;let ne=.5;return(!this._isAlmostInt(re.deltaX)||!this._isAlmostInt(re.deltaY))&&(ne+=.25),Math.min(Math.max(ne,0),1)}_isAlmostInt(re){return Math.abs(Math.round(re)-re)<.01}}fe.INSTANCE=new fe;class Se extends se.${constructor(re,ne,ce){super(),this._onScroll=this._register(new N.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new N.Q5),re.style.overflow="hidden",this._options=function X(pe){const re={lazyRender:void 0!==pe.lazyRender&&pe.lazyRender,className:void 0!==pe.className?pe.className:"",useShadows:void 0===pe.useShadows||pe.useShadows,handleMouseWheel:void 0===pe.handleMouseWheel||pe.handleMouseWheel,flipAxes:void 0!==pe.flipAxes&&pe.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==pe.consumeMouseWheelIfScrollbarIsNeeded&&pe.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==pe.alwaysConsumeMouseWheel&&pe.alwaysConsumeMouseWheel,scrollYToX:void 0!==pe.scrollYToX&&pe.scrollYToX,mouseWheelScrollSensitivity:void 0!==pe.mouseWheelScrollSensitivity?pe.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==pe.fastScrollSensitivity?pe.fastScrollSensitivity:5,scrollPredominantAxis:void 0===pe.scrollPredominantAxis||pe.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===pe.mouseWheelSmoothScroll||pe.mouseWheelSmoothScroll,arrowSize:void 0!==pe.arrowSize?pe.arrowSize:11,listenOnDomNode:void 0!==pe.listenOnDomNode?pe.listenOnDomNode:null,horizontal:void 0!==pe.horizontal?pe.horizontal:1,horizontalScrollbarSize:void 0!==pe.horizontalScrollbarSize?pe.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==pe.horizontalSliderSize?pe.horizontalSliderSize:0,horizontalHasArrows:void 0!==pe.horizontalHasArrows&&pe.horizontalHasArrows,vertical:void 0!==pe.vertical?pe.vertical:1,verticalScrollbarSize:void 0!==pe.verticalScrollbarSize?pe.verticalScrollbarSize:10,verticalHasArrows:void 0!==pe.verticalHasArrows&&pe.verticalHasArrows,verticalSliderSize:void 0!==pe.verticalSliderSize?pe.verticalSliderSize:0,scrollByPage:void 0!==pe.scrollByPage&&pe.scrollByPage};return re.horizontalSliderSize=void 0!==pe.horizontalSliderSize?pe.horizontalSliderSize:re.horizontalScrollbarSize,re.verticalSliderSize=void 0!==pe.verticalSliderSize?pe.verticalSliderSize:re.verticalScrollbarSize,D.dz&&(re.className+=" mac"),re}(ne),this._scrollable=ce,this._register(this._scrollable.onScroll(we=>{this._onWillScroll.fire(we),this._onDidScroll(we),this._onScroll.fire(we)}));const ue={onMouseWheel:we=>this._onMouseWheel(we),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new K(this._scrollable,this._options,ue)),this._horizontalScrollbar=this._register(new H(this._scrollable,this._options,ue)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(re),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Q.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Q.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Q.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,we=>this._onMouseOver(we)),this.onnonbubblingmouseout(this._listenOnDomNode,we=>this._onMouseOut(we)),this._hideTimeout=this._register(new j._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,x.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(re){this._verticalScrollbar.delegateMouseDown(re)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(re){this._scrollable.setScrollDimensions(re,!1)}updateClassName(re){this._options.className=re,D.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(re){void 0!==re.handleMouseWheel&&(this._options.handleMouseWheel=re.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==re.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=re.mouseWheelScrollSensitivity),void 0!==re.fastScrollSensitivity&&(this._options.fastScrollSensitivity=re.fastScrollSensitivity),void 0!==re.scrollPredominantAxis&&(this._options.scrollPredominantAxis=re.scrollPredominantAxis),void 0!==re.horizontal&&(this._options.horizontal=re.horizontal),void 0!==re.vertical&&(this._options.vertical=re.vertical),void 0!==re.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=re.horizontalScrollbarSize),void 0!==re.verticalScrollbarSize&&(this._options.verticalScrollbarSize=re.verticalScrollbarSize),void 0!==re.scrollByPage&&(this._options.scrollByPage=re.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(re){this._mouseWheelToDispose.length>0!==re&&(this._mouseWheelToDispose=(0,x.B9)(this._mouseWheelToDispose),re)&&this._mouseWheelToDispose.push(h.nm(this._listenOnDomNode,h.tw.MOUSE_WHEEL,ue=>{this._onMouseWheel(new k.q(ue))},{passive:!1}))}_onMouseWheel(re){const ne=fe.INSTANCE;{const we=window.devicePixelRatio/(0,v.getZoomFactor)();D.ED||D.IJ?ne.accept(Date.now(),re.deltaX/we,re.deltaY/we):ne.accept(Date.now(),re.deltaX,re.deltaY)}let ce=!1;if(re.deltaY||re.deltaX){let we=re.deltaY*this._options.mouseWheelScrollSensitivity,He=re.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(we)>=Math.abs(He)?He=0:we=0),this._options.flipAxes&&([we,He]=[He,we]);const lt=!D.dz&&re.browserEvent&&re.browserEvent.shiftKey;(this._options.scrollYToX||lt)&&!He&&(He=we,we=0),re.browserEvent&&re.browserEvent.altKey&&(He*=this._options.fastScrollSensitivity,we*=this._options.fastScrollSensitivity);const ut=this._scrollable.getFutureScrollPosition();let Ve={};if(we){const ct=50*we,Nt=ut.scrollTop-(ct<0?Math.floor(ct):Math.ceil(ct));this._verticalScrollbar.writeScrollPosition(Ve,Nt)}if(He){const ct=50*He,Nt=ut.scrollLeft-(ct<0?Math.floor(ct):Math.ceil(ct));this._horizontalScrollbar.writeScrollPosition(Ve,Nt)}Ve=this._scrollable.validateScrollPosition(Ve),(ut.scrollLeft!==Ve.scrollLeft||ut.scrollTop!==Ve.scrollTop)&&(this._options.mouseWheelSmoothScroll&&ne.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Ve):this._scrollable.setScrollPositionNow(Ve),ce=!0)}let ue=ce;!ue&&this._options.alwaysConsumeMouseWheel&&(ue=!0),!ue&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ue=!0),ue&&(re.preventDefault(),re.stopPropagation())}_onDidScroll(re){this._shouldRender=this._horizontalScrollbar.onDidScroll(re)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(re)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const re=this._scrollable.getCurrentScrollPosition(),ne=re.scrollTop>0,ce=re.scrollLeft>0,ue=ce?" left":"",we=ne?" top":"",He=ce||ne?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ue}`),this._topShadowDomNode.setClassName(`shadow${we}`),this._topLeftShadowDomNode.setClassName(`shadow${He}${we}${ue}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(re){this._mouseIsOver=!1,this._hide()}_onMouseOver(re){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class Ie extends Se{constructor(re,ne){(ne=ne||{}).mouseWheelSmoothScroll=!1;const ce=new M.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ue=>h.jL(ue)});super(re,ne,ce),this._register(ce)}setScrollPosition(re){this._scrollable.setScrollPositionNow(re)}}class _e extends Se{constructor(re,ne,ce){super(re,ne,ce)}setScrollPosition(re){re.reuseAnimation?this._scrollable.setScrollPositionSmooth(re,re.reuseAnimation):this._scrollable.setScrollPositionNow(re)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class $ extends Se{constructor(re,ne){(ne=ne||{}).mouseWheelSmoothScroll=!1;const ce=new M.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ue=>h.jL(ue)});super(re,ne,ce),this._register(ce),this._element=re,this.onScroll(ue=>{ue.scrollTopChanged&&(this._element.scrollTop=ue.scrollTop),ue.scrollLeftChanged&&(this._element.scrollLeft=ue.scrollLeft)}),this.scanDomNode()}setScrollPosition(re){this._scrollable.setScrollPositionNow(re)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},318:(vt,Ke,m)=>{m.d(Ke,{M:()=>I,z:()=>H});var v=m(8059),h=m(7687),Q=m(8152),k=m(8337),R=m(8927),se=m(2787),j=m(2425),Y=m(8829),V=m(2816),x=m(4435);m(2013);const D={separatorBorder:R.Il.transparent};class F{constructor(N,M,P,W){this.container=N,this.view=M,this.disposable=W,this._cachedVisibleSize=void 0,"number"==typeof P?(this._size=P,this._cachedVisibleSize=void 0,N.classList.add("visible")):(this._size=0,this._cachedVisibleSize=P.cachedVisibleSize)}set size(N){this._size=N}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(N,M){N!==this.visible&&(N?(this.size=(0,Y.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof M?M:this.size,this.size=0),this.container.classList.toggle("visible",N),this.view.setVisible&&this.view.setVisible(N))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(N){this.container.style.pointerEvents=N?"":"none"}layout(N,M){this.layoutContainer(N),this.view.layout(this.size,N,M)}dispose(){return this.disposable.dispose(),this.view}}class f extends F{layoutContainer(N){this.container.style.top=`${N}px`,this.container.style.height=`${this.size}px`}}class T extends F{layoutContainer(N){this.container.style.left=`${N}px`,this.container.style.width=`${this.size}px`}}var I,K,z=(()=>{return(K=z||(z={}))[K.Idle=0]="Idle",K[K.Busy=1]="Busy",z;var K})();(K=I||(I={})).Distribute={type:"distribute"},K.Split=function N(P){return{type:"split",index:P}},K.Invisible=function M(P){return{type:"invisible",cachedVisibleSize:P}};class H extends j.JT{constructor(N,M={}){var P,W,J,he,ye;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=z.Idle,this._onDidSashChange=this._register(new se.Q5),this._onDidSashReset=this._register(new se.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(P=M.orientation)&&void 0!==P?P:0,this.inverseAltBehavior=null!==(W=M.inverseAltBehavior)&&void 0!==W&&W,this.proportionalLayout=null===(J=M.proportionalLayout)||void 0===J||J,this.getSashOrthogonalSize=M.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),N.appendChild(this.el),this.sashContainer=(0,v.R3)(this.el,(0,v.$)(".sash-container")),this.viewContainer=(0,v.$)(".split-view-container"),this.scrollable=new V.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:v.jL}),this.scrollableElement=this._register(new Q.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(he=M.scrollbarVisibility)&&void 0!==he?he:1:2,horizontal:1===this.orientation?null!==(ye=M.scrollbarVisibility)&&void 0!==ye?ye:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(fe=>{this.viewContainer.scrollTop=fe.scrollTop,this.viewContainer.scrollLeft=fe.scrollLeft})),(0,v.R3)(this.el,this.scrollableElement.getDomNode()),this.style(M.styles||D),M.descriptor&&(this.size=M.descriptor.size,M.descriptor.views.forEach((fe,Se)=>{const Ie=x.o8(fe.visible)||fe.visible?fe.size:{type:"invisible",cachedVisibleSize:fe.size};this.doAddView(fe.view,Ie,Se,!0)}),this.contentSize=this.viewItems.reduce((fe,Se)=>fe+Se.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(N){for(const M of this.sashItems)M.sash.orthogonalStartSash=N;this._orthogonalStartSash=N}set orthogonalEndSash(N){for(const M of this.sashItems)M.sash.orthogonalEndSash=N;this._orthogonalEndSash=N}set startSnappingEnabled(N){this._startSnappingEnabled!==N&&(this._startSnappingEnabled=N,this.updateSashEnablement())}set endSnappingEnabled(N){this._endSnappingEnabled!==N&&(this._endSnappingEnabled=N,this.updateSashEnablement())}style(N){N.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",N.separatorBorder.toString()))}addView(N,M,P=this.viewItems.length,W){this.doAddView(N,M,P,W)}layout(N,M){const P=Math.max(this.size,this.contentSize);if(this.size=N,this.layoutContext=M,this.proportions)for(let W=0;W<this.viewItems.length;W++){const J=this.viewItems[W];J.size=(0,Y.uZ)(Math.round(this.proportions[W]*N),J.minimumSize,J.maximumSize)}else{const W=(0,k.w6)(this.viewItems.length),J=W.filter(ye=>1===this.viewItems[ye].priority),he=W.filter(ye=>2===this.viewItems[ye].priority);this.resize(this.viewItems.length-1,N-P,void 0,J,he)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(N=>N.size/this.contentSize))}onSashStart({sash:N,start:M,alt:P}){for(const ye of this.viewItems)ye.enabled=!1;const W=this.sashItems.findIndex(ye=>ye.sash===N),J=(0,j.F8)((0,v.nm)(document.body,"keydown",ye=>he(this.sashDragState.current,ye.altKey)),(0,v.nm)(document.body,"keyup",()=>he(this.sashDragState.current,!1))),he=(ye,fe)=>{const Se=this.viewItems.map(pe=>pe.size);let $,X,Ie=Number.NEGATIVE_INFINITY,_e=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(fe=!fe),fe)if(W===this.sashItems.length-1){const re=this.viewItems[W];Ie=(re.minimumSize-re.size)/2,_e=(re.maximumSize-re.size)/2}else{const re=this.viewItems[W+1];Ie=(re.size-re.maximumSize)/2,_e=(re.size-re.minimumSize)/2}if(!fe){const pe=(0,k.w6)(W,-1),re=(0,k.w6)(W+1,this.viewItems.length),ne=pe.reduce((ct,Nt)=>ct+(this.viewItems[Nt].minimumSize-Se[Nt]),0),ce=pe.reduce((ct,Nt)=>ct+(this.viewItems[Nt].viewMaximumSize-Se[Nt]),0),ue=0===re.length?Number.POSITIVE_INFINITY:re.reduce((ct,Nt)=>ct+(Se[Nt]-this.viewItems[Nt].minimumSize),0),we=0===re.length?Number.NEGATIVE_INFINITY:re.reduce((ct,Nt)=>ct+(Se[Nt]-this.viewItems[Nt].viewMaximumSize),0),He=Math.max(ne,we),lt=Math.min(ue,ce),ut=this.findFirstSnapIndex(pe),Ve=this.findFirstSnapIndex(re);if("number"==typeof ut){const ct=this.viewItems[ut],Nt=Math.floor(ct.viewMinimumSize/2);$={index:ut,limitDelta:ct.visible?He-Nt:He+Nt,size:ct.size}}if("number"==typeof Ve){const ct=this.viewItems[Ve],Nt=Math.floor(ct.viewMinimumSize/2);X={index:Ve,limitDelta:ct.visible?lt+Nt:lt-Nt,size:ct.size}}}this.sashDragState={start:ye,current:ye,index:W,sizes:Se,minDelta:Ie,maxDelta:_e,alt:fe,snapBefore:$,snapAfter:X,disposable:J}};he(M,P)}onSashChange({current:N}){const{index:M,start:P,sizes:W,alt:J,minDelta:he,maxDelta:ye,snapBefore:fe,snapAfter:Se}=this.sashDragState;this.sashDragState.current=N;const _e=this.resize(M,N-P,W,void 0,void 0,he,ye,fe,Se);if(J){const $=M===this.sashItems.length-1,X=this.viewItems.map(we=>we.size),re=this.viewItems[$?M:M+1];this.resize($?M-1:M+1,-_e,X,void 0,void 0,re.size-re.maximumSize,re.size-re.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(N){this._onDidSashChange.fire(N),this.sashDragState.disposable.dispose(),this.saveProportions();for(const M of this.viewItems)M.enabled=!0}onViewChange(N,M){const P=this.viewItems.indexOf(N);P<0||P>=this.viewItems.length||(M=(0,Y.uZ)(M="number"==typeof M?M:N.size,N.minimumSize,N.maximumSize),this.inverseAltBehavior&&P>0?(this.resize(P-1,Math.floor((N.size-M)/2)),this.distributeEmptySpace(),this.layoutViews()):(N.size=M,this.relayout([P],void 0)))}resizeView(N,M){if(this.state!==z.Idle)throw new Error("Cant modify splitview");if(this.state=z.Busy,N<0||N>=this.viewItems.length)return;const P=(0,k.w6)(this.viewItems.length).filter(ye=>ye!==N),W=[...P.filter(ye=>1===this.viewItems[ye].priority),N],J=P.filter(ye=>2===this.viewItems[ye].priority),he=this.viewItems[N];M=Math.round(M),M=(0,Y.uZ)(M,he.minimumSize,Math.min(he.maximumSize,this.size)),he.size=M,this.relayout(W,J),this.state=z.Idle}distributeViewSizes(){const N=[];let M=0;for(const ye of this.viewItems)ye.maximumSize-ye.minimumSize>0&&(N.push(ye),M+=ye.size);const P=Math.floor(M/N.length);for(const ye of N)ye.size=(0,Y.uZ)(P,ye.minimumSize,ye.maximumSize);const W=(0,k.w6)(this.viewItems.length),J=W.filter(ye=>1===this.viewItems[ye].priority),he=W.filter(ye=>2===this.viewItems[ye].priority);this.relayout(J,he)}getViewSize(N){return N<0||N>=this.viewItems.length?-1:this.viewItems[N].size}doAddView(N,M,P=this.viewItems.length,W){if(this.state!==z.Idle)throw new Error("Cant modify splitview");this.state=z.Busy;const J=(0,v.$)(".split-view-view");P===this.viewItems.length?this.viewContainer.appendChild(J):this.viewContainer.insertBefore(J,this.viewContainer.children.item(P));const he=N.onDidChange($=>this.onViewChange(Ie,$)),ye=(0,j.OF)(()=>this.viewContainer.removeChild(J)),fe=(0,j.F8)(he,ye);let Se;Se="number"==typeof M?M:"split"===M.type?this.getViewSize(M.index)/2:"invisible"===M.type?{cachedVisibleSize:M.cachedVisibleSize}:N.minimumSize;const Ie=0===this.orientation?new f(J,N,Se,fe):new T(J,N,Se,fe);if(this.viewItems.splice(P,0,Ie),this.viewItems.length>1){let $={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const X=0===this.orientation?new h.g(this.sashContainer,{getHorizontalSashTop:ct=>this.getSashPosition(ct),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},$),{orientation:1})):new h.g(this.sashContainer,{getVerticalSashLeft:ct=>this.getSashPosition(ct),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},$),{orientation:0})),pe=0===this.orientation?ct=>({sash:X,start:ct.startY,current:ct.currentY,alt:ct.altKey}):ct=>({sash:X,start:ct.startX,current:ct.currentX,alt:ct.altKey}),ne=se.ju.map(X.onDidStart,pe)(this.onSashStart,this),ue=se.ju.map(X.onDidChange,pe)(this.onSashChange,this),He=se.ju.map(X.onDidEnd,()=>this.sashItems.findIndex(ct=>ct.sash===X))(this.onSashEnd,this),lt=X.onDidReset(()=>{const ct=this.sashItems.findIndex(en=>en.sash===X),Nt=(0,k.w6)(ct,-1),un=(0,k.w6)(ct+1,this.viewItems.length),Jt=this.findFirstSnapIndex(Nt),St=this.findFirstSnapIndex(un);"number"==typeof Jt&&!this.viewItems[Jt].visible||"number"==typeof St&&!this.viewItems[St].visible||this._onDidSashReset.fire(ct)}),ut=(0,j.F8)(ne,ue,He,lt,X);this.sashItems.splice(P-1,0,{sash:X,disposable:ut})}let _e;J.appendChild(N.element),"number"!=typeof M&&"split"===M.type&&(_e=[M.index]),W||this.relayout([P],_e),this.state=z.Idle,!W&&"number"!=typeof M&&"distribute"===M.type&&this.distributeViewSizes()}relayout(N,M){const P=this.viewItems.reduce((W,J)=>W+J.size,0);this.resize(this.viewItems.length-1,this.size-P,void 0,N,M),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(N,M,P=this.viewItems.map(Ie=>Ie.size),W,J,he=Number.NEGATIVE_INFINITY,ye=Number.POSITIVE_INFINITY,fe,Se){if(N<0||N>=this.viewItems.length)return 0;const Ie=(0,k.w6)(N,-1),_e=(0,k.w6)(N+1,this.viewItems.length);if(J)for(const Ve of J)(0,k.zI)(Ie,Ve),(0,k.zI)(_e,Ve);if(W)for(const Ve of W)(0,k.al)(Ie,Ve),(0,k.al)(_e,Ve);const $=Ie.map(Ve=>this.viewItems[Ve]),X=Ie.map(Ve=>P[Ve]),pe=_e.map(Ve=>this.viewItems[Ve]),re=_e.map(Ve=>P[Ve]),ne=Ie.reduce((Ve,ct)=>Ve+(this.viewItems[ct].minimumSize-P[ct]),0),ce=Ie.reduce((Ve,ct)=>Ve+(this.viewItems[ct].maximumSize-P[ct]),0),ue=0===_e.length?Number.POSITIVE_INFINITY:_e.reduce((Ve,ct)=>Ve+(P[ct]-this.viewItems[ct].minimumSize),0),we=0===_e.length?Number.NEGATIVE_INFINITY:_e.reduce((Ve,ct)=>Ve+(P[ct]-this.viewItems[ct].maximumSize),0),He=Math.max(ne,we,he),lt=Math.min(ue,ce,ye);let ut=!1;if(fe){const Ve=this.viewItems[fe.index],ct=M>=fe.limitDelta;ut=ct!==Ve.visible,Ve.setVisible(ct,fe.size)}if(!ut&&Se){const Ve=this.viewItems[Se.index],ct=M<Se.limitDelta;ut=ct!==Ve.visible,Ve.setVisible(ct,Se.size)}if(ut)return this.resize(N,M,P,W,J,he,ye);for(let Ve=0,ct=M=(0,Y.uZ)(M,He,lt);Ve<$.length;Ve++){const Nt=$[Ve],un=(0,Y.uZ)(X[Ve]+ct,Nt.minimumSize,Nt.maximumSize);ct-=un-X[Ve],Nt.size=un}for(let Ve=0,ct=M;Ve<pe.length;Ve++){const Nt=pe[Ve],un=(0,Y.uZ)(re[Ve]-ct,Nt.minimumSize,Nt.maximumSize);ct+=un-re[Ve],Nt.size=un}return M}distributeEmptySpace(N){const M=this.viewItems.reduce((ye,fe)=>ye+fe.size,0);let P=this.size-M;const W=(0,k.w6)(this.viewItems.length-1,-1),J=W.filter(ye=>1===this.viewItems[ye].priority),he=W.filter(ye=>2===this.viewItems[ye].priority);for(const ye of he)(0,k.zI)(W,ye);for(const ye of J)(0,k.al)(W,ye);"number"==typeof N&&(0,k.al)(W,N);for(let ye=0;0!==P&&ye<W.length;ye++){const fe=this.viewItems[W[ye]],Se=(0,Y.uZ)(fe.size+P,fe.minimumSize,fe.maximumSize);P-=Se-fe.size,fe.size=Se}}layoutViews(){this.contentSize=this.viewItems.reduce((M,P)=>M+P.size,0);let N=0;for(const M of this.viewItems)M.layout(N,this.layoutContext),N+=M.size;this.sashItems.forEach(M=>M.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let N=!1;const M=this.viewItems.map(fe=>N=fe.size-fe.minimumSize>0||N);N=!1;const P=this.viewItems.map(fe=>N=fe.maximumSize-fe.size>0||N),W=[...this.viewItems].reverse();N=!1;const J=W.map(fe=>N=fe.size-fe.minimumSize>0||N).reverse();N=!1;const he=W.map(fe=>N=fe.maximumSize-fe.size>0||N).reverse();let ye=0;for(let fe=0;fe<this.sashItems.length;fe++){const{sash:Se}=this.sashItems[fe];ye+=this.viewItems[fe].size;const _e=!(M[fe]&&he[fe+1]),$=!(P[fe]&&J[fe+1]);if(_e&&$){const X=(0,k.w6)(fe,-1),pe=(0,k.w6)(fe+1,this.viewItems.length),re=this.findFirstSnapIndex(X),ne=this.findFirstSnapIndex(pe),ue="number"==typeof ne&&!this.viewItems[ne].visible;Se.state="number"==typeof re&&!this.viewItems[re].visible&&J[fe]&&(ye>0||this.startSnappingEnabled)?1:ue&&M[fe]&&(ye<this.contentSize||this.endSnappingEnabled)?2:0}else Se.state=_e&&!$?1:!_e&&$?2:3}}getSashPosition(N){let M=0;for(let P=0;P<this.sashItems.length;P++)if(M+=this.viewItems[P].size,this.sashItems[P].sash===N)return M;return 0}findFirstSnapIndex(N){for(const M of N){const P=this.viewItems[M];if(P.visible&&P.snap)return M}for(const M of N){const P=this.viewItems[M];if(P.visible&&P.maximumSize-P.minimumSize>0)return;if(!P.visible&&P.snap)return M}}dispose(){super.dispose(),this.viewItems.forEach(N=>N.dispose()),this.viewItems=[],this.sashItems.forEach(N=>N.disposable.dispose()),this.sashItems=[]}}},3568:(vt,Ke,m)=>{m.d(Ke,{$:()=>se});var v=m(8059),h=m(4616),Q=m(8394),k=m(9680),R=m(2425);class se extends R.JT{onclick(Y,V){this._register(v.nm(Y,v.tw.CLICK,x=>V(new Q.n(x))))}onmousedown(Y,V){this._register(v.nm(Y,v.tw.MOUSE_DOWN,x=>V(new Q.n(x))))}onmouseover(Y,V){this._register(v.nm(Y,v.tw.MOUSE_OVER,x=>V(new Q.n(x))))}onnonbubblingmouseout(Y,V){this._register(v.j_(Y,x=>V(new Q.n(x))))}onkeydown(Y,V){this._register(v.nm(Y,v.tw.KEY_DOWN,x=>V(new h.y(x))))}onkeyup(Y,V){this._register(v.nm(Y,v.tw.KEY_UP,x=>V(new h.y(x))))}oninput(Y,V){this._register(v.nm(Y,v.tw.INPUT,V))}onblur(Y,V){this._register(v.nm(Y,v.tw.BLUR,V))}onfocus(Y,V){this._register(v.nm(Y,v.tw.FOCUS,V))}ignoreGesture(Y){k.o.ignoreTarget(Y)}}},5113:(vt,Ke,m)=>{m.d(Ke,{aU:()=>R,Wi:()=>se,Z0:()=>j,wY:()=>Y,eZ:()=>V});var v=m(2787),h=m(2425),Q=m(402),k=function(x,w,D,F){return new(D||(D=Promise))(function(T,z){function I(N){try{K(F.next(N))}catch(M){z(M)}}function H(N){try{K(F.throw(N))}catch(M){z(M)}}function K(N){N.done?T(N.value):function f(T){return T instanceof D?T:new D(function(z){z(T)})}(N.value).then(I,H)}K((F=F.apply(x,w||[])).next())})};class R extends h.JT{constructor(w,D="",F="",f=!0,T){super(),this._onDidChange=this._register(new v.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=w,this._label=D,this._cssClass=F,this._enabled=f,this._actionCallback=T}get id(){return this._id}get label(){return this._label}set label(w){this._setLabel(w)}_setLabel(w){this._label!==w&&(this._label=w,this._onDidChange.fire({label:w}))}get tooltip(){return this._tooltip||""}set tooltip(w){this._setTooltip(w)}_setTooltip(w){this._tooltip!==w&&(this._tooltip=w,this._onDidChange.fire({tooltip:w}))}get class(){return this._cssClass}set class(w){this._setClass(w)}_setClass(w){this._cssClass!==w&&(this._cssClass=w,this._onDidChange.fire({class:w}))}get enabled(){return this._enabled}set enabled(w){this._setEnabled(w)}_setEnabled(w){this._enabled!==w&&(this._enabled=w,this._onDidChange.fire({enabled:w}))}get checked(){return this._checked}set checked(w){this._setChecked(w)}_setChecked(w){this._checked!==w&&(this._checked=w,this._onDidChange.fire({checked:w}))}run(w,D){return k(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(w))})}}class se extends h.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new v.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new v.Q5),this.onDidRun=this._onDidRun.event}run(w,D){return k(this,void 0,void 0,function*(){if(!w.enabled)return;let F;this._onBeforeRun.fire({action:w});try{yield this.runAction(w,D)}catch(f){F=f}this._onDidRun.fire({action:w,error:F})})}runAction(w,D){return k(this,void 0,void 0,function*(){yield w.run(D)})}}let j=(()=>{class x extends R{constructor(D){super(x.ID,D,D?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return x.ID="vs.actions.separator",x})();class Y{constructor(w,D,F,f){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=w,this.label=D,this.class=f,this._actions=F}get actions(){return this._actions}dispose(){}run(){return k(this,void 0,void 0,function*(){})}}let V=(()=>{class x extends R{constructor(){super(x.ID,Q.N("submenu.empty","(empty)"),void 0,!1)}}return x.ID="vs.actions.empty",x})()},8337:(vt,Ke,m)=>{function v(_e,$=0){return _e[_e.length-(1+$)]}function h(_e){if(0===_e.length)throw new Error("Invalid tail call");return[_e.slice(0,_e.length-1),_e[_e.length-1]]}function Q(_e,$,X=((pe,re)=>pe===re)){if(_e===$)return!0;if(!_e||!$||_e.length!==$.length)return!1;for(let pe=0,re=_e.length;pe<re;pe++)if(!X(_e[pe],$[pe]))return!1;return!0}function k(_e,$,X){let pe=0,re=_e.length-1;for(;pe<=re;){const ne=(pe+re)/2|0,ce=X(_e[ne],$);if(ce<0)pe=ne+1;else{if(!(ce>0))return ne;re=ne-1}}return-(pe+1)}function R(_e,$){let X=0,pe=_e.length;if(0===pe)return 0;for(;X<pe;){const re=Math.floor((X+pe)/2);$(_e[re])?pe=re:X=re+1}return X}function se(_e,$,X){if((_e|=0)>=$.length)throw new TypeError("invalid index");let pe=$[Math.floor($.length*Math.random())],re=[],ne=[],ce=[];for(let ue of $){const we=X(ue,pe);we<0?re.push(ue):we>0?ne.push(ue):ce.push(ue)}return _e<re.length?se(_e,re,X):_e<re.length+ce.length?ce[0]:se(_e-(re.length+ce.length),ne,X)}function j(_e,$){const X=[];let pe;for(const re of _e.slice(0).sort($))pe&&0===$(pe[0],re)?pe.push(re):(pe=[re],X.push(pe));return X}function Y(_e){return _e.filter($=>!!$)}function V(_e){return!Array.isArray(_e)||0===_e.length}function x(_e){return Array.isArray(_e)&&_e.length>0}function w(_e,$=(X=>X)){const X=new Set;return _e.filter(pe=>{const re=$(pe);return!X.has(re)&&(X.add(re),!0)})}function D(_e,$){const X=function F(_e,$){for(let X=_e.length-1;X>=0;X--)if($(_e[X]))return X;return-1}(_e,$);if(-1!==X)return _e[X]}function f(_e,$){return _e.length>0?_e[0]:$}function T(_e){return[].concat(..._e)}function z(_e,$){let X="number"==typeof $?_e:0;"number"==typeof $?X=_e:(X=0,$=_e);const pe=[];if(X<=$)for(let re=X;re<$;re++)pe.push(re);else for(let re=X;re>$;re--)pe.push(re);return pe}function I(_e,$,X){const pe=_e.slice(0,$),re=_e.slice($);return pe.concat(X,re)}function H(_e,$){const X=_e.indexOf($);X>-1&&(_e.splice(X,1),_e.unshift($))}function K(_e,$){const X=_e.indexOf($);X>-1&&(_e.splice(X,1),_e.push($))}function N(_e){return Array.isArray(_e)?_e:[_e]}function P(_e,$,X,pe){const re=W(_e,$),ne=_e.splice(re,X);return function M(_e,$,X){const pe=W(_e,$),re=_e.length,ne=X.length;_e.length=re+ne;for(let ce=re-1;ce>=pe;ce--)_e[ce+ne]=_e[ce];for(let ce=0;ce<ne;ce++)_e[ce+pe]=X[ce]}(_e,re,pe),ne}function W(_e,$){return $<0?Math.max($+_e.length,0):Math.min($,_e.length)}function J(_e,$){return(X,pe)=>$(_e(X),_e(pe))}m.d(Ke,{Gb:()=>v,JH:()=>h,fS:()=>Q,ry:()=>k,lG:()=>R,HW:()=>se,vM:()=>j,kX:()=>Y,XY:()=>V,Of:()=>x,EB:()=>w,dF:()=>D,Xh:()=>f,xH:()=>T,w6:()=>z,Zv:()=>I,zI:()=>H,al:()=>K,_2:()=>N,db:()=>P,tT:()=>J,fv:()=>he,Dc:()=>ye,jV:()=>fe,VJ:()=>Se,H9:()=>Ie});const he=(_e,$)=>_e-$;function ye(_e,$){if(0===_e.length)return;let X=_e[0];for(let pe=1;pe<_e.length;pe++){const re=_e[pe];$(re,X)>0&&(X=re)}return X}function fe(_e,$){if(0===_e.length)return;let X=_e[0];for(let pe=1;pe<_e.length;pe++){const re=_e[pe];$(re,X)>=0&&(X=re)}return X}function Se(_e,$){return ye(_e,(X,pe)=>-$(X,pe))}class Ie{constructor($){this.items=$,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile($){let X=this.firstIdx;for(;X<this.items.length&&$(this.items[X]);)X++;const pe=X===this.firstIdx?null:this.items.slice(this.firstIdx,X);return this.firstIdx=X,pe}takeFromEndWhile($){let X=this.lastIdx;for(;X>=0&&$(this.items[X]);)X--;const pe=X===this.lastIdx?null:this.items.slice(X+1,this.lastIdx+1);return this.lastIdx=X,pe}peek(){return this.items[this.firstIdx]}dequeue(){const $=this.items[this.firstIdx];return this.firstIdx++,$}takeCount($){const X=this.items.slice(this.firstIdx,this.firstIdx+$);return this.firstIdx+=$,X}}},8797:(vt,Ke,m)=>{function v(h,Q){if(!h)throw new Error(Q?`Assertion failed (${Q})`:"Assertion Failed")}m.d(Ke,{ok:()=>v})},3072:(vt,Ke,m)=>{m.d(Ke,{J8:()=>Y,PG:()=>V,eP:()=>x,ne:()=>f,vp:()=>T,rH:()=>z,Vs:()=>I,Vg:()=>H,Ps:()=>K,_F:()=>N,zh:()=>M,pY:()=>P,To:()=>W,Ue:()=>J,CR:()=>he,jT:()=>ye,Aq:()=>fe,zS:()=>Ie});var v=m(152),h=m(3663),Q=m(2787),k=m(2425),R=m(8972),se=function(_e,$,X,pe){return new(X||(X=Promise))(function(ne,ce){function ue(lt){try{He(pe.next(lt))}catch(ut){ce(ut)}}function we(lt){try{He(pe.throw(lt))}catch(ut){ce(ut)}}function He(lt){lt.done?ne(lt.value):function re(ne){return ne instanceof X?ne:new X(function(ce){ce(ne)})}(lt.value).then(ue,we)}He((pe=pe.apply(_e,$||[])).next())})},j=function(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,$=_e[Symbol.asyncIterator];return $?$.call(_e):(_e="function"==typeof __values?__values(_e):_e[Symbol.iterator](),X={},pe("next"),pe("throw"),pe("return"),X[Symbol.asyncIterator]=function(){return this},X);function pe(ne){X[ne]=_e[ne]&&function(ce){return new Promise(function(ue,we){!function re(ne,ce,ue,we){Promise.resolve(we).then(function(He){ne({value:He,done:ue})},ce)}(ue,we,(ce=_e[ne](ce)).done,ce.value)})}}};function Y(_e){return!!_e&&"function"==typeof _e.then}function V(_e){const $=new v.A,X=_e($.token),pe=new Promise((re,ne)=>{const ce=$.token.onCancellationRequested(()=>{ce.dispose(),$.dispose(),ne(new h.FU)});Promise.resolve(X).then(ue=>{ce.dispose(),$.dispose(),re(ue)},ue=>{ce.dispose(),$.dispose(),ne(ue)})});return new class{cancel(){$.cancel()}then(re,ne){return pe.then(re,ne)}catch(re){return this.then(void 0,re)}finally(re){return pe.finally(re)}}}function x(_e,$,X){return new Promise((pe,re)=>{const ne=$.onCancellationRequested(()=>{ne.dispose(),pe(X)});_e.then(pe,re).finally(()=>ne.dispose())})}class w{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue($){if(this.activePromise){if(this.queuedPromiseFactory=$,!this.queuedPromise){const X=()=>{this.queuedPromise=null;const pe=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,pe};this.queuedPromise=new Promise(pe=>{this.activePromise.then(X,X).then(pe)})}return new Promise((X,pe)=>{this.queuedPromise.then(X,pe)})}return this.activePromise=$(),new Promise((X,pe)=>{this.activePromise.then(re=>{this.activePromise=null,X(re)},re=>{this.activePromise=null,pe(re)})})}}const f=Symbol("MicrotaskDelay");class T{constructor($){this.defaultDelay=$,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger($,X=this.defaultDelay){this.task=$,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((re,ne)=>{this.doResolve=re,this.doReject=ne}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const re=this.task;return this.task=null,re()}}));const pe=()=>{var re;this.deferred=null,null===(re=this.doResolve)||void 0===re||re.call(this,null)};return this.deferred=X===f?(_e=>{let $=!0;return queueMicrotask(()=>{$&&($=!1,_e())}),{isTriggered:()=>$,dispose:()=>{$=!1}}})(pe):((_e,$)=>{let X=!0;const pe=setTimeout(()=>{X=!1,$()},_e);return{isTriggered:()=>X,dispose:()=>{clearTimeout(pe),X=!1}}})(X,pe),this.completionPromise}isTriggered(){var $;return!!(null===($=this.deferred)||void 0===$?void 0:$.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new h.FU),this.completionPromise=null)}cancelTimeout(){var $;null===($=this.deferred)||void 0===$||$.dispose(),this.deferred=null}dispose(){this.cancel()}}class z{constructor($){this.delayer=new T($),this.throttler=new w}trigger($,X){return this.delayer.trigger(()=>this.throttler.queue($),X)}dispose(){this.delayer.dispose()}}function I(_e,$){return $?new Promise((X,pe)=>{const re=setTimeout(()=>{ne.dispose(),X()},_e),ne=$.onCancellationRequested(()=>{clearTimeout(re),ne.dispose(),pe(new h.FU)})}):V(X=>I(_e,X))}function H(_e,$=0){const X=setTimeout(_e,$);return(0,k.OF)(()=>clearTimeout(X))}function K(_e,$=(pe=>!!pe),X=null){let pe=0;const re=_e.length,ne=()=>{if(pe>=re)return Promise.resolve(X);const ce=_e[pe++];return Promise.resolve(ce()).then(we=>$(we)?Promise.resolve(we):ne())};return ne()}class N{constructor($,X){this._token=-1,"function"==typeof $&&"number"==typeof X&&this.setIfNotSet($,X)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet($,X){this.cancel(),this._token=setTimeout(()=>{this._token=-1,$()},X)}setIfNotSet($,X){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,$()},X))}}class M{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet($,X){this.cancel(),this._token=setInterval(()=>{$()},X)}}class P{constructor($,X){this.timeoutToken=-1,this.runner=$,this.timeout=X,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule($=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,$)}get delay(){return this.timeout}set delay($){this.timeout=$}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let W;W="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?_e=>{(0,R.fn)(()=>{if($)return;const X=Date.now()+15;_e(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,X-Date.now())}))});let $=!1;return{dispose(){$||($=!0)}}}:(_e,$)=>{const X=requestIdleCallback(_e,"number"==typeof $?{timeout:$}:void 0);let pe=!1;return{dispose(){pe||(pe=!0,cancelIdleCallback(X))}}};class J{constructor($){this._didRun=!1,this._executor=()=>{try{this._value=$()}catch(X){this._error=X}finally{this._didRun=!0}},this._handle=W(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class he{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(($,X)=>{this.completeCallback=$,this.errorCallback=X})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete($){return new Promise(X=>{this.completeCallback($),this.resolved=!0,X()})}cancel(){new Promise($=>{this.errorCallback(new h.FU),this.rejected=!0,$()})}}var ye,_e;(_e=ye||(ye={})).settled=function $(pe){return se(this,void 0,void 0,function*(){let re;const ne=yield Promise.all(pe.map(ce=>ce.then(ue=>ue,ue=>{re||(re=ue)})));if(void 0!==re)throw re;return ne})},_e.withAsyncBody=function X(pe){return new Promise((re,ne)=>se(this,void 0,void 0,function*(){try{yield pe(re,ne)}catch(ce){ne(ce)}}))};class fe{constructor($){this._state=0,this._results=[],this._error=null,this._onStateChanged=new Q.Q5,queueMicrotask(()=>se(this,void 0,void 0,function*(){const X={emitOne:pe=>this.emitOne(pe),emitMany:pe=>this.emitMany(pe),reject:pe=>this.reject(pe)};try{yield Promise.resolve($(X)),this.resolve()}catch(pe){this.reject(pe)}finally{X.emitOne=void 0,X.emitMany=void 0,X.reject=void 0}}))}static fromArray($){return new fe(X=>{X.emitMany($)})}static fromPromise($){return new fe(X=>se(this,void 0,void 0,function*(){X.emitMany(yield $)}))}static fromPromises($){return new fe(X=>se(this,void 0,void 0,function*(){yield Promise.all($.map(pe=>se(this,void 0,void 0,function*(){return X.emitOne(yield pe)})))}))}static merge($){return new fe(X=>se(this,void 0,void 0,function*(){yield Promise.all($.map(pe=>{var re,ne;return se(this,void 0,void 0,function*(){var ce,ue;try{for(re=j(pe);!(ne=yield re.next()).done;)X.emitOne(ne.value)}catch(we){ce={error:we}}finally{try{ne&&!ne.done&&(ue=re.return)&&(yield ue.call(re))}finally{if(ce)throw ce.error}}})}))}))}[Symbol.asyncIterator](){let $=0;return{next:()=>se(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if($<this._results.length)return{done:!1,value:this._results[$++]};if(1===this._state)return{done:!0,value:void 0};yield Q.ju.toPromise(this._onStateChanged.event)}})}}static map($,X){return new fe(pe=>se(this,void 0,void 0,function*(){var re,ne;try{for(var ue,ce=j($);!(ue=yield ce.next()).done;)pe.emitOne(X(ue.value))}catch(we){re={error:we}}finally{try{ue&&!ue.done&&(ne=ce.return)&&(yield ne.call(ce))}finally{if(re)throw re.error}}}))}map($){return fe.map(this,$)}static filter($,X){return new fe(pe=>se(this,void 0,void 0,function*(){var re,ne;try{for(var ue,ce=j($);!(ue=yield ce.next()).done;){const we=ue.value;X(we)&&pe.emitOne(we)}}catch(we){re={error:we}}finally{try{ue&&!ue.done&&(ne=ce.return)&&(yield ne.call(ce))}finally{if(re)throw re.error}}}))}filter($){return fe.filter(this,$)}static coalesce($){return fe.filter($,X=>!!X)}coalesce(){return fe.coalesce(this)}static toPromise($){var X,pe,re,ne;return se(this,void 0,void 0,function*(){const ce=[];try{for(X=j($);!(pe=yield X.next()).done;)ce.push(pe.value)}catch(ue){re={error:ue}}finally{try{pe&&!pe.done&&(ne=X.return)&&(yield ne.call(X))}finally{if(re)throw re.error}}return ce})}toPromise(){return fe.toPromise(this)}emitOne($){0===this._state&&(this._results.push($),this._onStateChanged.fire())}emitMany($){0===this._state&&(this._results=this._results.concat($),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject($){0===this._state&&(this._state=2,this._error=$,this._onStateChanged.fire())}}fe.EMPTY=fe.fromArray([]);class Se extends fe{constructor($,X){super(X),this._source=$}cancel(){this._source.cancel()}}function Ie(_e){const $=new v.A,X=_e($.token);return new Se($,pe=>se(this,void 0,void 0,function*(){var re,ne;const ce=$.token.onCancellationRequested(()=>{ce.dispose(),$.dispose(),pe.reject(new h.FU)});try{try{for(var we,ue=j(X);!(we=yield ue.next()).done;){if($.token.isCancellationRequested)return;pe.emitOne(we.value)}}catch(He){re={error:He}}finally{try{we&&!we.done&&(ne=ue.return)&&(yield ne.call(ue))}finally{if(re)throw re.error}}ce.dispose(),$.dispose()}catch(He){ce.dispose(),$.dispose(),pe.reject(He)}}))}},8923:(vt,Ke,m)=>{m.d(Ke,{KN:()=>Q,mP:()=>k,oq:()=>R,Ag:()=>se,T4:()=>j,Q$:()=>Y,Cg:()=>V});const v="undefined"!=typeof Buffer;let h;class Q{constructor(w){this.buffer=w,this.byteLength=this.buffer.byteLength}static wrap(w){return v&&!Buffer.isBuffer(w)&&(w=Buffer.from(w.buffer,w.byteOffset,w.byteLength)),new Q(w)}toString(){return v?this.buffer.toString():(h||(h=new TextDecoder),h.decode(this.buffer))}}function k(x,w){return x[w+0]<<0>>>0|x[w+1]<<8>>>0}function R(x,w,D){x[D+0]=255&w,x[D+1]=255&(w>>>=8)}function se(x,w){return x[w]*Math.pow(2,24)+x[w+1]*Math.pow(2,16)+x[w+2]*Math.pow(2,8)+x[w+3]}function j(x,w,D){x[D+3]=w,x[D+2]=w>>>=8,x[D+1]=w>>>=8,x[D]=w>>>=8}function Y(x,w){return x[w]}function V(x,w,D){x[D]=w}},152:(vt,Ke,m)=>{m.d(Ke,{T:()=>Q,A:()=>R});var v=m(2787);const h=Object.freeze(function(se,j){const Y=setTimeout(se.bind(j),0);return{dispose(){clearTimeout(Y)}}});var Q,se;(se=Q||(Q={})).isCancellationToken=function j(Y){return Y===se.None||Y===se.Cancelled||Y instanceof k||!(!Y||"object"!=typeof Y)&&"boolean"==typeof Y.isCancellationRequested&&"function"==typeof Y.onCancellationRequested},se.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:v.ju.None}),se.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:h});class k{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?h:(this._emitter||(this._emitter=new v.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class R{constructor(j){this._token=void 0,this._parentListener=void 0,this._parentListener=j&&j.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new k),this._token}cancel(){this._token?this._token instanceof k&&this._token.cancel():this._token=Q.Cancelled}dispose(j=!1){j&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof k&&this._token.dispose():this._token=Q.None}}},2450:(vt,Ke,m)=>{function v(k){return k?k.replace(/\$\((.*?)\)/g,(R,se)=>` ${se} `).trim():""}m.d(Ke,{JL:()=>v,lA:()=>h,dT:()=>Q});class h{constructor(R,se,j){this.id=R,this.definition=se,this.description=j,h._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return h._allCodicons}}var Q;h._allCodicons=[],h.add=new h("add",{fontCharacter:"\\ea60"}),h.plus=new h("plus",h.add.definition),h.gistNew=new h("gist-new",h.add.definition),h.repoCreate=new h("repo-create",h.add.definition),h.lightbulb=new h("lightbulb",{fontCharacter:"\\ea61"}),h.lightBulb=new h("light-bulb",{fontCharacter:"\\ea61"}),h.repo=new h("repo",{fontCharacter:"\\ea62"}),h.repoDelete=new h("repo-delete",{fontCharacter:"\\ea62"}),h.gistFork=new h("gist-fork",{fontCharacter:"\\ea63"}),h.repoForked=new h("repo-forked",{fontCharacter:"\\ea63"}),h.gitPullRequest=new h("git-pull-request",{fontCharacter:"\\ea64"}),h.gitPullRequestAbandoned=new h("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),h.recordKeys=new h("record-keys",{fontCharacter:"\\ea65"}),h.keyboard=new h("keyboard",{fontCharacter:"\\ea65"}),h.tag=new h("tag",{fontCharacter:"\\ea66"}),h.tagAdd=new h("tag-add",{fontCharacter:"\\ea66"}),h.tagRemove=new h("tag-remove",{fontCharacter:"\\ea66"}),h.person=new h("person",{fontCharacter:"\\ea67"}),h.personFollow=new h("person-follow",{fontCharacter:"\\ea67"}),h.personOutline=new h("person-outline",{fontCharacter:"\\ea67"}),h.personFilled=new h("person-filled",{fontCharacter:"\\ea67"}),h.gitBranch=new h("git-branch",{fontCharacter:"\\ea68"}),h.gitBranchCreate=new h("git-branch-create",{fontCharacter:"\\ea68"}),h.gitBranchDelete=new h("git-branch-delete",{fontCharacter:"\\ea68"}),h.sourceControl=new h("source-control",{fontCharacter:"\\ea68"}),h.mirror=new h("mirror",{fontCharacter:"\\ea69"}),h.mirrorPublic=new h("mirror-public",{fontCharacter:"\\ea69"}),h.star=new h("star",{fontCharacter:"\\ea6a"}),h.starAdd=new h("star-add",{fontCharacter:"\\ea6a"}),h.starDelete=new h("star-delete",{fontCharacter:"\\ea6a"}),h.starEmpty=new h("star-empty",{fontCharacter:"\\ea6a"}),h.comment=new h("comment",{fontCharacter:"\\ea6b"}),h.commentAdd=new h("comment-add",{fontCharacter:"\\ea6b"}),h.alert=new h("alert",{fontCharacter:"\\ea6c"}),h.warning=new h("warning",{fontCharacter:"\\ea6c"}),h.search=new h("search",{fontCharacter:"\\ea6d"}),h.searchSave=new h("search-save",{fontCharacter:"\\ea6d"}),h.logOut=new h("log-out",{fontCharacter:"\\ea6e"}),h.signOut=new h("sign-out",{fontCharacter:"\\ea6e"}),h.logIn=new h("log-in",{fontCharacter:"\\ea6f"}),h.signIn=new h("sign-in",{fontCharacter:"\\ea6f"}),h.eye=new h("eye",{fontCharacter:"\\ea70"}),h.eyeUnwatch=new h("eye-unwatch",{fontCharacter:"\\ea70"}),h.eyeWatch=new h("eye-watch",{fontCharacter:"\\ea70"}),h.circleFilled=new h("circle-filled",{fontCharacter:"\\ea71"}),h.primitiveDot=new h("primitive-dot",{fontCharacter:"\\ea71"}),h.closeDirty=new h("close-dirty",{fontCharacter:"\\ea71"}),h.debugBreakpoint=new h("debug-breakpoint",{fontCharacter:"\\ea71"}),h.debugBreakpointDisabled=new h("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),h.debugHint=new h("debug-hint",{fontCharacter:"\\ea71"}),h.primitiveSquare=new h("primitive-square",{fontCharacter:"\\ea72"}),h.edit=new h("edit",{fontCharacter:"\\ea73"}),h.pencil=new h("pencil",{fontCharacter:"\\ea73"}),h.info=new h("info",{fontCharacter:"\\ea74"}),h.issueOpened=new h("issue-opened",{fontCharacter:"\\ea74"}),h.gistPrivate=new h("gist-private",{fontCharacter:"\\ea75"}),h.gitForkPrivate=new h("git-fork-private",{fontCharacter:"\\ea75"}),h.lock=new h("lock",{fontCharacter:"\\ea75"}),h.mirrorPrivate=new h("mirror-private",{fontCharacter:"\\ea75"}),h.close=new h("close",{fontCharacter:"\\ea76"}),h.removeClose=new h("remove-close",{fontCharacter:"\\ea76"}),h.x=new h("x",{fontCharacter:"\\ea76"}),h.repoSync=new h("repo-sync",{fontCharacter:"\\ea77"}),h.sync=new h("sync",{fontCharacter:"\\ea77"}),h.clone=new h("clone",{fontCharacter:"\\ea78"}),h.desktopDownload=new h("desktop-download",{fontCharacter:"\\ea78"}),h.beaker=new h("beaker",{fontCharacter:"\\ea79"}),h.microscope=new h("microscope",{fontCharacter:"\\ea79"}),h.vm=new h("vm",{fontCharacter:"\\ea7a"}),h.deviceDesktop=new h("device-desktop",{fontCharacter:"\\ea7a"}),h.file=new h("file",{fontCharacter:"\\ea7b"}),h.fileText=new h("file-text",{fontCharacter:"\\ea7b"}),h.more=new h("more",{fontCharacter:"\\ea7c"}),h.ellipsis=new h("ellipsis",{fontCharacter:"\\ea7c"}),h.kebabHorizontal=new h("kebab-horizontal",{fontCharacter:"\\ea7c"}),h.mailReply=new h("mail-reply",{fontCharacter:"\\ea7d"}),h.reply=new h("reply",{fontCharacter:"\\ea7d"}),h.organization=new h("organization",{fontCharacter:"\\ea7e"}),h.organizationFilled=new h("organization-filled",{fontCharacter:"\\ea7e"}),h.organizationOutline=new h("organization-outline",{fontCharacter:"\\ea7e"}),h.newFile=new h("new-file",{fontCharacter:"\\ea7f"}),h.fileAdd=new h("file-add",{fontCharacter:"\\ea7f"}),h.newFolder=new h("new-folder",{fontCharacter:"\\ea80"}),h.fileDirectoryCreate=new h("file-directory-create",{fontCharacter:"\\ea80"}),h.trash=new h("trash",{fontCharacter:"\\ea81"}),h.trashcan=new h("trashcan",{fontCharacter:"\\ea81"}),h.history=new h("history",{fontCharacter:"\\ea82"}),h.clock=new h("clock",{fontCharacter:"\\ea82"}),h.folder=new h("folder",{fontCharacter:"\\ea83"}),h.fileDirectory=new h("file-directory",{fontCharacter:"\\ea83"}),h.symbolFolder=new h("symbol-folder",{fontCharacter:"\\ea83"}),h.logoGithub=new h("logo-github",{fontCharacter:"\\ea84"}),h.markGithub=new h("mark-github",{fontCharacter:"\\ea84"}),h.github=new h("github",{fontCharacter:"\\ea84"}),h.terminal=new h("terminal",{fontCharacter:"\\ea85"}),h.console=new h("console",{fontCharacter:"\\ea85"}),h.repl=new h("repl",{fontCharacter:"\\ea85"}),h.zap=new h("zap",{fontCharacter:"\\ea86"}),h.symbolEvent=new h("symbol-event",{fontCharacter:"\\ea86"}),h.error=new h("error",{fontCharacter:"\\ea87"}),h.stop=new h("stop",{fontCharacter:"\\ea87"}),h.variable=new h("variable",{fontCharacter:"\\ea88"}),h.symbolVariable=new h("symbol-variable",{fontCharacter:"\\ea88"}),h.array=new h("array",{fontCharacter:"\\ea8a"}),h.symbolArray=new h("symbol-array",{fontCharacter:"\\ea8a"}),h.symbolModule=new h("symbol-module",{fontCharacter:"\\ea8b"}),h.symbolPackage=new h("symbol-package",{fontCharacter:"\\ea8b"}),h.symbolNamespace=new h("symbol-namespace",{fontCharacter:"\\ea8b"}),h.symbolObject=new h("symbol-object",{fontCharacter:"\\ea8b"}),h.symbolMethod=new h("symbol-method",{fontCharacter:"\\ea8c"}),h.symbolFunction=new h("symbol-function",{fontCharacter:"\\ea8c"}),h.symbolConstructor=new h("symbol-constructor",{fontCharacter:"\\ea8c"}),h.symbolBoolean=new h("symbol-boolean",{fontCharacter:"\\ea8f"}),h.symbolNull=new h("symbol-null",{fontCharacter:"\\ea8f"}),h.symbolNumeric=new h("symbol-numeric",{fontCharacter:"\\ea90"}),h.symbolNumber=new h("symbol-number",{fontCharacter:"\\ea90"}),h.symbolStructure=new h("symbol-structure",{fontCharacter:"\\ea91"}),h.symbolStruct=new h("symbol-struct",{fontCharacter:"\\ea91"}),h.symbolParameter=new h("symbol-parameter",{fontCharacter:"\\ea92"}),h.symbolTypeParameter=new h("symbol-type-parameter",{fontCharacter:"\\ea92"}),h.symbolKey=new h("symbol-key",{fontCharacter:"\\ea93"}),h.symbolText=new h("symbol-text",{fontCharacter:"\\ea93"}),h.symbolReference=new h("symbol-reference",{fontCharacter:"\\ea94"}),h.goToFile=new h("go-to-file",{fontCharacter:"\\ea94"}),h.symbolEnum=new h("symbol-enum",{fontCharacter:"\\ea95"}),h.symbolValue=new h("symbol-value",{fontCharacter:"\\ea95"}),h.symbolRuler=new h("symbol-ruler",{fontCharacter:"\\ea96"}),h.symbolUnit=new h("symbol-unit",{fontCharacter:"\\ea96"}),h.activateBreakpoints=new h("activate-breakpoints",{fontCharacter:"\\ea97"}),h.archive=new h("archive",{fontCharacter:"\\ea98"}),h.arrowBoth=new h("arrow-both",{fontCharacter:"\\ea99"}),h.arrowDown=new h("arrow-down",{fontCharacter:"\\ea9a"}),h.arrowLeft=new h("arrow-left",{fontCharacter:"\\ea9b"}),h.arrowRight=new h("arrow-right",{fontCharacter:"\\ea9c"}),h.arrowSmallDown=new h("arrow-small-down",{fontCharacter:"\\ea9d"}),h.arrowSmallLeft=new h("arrow-small-left",{fontCharacter:"\\ea9e"}),h.arrowSmallRight=new h("arrow-small-right",{fontCharacter:"\\ea9f"}),h.arrowSmallUp=new h("arrow-small-up",{fontCharacter:"\\eaa0"}),h.arrowUp=new h("arrow-up",{fontCharacter:"\\eaa1"}),h.bell=new h("bell",{fontCharacter:"\\eaa2"}),h.bold=new h("bold",{fontCharacter:"\\eaa3"}),h.book=new h("book",{fontCharacter:"\\eaa4"}),h.bookmark=new h("bookmark",{fontCharacter:"\\eaa5"}),h.debugBreakpointConditionalUnverified=new h("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),h.debugBreakpointConditional=new h("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),h.debugBreakpointConditionalDisabled=new h("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),h.debugBreakpointDataUnverified=new h("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),h.debugBreakpointData=new h("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),h.debugBreakpointDataDisabled=new h("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),h.debugBreakpointLogUnverified=new h("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),h.debugBreakpointLog=new h("debug-breakpoint-log",{fontCharacter:"\\eaab"}),h.debugBreakpointLogDisabled=new h("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),h.briefcase=new h("briefcase",{fontCharacter:"\\eaac"}),h.broadcast=new h("broadcast",{fontCharacter:"\\eaad"}),h.browser=new h("browser",{fontCharacter:"\\eaae"}),h.bug=new h("bug",{fontCharacter:"\\eaaf"}),h.calendar=new h("calendar",{fontCharacter:"\\eab0"}),h.caseSensitive=new h("case-sensitive",{fontCharacter:"\\eab1"}),h.check=new h("check",{fontCharacter:"\\eab2"}),h.checklist=new h("checklist",{fontCharacter:"\\eab3"}),h.chevronDown=new h("chevron-down",{fontCharacter:"\\eab4"}),h.dropDownButton=new h("drop-down-button",h.chevronDown.definition),h.chevronLeft=new h("chevron-left",{fontCharacter:"\\eab5"}),h.chevronRight=new h("chevron-right",{fontCharacter:"\\eab6"}),h.chevronUp=new h("chevron-up",{fontCharacter:"\\eab7"}),h.chromeClose=new h("chrome-close",{fontCharacter:"\\eab8"}),h.chromeMaximize=new h("chrome-maximize",{fontCharacter:"\\eab9"}),h.chromeMinimize=new h("chrome-minimize",{fontCharacter:"\\eaba"}),h.chromeRestore=new h("chrome-restore",{fontCharacter:"\\eabb"}),h.circleOutline=new h("circle-outline",{fontCharacter:"\\eabc"}),h.debugBreakpointUnverified=new h("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),h.circleSlash=new h("circle-slash",{fontCharacter:"\\eabd"}),h.circuitBoard=new h("circuit-board",{fontCharacter:"\\eabe"}),h.clearAll=new h("clear-all",{fontCharacter:"\\eabf"}),h.clippy=new h("clippy",{fontCharacter:"\\eac0"}),h.closeAll=new h("close-all",{fontCharacter:"\\eac1"}),h.cloudDownload=new h("cloud-download",{fontCharacter:"\\eac2"}),h.cloudUpload=new h("cloud-upload",{fontCharacter:"\\eac3"}),h.code=new h("code",{fontCharacter:"\\eac4"}),h.collapseAll=new h("collapse-all",{fontCharacter:"\\eac5"}),h.colorMode=new h("color-mode",{fontCharacter:"\\eac6"}),h.commentDiscussion=new h("comment-discussion",{fontCharacter:"\\eac7"}),h.compareChanges=new h("compare-changes",{fontCharacter:"\\eafd"}),h.creditCard=new h("credit-card",{fontCharacter:"\\eac9"}),h.dash=new h("dash",{fontCharacter:"\\eacc"}),h.dashboard=new h("dashboard",{fontCharacter:"\\eacd"}),h.database=new h("database",{fontCharacter:"\\eace"}),h.debugContinue=new h("debug-continue",{fontCharacter:"\\eacf"}),h.debugDisconnect=new h("debug-disconnect",{fontCharacter:"\\ead0"}),h.debugPause=new h("debug-pause",{fontCharacter:"\\ead1"}),h.debugRestart=new h("debug-restart",{fontCharacter:"\\ead2"}),h.debugStart=new h("debug-start",{fontCharacter:"\\ead3"}),h.debugStepInto=new h("debug-step-into",{fontCharacter:"\\ead4"}),h.debugStepOut=new h("debug-step-out",{fontCharacter:"\\ead5"}),h.debugStepOver=new h("debug-step-over",{fontCharacter:"\\ead6"}),h.debugStop=new h("debug-stop",{fontCharacter:"\\ead7"}),h.debug=new h("debug",{fontCharacter:"\\ead8"}),h.deviceCameraVideo=new h("device-camera-video",{fontCharacter:"\\ead9"}),h.deviceCamera=new h("device-camera",{fontCharacter:"\\eada"}),h.deviceMobile=new h("device-mobile",{fontCharacter:"\\eadb"}),h.diffAdded=new h("diff-added",{fontCharacter:"\\eadc"}),h.diffIgnored=new h("diff-ignored",{fontCharacter:"\\eadd"}),h.diffModified=new h("diff-modified",{fontCharacter:"\\eade"}),h.diffRemoved=new h("diff-removed",{fontCharacter:"\\eadf"}),h.diffRenamed=new h("diff-renamed",{fontCharacter:"\\eae0"}),h.diff=new h("diff",{fontCharacter:"\\eae1"}),h.discard=new h("discard",{fontCharacter:"\\eae2"}),h.editorLayout=new h("editor-layout",{fontCharacter:"\\eae3"}),h.emptyWindow=new h("empty-window",{fontCharacter:"\\eae4"}),h.exclude=new h("exclude",{fontCharacter:"\\eae5"}),h.extensions=new h("extensions",{fontCharacter:"\\eae6"}),h.eyeClosed=new h("eye-closed",{fontCharacter:"\\eae7"}),h.fileBinary=new h("file-binary",{fontCharacter:"\\eae8"}),h.fileCode=new h("file-code",{fontCharacter:"\\eae9"}),h.fileMedia=new h("file-media",{fontCharacter:"\\eaea"}),h.filePdf=new h("file-pdf",{fontCharacter:"\\eaeb"}),h.fileSubmodule=new h("file-submodule",{fontCharacter:"\\eaec"}),h.fileSymlinkDirectory=new h("file-symlink-directory",{fontCharacter:"\\eaed"}),h.fileSymlinkFile=new h("file-symlink-file",{fontCharacter:"\\eaee"}),h.fileZip=new h("file-zip",{fontCharacter:"\\eaef"}),h.files=new h("files",{fontCharacter:"\\eaf0"}),h.filter=new h("filter",{fontCharacter:"\\eaf1"}),h.flame=new h("flame",{fontCharacter:"\\eaf2"}),h.foldDown=new h("fold-down",{fontCharacter:"\\eaf3"}),h.foldUp=new h("fold-up",{fontCharacter:"\\eaf4"}),h.fold=new h("fold",{fontCharacter:"\\eaf5"}),h.folderActive=new h("folder-active",{fontCharacter:"\\eaf6"}),h.folderOpened=new h("folder-opened",{fontCharacter:"\\eaf7"}),h.gear=new h("gear",{fontCharacter:"\\eaf8"}),h.gift=new h("gift",{fontCharacter:"\\eaf9"}),h.gistSecret=new h("gist-secret",{fontCharacter:"\\eafa"}),h.gist=new h("gist",{fontCharacter:"\\eafb"}),h.gitCommit=new h("git-commit",{fontCharacter:"\\eafc"}),h.gitCompare=new h("git-compare",{fontCharacter:"\\eafd"}),h.gitMerge=new h("git-merge",{fontCharacter:"\\eafe"}),h.githubAction=new h("github-action",{fontCharacter:"\\eaff"}),h.githubAlt=new h("github-alt",{fontCharacter:"\\eb00"}),h.globe=new h("globe",{fontCharacter:"\\eb01"}),h.grabber=new h("grabber",{fontCharacter:"\\eb02"}),h.graph=new h("graph",{fontCharacter:"\\eb03"}),h.gripper=new h("gripper",{fontCharacter:"\\eb04"}),h.heart=new h("heart",{fontCharacter:"\\eb05"}),h.home=new h("home",{fontCharacter:"\\eb06"}),h.horizontalRule=new h("horizontal-rule",{fontCharacter:"\\eb07"}),h.hubot=new h("hubot",{fontCharacter:"\\eb08"}),h.inbox=new h("inbox",{fontCharacter:"\\eb09"}),h.issueClosed=new h("issue-closed",{fontCharacter:"\\eba4"}),h.issueReopened=new h("issue-reopened",{fontCharacter:"\\eb0b"}),h.issues=new h("issues",{fontCharacter:"\\eb0c"}),h.italic=new h("italic",{fontCharacter:"\\eb0d"}),h.jersey=new h("jersey",{fontCharacter:"\\eb0e"}),h.json=new h("json",{fontCharacter:"\\eb0f"}),h.kebabVertical=new h("kebab-vertical",{fontCharacter:"\\eb10"}),h.key=new h("key",{fontCharacter:"\\eb11"}),h.law=new h("law",{fontCharacter:"\\eb12"}),h.lightbulbAutofix=new h("lightbulb-autofix",{fontCharacter:"\\eb13"}),h.linkExternal=new h("link-external",{fontCharacter:"\\eb14"}),h.link=new h("link",{fontCharacter:"\\eb15"}),h.listOrdered=new h("list-ordered",{fontCharacter:"\\eb16"}),h.listUnordered=new h("list-unordered",{fontCharacter:"\\eb17"}),h.liveShare=new h("live-share",{fontCharacter:"\\eb18"}),h.loading=new h("loading",{fontCharacter:"\\eb19"}),h.location=new h("location",{fontCharacter:"\\eb1a"}),h.mailRead=new h("mail-read",{fontCharacter:"\\eb1b"}),h.mail=new h("mail",{fontCharacter:"\\eb1c"}),h.markdown=new h("markdown",{fontCharacter:"\\eb1d"}),h.megaphone=new h("megaphone",{fontCharacter:"\\eb1e"}),h.mention=new h("mention",{fontCharacter:"\\eb1f"}),h.milestone=new h("milestone",{fontCharacter:"\\eb20"}),h.mortarBoard=new h("mortar-board",{fontCharacter:"\\eb21"}),h.move=new h("move",{fontCharacter:"\\eb22"}),h.multipleWindows=new h("multiple-windows",{fontCharacter:"\\eb23"}),h.mute=new h("mute",{fontCharacter:"\\eb24"}),h.noNewline=new h("no-newline",{fontCharacter:"\\eb25"}),h.note=new h("note",{fontCharacter:"\\eb26"}),h.octoface=new h("octoface",{fontCharacter:"\\eb27"}),h.openPreview=new h("open-preview",{fontCharacter:"\\eb28"}),h.package_=new h("package",{fontCharacter:"\\eb29"}),h.paintcan=new h("paintcan",{fontCharacter:"\\eb2a"}),h.pin=new h("pin",{fontCharacter:"\\eb2b"}),h.play=new h("play",{fontCharacter:"\\eb2c"}),h.run=new h("run",{fontCharacter:"\\eb2c"}),h.plug=new h("plug",{fontCharacter:"\\eb2d"}),h.preserveCase=new h("preserve-case",{fontCharacter:"\\eb2e"}),h.preview=new h("preview",{fontCharacter:"\\eb2f"}),h.project=new h("project",{fontCharacter:"\\eb30"}),h.pulse=new h("pulse",{fontCharacter:"\\eb31"}),h.question=new h("question",{fontCharacter:"\\eb32"}),h.quote=new h("quote",{fontCharacter:"\\eb33"}),h.radioTower=new h("radio-tower",{fontCharacter:"\\eb34"}),h.reactions=new h("reactions",{fontCharacter:"\\eb35"}),h.references=new h("references",{fontCharacter:"\\eb36"}),h.refresh=new h("refresh",{fontCharacter:"\\eb37"}),h.regex=new h("regex",{fontCharacter:"\\eb38"}),h.remoteExplorer=new h("remote-explorer",{fontCharacter:"\\eb39"}),h.remote=new h("remote",{fontCharacter:"\\eb3a"}),h.remove=new h("remove",{fontCharacter:"\\eb3b"}),h.replaceAll=new h("replace-all",{fontCharacter:"\\eb3c"}),h.replace=new h("replace",{fontCharacter:"\\eb3d"}),h.repoClone=new h("repo-clone",{fontCharacter:"\\eb3e"}),h.repoForcePush=new h("repo-force-push",{fontCharacter:"\\eb3f"}),h.repoPull=new h("repo-pull",{fontCharacter:"\\eb40"}),h.repoPush=new h("repo-push",{fontCharacter:"\\eb41"}),h.report=new h("report",{fontCharacter:"\\eb42"}),h.requestChanges=new h("request-changes",{fontCharacter:"\\eb43"}),h.rocket=new h("rocket",{fontCharacter:"\\eb44"}),h.rootFolderOpened=new h("root-folder-opened",{fontCharacter:"\\eb45"}),h.rootFolder=new h("root-folder",{fontCharacter:"\\eb46"}),h.rss=new h("rss",{fontCharacter:"\\eb47"}),h.ruby=new h("ruby",{fontCharacter:"\\eb48"}),h.saveAll=new h("save-all",{fontCharacter:"\\eb49"}),h.saveAs=new h("save-as",{fontCharacter:"\\eb4a"}),h.save=new h("save",{fontCharacter:"\\eb4b"}),h.screenFull=new h("screen-full",{fontCharacter:"\\eb4c"}),h.screenNormal=new h("screen-normal",{fontCharacter:"\\eb4d"}),h.searchStop=new h("search-stop",{fontCharacter:"\\eb4e"}),h.server=new h("server",{fontCharacter:"\\eb50"}),h.settingsGear=new h("settings-gear",{fontCharacter:"\\eb51"}),h.settings=new h("settings",{fontCharacter:"\\eb52"}),h.shield=new h("shield",{fontCharacter:"\\eb53"}),h.smiley=new h("smiley",{fontCharacter:"\\eb54"}),h.sortPrecedence=new h("sort-precedence",{fontCharacter:"\\eb55"}),h.splitHorizontal=new h("split-horizontal",{fontCharacter:"\\eb56"}),h.splitVertical=new h("split-vertical",{fontCharacter:"\\eb57"}),h.squirrel=new h("squirrel",{fontCharacter:"\\eb58"}),h.starFull=new h("star-full",{fontCharacter:"\\eb59"}),h.starHalf=new h("star-half",{fontCharacter:"\\eb5a"}),h.symbolClass=new h("symbol-class",{fontCharacter:"\\eb5b"}),h.symbolColor=new h("symbol-color",{fontCharacter:"\\eb5c"}),h.symbolCustomColor=new h("symbol-customcolor",{fontCharacter:"\\eb5c"}),h.symbolConstant=new h("symbol-constant",{fontCharacter:"\\eb5d"}),h.symbolEnumMember=new h("symbol-enum-member",{fontCharacter:"\\eb5e"}),h.symbolField=new h("symbol-field",{fontCharacter:"\\eb5f"}),h.symbolFile=new h("symbol-file",{fontCharacter:"\\eb60"}),h.symbolInterface=new h("symbol-interface",{fontCharacter:"\\eb61"}),h.symbolKeyword=new h("symbol-keyword",{fontCharacter:"\\eb62"}),h.symbolMisc=new h("symbol-misc",{fontCharacter:"\\eb63"}),h.symbolOperator=new h("symbol-operator",{fontCharacter:"\\eb64"}),h.symbolProperty=new h("symbol-property",{fontCharacter:"\\eb65"}),h.wrench=new h("wrench",{fontCharacter:"\\eb65"}),h.wrenchSubaction=new h("wrench-subaction",{fontCharacter:"\\eb65"}),h.symbolSnippet=new h("symbol-snippet",{fontCharacter:"\\eb66"}),h.tasklist=new h("tasklist",{fontCharacter:"\\eb67"}),h.telescope=new h("telescope",{fontCharacter:"\\eb68"}),h.textSize=new h("text-size",{fontCharacter:"\\eb69"}),h.threeBars=new h("three-bars",{fontCharacter:"\\eb6a"}),h.thumbsdown=new h("thumbsdown",{fontCharacter:"\\eb6b"}),h.thumbsup=new h("thumbsup",{fontCharacter:"\\eb6c"}),h.tools=new h("tools",{fontCharacter:"\\eb6d"}),h.triangleDown=new h("triangle-down",{fontCharacter:"\\eb6e"}),h.triangleLeft=new h("triangle-left",{fontCharacter:"\\eb6f"}),h.triangleRight=new h("triangle-right",{fontCharacter:"\\eb70"}),h.triangleUp=new h("triangle-up",{fontCharacter:"\\eb71"}),h.twitter=new h("twitter",{fontCharacter:"\\eb72"}),h.unfold=new h("unfold",{fontCharacter:"\\eb73"}),h.unlock=new h("unlock",{fontCharacter:"\\eb74"}),h.unmute=new h("unmute",{fontCharacter:"\\eb75"}),h.unverified=new h("unverified",{fontCharacter:"\\eb76"}),h.verified=new h("verified",{fontCharacter:"\\eb77"}),h.versions=new h("versions",{fontCharacter:"\\eb78"}),h.vmActive=new h("vm-active",{fontCharacter:"\\eb79"}),h.vmOutline=new h("vm-outline",{fontCharacter:"\\eb7a"}),h.vmRunning=new h("vm-running",{fontCharacter:"\\eb7b"}),h.watch=new h("watch",{fontCharacter:"\\eb7c"}),h.whitespace=new h("whitespace",{fontCharacter:"\\eb7d"}),h.wholeWord=new h("whole-word",{fontCharacter:"\\eb7e"}),h.window=new h("window",{fontCharacter:"\\eb7f"}),h.wordWrap=new h("word-wrap",{fontCharacter:"\\eb80"}),h.zoomIn=new h("zoom-in",{fontCharacter:"\\eb81"}),h.zoomOut=new h("zoom-out",{fontCharacter:"\\eb82"}),h.listFilter=new h("list-filter",{fontCharacter:"\\eb83"}),h.listFlat=new h("list-flat",{fontCharacter:"\\eb84"}),h.listSelection=new h("list-selection",{fontCharacter:"\\eb85"}),h.selection=new h("selection",{fontCharacter:"\\eb85"}),h.listTree=new h("list-tree",{fontCharacter:"\\eb86"}),h.debugBreakpointFunctionUnverified=new h("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),h.debugBreakpointFunction=new h("debug-breakpoint-function",{fontCharacter:"\\eb88"}),h.debugBreakpointFunctionDisabled=new h("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),h.debugStackframeActive=new h("debug-stackframe-active",{fontCharacter:"\\eb89"}),h.debugStackframeDot=new h("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),h.debugStackframe=new h("debug-stackframe",{fontCharacter:"\\eb8b"}),h.debugStackframeFocused=new h("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),h.debugBreakpointUnsupported=new h("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),h.symbolString=new h("symbol-string",{fontCharacter:"\\eb8d"}),h.debugReverseContinue=new h("debug-reverse-continue",{fontCharacter:"\\eb8e"}),h.debugStepBack=new h("debug-step-back",{fontCharacter:"\\eb8f"}),h.debugRestartFrame=new h("debug-restart-frame",{fontCharacter:"\\eb90"}),h.callIncoming=new h("call-incoming",{fontCharacter:"\\eb92"}),h.callOutgoing=new h("call-outgoing",{fontCharacter:"\\eb93"}),h.menu=new h("menu",{fontCharacter:"\\eb94"}),h.expandAll=new h("expand-all",{fontCharacter:"\\eb95"}),h.feedback=new h("feedback",{fontCharacter:"\\eb96"}),h.groupByRefType=new h("group-by-ref-type",{fontCharacter:"\\eb97"}),h.ungroupByRefType=new h("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),h.account=new h("account",{fontCharacter:"\\eb99"}),h.bellDot=new h("bell-dot",{fontCharacter:"\\eb9a"}),h.debugConsole=new h("debug-console",{fontCharacter:"\\eb9b"}),h.library=new h("library",{fontCharacter:"\\eb9c"}),h.output=new h("output",{fontCharacter:"\\eb9d"}),h.runAll=new h("run-all",{fontCharacter:"\\eb9e"}),h.syncIgnored=new h("sync-ignored",{fontCharacter:"\\eb9f"}),h.pinned=new h("pinned",{fontCharacter:"\\eba0"}),h.githubInverted=new h("github-inverted",{fontCharacter:"\\eba1"}),h.debugAlt=new h("debug-alt",{fontCharacter:"\\eb91"}),h.serverProcess=new h("server-process",{fontCharacter:"\\eba2"}),h.serverEnvironment=new h("server-environment",{fontCharacter:"\\eba3"}),h.pass=new h("pass",{fontCharacter:"\\eba4"}),h.stopCircle=new h("stop-circle",{fontCharacter:"\\eba5"}),h.playCircle=new h("play-circle",{fontCharacter:"\\eba6"}),h.record=new h("record",{fontCharacter:"\\eba7"}),h.debugAltSmall=new h("debug-alt-small",{fontCharacter:"\\eba8"}),h.vmConnect=new h("vm-connect",{fontCharacter:"\\eba9"}),h.cloud=new h("cloud",{fontCharacter:"\\ebaa"}),h.merge=new h("merge",{fontCharacter:"\\ebab"}),h.exportIcon=new h("export",{fontCharacter:"\\ebac"}),h.graphLeft=new h("graph-left",{fontCharacter:"\\ebad"}),h.magnet=new h("magnet",{fontCharacter:"\\ebae"}),h.notebook=new h("notebook",{fontCharacter:"\\ebaf"}),h.redo=new h("redo",{fontCharacter:"\\ebb0"}),h.checkAll=new h("check-all",{fontCharacter:"\\ebb1"}),h.pinnedDirty=new h("pinned-dirty",{fontCharacter:"\\ebb2"}),h.passFilled=new h("pass-filled",{fontCharacter:"\\ebb3"}),h.circleLargeFilled=new h("circle-large-filled",{fontCharacter:"\\ebb4"}),h.circleLargeOutline=new h("circle-large-outline",{fontCharacter:"\\ebb5"}),h.combine=new h("combine",{fontCharacter:"\\ebb6"}),h.gather=new h("gather",{fontCharacter:"\\ebb6"}),h.table=new h("table",{fontCharacter:"\\ebb7"}),h.variableGroup=new h("variable-group",{fontCharacter:"\\ebb8"}),h.typeHierarchy=new h("type-hierarchy",{fontCharacter:"\\ebb9"}),h.typeHierarchySub=new h("type-hierarchy-sub",{fontCharacter:"\\ebba"}),h.typeHierarchySuper=new h("type-hierarchy-super",{fontCharacter:"\\ebbb"}),h.gitPullRequestCreate=new h("git-pull-request-create",{fontCharacter:"\\ebbc"}),h.runAbove=new h("run-above",{fontCharacter:"\\ebbd"}),h.runBelow=new h("run-below",{fontCharacter:"\\ebbe"}),h.notebookTemplate=new h("notebook-template",{fontCharacter:"\\ebbf"}),h.debugRerun=new h("debug-rerun",{fontCharacter:"\\ebc0"}),h.workspaceTrusted=new h("workspace-trusted",{fontCharacter:"\\ebc1"}),h.workspaceUntrusted=new h("workspace-untrusted",{fontCharacter:"\\ebc2"}),h.workspaceUnspecified=new h("workspace-unspecified",{fontCharacter:"\\ebc3"}),h.terminalCmd=new h("terminal-cmd",{fontCharacter:"\\ebc4"}),h.terminalDebian=new h("terminal-debian",{fontCharacter:"\\ebc5"}),h.terminalLinux=new h("terminal-linux",{fontCharacter:"\\ebc6"}),h.terminalPowershell=new h("terminal-powershell",{fontCharacter:"\\ebc7"}),h.terminalTmux=new h("terminal-tmux",{fontCharacter:"\\ebc8"}),h.terminalUbuntu=new h("terminal-ubuntu",{fontCharacter:"\\ebc9"}),h.terminalBash=new h("terminal-bash",{fontCharacter:"\\ebca"}),h.arrowSwap=new h("arrow-swap",{fontCharacter:"\\ebcb"}),h.copy=new h("copy",{fontCharacter:"\\ebcc"}),h.personAdd=new h("person-add",{fontCharacter:"\\ebcd"}),h.filterFilled=new h("filter-filled",{fontCharacter:"\\ebce"}),h.wand=new h("wand",{fontCharacter:"\\ebcf"}),h.debugLineByLine=new h("debug-line-by-line",{fontCharacter:"\\ebd0"}),h.inspect=new h("inspect",{fontCharacter:"\\ebd1"}),h.layers=new h("layers",{fontCharacter:"\\ebd2"}),h.layersDot=new h("layers-dot",{fontCharacter:"\\ebd3"}),h.layersActive=new h("layers-active",{fontCharacter:"\\ebd4"}),h.compass=new h("compass",{fontCharacter:"\\ebd5"}),h.compassDot=new h("compass-dot",{fontCharacter:"\\ebd6"}),h.compassActive=new h("compass-active",{fontCharacter:"\\ebd7"}),h.azure=new h("azure",{fontCharacter:"\\ebd8"}),h.issueDraft=new h("issue-draft",{fontCharacter:"\\ebd9"}),h.gitPullRequestClosed=new h("git-pull-request-closed",{fontCharacter:"\\ebda"}),h.gitPullRequestDraft=new h("git-pull-request-draft",{fontCharacter:"\\ebdb"}),h.debugAll=new h("debug-all",{fontCharacter:"\\ebdc"}),h.debugCoverage=new h("debug-coverage",{fontCharacter:"\\ebdd"}),h.runErrors=new h("run-errors",{fontCharacter:"\\ebde"}),h.folderLibrary=new h("folder-library",{fontCharacter:"\\ebdf"}),h.debugContinueSmall=new h("debug-continue-small",{fontCharacter:"\\ebe0"}),h.beakerStop=new h("beaker-stop",{fontCharacter:"\\ebe1"}),h.graphLine=new h("graph-line",{fontCharacter:"\\ebe2"}),h.graphScatter=new h("graph-scatter",{fontCharacter:"\\ebe3"}),h.pieChart=new h("pie-chart",{fontCharacter:"\\ebe4"}),h.bracket=new h("bracket",h.json.definition),h.bracketDot=new h("bracket-dot",{fontCharacter:"\\ebe5"}),h.bracketError=new h("bracket-error",{fontCharacter:"\\ebe6"}),h.lockSmall=new h("lock-small",{fontCharacter:"\\ebe7"}),h.azureDevops=new h("azure-devops",{fontCharacter:"\\ebe8"}),h.verifiedFilled=new h("verified-filled",{fontCharacter:"\\ebe9"}),h.newLine=new h("newline",{fontCharacter:"\\ebea"}),h.layout=new h("layout",{fontCharacter:"\\ebeb"}),h.layoutActivitybarLeft=new h("layout-activitybar-left",{fontCharacter:"\\ebec"}),h.layoutActivitybarRight=new h("layout-activitybar-right",{fontCharacter:"\\ebed"}),h.layoutPanelLeft=new h("layout-panel-left",{fontCharacter:"\\ebee"}),h.layoutPanelCenter=new h("layout-panel-center",{fontCharacter:"\\ebef"}),h.layoutPanelJustify=new h("layout-panel-justify",{fontCharacter:"\\ebf0"}),h.layoutPanelRight=new h("layout-panel-right",{fontCharacter:"\\ebf1"}),h.layoutPanel=new h("layout-panel",{fontCharacter:"\\ebf2"}),h.layoutSidebarLeft=new h("layout-sidebar-left",{fontCharacter:"\\ebf3"}),h.layoutSidebarRight=new h("layout-sidebar-right",{fontCharacter:"\\ebf4"}),h.layoutStatusbar=new h("layout-statusbar",{fontCharacter:"\\ebf5"}),h.layoutMenubar=new h("layout-menubar",{fontCharacter:"\\ebf6"}),h.layoutCentered=new h("layout-centered",{fontCharacter:"\\ebf7"}),h.target=new h("target",{fontCharacter:"\\ebf8"}),h.dialogError=new h("dialog-error",h.error.definition),h.dialogWarning=new h("dialog-warning",h.warning.definition),h.dialogInfo=new h("dialog-info",h.info.definition),h.dialogClose=new h("dialog-close",h.close.definition),h.treeItemExpanded=new h("tree-item-expanded",h.chevronDown.definition),h.treeFilterOnTypeOn=new h("tree-filter-on-type-on",h.listFilter.definition),h.treeFilterOnTypeOff=new h("tree-filter-on-type-off",h.listSelection.definition),h.treeFilterClear=new h("tree-filter-clear",h.close.definition),h.treeItemLoading=new h("tree-item-loading",h.loading.definition),h.menuSelection=new h("menu-selection",h.check.definition),h.menuSubmenu=new h("menu-submenu",h.chevronRight.definition),h.menuBarMore=new h("menubar-more",h.more.definition),h.scrollbarButtonLeft=new h("scrollbar-button-left",h.triangleLeft.definition),h.scrollbarButtonRight=new h("scrollbar-button-right",h.triangleRight.definition),h.scrollbarButtonUp=new h("scrollbar-button-up",h.triangleUp.definition),h.scrollbarButtonDown=new h("scrollbar-button-down",h.triangleDown.definition),h.toolBarMore=new h("toolbar-more",h.more.definition),h.quickInputBack=new h("quick-input-back",h.arrowLeft.definition),function(k){k.iconNameSegment="[A-Za-z0-9]+",k.iconNameExpression="[A-Za-z0-9-]+",k.iconModifierExpression="~[A-Za-z]+",k.iconNameCharacter="[A-Za-z0-9~-]";const R=new RegExp(`^(${k.iconNameExpression})(${k.iconModifierExpression})?$`);function se(V){if(V instanceof h)return["codicon","codicon-"+V.id];const x=R.exec(V.id);if(!x)return se(h.error);let[,w,D]=x;const F=["codicon","codicon-"+w];return D&&F.push("codicon-modifier-"+D.substr(1)),F}k.asClassNameArray=se,k.asClassName=function j(V){return se(V).join(" ")},k.asCSSSelector=function Y(V){return"."+se(V).join(".")}}(Q||(Q={}))},2399:(vt,Ke,m)=>{m.d(Ke,{E:()=>h,r:()=>Q});const v=Object.prototype.hasOwnProperty;function h(k,R){for(let se in k)if(v.call(k,se)&&!1===R({key:se,value:k[se]},function(){delete k[se]}))return}class Q{constructor(){this.map=new Map}add(R,se){let j=this.map.get(R);j||(j=new Set,this.map.set(R,j)),j.add(se)}delete(R,se){const j=this.map.get(R);!j||(j.delete(se),0===j.size&&this.map.delete(R))}forEach(R,se){const j=this.map.get(R);!j||j.forEach(se)}}},8927:(vt,Ke,m)=>{function v(se,j){const Y=Math.pow(10,j);return Math.round(se*Y)/Y}m.d(Ke,{VS:()=>h,tx:()=>k,Il:()=>R});class h{constructor(j,Y,V,x=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,j)),this.g=0|Math.min(255,Math.max(0,Y)),this.b=0|Math.min(255,Math.max(0,V)),this.a=v(Math.max(Math.min(1,x),0),3)}static equals(j,Y){return j.r===Y.r&&j.g===Y.g&&j.b===Y.b&&j.a===Y.a}}class Q{constructor(j,Y,V,x){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,j),0),this.s=v(Math.max(Math.min(1,Y),0),3),this.l=v(Math.max(Math.min(1,V),0),3),this.a=v(Math.max(Math.min(1,x),0),3)}static equals(j,Y){return j.h===Y.h&&j.s===Y.s&&j.l===Y.l&&j.a===Y.a}static fromRGBA(j){const Y=j.r/255,V=j.g/255,x=j.b/255,w=j.a,D=Math.max(Y,V,x),F=Math.min(Y,V,x);let f=0,T=0;const z=(F+D)/2,I=D-F;if(I>0){switch(T=Math.min(z<=.5?I/(2*z):I/(2-2*z),1),D){case Y:f=(V-x)/I+(V<x?6:0);break;case V:f=(x-Y)/I+2;break;case x:f=(Y-V)/I+4}f*=60,f=Math.round(f)}return new Q(f,T,z,w)}static _hue2rgb(j,Y,V){return V<0&&(V+=1),V>1&&(V-=1),V<1/6?j+6*(Y-j)*V:V<.5?Y:V<2/3?j+(Y-j)*(2/3-V)*6:j}static toRGBA(j){const Y=j.h/360,{s:V,l:x,a:w}=j;let D,F,f;if(0===V)D=F=f=x;else{const T=x<.5?x*(1+V):x+V-x*V,z=2*x-T;D=Q._hue2rgb(z,T,Y+1/3),F=Q._hue2rgb(z,T,Y),f=Q._hue2rgb(z,T,Y-1/3)}return new h(Math.round(255*D),Math.round(255*F),Math.round(255*f),w)}}class k{constructor(j,Y,V,x){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,j),0),this.s=v(Math.max(Math.min(1,Y),0),3),this.v=v(Math.max(Math.min(1,V),0),3),this.a=v(Math.max(Math.min(1,x),0),3)}static equals(j,Y){return j.h===Y.h&&j.s===Y.s&&j.v===Y.v&&j.a===Y.a}static fromRGBA(j){const Y=j.r/255,V=j.g/255,x=j.b/255,w=Math.max(Y,V,x),F=w-Math.min(Y,V,x),f=0===w?0:F/w;let T;return T=0===F?0:w===Y?((V-x)/F%6+6)%6:w===V?(x-Y)/F+2:(Y-V)/F+4,new k(Math.round(60*T),f,w,j.a)}static toRGBA(j){const{h:Y,s:V,v:x,a:w}=j,D=x*V,F=D*(1-Math.abs(Y/60%2-1)),f=x-D;let[T,z,I]=[0,0,0];return Y<60?(T=D,z=F):Y<120?(T=F,z=D):Y<180?(z=D,I=F):Y<240?(z=F,I=D):Y<300?(T=F,I=D):Y<=360&&(T=D,I=F),T=Math.round(255*(T+f)),z=Math.round(255*(z+f)),I=Math.round(255*(I+f)),new h(T,z,I,w)}}class R{constructor(j){if(!j)throw new Error("Color needs a value");if(j instanceof h)this.rgba=j;else if(j instanceof Q)this._hsla=j,this.rgba=Q.toRGBA(j);else{if(!(j instanceof k))throw new Error("Invalid color ctor argument");this._hsva=j,this.rgba=k.toRGBA(j)}}static fromHex(j){return R.Format.CSS.parseHex(j)||R.red}get hsla(){return this._hsla?this._hsla:Q.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:k.fromRGBA(this.rgba)}equals(j){return!!j&&h.equals(this.rgba,j.rgba)&&Q.equals(this.hsla,j.hsla)&&k.equals(this.hsva,j.hsva)}getRelativeLuminance(){return v(.2126*R._relativeLuminanceForComponent(this.rgba.r)+.7152*R._relativeLuminanceForComponent(this.rgba.g)+.0722*R._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(j){const Y=j/255;return Y<=.03928?Y/12.92:Math.pow((Y+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(j){return this.getRelativeLuminance()>j.getRelativeLuminance()}isDarkerThan(j){return this.getRelativeLuminance()<j.getRelativeLuminance()}lighten(j){return new R(new Q(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*j,this.hsla.a))}darken(j){return new R(new Q(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*j,this.hsla.a))}transparent(j){const{r:Y,g:V,b:x,a:w}=this.rgba;return new R(new h(Y,V,x,w*j))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new R(new h(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=R.Format.CSS.format(this)),this._toString}static getLighterColor(j,Y,V){if(j.isLighterThan(Y))return j;V=V||.5;const x=j.getRelativeLuminance(),w=Y.getRelativeLuminance();return j.lighten(V=V*(w-x)/w)}static getDarkerColor(j,Y,V){if(j.isDarkerThan(Y))return j;V=V||.5;const x=j.getRelativeLuminance(),w=Y.getRelativeLuminance();return j.darken(V=V*(x-w)/x)}}R.white=new R(new h(255,255,255,1)),R.black=new R(new h(0,0,0,1)),R.red=new R(new h(255,0,0,1)),R.blue=new R(new h(0,0,255,1)),R.green=new R(new h(0,255,0,1)),R.cyan=new R(new h(0,255,255,1)),R.lightgrey=new R(new h(211,211,211,1)),R.transparent=new R(new h(0,0,0,0)),function(se){let j;!function(Y){let V;!function(x){function T(M){const P=M.toString(16);return 2!==P.length?"0"+P:P}function N(M){switch(M){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}x.formatRGB=function w(M){return 1===M.rgba.a?`rgb(${M.rgba.r}, ${M.rgba.g}, ${M.rgba.b})`:se.Format.CSS.formatRGBA(M)},x.formatRGBA=function D(M){return`rgba(${M.rgba.r}, ${M.rgba.g}, ${M.rgba.b}, ${+M.rgba.a.toFixed(2)})`},x.formatHSL=function F(M){return 1===M.hsla.a?`hsl(${M.hsla.h}, ${(100*M.hsla.s).toFixed(2)}%, ${(100*M.hsla.l).toFixed(2)}%)`:se.Format.CSS.formatHSLA(M)},x.formatHSLA=function f(M){return`hsla(${M.hsla.h}, ${(100*M.hsla.s).toFixed(2)}%, ${(100*M.hsla.l).toFixed(2)}%, ${M.hsla.a.toFixed(2)})`},x.formatHex=function z(M){return`#${T(M.rgba.r)}${T(M.rgba.g)}${T(M.rgba.b)}`},x.formatHexA=function I(M,P=!1){return P&&1===M.rgba.a?se.Format.CSS.formatHex(M):`#${T(M.rgba.r)}${T(M.rgba.g)}${T(M.rgba.b)}${T(Math.round(255*M.rgba.a))}`},x.format=function H(M){return M.isOpaque()?se.Format.CSS.formatHex(M):se.Format.CSS.formatRGBA(M)},x.parseHex=function K(M){const P=M.length;if(0===P||35!==M.charCodeAt(0))return null;if(7===P){const W=16*N(M.charCodeAt(1))+N(M.charCodeAt(2)),J=16*N(M.charCodeAt(3))+N(M.charCodeAt(4)),he=16*N(M.charCodeAt(5))+N(M.charCodeAt(6));return new se(new h(W,J,he,1))}if(9===P){const W=16*N(M.charCodeAt(1))+N(M.charCodeAt(2)),J=16*N(M.charCodeAt(3))+N(M.charCodeAt(4)),he=16*N(M.charCodeAt(5))+N(M.charCodeAt(6)),ye=16*N(M.charCodeAt(7))+N(M.charCodeAt(8));return new se(new h(W,J,he,ye/255))}if(4===P){const W=N(M.charCodeAt(1)),J=N(M.charCodeAt(2)),he=N(M.charCodeAt(3));return new se(new h(16*W+W,16*J+J,16*he+he))}if(5===P){const W=N(M.charCodeAt(1)),J=N(M.charCodeAt(2)),he=N(M.charCodeAt(3)),ye=N(M.charCodeAt(4));return new se(new h(16*W+W,16*J+J,16*he+he,(16*ye+ye)/255))}return null}}(V=Y.CSS||(Y.CSS={}))}(j=se.Format||(se.Format={}))}(R||(R={}))},87:(vt,Ke,m)=>{function v(h,Q,k){let R=null,se=null;if("function"==typeof k.value?(R="value",se=k.value,0!==se.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof k.get&&(R="get",se=k.get),!se)throw new Error("not supported");const j=`$memoize$${Q}`;k[R]=function(...Y){return this.hasOwnProperty(j)||Object.defineProperty(this,j,{configurable:!1,enumerable:!1,writable:!1,value:se.apply(this,Y)}),this[j]}}m.d(Ke,{H:()=>v})},4171:(vt,Ke,m)=>{m.d(Ke,{Hs:()=>Y,a$:()=>k});class v{constructor(x,w,D,F){this.originalStart=x,this.originalLength=w,this.modifiedStart=D,this.modifiedLength=F}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var h=m(2638);class Q{constructor(x){this.source=x}getElements(){const x=this.source,w=new Int32Array(x.length);for(let D=0,F=x.length;D<F;D++)w[D]=x.charCodeAt(D);return w}}function k(V,x,w){return new Y(new Q(V),new Q(x)).ComputeDiff(w).changes}class R{static Assert(x,w){if(!x)throw new Error(w)}}class se{static Copy(x,w,D,F,f){for(let T=0;T<f;T++)D[F+T]=x[w+T]}static Copy2(x,w,D,F,f){for(let T=0;T<f;T++)D[F+T]=x[w+T]}}class j{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new v(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(x,w){this.m_originalStart=Math.min(this.m_originalStart,x),this.m_modifiedStart=Math.min(this.m_modifiedStart,w),this.m_originalCount++}AddModifiedElement(x,w){this.m_originalStart=Math.min(this.m_originalStart,x),this.m_modifiedStart=Math.min(this.m_modifiedStart,w),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Y{constructor(x,w,D=null){this.ContinueProcessingPredicate=D,this._originalSequence=x,this._modifiedSequence=w;const[F,f,T]=Y._getElements(x),[z,I,H]=Y._getElements(w);this._hasStrings=T&&H,this._originalStringElements=F,this._originalElementsOrHash=f,this._modifiedStringElements=z,this._modifiedElementsOrHash=I,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(x){return x.length>0&&"string"==typeof x[0]}static _getElements(x){const w=x.getElements();if(Y._isStringArray(w)){const D=new Int32Array(w.length);for(let F=0,f=w.length;F<f;F++)D[F]=(0,h.Cv)(w[F],0);return[w,D,!0]}return w instanceof Int32Array?[[],w,!1]:[[],new Int32Array(w),!1]}ElementsAreEqual(x,w){return this._originalElementsOrHash[x]===this._modifiedElementsOrHash[w]&&(!this._hasStrings||this._originalStringElements[x]===this._modifiedStringElements[w])}ElementsAreStrictEqual(x,w){return!!this.ElementsAreEqual(x,w)&&Y._getStrictElement(this._originalSequence,x)===Y._getStrictElement(this._modifiedSequence,w)}static _getStrictElement(x,w){return"function"==typeof x.getStrictElement?x.getStrictElement(w):null}OriginalElementsAreEqual(x,w){return this._originalElementsOrHash[x]===this._originalElementsOrHash[w]&&(!this._hasStrings||this._originalStringElements[x]===this._originalStringElements[w])}ModifiedElementsAreEqual(x,w){return this._modifiedElementsOrHash[x]===this._modifiedElementsOrHash[w]&&(!this._hasStrings||this._modifiedStringElements[x]===this._modifiedStringElements[w])}ComputeDiff(x){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,x)}_ComputeDiff(x,w,D,F,f){const T=[!1];let z=this.ComputeDiffRecursive(x,w,D,F,T);return f&&(z=this.PrettifyChanges(z)),{quitEarly:T[0],changes:z}}ComputeDiffRecursive(x,w,D,F,f){for(f[0]=!1;x<=w&&D<=F&&this.ElementsAreEqual(x,D);)x++,D++;for(;w>=x&&F>=D&&this.ElementsAreEqual(w,F);)w--,F--;if(x>w||D>F){let N;return D<=F?(R.Assert(x===w+1,"originalStart should only be one more than originalEnd"),N=[new v(x,0,D,F-D+1)]):x<=w?(R.Assert(D===F+1,"modifiedStart should only be one more than modifiedEnd"),N=[new v(x,w-x+1,D,0)]):(R.Assert(x===w+1,"originalStart should only be one more than originalEnd"),R.Assert(D===F+1,"modifiedStart should only be one more than modifiedEnd"),N=[]),N}const T=[0],z=[0],I=this.ComputeRecursionPoint(x,w,D,F,T,z,f),H=T[0],K=z[0];if(null!==I)return I;if(!f[0]){const N=this.ComputeDiffRecursive(x,H,D,K,f);let M=[];return M=f[0]?[new v(H+1,w-(H+1)+1,K+1,F-(K+1)+1)]:this.ComputeDiffRecursive(H+1,w,K+1,F,f),this.ConcatenateChanges(N,M)}return[new v(x,w-x+1,D,F-D+1)]}WALKTRACE(x,w,D,F,f,T,z,I,H,K,N,M,P,W,J,he,ye,fe){let Se=null,Ie=null,_e=new j,$=w,X=D,pe=P[0]-he[0]-F,re=-1073741824,ne=this.m_forwardHistory.length-1;do{const ce=pe+x;ce===$||ce<X&&H[ce-1]<H[ce+1]?(W=(N=H[ce+1])-pe-F,N<re&&_e.MarkNextChange(),re=N,_e.AddModifiedElement(N+1,W),pe=ce+1-x):(W=(N=H[ce-1]+1)-pe-F,N<re&&_e.MarkNextChange(),re=N-1,_e.AddOriginalElement(N,W+1),pe=ce-1-x),ne>=0&&(x=(H=this.m_forwardHistory[ne])[0],$=1,X=H.length-1)}while(--ne>=-1);if(Se=_e.getReverseChanges(),fe[0]){let ce=P[0]+1,ue=he[0]+1;if(null!==Se&&Se.length>0){const we=Se[Se.length-1];ce=Math.max(ce,we.getOriginalEnd()),ue=Math.max(ue,we.getModifiedEnd())}Ie=[new v(ce,M-ce+1,ue,J-ue+1)]}else{_e=new j,$=T,X=z,pe=P[0]-he[0]-I,re=1073741824,ne=ye?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const ce=pe+f;ce===$||ce<X&&K[ce-1]>=K[ce+1]?(W=(N=K[ce+1]-1)-pe-I,N>re&&_e.MarkNextChange(),re=N+1,_e.AddOriginalElement(N+1,W+1),pe=ce+1-f):(W=(N=K[ce-1])-pe-I,N>re&&_e.MarkNextChange(),re=N,_e.AddModifiedElement(N+1,W+1),pe=ce-1-f),ne>=0&&(f=(K=this.m_reverseHistory[ne])[0],$=1,X=K.length-1)}while(--ne>=-1);Ie=_e.getChanges()}return this.ConcatenateChanges(Se,Ie)}ComputeRecursionPoint(x,w,D,F,f,T,z){let I=0,H=0,K=0,N=0,M=0,P=0;x--,D--,f[0]=0,T[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const W=w-x+(F-D),J=W+1,he=new Int32Array(J),ye=new Int32Array(J),fe=F-D,Se=w-x,Ie=x-D,_e=w-F,X=(Se-fe)%2==0;he[fe]=x,ye[Se]=w,z[0]=!1;for(let pe=1;pe<=W/2+1;pe++){let re=0,ne=0;K=this.ClipDiagonalBound(fe-pe,pe,fe,J),N=this.ClipDiagonalBound(fe+pe,pe,fe,J);for(let ue=K;ue<=N;ue+=2){I=ue===K||ue<N&&he[ue-1]<he[ue+1]?he[ue+1]:he[ue-1]+1,H=I-(ue-fe)-Ie;const we=I;for(;I<w&&H<F&&this.ElementsAreEqual(I+1,H+1);)I++,H++;if(he[ue]=I,I+H>re+ne&&(re=I,ne=H),!X&&Math.abs(ue-Se)<=pe-1&&I>=ye[ue])return f[0]=I,T[0]=H,we<=ye[ue]&&pe<=1448?this.WALKTRACE(fe,K,N,Ie,Se,M,P,_e,he,ye,I,w,f,H,F,T,X,z):null}const ce=(re-x+(ne-D)-pe)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(re,ce))return z[0]=!0,f[0]=re,T[0]=ne,ce>0&&pe<=1448?this.WALKTRACE(fe,K,N,Ie,Se,M,P,_e,he,ye,I,w,f,H,F,T,X,z):(x++,D++,[new v(x,w-x+1,D,F-D+1)]);M=this.ClipDiagonalBound(Se-pe,pe,Se,J),P=this.ClipDiagonalBound(Se+pe,pe,Se,J);for(let ue=M;ue<=P;ue+=2){I=ue===M||ue<P&&ye[ue-1]>=ye[ue+1]?ye[ue+1]-1:ye[ue-1],H=I-(ue-Se)-_e;const we=I;for(;I>x&&H>D&&this.ElementsAreEqual(I,H);)I--,H--;if(ye[ue]=I,X&&Math.abs(ue-fe)<=pe&&I<=he[ue])return f[0]=I,T[0]=H,we>=he[ue]&&pe<=1448?this.WALKTRACE(fe,K,N,Ie,Se,M,P,_e,he,ye,I,w,f,H,F,T,X,z):null}if(pe<=1447){let ue=new Int32Array(N-K+2);ue[0]=fe-K+1,se.Copy2(he,K,ue,1,N-K+1),this.m_forwardHistory.push(ue),ue=new Int32Array(P-M+2),ue[0]=Se-M+1,se.Copy2(ye,M,ue,1,P-M+1),this.m_reverseHistory.push(ue)}}return this.WALKTRACE(fe,K,N,Ie,Se,M,P,_e,he,ye,I,w,f,H,F,T,X,z)}PrettifyChanges(x){for(let w=0;w<x.length;w++){const D=x[w],F=w<x.length-1?x[w+1].originalStart:this._originalElementsOrHash.length,f=w<x.length-1?x[w+1].modifiedStart:this._modifiedElementsOrHash.length,T=D.originalLength>0,z=D.modifiedLength>0;for(;D.originalStart+D.originalLength<F&&D.modifiedStart+D.modifiedLength<f&&(!T||this.OriginalElementsAreEqual(D.originalStart,D.originalStart+D.originalLength))&&(!z||this.ModifiedElementsAreEqual(D.modifiedStart,D.modifiedStart+D.modifiedLength));){const H=this.ElementsAreStrictEqual(D.originalStart,D.modifiedStart);if(this.ElementsAreStrictEqual(D.originalStart+D.originalLength,D.modifiedStart+D.modifiedLength)&&!H)break;D.originalStart++,D.modifiedStart++}let I=[null];w<x.length-1&&this.ChangesOverlap(x[w],x[w+1],I)&&(x[w]=I[0],x.splice(w+1,1),w--)}for(let w=x.length-1;w>=0;w--){const D=x[w];let F=0,f=0;if(w>0){const N=x[w-1];F=N.originalStart+N.originalLength,f=N.modifiedStart+N.modifiedLength}const T=D.originalLength>0,z=D.modifiedLength>0;let I=0,H=this._boundaryScore(D.originalStart,D.originalLength,D.modifiedStart,D.modifiedLength);for(let N=1;;N++){const M=D.originalStart-N,P=D.modifiedStart-N;if(M<F||P<f||T&&!this.OriginalElementsAreEqual(M,M+D.originalLength)||z&&!this.ModifiedElementsAreEqual(P,P+D.modifiedLength))break;const J=(M===F&&P===f?5:0)+this._boundaryScore(M,D.originalLength,P,D.modifiedLength);J>H&&(H=J,I=N)}D.originalStart-=I,D.modifiedStart-=I;const K=[null];w>0&&this.ChangesOverlap(x[w-1],x[w],K)&&(x[w-1]=K[0],x.splice(w,1),w++)}if(this._hasStrings)for(let w=1,D=x.length;w<D;w++){const F=x[w-1],f=x[w],T=f.originalStart-F.originalStart-F.originalLength,z=F.originalStart,I=f.originalStart+f.originalLength,H=I-z,K=F.modifiedStart,N=f.modifiedStart+f.modifiedLength,M=N-K;if(T<5&&H<20&&M<20){const P=this._findBetterContiguousSequence(z,H,K,M,T);if(P){const[W,J]=P;(W!==F.originalStart+F.originalLength||J!==F.modifiedStart+F.modifiedLength)&&(F.originalLength=W-F.originalStart,F.modifiedLength=J-F.modifiedStart,f.originalStart=W+T,f.modifiedStart=J+T,f.originalLength=I-f.originalStart,f.modifiedLength=N-f.modifiedStart)}}}return x}_findBetterContiguousSequence(x,w,D,F,f){if(w<f||F<f)return null;const T=x+w-f+1,z=D+F-f+1;let I=0,H=0,K=0;for(let N=x;N<T;N++)for(let M=D;M<z;M++){const P=this._contiguousSequenceScore(N,M,f);P>0&&P>I&&(I=P,H=N,K=M)}return I>0?[H,K]:null}_contiguousSequenceScore(x,w,D){let F=0;for(let f=0;f<D;f++){if(!this.ElementsAreEqual(x+f,w+f))return 0;F+=this._originalStringElements[x+f].length}return F}_OriginalIsBoundary(x){return x<=0||x>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[x])}_OriginalRegionIsBoundary(x,w){if(this._OriginalIsBoundary(x)||this._OriginalIsBoundary(x-1))return!0;if(w>0){const D=x+w;if(this._OriginalIsBoundary(D-1)||this._OriginalIsBoundary(D))return!0}return!1}_ModifiedIsBoundary(x){return x<=0||x>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[x])}_ModifiedRegionIsBoundary(x,w){if(this._ModifiedIsBoundary(x)||this._ModifiedIsBoundary(x-1))return!0;if(w>0){const D=x+w;if(this._ModifiedIsBoundary(D-1)||this._ModifiedIsBoundary(D))return!0}return!1}_boundaryScore(x,w,D,F){return(this._OriginalRegionIsBoundary(x,w)?1:0)+(this._ModifiedRegionIsBoundary(D,F)?1:0)}ConcatenateChanges(x,w){let D=[];if(0===x.length||0===w.length)return w.length>0?w:x;if(this.ChangesOverlap(x[x.length-1],w[0],D)){const F=new Array(x.length+w.length-1);return se.Copy(x,0,F,0,x.length-1),F[x.length-1]=D[0],se.Copy(w,1,F,x.length,w.length-1),F}{const F=new Array(x.length+w.length);return se.Copy(x,0,F,0,x.length),se.Copy(w,0,F,x.length,w.length),F}}ChangesOverlap(x,w,D){if(R.Assert(x.originalStart<=w.originalStart,"Left change is not less than or equal to right change"),R.Assert(x.modifiedStart<=w.modifiedStart,"Left change is not less than or equal to right change"),x.originalStart+x.originalLength>=w.originalStart||x.modifiedStart+x.modifiedLength>=w.modifiedStart){let f=x.originalLength,z=x.modifiedLength;return x.originalStart+x.originalLength>=w.originalStart&&(f=w.originalStart+w.originalLength-x.originalStart),x.modifiedStart+x.modifiedLength>=w.modifiedStart&&(z=w.modifiedStart+w.modifiedLength-x.modifiedStart),D[0]=new v(x.originalStart,f,x.modifiedStart,z),!0}return D[0]=null,!1}ClipDiagonalBound(x,w,D,F){if(x>=0&&x<F)return x;const z=w%2==0;return x<0?z===(D%2==0)?0:1:z===((F-D-1)%2==0)?F-1:F-2}}},3663:(vt,Ke,m)=>{m.d(Ke,{dL:()=>Q,Cp:()=>k,ri:()=>R,n2:()=>j,FU:()=>Y,F0:()=>V,b1:()=>x,L6:()=>w,B8:()=>D});const h=new class v{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(f){setTimeout(()=>{throw f.stack?new Error(f.message+"\n\n"+f.stack):f},0)}}emit(f){this.listeners.forEach(T=>{T(f)})}onUnexpectedError(f){this.unexpectedErrorHandler(f),this.emit(f)}onUnexpectedExternalError(f){this.unexpectedErrorHandler(f)}};function Q(F){j(F)||h.onUnexpectedError(F)}function k(F){j(F)||h.onUnexpectedExternalError(F)}function R(F){if(F instanceof Error){let{name:f,message:T}=F;return{$isError:!0,name:f,message:T,stack:F.stacktrace||F.stack}}return F}const se="Canceled";function j(F){return F instanceof Y||F instanceof Error&&F.name===se&&F.message===se}class Y extends Error{constructor(){super(se),this.name=this.message}}function V(){const F=new Error(se);return F.name=F.message,F}function x(F){return F?new Error(`Illegal argument: ${F}`):new Error("Illegal argument")}function w(F){return F?new Error(`Illegal state: ${F}`):new Error("Illegal state")}class D extends Error{constructor(f){super("NotSupported"),f&&(this.message=f)}}},2787:(vt,Ke,m)=>{m.d(Ke,{ju:()=>R,Q5:()=>V,K3:()=>x,D0:()=>w,E7:()=>D,ZD:()=>F});var R,v=m(3663),h=m(2425),Q=m(8460),k=m(1724);!function(f){function T(ne){return(ce,ue=null,we)=>{let lt,He=!1;return lt=ne(ut=>{if(!He)return lt?lt.dispose():He=!0,ce.call(ue,ut)},null,we),He&&lt.dispose(),lt}}function z(ne,ce){return P((ue,we=null,He)=>ne(lt=>ue.call(we,ce(lt)),null,He))}function I(ne,ce){return P((ue,we=null,He)=>ne(lt=>{ce(lt),ue.call(we,lt)},null,He))}function H(ne,ce){return P((ue,we=null,He)=>ne(lt=>ce(lt)&&ue.call(we,lt),null,He))}function M(ne,ce,ue){let we=ue;return z(ne,He=>(we=ce(we,He),we))}function P(ne){let ce;const ue=new V({onFirstListenerAdd(){ce=ne(ue.fire,ue)},onLastListenerRemove(){ce.dispose()}});return ue.event}function J(ne,ce,ue=100,we=!1,He){let lt,ut,Ve,ct=0;const Nt=new V({leakWarningThreshold:He,onFirstListenerAdd(){lt=ne(un=>{ct++,ut=ce(ut,un),we&&!Ve&&(Nt.fire(ut),ut=void 0),clearTimeout(Ve),Ve=setTimeout(()=>{const Jt=ut;ut=void 0,Ve=void 0,(!we||ct>1)&&Nt.fire(Jt),ct=0},ue)})},onLastListenerRemove(){lt.dispose()}});return Nt.event}function he(ne,ce=((ue,we)=>ue===we)){let we,ue=!0;return H(ne,He=>{const lt=ue||!ce(He,we);return ue=!1,we=He,lt})}f.None=()=>h.JT.None,f.once=T,f.map=z,f.forEach=I,f.filter=H,f.signal=function K(ne){return ne},f.any=function N(...ne){return(ce,ue=null,we)=>(0,h.F8)(...ne.map(He=>He(lt=>ce.call(ue,lt),null,we)))},f.reduce=M,f.debouncedListener=function W(ne,ce,ue,we=100,He=!1){let lt,ut,Ve=0;return ne(ct=>{Ve++,lt=ue(lt,ct),He&&!ut&&(ce(lt),lt=void 0),clearTimeout(ut),ut=setTimeout(()=>{const Nt=lt;lt=void 0,ut=void 0,(!He||Ve>1)&&ce(Nt),Ve=0},we)})},f.debounce=J,f.latch=he,f.split=function ye(ne,ce){return[f.filter(ne,ce),f.filter(ne,ue=>!ce(ue))]},f.buffer=function fe(ne,ce=!1,ue=[]){let we=ue.slice(),He=ne(Ve=>{we?we.push(Ve):ut.fire(Ve)});const lt=()=>{we&&we.forEach(Ve=>ut.fire(Ve)),we=null},ut=new V({onFirstListenerAdd(){He||(He=ne(Ve=>ut.fire(Ve)))},onFirstListenerDidAdd(){we&&(ce?setTimeout(lt):lt())},onLastListenerRemove(){He&&He.dispose(),He=null}});return ut.event};class Se{constructor(ce){this.event=ce}map(ce){return new Se(z(this.event,ce))}forEach(ce){return new Se(I(this.event,ce))}filter(ce){return new Se(H(this.event,ce))}reduce(ce,ue){return new Se(M(this.event,ce,ue))}latch(){return new Se(he(this.event))}debounce(ce,ue=100,we=!1,He){return new Se(J(this.event,ce,ue,we,He))}on(ce,ue,we){return this.event(ce,ue,we)}once(ce,ue,we){return T(this.event)(ce,ue,we)}}f.chain=function Ie(ne){return new Se(ne)},f.fromNodeEventEmitter=function _e(ne,ce,ue=(we=>we)){const we=(...Ve)=>ut.fire(ue(...Ve)),ut=new V({onFirstListenerAdd:()=>ne.on(ce,we),onLastListenerRemove:()=>ne.removeListener(ce,we)});return ut.event},f.fromDOMEventEmitter=function $(ne,ce,ue=(we=>we)){const we=(...Ve)=>ut.fire(ue(...Ve)),ut=new V({onFirstListenerAdd:()=>ne.addEventListener(ce,we),onLastListenerRemove:()=>ne.removeEventListener(ce,we)});return ut.event},f.toPromise=function X(ne){return new Promise(ce=>T(ne)(ce))},f.runAndSubscribe=function pe(ne,ce){return ce(void 0),ne(ue=>ce(ue))},f.runAndSubscribeWithStore=function re(ne,ce){let ue=null;function we(lt){null==ue||ue.dispose(),ue=new h.SL,ce(lt,ue)}we(void 0);const He=ne(lt=>we(lt));return(0,h.OF)(()=>{He.dispose(),null==ue||ue.dispose()})}}(R||(R={}));let se=(()=>{class f{constructor(z){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${z}_${f._idPool++}`}start(z){this._stopWatch=new k.G(!0),this._listenerCount=z}stop(){if(this._stopWatch){const z=this._stopWatch.elapsed();this._elapsedOverall+=z,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${z.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return f._idPool=0,f})();class V{constructor(T){var z;this._disposed=!1,this._options=T,this._leakageMon=void 0,this._perfMon=(null===(z=this._options)||void 0===z?void 0:z._profName)?new se(this._options._profName):void 0}get event(){return this._event||(this._event=(T,z,I)=>{var H;this._listeners||(this._listeners=new Q.S);const K=this._listeners.isEmpty();K&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const N=this._listeners.push(z?[T,z]:T);K&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,T,z);const M=null===(H=this._leakageMon)||void 0===H?void 0:H.check(this._listeners.size),P=(0,h.OF)(()=>{M&&M(),this._disposed||(N(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return I instanceof h.SL?I.add(P):Array.isArray(I)&&I.push(P),P}),this._event}fire(T){var z,I;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Q.S);for(let H of this._listeners)this._deliveryQueue.push([H,T]);for(null===(z=this._perfMon)||void 0===z||z.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[H,K]=this._deliveryQueue.shift();try{"function"==typeof H?H.call(void 0,K):H[0].call(H[1],K)}catch(N){(0,v.dL)(N)}}null===(I=this._perfMon)||void 0===I||I.stop()}}dispose(){var T,z,I,H,K;this._disposed||(this._disposed=!0,null===(T=this._listeners)||void 0===T||T.clear(),null===(z=this._deliveryQueue)||void 0===z||z.clear(),null===(H=null===(I=this._options)||void 0===I?void 0:I.onLastListenerRemove)||void 0===H||H.call(I),null===(K=this._leakageMon)||void 0===K||K.dispose())}}class x extends V{constructor(T){super(T),this._isPaused=0,this._eventQueue=new Q.S,this._mergeFn=null==T?void 0:T.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const T=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(T))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(T){this._listeners&&(0!==this._isPaused?this._eventQueue.push(T):super.fire(T))}}class w extends x{constructor(T){var z;super(T),this._delay=null!==(z=T.delay)&&void 0!==z?z:100}fire(T){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(T)}}class D{constructor(){this.buffers=[]}wrapEvent(T){return(z,I,H)=>T(K=>{const N=this.buffers[this.buffers.length-1];N?N.push(()=>z.call(I,K)):z.call(I,K)},void 0,H)}bufferEvents(T){const z=[];this.buffers.push(z);const I=T();return this.buffers.pop(),z.forEach(H=>H()),I}}class F{constructor(){this.listening=!1,this.inputEvent=R.None,this.inputEventListener=h.JT.None,this.emitter=new V({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(T){this.inputEvent=T,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=T(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},5170:(vt,Ke,m)=>{m.d(Ke,{ej:()=>R,fn:()=>se,yj:()=>j,KM:()=>Y,vY:()=>x,oP:()=>w});var v=m(4163),h=m(8972),Q=m(4705);function k(D){return 47===D||92===D}function R(D){return D.replace(/[\\/]/g,v.KR.sep)}function se(D){return-1===D.indexOf("/")&&(D=R(D)),/^[a-zA-Z]:(\/|$)/.test(D)&&(D="/"+D),D}function j(D,F=v.KR.sep){if(!D)return"";const f=D.length,T=D.charCodeAt(0);if(k(T)){if(k(D.charCodeAt(1))&&!k(D.charCodeAt(2))){let I=3;const H=I;for(;I<f&&!k(D.charCodeAt(I));I++);if(H!==I&&!k(D.charCodeAt(I+1)))for(I+=1;I<f;I++)if(k(D.charCodeAt(I)))return D.slice(0,I+1).replace(/[\\/]/g,F)}return F}if(V(T)&&58===D.charCodeAt(1))return k(D.charCodeAt(2))?D.slice(0,2)+F:D.slice(0,2);let z=D.indexOf("://");if(-1!==z)for(z+=3;z<f;z++)if(k(D.charCodeAt(z)))return D.slice(0,z+1);return""}function Y(D,F,f,T=v.ir){if(D===F)return!0;if(!D||!F||F.length>D.length)return!1;if(f){if(!(0,Q.ok)(D,F))return!1;if(F.length===D.length)return!0;let I=F.length;return F.charAt(F.length-1)===T&&I--,D.charAt(I)===T}return F.charAt(F.length-1)!==T&&(F+=T),0===D.indexOf(F)}function V(D){return D>=65&&D<=90||D>=97&&D<=122}function x(D){const F=(0,v.Fv)(D);return h.ED?!(D.length>3)&&w(F)&&(2===D.length||92===F.charCodeAt(2)):F===v.KR.sep}function w(D,F){return!!(void 0!==F?F:h.ED)&&V(D.charCodeAt(0))&&58===D.charCodeAt(1)}},1979:(vt,Ke,m)=>{m.d(Ke,{or:()=>Q,Ji:()=>R,ir:()=>j,KZ:()=>ye,Oh:()=>X,jB:()=>pe,mB:()=>re,CL:()=>Xt,EW:()=>ze,l7:()=>nn});var v=m(7838),h=m(4705);function Q(...yt){return function(Ht,jt){for(let _n=0,In=yt.length;_n<In;_n++){const it=yt[_n](Ht,jt);if(it)return it}return null}}se.bind(void 0,!1);const R=se.bind(void 0,!0);function se(yt,Ht,jt){if(!jt||jt.length<Ht.length)return null;let _n;return _n=yt?h.ok(jt,Ht):0===jt.indexOf(Ht),_n?Ht.length>0?[{start:0,end:Ht.length}]:[]:null}function j(yt,Ht){const jt=Ht.toLowerCase().indexOf(yt.toLowerCase());return-1===jt?null:[{start:jt,end:jt+yt.length}]}function V(yt,Ht,jt,_n){if(jt===yt.length)return[];if(_n===Ht.length)return null;if(yt[jt]===Ht[_n]){let In=null;return(In=V(yt,Ht,jt+1,_n+1))?H({start:_n,end:_n+1},In):null}return V(yt,Ht,jt,_n+1)}function x(yt){return 97<=yt&&yt<=122}function w(yt){return 65<=yt&&yt<=90}function D(yt){return 48<=yt&&yt<=57}function F(yt){return 32===yt||9===yt||10===yt||13===yt}const f=new Set;function T(yt){return F(yt)||f.has(yt)}function I(yt){return x(yt)||w(yt)||D(yt)}function H(yt,Ht){return 0===Ht.length?Ht=[yt]:yt.end===Ht[0].start?Ht[0].start=yt.start:Ht.unshift(yt),Ht}function K(yt,Ht){for(let jt=Ht;jt<yt.length;jt++){const _n=yt.charCodeAt(jt);if(w(_n)||D(_n)||jt>0&&!I(yt.charCodeAt(jt-1)))return jt}return yt.length}function N(yt,Ht,jt,_n){if(jt===yt.length)return[];if(_n===Ht.length)return null;if(yt[jt]!==Ht[_n].toLowerCase())return null;{let In=null,it=_n+1;for(In=N(yt,Ht,jt+1,_n+1);!In&&(it=K(Ht,it))<Ht.length;)In=N(yt,Ht,jt+1,it),it++;return null===In?null:H({start:_n,end:_n+1},In)}}function he(yt,Ht){if(!Ht||0===(Ht=Ht.trim()).length||!function J(yt){let Ht=0,jt=0,_n=0,In=0;for(let it=0;it<yt.length;it++)_n=yt.charCodeAt(it),w(_n)&&Ht++,x(_n)&&jt++,F(_n)&&In++;return 0!==Ht&&0!==jt||0!==In?Ht<=5:yt.length<=30}(yt)||Ht.length>60)return null;const jt=function M(yt){let Ht=0,jt=0,_n=0,In=0,it=0;for(let vn=0;vn<yt.length;vn++)it=yt.charCodeAt(vn),w(it)&&Ht++,x(it)&&jt++,I(it)&&_n++,D(it)&&In++;return{upperPercent:Ht/yt.length,lowerPercent:jt/yt.length,alphaPercent:_n/yt.length,numericPercent:In/yt.length}}(Ht);if(!function W(yt){const{upperPercent:Ht,lowerPercent:jt,alphaPercent:_n,numericPercent:In}=yt;return jt>.2&&Ht<.8&&_n>.6&&In<.2}(jt)){if(!function P(yt){const{upperPercent:Ht,lowerPercent:jt}=yt;return 0===jt&&Ht>.6}(jt))return null;Ht=Ht.toLowerCase()}let _n=null,In=0;for(yt=yt.toLowerCase();In<Ht.length&&null===(_n=N(yt,Ht,0,In));)In=K(Ht,In+1);return _n}function ye(yt,Ht,jt=!1){if(!Ht||0===Ht.length)return null;let _n=null,In=0;for(yt=yt.toLowerCase(),Ht=Ht.toLowerCase();In<Ht.length&&null===(_n=fe(yt,Ht,0,In,jt));)In=Se(Ht,In+1);return _n}function fe(yt,Ht,jt,_n,In){if(jt===yt.length)return[];if(_n===Ht.length)return null;if(function z(yt,Ht){return yt===Ht||T(yt)&&T(Ht)}(yt.charCodeAt(jt),Ht.charCodeAt(_n))){let it=null,$t=_n+1;if(it=fe(yt,Ht,jt+1,_n+1,In),!In)for(;!it&&($t=Se(Ht,$t))<Ht.length;)it=fe(yt,Ht,jt+1,$t,In),$t++;return null===it?null:H({start:_n,end:_n+1},it)}return null}function Se(yt,Ht){for(let jt=Ht;jt<yt.length;jt++)if(T(yt.charCodeAt(jt))||jt>0&&T(yt.charCodeAt(jt-1)))return jt;return yt.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(yt=>f.add(yt.charCodeAt(0)));const Ie=Q(R,he,j),_e=Q(R,he,function Y(yt,Ht){return V(yt.toLowerCase(),Ht.toLowerCase(),0,0)}),$=new v.z6(1e4);function X(yt,Ht,jt=!1){if("string"!=typeof yt||"string"!=typeof Ht)return null;let _n=$.get(yt);_n||(_n=new RegExp(h.un(yt),"i"),$.set(yt,_n));const In=_n.exec(Ht);return In?[{start:In.index,end:In.index+In[0].length}]:jt?_e(yt,Ht):Ie(yt,Ht)}function pe(yt,Ht,jt,_n,In,it){const $t=Math.min(13,yt.length);for(;jt<$t;jt++){const bt=ze(yt,Ht,jt,_n,In,it,!1);if(bt)return bt}return[0,it]}function re(yt){if(void 0===yt)return[];const Ht=[],jt=yt[1];for(let _n=yt.length-1;_n>1;_n--){const In=yt[_n]+jt,it=Ht[Ht.length-1];it&&it.end===In?it.end=In+1:Ht.push({start:In,end:In+1})}return Ht}function ce(){const yt=[],Ht=[];for(let jt=0;jt<=128;jt++)Ht[jt]=0;for(let jt=0;jt<=128;jt++)yt.push(Ht.slice(0));return yt}function ue(yt){const Ht=[];for(let jt=0;jt<=yt;jt++)Ht[jt]=0;return Ht}const we=ue(256),He=ue(256),lt=ce(),ut=ce(),Ve=ce();function Jt(yt,Ht){if(Ht<0||Ht>=yt.length)return!1;const jt=yt.codePointAt(Ht);switch(jt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!h.C8(jt)}}function St(yt,Ht){if(Ht<0||Ht>=yt.length)return!1;switch(yt.charCodeAt(Ht)){case 32:case 9:return!0;default:return!1}}function en(yt,Ht,jt){return Ht[yt]!==jt[yt]}var Xt,yt;function ze(yt,Ht,jt,_n,In,it,$t){const bt=yt.length>128?128:yt.length,Zt=_n.length>128?128:_n.length;if(jt>=bt||it>=Zt||bt-jt>Zt-it||!function pn(yt,Ht,jt,_n,In,it,$t=!1){for(;Ht<jt&&In<it;)yt[Ht]===_n[In]&&($t&&(we[Ht]=In),Ht+=1),In+=1;return Ht===jt}(Ht,jt,bt,In,it,Zt,!0))return;!function At(yt,Ht,jt,_n,In,it){let $t=yt-1,bt=Ht-1;for(;$t>=jt&&bt>=_n;)In[$t]===it[bt]&&(He[$t]=bt,$t--),bt--}(bt,Zt,jt,it,Ht,In);let Rn=1,vn=1,Wn=jt,pt=it;const ei=[!1];for(Rn=1,Wn=jt;Wn<bt;Rn++,Wn++){const ot=we[Wn],on=He[Wn],Tn=Wn+1<bt?He[Wn+1]:Zt;for(vn=ot-it+1,pt=ot;pt<Tn;vn++,pt++){let Mi=Number.MIN_SAFE_INTEGER,xn=!1;pt<=on&&(Mi=Kt(yt,Ht,Wn,jt,_n,In,pt,Zt,it,0===lt[Rn-1][vn-1],ei));let rn=0;Mi!==Number.MAX_SAFE_INTEGER&&(xn=!0,rn=Mi+ut[Rn-1][vn-1]);const tn=pt>ot,bn=tn?ut[Rn][vn-1]+(lt[Rn][vn-1]>0?-5:0):0,mt=pt>ot+1&&lt[Rn][vn-1]>0,Xe=mt?ut[Rn][vn-2]+(lt[Rn][vn-2]>0?-5:0):0;if(mt&&(!tn||Xe>=bn)&&(!xn||Xe>=rn))ut[Rn][vn]=Xe,Ve[Rn][vn]=3,lt[Rn][vn]=0;else if(tn&&(!xn||bn>=rn))ut[Rn][vn]=bn,Ve[Rn][vn]=2,lt[Rn][vn]=0;else{if(!xn)throw new Error("not possible");ut[Rn][vn]=rn,Ve[Rn][vn]=1,lt[Rn][vn]=lt[Rn-1][vn-1]+1}}}if(!ei[0]&&!$t)return;Rn--,vn--;const dt=[ut[Rn][vn],it];let ke=0,ft=0;for(;Rn>=1;){let ot=vn;do{const on=Ve[Rn][ot];if(3===on)ot-=2;else{if(2!==on)break;ot-=1}}while(ot>=1);ke>1&&Ht[jt+Rn-1]===In[it+vn-1]&&!en(ot+it-1,_n,In)&&ke+1>lt[Rn][ot]&&(ot=vn),ot===vn?ke++:ke=1,ft||(ft=ot),Rn--,vn=ot-1,dt.push(vn)}return Zt===bt&&(dt[0]+=2),dt[0]-=ft-bt,dt}function Kt(yt,Ht,jt,_n,In,it,$t,bt,Zt,Rn,vn){if(Ht[jt]!==it[$t])return Number.MIN_SAFE_INTEGER;let Wn=1,pt=!1;return $t===jt-_n?Wn=yt[jt]===In[$t]?7:5:!en($t,In,it)||0!==$t&&en($t-1,In,it)?!Jt(it,$t)||0!==$t&&Jt(it,$t-1)?(Jt(it,$t-1)||St(it,$t-1))&&(Wn=5,pt=!0):Wn=5:(Wn=yt[jt]===In[$t]?7:5,pt=!0),Wn>1&&jt===_n&&(vn[0]=!0),pt||(pt=en($t,In,it)||Jt(it,$t-1)||St(it,$t-1)),jt===_n?$t>Zt&&(Wn-=pt?3:5):Wn+=Rn?pt?2:0:pt?0:1,$t+1===bt&&(Wn-=pt?3:5),Wn}function nn(yt,Ht,jt,_n,In,it,$t){return function Mn(yt,Ht,jt,_n,In,it,$t,bt){let Zt=ze(yt,Ht,jt,_n,In,it,bt);if(Zt&&!$t)return Zt;if(yt.length>=3){const Rn=Math.min(7,yt.length-1);for(let vn=jt+1;vn<Rn;vn++){const Wn=Nn(yt,vn);if(Wn){const pt=ze(Wn,Wn.toLowerCase(),jt,_n,In,it,bt);pt&&(pt[0]-=3,(!Zt||pt[0]>Zt[0])&&(Zt=pt))}}}return Zt}(yt,Ht,jt,_n,In,it,!0,$t)}function Nn(yt,Ht){if(Ht+1>=yt.length)return;const jt=yt[Ht],_n=yt[Ht+1];return jt!==_n?yt.slice(0,Ht)+_n+jt+yt.slice(Ht+2):void 0}(yt=Xt||(Xt={})).Default=[-100,0],yt.isDefault=function Ht(jt){return!jt||2===jt.length&&-100===jt[0]&&0===jt[1]}},2706:(vt,Ke,m)=>{function v(h){const Q=this;let R,k=!1;return function(){return k||(k=!0,R=h.apply(Q,arguments)),R}}m.d(Ke,{I:()=>v})},1383:(vt,Ke,m)=>{m.d(Ke,{EQ:()=>$,Qc:()=>X});var v=m(3072),h=m(5170),Q=m(7838),k=m(4163),R=m(8972),se=m(4705);const j="**",V="[/\\\\]",x="[^/\\\\]",w=/\//g;function D(ue){switch(ue){case 0:return"";case 1:return`${x}*?`;default:return`(?:${V}|${x}+${V}|${V}${x}+)*?`}}function F(ue,we){if(!ue)return[];const He=[];let lt=!1,ut=!1,Ve="";for(const ct of ue){switch(ct){case we:if(!lt&&!ut){He.push(Ve),Ve="";continue}break;case"{":lt=!0;break;case"}":lt=!1;break;case"[":ut=!0;break;case"]":ut=!1}Ve+=ct}return Ve&&He.push(Ve),He}function f(ue){if(!ue)return"";let we="";const He=F(ue,"/");if(He.every(lt=>lt===j))we=".*";else{let lt=!1;He.forEach((ut,Ve)=>{if(ut===j)return void(lt||(we+=D(2),lt=!0));let ct=!1,Nt="",un=!1,Jt="";for(const St of ut)if("}"!==St&&ct)Nt+=St;else if(!un||"]"===St&&Jt)switch(St){case"{":ct=!0;continue;case"[":un=!0;continue;case"}":we+=`(?:${F(Nt,",").map(Xt=>f(Xt)).join("|")})`,ct=!1,Nt="";break;case"]":we+="["+Jt+"]",un=!1,Jt="";break;case"?":we+=x;continue;case"*":we+=D(1);continue;default:we+=(0,se.ec)(St)}else{let en;en="-"===St?St:"^"!==St&&"!"!==St||Jt?"/"===St?"":(0,se.ec)(St):"^",Jt+=en}Ve<He.length-1&&(He[Ve+1]!==j||Ve+2<He.length)&&(we+=V),lt=!1})}return we}const T=/^\*\*\/\*\.[\w\.-]+$/,z=/^\*\*\/([\w\.-]+)\/?$/,I=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,H=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,K=/^\*\*((\/[\w\.-]+)+)\/?$/,N=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,M=new Q.z6(1e4),P=function(){return!1},W=function(){return null};function J(ue,we){if(!ue)return W;let He;He="string"!=typeof ue?ue.pattern:ue,He=He.trim();const lt=`${He}_${!!we.trimForExclusions}`;let Ve,ut=M.get(lt);if(ut)return he(ut,ue);if(T.test(He)){const ct=He.substr(4);ut=function(Nt,un){return"string"==typeof Nt&&Nt.endsWith(ct)?He:null}}else ut=(Ve=z.exec(ye(He,we)))?function fe(ue,we){const He=`/${ue}`,lt=`\\${ue}`,ut=function(ct,Nt){return"string"!=typeof ct?null:Nt?Nt===ue?we:null:ct===ue||ct.endsWith(He)||ct.endsWith(lt)?we:null},Ve=[ue];return ut.basenames=Ve,ut.patterns=[we],ut.allBasenames=Ve,ut}(Ve[1],He):(we.trimForExclusions?H:I).test(He)?function Se(ue,we){const He=ce(ue.slice(1,-1).split(",").map(Nt=>J(Nt,we)).filter(Nt=>Nt!==W),ue),lt=He.length;if(!lt)return W;if(1===lt)return He[0];const ut=function(Nt,un){for(let Jt=0,St=He.length;Jt<St;Jt++)if(He[Jt](Nt,un))return ue;return null},Ve=He.find(Nt=>!!Nt.allBasenames);Ve&&(ut.allBasenames=Ve.allBasenames);const ct=He.reduce((Nt,un)=>un.allPaths?Nt.concat(un.allPaths):Nt,[]);return ct.length&&(ut.allPaths=ct),ut}(He,we):(Ve=K.exec(ye(He,we)))?Ie(Ve[1].substr(1),He,!0):(Ve=N.exec(ye(He,we)))?Ie(Ve[1],He,!1):function _e(ue){try{const we=new RegExp(`^${f(ue)}$`);return function(He){return we.lastIndex=0,"string"==typeof He&&we.test(He)?ue:null}}catch(we){return W}}(He);return M.set(lt,ut),he(ut,ue)}function he(ue,we){return"string"==typeof we?ue:function(He,lt){return(0,h.KM)(He,we.base,!R.IJ)?ue(He.substr(we.base.length+1),lt):null}}function ye(ue,we){return we.trimForExclusions&&ue.endsWith("/**")?ue.substr(0,ue.length-2):ue}function Ie(ue,we,He){const lt=k.ir===k.KR.sep,ut=lt?ue:ue.replace(w,k.ir),Ve=k.ir+ut,ct=k.KR.sep+ue,Nt=He?function(un,Jt){return"string"!=typeof un||un!==ut&&!un.endsWith(Ve)&&(lt||un!==ue&&!un.endsWith(ct))?null:we}:function(un,Jt){return"string"!=typeof un||un!==ut&&(lt||un!==ue)?null:we};return Nt.allPaths=[(He?"*/":"./")+ue],Nt}function $(ue,we,He){return!(!ue||"string"!=typeof we)&&X(ue)(we,void 0,He)}function X(ue,we={}){if(!ue)return P;if("string"==typeof ue||function pe(ue){return!!ue&&"string"==typeof ue.base&&"string"==typeof ue.pattern}(ue)){const He=J(ue,we);if(He===W)return P;const lt=function(ut,Ve){return!!He(ut,Ve)};return He.allBasenames&&(lt.allBasenames=He.allBasenames),He.allPaths&&(lt.allPaths=He.allPaths),lt}return function re(ue,we){const He=ce(Object.getOwnPropertyNames(ue).map(Nt=>function ne(ue,we,He){if(!1===we)return W;const lt=J(ue,He);if(lt===W)return W;if("boolean"==typeof we)return lt;if(we){const ut=we.when;if("string"==typeof ut){const Ve=(ct,Nt,un,Jt)=>{if(!Jt||!lt(ct,Nt))return null;const en=Jt(ut.replace("$(basename)",un));return(0,v.J8)(en)?en.then(pn=>pn?ue:null):en?ue:null};return Ve.requiresSiblings=!0,Ve}}return lt}(Nt,ue[Nt],we)).filter(Nt=>Nt!==W)),lt=He.length;if(!lt)return W;if(!He.some(Nt=>!!Nt.requiresSiblings)){if(1===lt)return He[0];const Nt=function(St,en){for(let pn=0,Xt=He.length;pn<Xt;pn++){const ze=He[pn](St,en);if(ze)return ze}return null},un=He.find(St=>!!St.allBasenames);un&&(Nt.allBasenames=un.allBasenames);const Jt=He.reduce((St,en)=>en.allPaths?St.concat(en.allPaths):St,[]);return Jt.length&&(Nt.allPaths=Jt),Nt}const ut=function(Nt,un,Jt){let St;for(let en=0,pn=He.length;en<pn;en++){const Xt=He[en];Xt.requiresSiblings&&Jt&&(un||(un=(0,k.EZ)(Nt)),St||(St=un.substr(0,un.length-(0,k.DZ)(Nt).length)));const ze=Xt(Nt,un,St,Jt);if(ze)return ze}return null},Ve=He.find(Nt=>!!Nt.allBasenames);Ve&&(ut.allBasenames=Ve.allBasenames);const ct=He.reduce((Nt,un)=>un.allPaths?Nt.concat(un.allPaths):Nt,[]);return ct.length&&(ut.allPaths=ct),ut}(ue,we)}function ce(ue,we){const He=ue.filter(Nt=>!!Nt.basenames);if(He.length<2)return ue;const lt=He.reduce((Nt,un)=>{const Jt=un.basenames;return Jt?Nt.concat(Jt):Nt},[]);let ut;if(we){ut=[];for(let Nt=0,un=lt.length;Nt<un;Nt++)ut.push(we)}else ut=He.reduce((Nt,un)=>{const Jt=un.patterns;return Jt?Nt.concat(Jt):Nt},[]);const Ve=function(Nt,un){if("string"!=typeof Nt)return null;if(!un){let St;for(St=Nt.length;St>0;St--){const en=Nt.charCodeAt(St-1);if(47===en||92===en)break}un=Nt.substr(St)}const Jt=lt.indexOf(un);return-1!==Jt?ut[Jt]:null};Ve.basenames=lt,Ve.patterns=ut,Ve.allBasenames=lt;const ct=ue.filter(Nt=>!Nt.basenames);return ct.push(Ve),ct}},2638:(vt,Ke,m)=>{m.d(Ke,{vp:()=>h,SP:()=>Q,Cv:()=>se,yP:()=>F});var v=m(4705);function h(f){return Q(f,0)}function Q(f,T){switch(typeof f){case"object":return null===f?k(349,T):Array.isArray(f)?function j(f,T){return T=k(104579,T),f.reduce((z,I)=>Q(I,z),T)}(f,T):function Y(f,T){return T=k(181387,T),Object.keys(f).sort().reduce((z,I)=>(z=se(I,z),Q(f[I],z)),T)}(f,T);case"string":return se(f,T);case"boolean":return function R(f,T){return k(f?433:863,T)}(f,T);case"number":return k(f,T);case"undefined":return k(937,T);default:return k(617,T)}}function k(f,T){return(T<<5)-T+f|0}function se(f,T){T=k(149417,T);for(let z=0,I=f.length;z<I;z++)T=k(f.charCodeAt(z),T);return T}function V(f,T,z=32){const I=z-T;return(f<<T|(~((1<<I)-1)&f)>>>I)>>>0}function x(f,T=0,z=f.byteLength,I=0){for(let H=0;H<z;H++)f[T+H]=I}function D(f,T=32){return f instanceof ArrayBuffer?Array.from(new Uint8Array(f)).map(z=>z.toString(16).padStart(2,"0")).join(""):function w(f,T,z="0"){for(;f.length<T;)f=z+f;return f}((f>>>0).toString(16),T/4)}class F{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(T){const z=T.length;if(0===z)return;const I=this._buff;let N,M,H=this._buffLen,K=this._leftoverHighSurrogate;for(0!==K?(N=K,M=-1,K=0):(N=T.charCodeAt(0),M=0);;){let P=N;if(v.ZG(N)){if(!(M+1<z)){K=N;break}{const W=T.charCodeAt(M+1);v.YK(W)?(M++,P=v.rL(N,W)):P=65533}}else v.YK(N)&&(P=65533);if(H=this._push(I,H,P),M++,!(M<z))break;N=T.charCodeAt(M)}this._buffLen=H,this._leftoverHighSurrogate=K}_push(T,z,I){return I<128?T[z++]=I:I<2048?(T[z++]=192|(1984&I)>>>6,T[z++]=128|(63&I)>>>0):I<65536?(T[z++]=224|(61440&I)>>>12,T[z++]=128|(4032&I)>>>6,T[z++]=128|(63&I)>>>0):(T[z++]=240|(1835008&I)>>>18,T[z++]=128|(258048&I)>>>12,T[z++]=128|(4032&I)>>>6,T[z++]=128|(63&I)>>>0),z>=64&&(this._step(),z-=64,this._totalLen+=64,T[0]=T[64],T[1]=T[65],T[2]=T[66]),z}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),D(this._h0)+D(this._h1)+D(this._h2)+D(this._h3)+D(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,x(this._buff,this._buffLen),this._buffLen>56&&(this._step(),x(this._buff));const T=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(T/4294967296),!1),this._buffDV.setUint32(60,T%4294967296,!1),this._step()}_step(){const T=F._bigBlock32,z=this._buffDV;for(let he=0;he<64;he+=4)T.setUint32(he,z.getUint32(he,!1),!1);for(let he=64;he<320;he+=4)T.setUint32(he,V(T.getUint32(he-12,!1)^T.getUint32(he-32,!1)^T.getUint32(he-56,!1)^T.getUint32(he-64,!1),1),!1);let P,W,J,I=this._h0,H=this._h1,K=this._h2,N=this._h3,M=this._h4;for(let he=0;he<80;he++)he<20?(P=H&K|~H&N,W=1518500249):he<40?(P=H^K^N,W=1859775393):he<60?(P=H&K|H&N|K&N,W=2400959708):(P=H^K^N,W=3395469782),J=V(I,5)+P+M+W+T.getUint32(4*he,!1)&4294967295,M=N,N=K,K=V(H,30),H=I,I=J;this._h0=this._h0+I&4294967295,this._h1=this._h1+H&4294967295,this._h2=this._h2+K&4294967295,this._h3=this._h3+N&4294967295,this._h4=this._h4+M&4294967295}}F._bigBlock32=new DataView(new ArrayBuffer(320))},2468:(vt,Ke,m)=>{m.d(Ke,{W5:()=>Q,CP:()=>k,Fr:()=>R,oR:()=>j,v1:()=>Y});var v=m(3663),h=m(661);class Q{constructor(x="",w=!1){var D,F,f;if(this.value=x,"string"!=typeof this.value)throw(0,v.b1)("value");"boolean"==typeof w?(this.isTrusted=w,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(D=w.isTrusted)&&void 0!==D?D:void 0,this.supportThemeIcons=null!==(F=w.supportThemeIcons)&&void 0!==F&&F,this.supportHtml=null!==(f=w.supportHtml)&&void 0!==f&&f)}appendText(x,w=0){return this.value+=function se(V){return V.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(0,h.Qo)(x):x).replace(/([ \t]+)/g,(D,F)=>"&nbsp;".repeat(F.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===w?"\\\n":"\n\n"),this}appendMarkdown(x){return this.value+=x,this}appendCodeblock(x,w){return this.value+="\n```",this.value+=x,this.value+="\n",this.value+=w,this.value+="\n```\n",this}}function k(V){return R(V)?!V.value:!Array.isArray(V)||V.every(k)}function R(V){return V instanceof Q||!(!V||"object"!=typeof V)&&!("string"!=typeof V.value||"boolean"!=typeof V.isTrusted&&void 0!==V.isTrusted||"boolean"!=typeof V.supportThemeIcons&&void 0!==V.supportThemeIcons)}function j(V){return V&&V.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function Y(V){const x=[],w=V.split("|").map(F=>F.trim());V=w[0];const D=w[1];if(D){const F=/height=(\d+)/.exec(D),f=/width=(\d+)/.exec(D),T=F?F[1]:"",z=f?f[1]:"",I=isFinite(parseInt(z)),H=isFinite(parseInt(T));I&&x.push(`width="${z}"`),H&&x.push(`height="${T}"`)}return{href:V,dimensions:x}}},661:(vt,Ke,m)=>{m.d(Ke,{Qo:()=>Y,f$:()=>x,x$:()=>D,Ho:()=>F,Gt:()=>T});var v=m(2450),h=m(1979),Q=m(4705);const k="$(",R=new RegExp(`\\$\\(${v.dT.iconNameExpression}(?:${v.dT.iconModifierExpression})?\\)`,"g"),se=new RegExp(v.dT.iconNameCharacter),j=new RegExp(`(\\\\)?${R.source}`,"g");function Y(z){return z.replace(j,(I,H)=>H?I:`\\${I}`)}const V=new RegExp(`\\\\${R.source}`,"g");function x(z){return z.replace(V,I=>`\\${I}`)}const w=new RegExp(`(\\s)?(\\\\)?${R.source}(\\s)?`,"g");function D(z){return-1===z.indexOf(k)?z:z.replace(w,(I,H,K,N)=>K?I:H||N||"")}function F(z){const I=z.indexOf(k);return-1===I?{text:z}:function f(z,I){const H=[];let K="";function N(Se){if(Se){K+=Se;for(const Ie of Se)H.push(W)}}let J,he,M=-1,P="",W=0,ye=I;const fe=z.length;for(N(z.substr(0,I));ye<fe;)J=z[ye],he=z[ye+1],J===k[0]&&he===k[1]?(M=ye,N(P),P=k,ye++):")"===J&&-1!==M?(W+=ye-M+1,M=-1,P=""):-1!==M?se.test(J)?P+=J:(N(P),M=-1,P=""):N(J),ye++;return N(P),{text:K,iconOffsets:H}}(z,I)}function T(z,I,H=!1){const{text:K,iconOffsets:N}=I;if(!N||0===N.length)return(0,h.Oh)(z,K,H);const M=(0,Q.j3)(K," "),P=K.length-M.length,W=(0,h.Oh)(z,M,H);if(W)for(const J of W){const he=N[J.start+P]+P;J.start+=he,J.end+=he}return W}},8900:(vt,Ke,m)=>{m.d(Ke,{R:()=>v,a:()=>h});class v{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const h=new v("id#")},7981:(vt,Ke,m)=>{var v;m.d(Ke,{$:()=>v}),function(h){h.is=function Q(N){return N&&"object"==typeof N&&"function"==typeof N[Symbol.iterator]};const k=Object.freeze([]);h.empty=function R(){return k},h.single=function*se(N){yield N},h.from=function j(N){return N||k},h.isEmpty=function Y(N){return!N||!0===N[Symbol.iterator]().next().done},h.first=function V(N){return N[Symbol.iterator]().next().value},h.some=function x(N,M){for(const P of N)if(M(P))return!0;return!1},h.find=function w(N,M){for(const P of N)if(M(P))return P},h.filter=function*D(N,M){for(const P of N)M(P)&&(yield P)},h.map=function*F(N,M){let P=0;for(const W of N)yield M(W,P++)},h.concat=function*f(...N){for(const M of N)for(const P of M)yield P},h.concatNested=function*T(N){for(const M of N)for(const P of M)yield P},h.reduce=function z(N,M,P){let W=P;for(const J of N)W=M(W,J);return W},h.slice=function*I(N,M,P=N.length){for(M<0&&(M+=N.length),P<0?P+=N.length:P>N.length&&(P=N.length);M<P;M++)yield N[M]},h.consume=function H(N,M=Number.POSITIVE_INFINITY){const P=[];if(0===M)return[P,N];const W=N[Symbol.iterator]();for(let J=0;J<M;J++){const he=W.next();if(he.done)return[P,h.empty()];P.push(he.value)}return[P,{[Symbol.iterator]:()=>W}]},h.equals=function K(N,M,P=((W,J)=>W===J)){const W=N[Symbol.iterator](),J=M[Symbol.iterator]();for(;;){const he=W.next(),ye=J.next();if(he.done!==ye.done)return!1;if(he.done)return!0;if(!P(he.value,ye.value))return!1}}}(v||(v={}))},6950:(vt,Ke,m)=>{m.d(Ke,{H_:()=>R,Vd:()=>x,kL:()=>D,gx:()=>F});class v{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(T,z){this._keyCodeToStr[T]=z,this._strToKeyCode[z.toLowerCase()]=T}keyCodeToStr(T){return this._keyCodeToStr[T]}strToKeyCode(T){return this._strToKeyCode[T.toLowerCase()]||0}}const h=new v,Q=new v,k=new v,R=new Array(230),se={},j=[],Y=Object.create(null),V=Object.create(null),x=[],w=[];for(let f=0;f<=193;f++)x[f]=-1;for(let f=0;f<=126;f++)w[f]=-1;var D,f;function F(f,T){return(f|(65535&T)<<16>>>0)>>>0}!function(){const f="",T=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",f,f],[0,1,1,"Hyper",0,f,0,f,f,f],[0,1,2,"Super",0,f,0,f,f,f],[0,1,3,"Fn",0,f,0,f,f,f],[0,1,4,"FnLock",0,f,0,f,f,f],[0,1,5,"Suspend",0,f,0,f,f,f],[0,1,6,"Resume",0,f,0,f,f,f],[0,1,7,"Turbo",0,f,0,f,f,f],[0,1,8,"Sleep",0,f,0,"VK_SLEEP",f,f],[0,1,9,"WakeUp",0,f,0,f,f,f],[31,0,10,"KeyA",31,"A",65,"VK_A",f,f],[32,0,11,"KeyB",32,"B",66,"VK_B",f,f],[33,0,12,"KeyC",33,"C",67,"VK_C",f,f],[34,0,13,"KeyD",34,"D",68,"VK_D",f,f],[35,0,14,"KeyE",35,"E",69,"VK_E",f,f],[36,0,15,"KeyF",36,"F",70,"VK_F",f,f],[37,0,16,"KeyG",37,"G",71,"VK_G",f,f],[38,0,17,"KeyH",38,"H",72,"VK_H",f,f],[39,0,18,"KeyI",39,"I",73,"VK_I",f,f],[40,0,19,"KeyJ",40,"J",74,"VK_J",f,f],[41,0,20,"KeyK",41,"K",75,"VK_K",f,f],[42,0,21,"KeyL",42,"L",76,"VK_L",f,f],[43,0,22,"KeyM",43,"M",77,"VK_M",f,f],[44,0,23,"KeyN",44,"N",78,"VK_N",f,f],[45,0,24,"KeyO",45,"O",79,"VK_O",f,f],[46,0,25,"KeyP",46,"P",80,"VK_P",f,f],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",f,f],[48,0,27,"KeyR",48,"R",82,"VK_R",f,f],[49,0,28,"KeyS",49,"S",83,"VK_S",f,f],[50,0,29,"KeyT",50,"T",84,"VK_T",f,f],[51,0,30,"KeyU",51,"U",85,"VK_U",f,f],[52,0,31,"KeyV",52,"V",86,"VK_V",f,f],[53,0,32,"KeyW",53,"W",87,"VK_W",f,f],[54,0,33,"KeyX",54,"X",88,"VK_X",f,f],[55,0,34,"KeyY",55,"Y",89,"VK_Y",f,f],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",f,f],[22,0,36,"Digit1",22,"1",49,"VK_1",f,f],[23,0,37,"Digit2",23,"2",50,"VK_2",f,f],[24,0,38,"Digit3",24,"3",51,"VK_3",f,f],[25,0,39,"Digit4",25,"4",52,"VK_4",f,f],[26,0,40,"Digit5",26,"5",53,"VK_5",f,f],[27,0,41,"Digit6",27,"6",54,"VK_6",f,f],[28,0,42,"Digit7",28,"7",55,"VK_7",f,f],[29,0,43,"Digit8",29,"8",56,"VK_8",f,f],[30,0,44,"Digit9",30,"9",57,"VK_9",f,f],[21,0,45,"Digit0",21,"0",48,"VK_0",f,f],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",f,f],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",f,f],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",f,f],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",f,f],[10,1,50,"Space",10,"Space",32,"VK_SPACE",f,f],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,f,0,f,f,f],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",f,f],[59,1,64,"F1",59,"F1",112,"VK_F1",f,f],[60,1,65,"F2",60,"F2",113,"VK_F2",f,f],[61,1,66,"F3",61,"F3",114,"VK_F3",f,f],[62,1,67,"F4",62,"F4",115,"VK_F4",f,f],[63,1,68,"F5",63,"F5",116,"VK_F5",f,f],[64,1,69,"F6",64,"F6",117,"VK_F6",f,f],[65,1,70,"F7",65,"F7",118,"VK_F7",f,f],[66,1,71,"F8",66,"F8",119,"VK_F8",f,f],[67,1,72,"F9",67,"F9",120,"VK_F9",f,f],[68,1,73,"F10",68,"F10",121,"VK_F10",f,f],[69,1,74,"F11",69,"F11",122,"VK_F11",f,f],[70,1,75,"F12",70,"F12",123,"VK_F12",f,f],[0,1,76,"PrintScreen",0,f,0,f,f,f],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",f,f],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",f,f],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",f,f],[14,1,80,"Home",14,"Home",36,"VK_HOME",f,f],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",f,f],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",f,f],[13,1,83,"End",13,"End",35,"VK_END",f,f],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",f,f],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",f],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",f],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",f],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",f],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",f,f],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",f,f],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",f,f],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",f,f],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",f,f],[3,1,94,"NumpadEnter",3,f,0,f,f,f],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",f,f],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",f,f],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",f,f],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",f,f],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",f,f],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",f,f],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",f,f],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",f,f],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",f,f],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",f,f],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",f,f],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",f,f],[58,1,107,"ContextMenu",58,"ContextMenu",93,f,f,f],[0,1,108,"Power",0,f,0,f,f,f],[0,1,109,"NumpadEqual",0,f,0,f,f,f],[71,1,110,"F13",71,"F13",124,"VK_F13",f,f],[72,1,111,"F14",72,"F14",125,"VK_F14",f,f],[73,1,112,"F15",73,"F15",126,"VK_F15",f,f],[74,1,113,"F16",74,"F16",127,"VK_F16",f,f],[75,1,114,"F17",75,"F17",128,"VK_F17",f,f],[76,1,115,"F18",76,"F18",129,"VK_F18",f,f],[77,1,116,"F19",77,"F19",130,"VK_F19",f,f],[0,1,117,"F20",0,f,0,"VK_F20",f,f],[0,1,118,"F21",0,f,0,"VK_F21",f,f],[0,1,119,"F22",0,f,0,"VK_F22",f,f],[0,1,120,"F23",0,f,0,"VK_F23",f,f],[0,1,121,"F24",0,f,0,"VK_F24",f,f],[0,1,122,"Open",0,f,0,f,f,f],[0,1,123,"Help",0,f,0,f,f,f],[0,1,124,"Select",0,f,0,f,f,f],[0,1,125,"Again",0,f,0,f,f,f],[0,1,126,"Undo",0,f,0,f,f,f],[0,1,127,"Cut",0,f,0,f,f,f],[0,1,128,"Copy",0,f,0,f,f,f],[0,1,129,"Paste",0,f,0,f,f,f],[0,1,130,"Find",0,f,0,f,f,f],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",f,f],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",f,f],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",f,f],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",f,f],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",f,f],[0,1,136,"KanaMode",0,f,0,f,f,f],[0,0,137,"IntlYen",0,f,0,f,f,f],[0,1,138,"Convert",0,f,0,f,f,f],[0,1,139,"NonConvert",0,f,0,f,f,f],[0,1,140,"Lang1",0,f,0,f,f,f],[0,1,141,"Lang2",0,f,0,f,f,f],[0,1,142,"Lang3",0,f,0,f,f,f],[0,1,143,"Lang4",0,f,0,f,f,f],[0,1,144,"Lang5",0,f,0,f,f,f],[0,1,145,"Abort",0,f,0,f,f,f],[0,1,146,"Props",0,f,0,f,f,f],[0,1,147,"NumpadParenLeft",0,f,0,f,f,f],[0,1,148,"NumpadParenRight",0,f,0,f,f,f],[0,1,149,"NumpadBackspace",0,f,0,f,f,f],[0,1,150,"NumpadMemoryStore",0,f,0,f,f,f],[0,1,151,"NumpadMemoryRecall",0,f,0,f,f,f],[0,1,152,"NumpadMemoryClear",0,f,0,f,f,f],[0,1,153,"NumpadMemoryAdd",0,f,0,f,f,f],[0,1,154,"NumpadMemorySubtract",0,f,0,f,f,f],[0,1,155,"NumpadClear",0,f,0,f,f,f],[0,1,156,"NumpadClearEntry",0,f,0,f,f,f],[5,1,0,f,5,"Ctrl",17,"VK_CONTROL",f,f],[4,1,0,f,4,"Shift",16,"VK_SHIFT",f,f],[6,1,0,f,6,"Alt",18,"VK_MENU",f,f],[57,1,0,f,57,"Meta",0,"VK_COMMAND",f,f],[5,1,157,"ControlLeft",5,f,0,"VK_LCONTROL",f,f],[4,1,158,"ShiftLeft",4,f,0,"VK_LSHIFT",f,f],[6,1,159,"AltLeft",6,f,0,"VK_LMENU",f,f],[57,1,160,"MetaLeft",57,f,0,"VK_LWIN",f,f],[5,1,161,"ControlRight",5,f,0,"VK_RCONTROL",f,f],[4,1,162,"ShiftRight",4,f,0,"VK_RSHIFT",f,f],[6,1,163,"AltRight",6,f,0,"VK_RMENU",f,f],[57,1,164,"MetaRight",57,f,0,"VK_RWIN",f,f],[0,1,165,"BrightnessUp",0,f,0,f,f,f],[0,1,166,"BrightnessDown",0,f,0,f,f,f],[0,1,167,"MediaPlay",0,f,0,f,f,f],[0,1,168,"MediaRecord",0,f,0,f,f,f],[0,1,169,"MediaFastForward",0,f,0,f,f,f],[0,1,170,"MediaRewind",0,f,0,f,f,f],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",f,f],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",f,f],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",f,f],[0,1,174,"Eject",0,f,0,f,f,f],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",f,f],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",f,f],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",f,f],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",f,f],[0,1,179,"LaunchApp1",0,f,0,"VK_MEDIA_LAUNCH_APP1",f,f],[0,1,180,"SelectTask",0,f,0,f,f,f],[0,1,181,"LaunchScreenSaver",0,f,0,f,f,f],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",f,f],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",f,f],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",f,f],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",f,f],[0,1,186,"BrowserStop",0,f,0,"VK_BROWSER_STOP",f,f],[0,1,187,"BrowserRefresh",0,f,0,"VK_BROWSER_REFRESH",f,f],[0,1,188,"BrowserFavorites",0,f,0,"VK_BROWSER_FAVORITES",f,f],[0,1,189,"ZoomToggle",0,f,0,f,f,f],[0,1,190,"MailReply",0,f,0,f,f,f],[0,1,191,"MailForward",0,f,0,f,f,f],[0,1,192,"MailSend",0,f,0,f,f,f],[109,1,0,f,109,"KeyInComposition",229,f,f,f],[111,1,0,f,111,"ABNT_C2",194,"VK_ABNT_C2",f,f],[91,1,0,f,91,"OEM_8",223,"VK_OEM_8",f,f],[0,1,0,f,0,f,0,"VK_CLEAR",f,f],[0,1,0,f,0,f,0,"VK_KANA",f,f],[0,1,0,f,0,f,0,"VK_HANGUL",f,f],[0,1,0,f,0,f,0,"VK_JUNJA",f,f],[0,1,0,f,0,f,0,"VK_FINAL",f,f],[0,1,0,f,0,f,0,"VK_HANJA",f,f],[0,1,0,f,0,f,0,"VK_KANJI",f,f],[0,1,0,f,0,f,0,"VK_CONVERT",f,f],[0,1,0,f,0,f,0,"VK_NONCONVERT",f,f],[0,1,0,f,0,f,0,"VK_ACCEPT",f,f],[0,1,0,f,0,f,0,"VK_MODECHANGE",f,f],[0,1,0,f,0,f,0,"VK_SELECT",f,f],[0,1,0,f,0,f,0,"VK_PRINT",f,f],[0,1,0,f,0,f,0,"VK_EXECUTE",f,f],[0,1,0,f,0,f,0,"VK_SNAPSHOT",f,f],[0,1,0,f,0,f,0,"VK_HELP",f,f],[0,1,0,f,0,f,0,"VK_APPS",f,f],[0,1,0,f,0,f,0,"VK_PROCESSKEY",f,f],[0,1,0,f,0,f,0,"VK_PACKET",f,f],[0,1,0,f,0,f,0,"VK_DBE_SBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_DBE_DBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_ATTN",f,f],[0,1,0,f,0,f,0,"VK_CRSEL",f,f],[0,1,0,f,0,f,0,"VK_EXSEL",f,f],[0,1,0,f,0,f,0,"VK_EREOF",f,f],[0,1,0,f,0,f,0,"VK_PLAY",f,f],[0,1,0,f,0,f,0,"VK_ZOOM",f,f],[0,1,0,f,0,f,0,"VK_NONAME",f,f],[0,1,0,f,0,f,0,"VK_PA1",f,f],[0,1,0,f,0,f,0,"VK_OEM_CLEAR",f,f]];let z=[],I=[];for(const H of T){const[K,N,M,P,W,J,he,ye,fe,Se]=H;if(I[M]||(I[M]=!0,j[M]=P,Y[P]=M,V[P.toLowerCase()]=M,N&&(x[M]=W,0!==W&&3!==W&&5!==W&&4!==W&&6!==W&&57!==W&&(w[W]=M))),!z[W]){if(z[W]=!0,!J)throw new Error(`String representation missing for key code ${W} around scan code ${P}`);h.define(W,J),Q.define(W,fe||J),k.define(W,Se||fe||J)}he&&(R[he]=W),ye&&(se[ye]=W)}w[3]=46}(),(f=D||(D={})).toString=function T(M){return h.keyCodeToStr(M)},f.fromString=function z(M){return h.strToKeyCode(M)},f.toUserSettingsUS=function I(M){return Q.keyCodeToStr(M)},f.toUserSettingsGeneral=function H(M){return k.keyCodeToStr(M)},f.fromUserSettings=function K(M){return Q.strToKeyCode(M)||k.strToKeyCode(M)},f.toElectronAccelerator=function N(M){if(M>=93&&M<=108)return null;switch(M){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return h.keyCodeToStr(M)}},27:(vt,Ke,m)=>{m.d(Ke,{xo:()=>Q,X4:()=>k,jC:()=>R});var v=m(402);class h{constructor(V,x,w=x){this.modifierLabels=[null],this.modifierLabels[2]=V,this.modifierLabels[1]=x,this.modifierLabels[3]=w}toLabel(V,x,w){if(0===x.length)return null;const D=[];for(let F=0,f=x.length;F<f;F++){const T=x[F],z=w(T);if(null===z)return null;D[F]=j(T,z,this.modifierLabels[V])}return D.join(" ")}}const Q=new h({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:v.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:v.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:v.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:v.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:v.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:v.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:v.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:v.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),k=new h({ctrlKey:v.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:v.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:v.N({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:v.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:v.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:v.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:v.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:v.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:v.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:v.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:v.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:v.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),R=new h({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function j(Y,V,x){if(null===V)return"";const w=[];return Y.ctrlKey&&w.push(x.ctrlKey),Y.shiftKey&&w.push(x.shiftKey),Y.altKey&&w.push(x.altKey),Y.metaKey&&w.push(x.metaKey),""!==V&&w.push(V),w.join(x.separator)}new h({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},5016:(vt,Ke,m)=>{m.d(Ke,{gm:()=>h,QC:()=>k,X_:()=>R,BQ:()=>j,f1:()=>Y});var v=m(3663);function h(V,x){if(0===V)return null;const w=(65535&V)>>>0,D=(4294901760&V)>>>16;return new R(0!==D?[Q(w,x),Q(D,x)]:[Q(w,x)])}function Q(V,x){const w=!!(2048&V),D=!!(256&V);return new k(2===x?D:w,!!(1024&V),!!(512&V),2===x?w:D,255&V)}class k{constructor(x,w,D,F,f){this.ctrlKey=x,this.shiftKey=w,this.altKey=D,this.metaKey=F,this.keyCode=f}equals(x){return this.ctrlKey===x.ctrlKey&&this.shiftKey===x.shiftKey&&this.altKey===x.altKey&&this.metaKey===x.metaKey&&this.keyCode===x.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new R([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class R{constructor(x){if(0===x.length)throw(0,v.b1)("parts");this.parts=x}}class j{constructor(x,w,D,F,f,T){this.ctrlKey=x,this.shiftKey=w,this.altKey=D,this.metaKey=F,this.keyLabel=f,this.keyAriaLabel=T}}class Y{}},991:(vt,Ke,m)=>{m.d(Ke,{o:()=>v});class v{constructor(Q){this.executor=Q,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(Q){this._error=Q}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},2425:(vt,Ke,m)=>{m.d(Ke,{dk:()=>x,Wf:()=>D,B9:()=>F,F8:()=>f,OF:()=>T,SL:()=>z,JT:()=>I,XK:()=>H,Jz:()=>K});var v=m(2706),h=m(7981);let k=null;function x(N){return N}class w extends Error{constructor(M){super(`Encountered errors while disposing of store. Errors: [${M.join(", ")}]`),this.errors=M}}function D(N){return"function"==typeof N.dispose&&0===N.dispose.length}function F(N){if(h.$.is(N)){let M=[];for(const P of N)if(P)try{P.dispose()}catch(W){M.push(W)}if(1===M.length)throw M[0];if(M.length>1)throw new w(M);return Array.isArray(N)?[]:N}if(N)return N.dispose(),N}function f(...N){const M=T(()=>F(N));return function V(N,M){k}(),M}function T(N){const M={dispose:(0,v.I)(()=>{N()})};return M}let z=(()=>{class N{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{F(this._toDispose.values())}finally{this._toDispose.clear()}}add(P){if(!P)return P;if(P===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?N.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(P),P}}return N.DISABLE_DISPOSED_WARNING=!1,N})();class I{constructor(){this._store=new z}dispose(){this._store.dispose()}_register(M){if(M===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(M)}}I.None=Object.freeze({dispose(){}});class H{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(M){var P;this._isDisposed||M===this._value||(null===(P=this._value)||void 0===P||P.dispose(),this._value=M)}clear(){this.value=void 0}dispose(){var M;this._isDisposed=!0,null===(M=this._value)||void 0===M||M.dispose(),this._value=void 0}clearAndLeak(){const M=this._value;return this._value=void 0,M}}class K{constructor(M){this.object=M}dispose(){}}},8460:(vt,Ke,m)=>{m.d(Ke,{S:()=>h});class v{constructor(k){this.element=k,this.next=v.Undefined,this.prev=v.Undefined}}v.Undefined=new v(void 0);class h{constructor(){this._first=v.Undefined,this._last=v.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===v.Undefined}clear(){let k=this._first;for(;k!==v.Undefined;){const R=k.next;k.prev=v.Undefined,k.next=v.Undefined,k=R}this._first=v.Undefined,this._last=v.Undefined,this._size=0}unshift(k){return this._insert(k,!1)}push(k){return this._insert(k,!0)}_insert(k,R){const se=new v(k);if(this._first===v.Undefined)this._first=se,this._last=se;else if(R){const Y=this._last;this._last=se,se.prev=Y,Y.next=se}else{const Y=this._first;this._first=se,se.next=Y,Y.prev=se}this._size+=1;let j=!1;return()=>{j||(j=!0,this._remove(se))}}shift(){if(this._first!==v.Undefined){const k=this._first.element;return this._remove(this._first),k}}pop(){if(this._last!==v.Undefined){const k=this._last.element;return this._remove(this._last),k}}_remove(k){if(k.prev!==v.Undefined&&k.next!==v.Undefined){const R=k.prev;R.next=k.next,k.next.prev=R}else k.prev===v.Undefined&&k.next===v.Undefined?(this._first=v.Undefined,this._last=v.Undefined):k.next===v.Undefined?(this._last=this._last.prev,this._last.next=v.Undefined):k.prev===v.Undefined&&(this._first=this._first.next,this._first.prev=v.Undefined);this._size-=1}*[Symbol.iterator](){let k=this._first;for(;k!==v.Undefined;)yield k.element,k=k.next}}},7838:(vt,Ke,m)=>{m.d(Ke,{Id:()=>V,Y9:()=>w,z6:()=>F});var h,Q,v=m(4705);class k{constructor(){this._value="",this._pos=0}reset(T){return this._value=T,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(T){return T.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class R{constructor(T=!0){this._caseSensitive=T}reset(T){return this._value=T,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let T=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!T)break;this._from++}else T=!1;return this}cmp(T){return this._caseSensitive?(0,v.TT)(T,this._value,0,T.length,this._from,this._to):(0,v.j_)(T,this._value,0,T.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class se{constructor(T=!0,z=!0){this._splitOnBackslash=T,this._caseSensitive=z}reset(T){this._from=0,this._to=0,this._value=T,this._valueLen=T.length;for(let z=T.length-1;z>=0;z--,this._valueLen--){const I=this._value.charCodeAt(z);if(!(47===I||this._splitOnBackslash&&92===I))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let T=!0;for(;this._to<this._valueLen;this._to++){const z=this._value.charCodeAt(this._to);if(47===z||this._splitOnBackslash&&92===z){if(!T)break;this._from++}else T=!1}return this}cmp(T){return this._caseSensitive?(0,v.TT)(T,this._value,0,T.length,this._from,this._to):(0,v.j_)(T,this._value,0,T.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class j{constructor(T){this._ignorePathCasing=T,this._states=[],this._stateIdx=0}reset(T){return this._value=T,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new se(!1,!this._ignorePathCasing(T)),this._pathIterator.reset(T.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(T){if(1===this._states[this._stateIdx])return(0,v.zY)(T,this._value.scheme);if(2===this._states[this._stateIdx])return(0,v.zY)(T,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(T);if(4===this._states[this._stateIdx])return(0,v.qu)(T,this._value.query);if(5===this._states[this._stateIdx])return(0,v.qu)(T,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class Y{constructor(){this.height=1}rotateLeft(){const T=this.right;return this.right=T.left,T.left=this,this.updateHeight(),T.updateHeight(),T}rotateRight(){const T=this.left;return this.left=T.right,T.right=this,this.updateHeight(),T.updateHeight(),T}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var T,z;return null!==(z=null===(T=this.left)||void 0===T?void 0:T.height)&&void 0!==z?z:0}get heightRight(){var T,z;return null!==(z=null===(T=this.right)||void 0===T?void 0:T.height)&&void 0!==z?z:0}}class V{constructor(T){this._iter=T}static forUris(T=(()=>!1)){return new V(new j(T))}static forStrings(){return new V(new k)}static forConfigKeys(){return new V(new R)}clear(){this._root=void 0}set(T,z){const I=this._iter.reset(T);let H;this._root||(this._root=new Y,this._root.segment=I.value());const K=[];for(H=this._root;;){const M=I.cmp(H.segment);if(M>0)H.left||(H.left=new Y,H.left.segment=I.value()),K.push([-1,H]),H=H.left;else if(M<0)H.right||(H.right=new Y,H.right.segment=I.value()),K.push([1,H]),H=H.right;else{if(!I.hasNext())break;I.next(),H.mid||(H.mid=new Y,H.mid.segment=I.value()),K.push([0,H]),H=H.mid}}const N=H.value;H.value=z,H.key=T;for(let M=K.length-1;M>=0;M--){const P=K[M][1];P.updateHeight();const W=P.balanceFactor();if(W<-1||W>1){const J=K[M][0],he=K[M+1][0];if(1===J&&1===he)K[M][1]=P.rotateLeft();else if(-1===J&&-1===he)K[M][1]=P.rotateRight();else if(1===J&&-1===he)P.right=K[M+1][1]=K[M+1][1].rotateRight(),K[M][1]=P.rotateLeft();else{if(-1!==J||1!==he)throw new Error;P.left=K[M+1][1]=K[M+1][1].rotateLeft(),K[M][1]=P.rotateRight()}if(M>0)switch(K[M-1][0]){case-1:K[M-1][1].left=K[M][1];break;case 1:K[M-1][1].right=K[M][1];break;case 0:K[M-1][1].mid=K[M][1]}else this._root=K[0][1]}}return N}get(T){var z;return null===(z=this._getNode(T))||void 0===z?void 0:z.value}_getNode(T){const z=this._iter.reset(T);let I=this._root;for(;I;){const H=z.cmp(I.segment);if(H>0)I=I.left;else if(H<0)I=I.right;else{if(!z.hasNext())break;z.next(),I=I.mid}}return I}has(T){const z=this._getNode(T);return!(void 0===(null==z?void 0:z.value)&&void 0===(null==z?void 0:z.mid))}delete(T){return this._delete(T,!1)}deleteSuperstr(T){return this._delete(T,!0)}_delete(T,z){var I;const H=this._iter.reset(T),K=[];let N=this._root;for(;N;){const M=H.cmp(N.segment);if(M>0)K.push([-1,N]),N=N.left;else if(M<0)K.push([1,N]),N=N.right;else{if(!H.hasNext())break;H.next(),K.push([0,N]),N=N.mid}}if(N){if(z?(N.left=void 0,N.mid=void 0,N.right=void 0,N.height=1):(N.key=void 0,N.value=void 0),!N.mid&&!N.value)if(N.left&&N.right){const M=this._min(N.right),{key:P,value:W,segment:J}=M;this._delete(M.key,!1),N.key=P,N.value=W,N.segment=J}else{const M=null!==(I=N.left)&&void 0!==I?I:N.right;if(K.length>0){const[P,W]=K[K.length-1];switch(P){case-1:W.left=M;break;case 0:W.mid=M;break;case 1:W.right=M}}else this._root=M}for(let M=K.length-1;M>=0;M--){const P=K[M][1];P.updateHeight();const W=P.balanceFactor();if(W>1?(P.right.balanceFactor()>=0||(P.right=P.right.rotateRight()),K[M][1]=P.rotateLeft()):W<-1&&(P.left.balanceFactor()<=0||(P.left=P.left.rotateLeft()),K[M][1]=P.rotateRight()),M>0)switch(K[M-1][0]){case-1:K[M-1][1].left=K[M][1];break;case 1:K[M-1][1].right=K[M][1];break;case 0:K[M-1][1].mid=K[M][1]}else this._root=K[0][1]}}}_min(T){for(;T.left;)T=T.left;return T}findSubstr(T){const z=this._iter.reset(T);let H,I=this._root;for(;I;){const K=z.cmp(I.segment);if(K>0)I=I.left;else if(K<0)I=I.right;else{if(!z.hasNext())break;z.next(),H=I.value||H,I=I.mid}}return I&&I.value||H}findSuperstr(T){const z=this._iter.reset(T);let I=this._root;for(;I;){const H=z.cmp(I.segment);if(H>0)I=I.left;else if(H<0)I=I.right;else{if(!z.hasNext())return I.mid?this._entries(I.mid):void 0;z.next(),I=I.mid}}}forEach(T){for(const[z,I]of this)T(I,z)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(T){!T||(T.left&&(yield*this._entries(T.left)),T.value&&(yield[T.key,T.value]),T.mid&&(yield*this._entries(T.mid)),T.right&&(yield*this._entries(T.right)))}}class x{constructor(T,z){this.uri=T,this.value=z}}let w=(()=>{class f{constructor(z,I){this[h]="ResourceMap",z instanceof f?(this.map=new Map(z.map),this.toKey=null!=I?I:f.defaultToKey):(this.map=new Map,this.toKey=null!=z?z:f.defaultToKey)}set(z,I){return this.map.set(this.toKey(z),new x(z,I)),this}get(z){var I;return null===(I=this.map.get(this.toKey(z)))||void 0===I?void 0:I.value}has(z){return this.map.has(this.toKey(z))}get size(){return this.map.size}clear(){this.map.clear()}delete(z){return this.map.delete(this.toKey(z))}forEach(z,I){void 0!==I&&(z=z.bind(I));for(let[H,K]of this.map)z(K.value,K.uri,this)}*values(){for(let z of this.map.values())yield z.value}*keys(){for(let z of this.map.values())yield z.uri}*entries(){for(let z of this.map.values())yield[z.uri,z.value]}*[(h=Symbol.toStringTag,Symbol.iterator)](){for(let[,z]of this.map)yield[z.uri,z.value]}}return f.defaultToKey=T=>T.toString(),f})();class D{constructor(){this[Q]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var T;return null===(T=this._head)||void 0===T?void 0:T.value}get last(){var T;return null===(T=this._tail)||void 0===T?void 0:T.value}has(T){return this._map.has(T)}get(T,z=0){const I=this._map.get(T);if(I)return 0!==z&&this.touch(I,z),I.value}set(T,z,I=0){let H=this._map.get(T);if(H)H.value=z,0!==I&&this.touch(H,I);else{switch(H={key:T,value:z,next:void 0,previous:void 0},I){case 0:case 2:default:this.addItemLast(H);break;case 1:this.addItemFirst(H)}this._map.set(T,H),this._size++}return this}delete(T){return!!this.remove(T)}remove(T){const z=this._map.get(T);if(z)return this._map.delete(T),this.removeItem(z),this._size--,z.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const T=this._head;return this._map.delete(T.key),this.removeItem(T),this._size--,T.value}forEach(T,z){const I=this._state;let H=this._head;for(;H;){if(z?T.bind(z)(H.value,H.key,this):T(H.value,H.key,this),this._state!==I)throw new Error("LinkedMap got modified during iteration.");H=H.next}}keys(){const T=this,z=this._state;let I=this._head;const H={[Symbol.iterator]:()=>H,next(){if(T._state!==z)throw new Error("LinkedMap got modified during iteration.");if(I){const K={value:I.key,done:!1};return I=I.next,K}return{value:void 0,done:!0}}};return H}values(){const T=this,z=this._state;let I=this._head;const H={[Symbol.iterator]:()=>H,next(){if(T._state!==z)throw new Error("LinkedMap got modified during iteration.");if(I){const K={value:I.value,done:!1};return I=I.next,K}return{value:void 0,done:!0}}};return H}entries(){const T=this,z=this._state;let I=this._head;const H={[Symbol.iterator]:()=>H,next(){if(T._state!==z)throw new Error("LinkedMap got modified during iteration.");if(I){const K={value:[I.key,I.value],done:!1};return I=I.next,K}return{value:void 0,done:!0}}};return H}[(Q=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(T){if(T>=this.size)return;if(0===T)return void this.clear();let z=this._head,I=this.size;for(;z&&I>T;)this._map.delete(z.key),z=z.next,I--;this._head=z,this._size=I,z&&(z.previous=void 0),this._state++}addItemFirst(T){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");T.next=this._head,this._head.previous=T}else this._tail=T;this._head=T,this._state++}addItemLast(T){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");T.previous=this._tail,this._tail.next=T}else this._head=T;this._tail=T,this._state++}removeItem(T){if(T===this._head&&T===this._tail)this._head=void 0,this._tail=void 0;else if(T===this._head){if(!T.next)throw new Error("Invalid list");T.next.previous=void 0,this._head=T.next}else if(T===this._tail){if(!T.previous)throw new Error("Invalid list");T.previous.next=void 0,this._tail=T.previous}else{const z=T.next,I=T.previous;if(!z||!I)throw new Error("Invalid list");z.previous=I,I.next=z}T.next=void 0,T.previous=void 0,this._state++}touch(T,z){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===z||2===z)if(1===z){if(T===this._head)return;const I=T.next,H=T.previous;T===this._tail?(H.next=void 0,this._tail=H):(I.previous=H,H.next=I),T.previous=void 0,T.next=this._head,this._head.previous=T,this._head=T,this._state++}else if(2===z){if(T===this._tail)return;const I=T.next,H=T.previous;T===this._head?(I.previous=void 0,this._head=I):(I.previous=H,H.next=I),T.next=void 0,T.previous=this._tail,this._tail.next=T,this._tail=T,this._state++}}toJSON(){const T=[];return this.forEach((z,I)=>{T.push([I,z])}),T}fromJSON(T){this.clear();for(const[z,I]of T)this.set(z,I)}}class F extends D{constructor(T,z=1){super(),this._limit=T,this._ratio=Math.min(Math.max(0,z),1)}get limit(){return this._limit}set limit(T){this._limit=T,this.checkTrim()}get(T,z=2){return super.get(T,z)}peek(T){return super.get(T,0)}set(T,z){return super.set(T,z,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},3314:(vt,Ke,m)=>{m.d(Ke,{Q:()=>Q});var v=m(8923),h=m(4672);function Q(R){let se=JSON.parse(R);return se=k(se),se}function k(R,se=0){if(!R||se>200)return R;if("object"==typeof R){switch(R.$mid){case 1:return h.o.revive(R);case 2:return new RegExp(R.source,R.flags);case 14:return new Date(R.source)}if(R instanceof v.KN||R instanceof Uint8Array)return R;if(Array.isArray(R))for(let j=0;j<R.length;++j)R[j]=k(R[j],se+1);else for(const j in R)Object.hasOwnProperty.call(R,j)&&(R[j]=k(R[j],se+1))}return R}},9341:(vt,Ke,m)=>{m.d(Ke,{v:()=>v});var v=(()=>{return(h=v||(v={})).text="text/plain",h.binary="application/octet-stream",h.unknown="application/unknown",h.markdown="text/markdown",h.latex="text/latex",v;var h})()},278:(vt,Ke,m)=>{m.d(Ke,{lg:()=>Q,WX:()=>se,Gi:()=>Y});var v=m(8972),h=m(4672),Q=(()=>{return(V=Q||(Q={})).inMemory="inmemory",V.vscode="vscode",V.internal="private",V.walkThrough="walkThrough",V.walkThroughSnippet="walkThroughSnippet",V.http="http",V.https="https",V.file="file",V.mailto="mailto",V.untitled="untitled",V.data="data",V.command="command",V.vscodeRemote="vscode-remote",V.vscodeRemoteResource="vscode-remote-resource",V.userData="vscode-userdata",V.vscodeCustomEditor="vscode-custom-editor",V.vscodeNotebook="vscode-notebook",V.vscodeNotebookCell="vscode-notebook-cell",V.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",V.vscodeNotebookCellOutput="vscode-notebook-cell-output",V.vscodeInteractive="vscode-interactive",V.vscodeInteractiveInput="vscode-interactive-input",V.vscodeSettings="vscode-settings",V.vscodeWorkspaceTrust="vscode-workspace-trust",V.vscodeTerminal="vscode-terminal",V.webviewPanel="webview-panel",V.vscodeWebview="vscode-webview",V.extension="extension",V.vscodeFileResource="vscode-file",V.tmp="tmp",V.vsls="vsls",Q;var V})();const se=new class R{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(x){this._preferredWebSchema=x}rewrite(x){if(this._delegate)return this._delegate(x);const w=x.authority;let D=this._hosts[w];D&&-1!==D.indexOf(":")&&(D=`[${D}]`);const F=this._ports[w],f=this._connectionTokens[w];let T=`path=${encodeURIComponent(x.path)}`;return"string"==typeof f&&(T+=`&tkn=${encodeURIComponent(f)}`),h.o.from({scheme:v.$L?this._preferredWebSchema:Q.vscodeRemoteResource,authority:`${D}:${F}`,path:"/vscode-remote-resource",query:T})}},Y=new((()=>{class V{asBrowserUri(w,D){const F=this.toUri(w,D);return F.scheme===Q.vscodeRemote?se.rewrite(F):F.scheme===Q.file&&(v.tY||"function"==typeof v.li.importScripts&&v.li.origin===`${Q.vscodeFileResource}://${V.FALLBACK_AUTHORITY}`)?F.with({scheme:Q.vscodeFileResource,authority:F.authority||V.FALLBACK_AUTHORITY,query:null,fragment:null}):F}toUri(w,D){return h.o.isUri(w)?w:h.o.parse(D.toUrl(w))}}return V.FALLBACK_AUTHORITY="vscode-app",V})())},8829:(vt,Ke,m)=>{function v(k,R,se){return Math.min(Math.max(k,R),se)}m.d(Ke,{uZ:()=>v,nM:()=>h,N:()=>Q});class h{constructor(){this._n=1,this._val=0}update(R){return this._val=this._val+(R-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Q{constructor(R){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(R),this._values.fill(0,0,R)}update(R){const se=this._values[this._index];return this._values[this._index]=R,this._index=(this._index+1)%this._values.length,this._sum-=se,this._sum+=R,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},5271:(vt,Ke,m)=>{m.d(Ke,{I8:()=>h,_A:()=>Q,rs:()=>R,jB:()=>j,fS:()=>Y,CJ:()=>V});var v=m(4435);function h(x){if(!x||"object"!=typeof x||x instanceof RegExp)return x;const w=Array.isArray(x)?[]:{};return Object.keys(x).forEach(D=>{w[D]=x[D]&&"object"==typeof x[D]?h(x[D]):x[D]}),w}function Q(x){if(!x||"object"!=typeof x)return x;const w=[x];for(;w.length>0;){const D=w.shift();Object.freeze(D);for(const F in D)if(k.call(D,F)){const f=D[F];"object"==typeof f&&!Object.isFrozen(f)&&w.push(f)}}return x}const k=Object.prototype.hasOwnProperty;function R(x,w){return se(x,w,new Set)}function se(x,w,D){if((0,v.Jp)(x))return x;const F=w(x);if(void 0!==F)return F;if((0,v.kJ)(x)){const f=[];for(const T of x)f.push(se(T,w,D));return f}if((0,v.Kn)(x)){if(D.has(x))throw new Error("Cannot clone recursive data-structure");D.add(x);const f={};for(let T in x)k.call(x,T)&&(f[T]=se(x[T],w,D));return D.delete(x),f}return x}function j(x,w,D=!0){return(0,v.Kn)(x)?((0,v.Kn)(w)&&Object.keys(w).forEach(F=>{F in x?D&&((0,v.Kn)(x[F])&&(0,v.Kn)(w[F])?j(x[F],w[F],D):x[F]=w[F]):x[F]=w[F]}),x):w}function Y(x,w){if(x===w)return!0;if(null==x||null==w||typeof x!=typeof w||"object"!=typeof x||Array.isArray(x)!==Array.isArray(w))return!1;let D,F;if(Array.isArray(x)){if(x.length!==w.length)return!1;for(D=0;D<x.length;D++)if(!Y(x[D],w[D]))return!1}else{const f=[];for(F in x)f.push(F);f.sort();const T=[];for(F in w)T.push(F);if(T.sort(),!Y(f,T))return!1;for(D=0;D<f.length;D++)if(!Y(x[f[D]],w[f[D]]))return!1}return!0}function V(x,w,D){const F=w(x);return void 0===F?D:F}},4163:(vt,Ke,m)=>{m.d(Ke,{EZ:()=>Se,XX:()=>fe,DZ:()=>Ie,Fv:()=>J,KR:()=>W,Gf:()=>ye,DB:()=>he,ir:()=>_e,Ku:()=>P});var v=m(8972);let h;if(void 0!==v.li.vscode&&void 0!==v.li.vscode.process){const $=v.li.vscode.process;h={get platform(){return $.platform},get arch(){return $.arch},get env(){return $.env},cwd:()=>$.cwd()}}else h="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return v.ED?"win32":v.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const Q=h.cwd,k=h.env,R=h.platform,x=46,w=47,D=92,F=58;class T extends Error{constructor(X,pe,re){let ne;"string"==typeof pe&&0===pe.indexOf("not ")?(ne="must not be",pe=pe.replace(/^not /,"")):ne="must be";const ce=-1!==X.indexOf(".")?"property":"argument";let ue=`The "${X}" ${ce} ${ne} of type ${pe}`;ue+=". Received type "+typeof re,super(ue),this.code="ERR_INVALID_ARG_TYPE"}}function z($,X){if("string"!=typeof $)throw new T(X,"string",$)}function I($){return $===w||$===D}function H($){return $===w}function K($){return $>=65&&$<=90||$>=97&&$<=122}function N($,X,pe,re){let ne="",ce=0,ue=-1,we=0,He=0;for(let lt=0;lt<=$.length;++lt){if(lt<$.length)He=$.charCodeAt(lt);else{if(re(He))break;He=w}if(re(He)){if(ue!==lt-1&&1!==we)if(2===we){if(ne.length<2||2!==ce||ne.charCodeAt(ne.length-1)!==x||ne.charCodeAt(ne.length-2)!==x){if(ne.length>2){const ut=ne.lastIndexOf(pe);-1===ut?(ne="",ce=0):(ne=ne.slice(0,ut),ce=ne.length-1-ne.lastIndexOf(pe)),ue=lt,we=0;continue}if(0!==ne.length){ne="",ce=0,ue=lt,we=0;continue}}X&&(ne+=ne.length>0?`${pe}..`:"..",ce=2)}else ne.length>0?ne+=`${pe}${$.slice(ue+1,lt)}`:ne=$.slice(ue+1,lt),ce=lt-ue-1;ue=lt,we=0}else He===x&&-1!==we?++we:we=-1}return ne}function M($,X){if(null===X||"object"!=typeof X)throw new T("pathObject","Object",X);const pe=X.dir||X.root,re=X.base||`${X.name||""}${X.ext||""}`;return pe?pe===X.root?`${pe}${re}`:`${pe}${$}${re}`:re}const P={resolve(...$){let X="",pe="",re=!1;for(let ne=$.length-1;ne>=-1;ne--){let ce;if(ne>=0){if(ce=$[ne],z(ce,"path"),0===ce.length)continue}else 0===X.length?ce=Q():(ce=k[`=${X}`]||Q(),(void 0===ce||ce.slice(0,2).toLowerCase()!==X.toLowerCase()&&ce.charCodeAt(2)===D)&&(ce=`${X}\\`));const ue=ce.length;let we=0,He="",lt=!1;const ut=ce.charCodeAt(0);if(1===ue)I(ut)&&(we=1,lt=!0);else if(I(ut))if(lt=!0,I(ce.charCodeAt(1))){let Ve=2,ct=Ve;for(;Ve<ue&&!I(ce.charCodeAt(Ve));)Ve++;if(Ve<ue&&Ve!==ct){const Nt=ce.slice(ct,Ve);for(ct=Ve;Ve<ue&&I(ce.charCodeAt(Ve));)Ve++;if(Ve<ue&&Ve!==ct){for(ct=Ve;Ve<ue&&!I(ce.charCodeAt(Ve));)Ve++;(Ve===ue||Ve!==ct)&&(He=`\\\\${Nt}\\${ce.slice(ct,Ve)}`,we=Ve)}}}else we=1;else K(ut)&&ce.charCodeAt(1)===F&&(He=ce.slice(0,2),we=2,ue>2&&I(ce.charCodeAt(2))&&(lt=!0,we=3));if(He.length>0)if(X.length>0){if(He.toLowerCase()!==X.toLowerCase())continue}else X=He;if(re){if(X.length>0)break}else if(pe=`${ce.slice(we)}\\${pe}`,re=lt,lt&&X.length>0)break}return pe=N(pe,!re,"\\",I),re?`${X}\\${pe}`:`${X}${pe}`||"."},normalize($){z($,"path");const X=$.length;if(0===X)return".";let re,pe=0,ne=!1;const ce=$.charCodeAt(0);if(1===X)return H(ce)?"\\":$;if(I(ce))if(ne=!0,I($.charCodeAt(1))){let we=2,He=we;for(;we<X&&!I($.charCodeAt(we));)we++;if(we<X&&we!==He){const lt=$.slice(He,we);for(He=we;we<X&&I($.charCodeAt(we));)we++;if(we<X&&we!==He){for(He=we;we<X&&!I($.charCodeAt(we));)we++;if(we===X)return`\\\\${lt}\\${$.slice(He)}\\`;we!==He&&(re=`\\\\${lt}\\${$.slice(He,we)}`,pe=we)}}}else pe=1;else K(ce)&&$.charCodeAt(1)===F&&(re=$.slice(0,2),pe=2,X>2&&I($.charCodeAt(2))&&(ne=!0,pe=3));let ue=pe<X?N($.slice(pe),!ne,"\\",I):"";return 0===ue.length&&!ne&&(ue="."),ue.length>0&&I($.charCodeAt(X-1))&&(ue+="\\"),void 0===re?ne?`\\${ue}`:ue:ne?`${re}\\${ue}`:`${re}${ue}`},isAbsolute($){z($,"path");const X=$.length;if(0===X)return!1;const pe=$.charCodeAt(0);return I(pe)||X>2&&K(pe)&&$.charCodeAt(1)===F&&I($.charCodeAt(2))},join(...$){if(0===$.length)return".";let X,pe;for(let ce=0;ce<$.length;++ce){const ue=$[ce];z(ue,"path"),ue.length>0&&(void 0===X?X=pe=ue:X+=`\\${ue}`)}if(void 0===X)return".";let re=!0,ne=0;if("string"==typeof pe&&I(pe.charCodeAt(0))){++ne;const ce=pe.length;ce>1&&I(pe.charCodeAt(1))&&(++ne,ce>2&&(I(pe.charCodeAt(2))?++ne:re=!1))}if(re){for(;ne<X.length&&I(X.charCodeAt(ne));)ne++;ne>=2&&(X=`\\${X.slice(ne)}`)}return P.normalize(X)},relative($,X){if(z($,"from"),z(X,"to"),$===X)return"";const pe=P.resolve($),re=P.resolve(X);if(pe===re||($=pe.toLowerCase())===(X=re.toLowerCase()))return"";let ne=0;for(;ne<$.length&&$.charCodeAt(ne)===D;)ne++;let ce=$.length;for(;ce-1>ne&&$.charCodeAt(ce-1)===D;)ce--;const ue=ce-ne;let we=0;for(;we<X.length&&X.charCodeAt(we)===D;)we++;let He=X.length;for(;He-1>we&&X.charCodeAt(He-1)===D;)He--;const lt=He-we,ut=ue<lt?ue:lt;let Ve=-1,ct=0;for(;ct<ut;ct++){const un=$.charCodeAt(ne+ct);if(un!==X.charCodeAt(we+ct))break;un===D&&(Ve=ct)}if(ct!==ut){if(-1===Ve)return re}else{if(lt>ut){if(X.charCodeAt(we+ct)===D)return re.slice(we+ct+1);if(2===ct)return re.slice(we+ct)}ue>ut&&($.charCodeAt(ne+ct)===D?Ve=ct:2===ct&&(Ve=3)),-1===Ve&&(Ve=0)}let Nt="";for(ct=ne+Ve+1;ct<=ce;++ct)(ct===ce||$.charCodeAt(ct)===D)&&(Nt+=0===Nt.length?"..":"\\..");return we+=Ve,Nt.length>0?`${Nt}${re.slice(we,He)}`:(re.charCodeAt(we)===D&&++we,re.slice(we,He))},toNamespacedPath($){if("string"!=typeof $)return $;if(0===$.length)return"";const X=P.resolve($);if(X.length<=2)return $;if(X.charCodeAt(0)===D){if(X.charCodeAt(1)===D){const pe=X.charCodeAt(2);if(63!==pe&&pe!==x)return`\\\\?\\UNC\\${X.slice(2)}`}}else if(K(X.charCodeAt(0))&&X.charCodeAt(1)===F&&X.charCodeAt(2)===D)return`\\\\?\\${X}`;return $},dirname($){z($,"path");const X=$.length;if(0===X)return".";let pe=-1,re=0;const ne=$.charCodeAt(0);if(1===X)return I(ne)?$:".";if(I(ne)){if(pe=re=1,I($.charCodeAt(1))){let we=2,He=we;for(;we<X&&!I($.charCodeAt(we));)we++;if(we<X&&we!==He){for(He=we;we<X&&I($.charCodeAt(we));)we++;if(we<X&&we!==He){for(He=we;we<X&&!I($.charCodeAt(we));)we++;if(we===X)return $;we!==He&&(pe=re=we+1)}}}}else K(ne)&&$.charCodeAt(1)===F&&(pe=X>2&&I($.charCodeAt(2))?3:2,re=pe);let ce=-1,ue=!0;for(let we=X-1;we>=re;--we)if(I($.charCodeAt(we))){if(!ue){ce=we;break}}else ue=!1;if(-1===ce){if(-1===pe)return".";ce=pe}return $.slice(0,ce)},basename($,X){void 0!==X&&z(X,"ext"),z($,"path");let ce,pe=0,re=-1,ne=!0;if($.length>=2&&K($.charCodeAt(0))&&$.charCodeAt(1)===F&&(pe=2),void 0!==X&&X.length>0&&X.length<=$.length){if(X===$)return"";let ue=X.length-1,we=-1;for(ce=$.length-1;ce>=pe;--ce){const He=$.charCodeAt(ce);if(I(He)){if(!ne){pe=ce+1;break}}else-1===we&&(ne=!1,we=ce+1),ue>=0&&(He===X.charCodeAt(ue)?-1==--ue&&(re=ce):(ue=-1,re=we))}return pe===re?re=we:-1===re&&(re=$.length),$.slice(pe,re)}for(ce=$.length-1;ce>=pe;--ce)if(I($.charCodeAt(ce))){if(!ne){pe=ce+1;break}}else-1===re&&(ne=!1,re=ce+1);return-1===re?"":$.slice(pe,re)},extname($){z($,"path");let X=0,pe=-1,re=0,ne=-1,ce=!0,ue=0;$.length>=2&&$.charCodeAt(1)===F&&K($.charCodeAt(0))&&(X=re=2);for(let we=$.length-1;we>=X;--we){const He=$.charCodeAt(we);if(I(He)){if(!ce){re=we+1;break}}else-1===ne&&(ce=!1,ne=we+1),He===x?-1===pe?pe=we:1!==ue&&(ue=1):-1!==pe&&(ue=-1)}return-1===pe||-1===ne||0===ue||1===ue&&pe===ne-1&&pe===re+1?"":$.slice(pe,ne)},format:M.bind(null,"\\"),parse($){z($,"path");const X={root:"",dir:"",base:"",ext:"",name:""};if(0===$.length)return X;const pe=$.length;let re=0,ne=$.charCodeAt(0);if(1===pe)return I(ne)?(X.root=X.dir=$,X):(X.base=X.name=$,X);if(I(ne)){if(re=1,I($.charCodeAt(1))){let Ve=2,ct=Ve;for(;Ve<pe&&!I($.charCodeAt(Ve));)Ve++;if(Ve<pe&&Ve!==ct){for(ct=Ve;Ve<pe&&I($.charCodeAt(Ve));)Ve++;if(Ve<pe&&Ve!==ct){for(ct=Ve;Ve<pe&&!I($.charCodeAt(Ve));)Ve++;Ve===pe?re=Ve:Ve!==ct&&(re=Ve+1)}}}}else if(K(ne)&&$.charCodeAt(1)===F){if(pe<=2)return X.root=X.dir=$,X;if(re=2,I($.charCodeAt(2))){if(3===pe)return X.root=X.dir=$,X;re=3}}re>0&&(X.root=$.slice(0,re));let ce=-1,ue=re,we=-1,He=!0,lt=$.length-1,ut=0;for(;lt>=re;--lt)if(ne=$.charCodeAt(lt),I(ne)){if(!He){ue=lt+1;break}}else-1===we&&(He=!1,we=lt+1),ne===x?-1===ce?ce=lt:1!==ut&&(ut=1):-1!==ce&&(ut=-1);return-1!==we&&(-1===ce||0===ut||1===ut&&ce===we-1&&ce===ue+1?X.base=X.name=$.slice(ue,we):(X.name=$.slice(ue,ce),X.base=$.slice(ue,we),X.ext=$.slice(ce,we))),X.dir=ue>0&&ue!==re?$.slice(0,ue-1):X.root,X},sep:"\\",delimiter:";",win32:null,posix:null},W={resolve(...$){let X="",pe=!1;for(let re=$.length-1;re>=-1&&!pe;re--){const ne=re>=0?$[re]:Q();z(ne,"path"),0!==ne.length&&(X=`${ne}/${X}`,pe=ne.charCodeAt(0)===w)}return X=N(X,!pe,"/",H),pe?`/${X}`:X.length>0?X:"."},normalize($){if(z($,"path"),0===$.length)return".";const X=$.charCodeAt(0)===w,pe=$.charCodeAt($.length-1)===w;return 0===($=N($,!X,"/",H)).length?X?"/":pe?"./":".":(pe&&($+="/"),X?`/${$}`:$)},isAbsolute:$=>(z($,"path"),$.length>0&&$.charCodeAt(0)===w),join(...$){if(0===$.length)return".";let X;for(let pe=0;pe<$.length;++pe){const re=$[pe];z(re,"path"),re.length>0&&(void 0===X?X=re:X+=`/${re}`)}return void 0===X?".":W.normalize(X)},relative($,X){if(z($,"from"),z(X,"to"),$===X||($=W.resolve($))===(X=W.resolve(X)))return"";const re=$.length,ne=re-1,ue=X.length-1,we=ne<ue?ne:ue;let He=-1,lt=0;for(;lt<we;lt++){const Ve=$.charCodeAt(1+lt);if(Ve!==X.charCodeAt(1+lt))break;Ve===w&&(He=lt)}if(lt===we)if(ue>we){if(X.charCodeAt(1+lt)===w)return X.slice(1+lt+1);if(0===lt)return X.slice(1+lt)}else ne>we&&($.charCodeAt(1+lt)===w?He=lt:0===lt&&(He=0));let ut="";for(lt=1+He+1;lt<=re;++lt)(lt===re||$.charCodeAt(lt)===w)&&(ut+=0===ut.length?"..":"/..");return`${ut}${X.slice(1+He)}`},toNamespacedPath:$=>$,dirname($){if(z($,"path"),0===$.length)return".";const X=$.charCodeAt(0)===w;let pe=-1,re=!0;for(let ne=$.length-1;ne>=1;--ne)if($.charCodeAt(ne)===w){if(!re){pe=ne;break}}else re=!1;return-1===pe?X?"/":".":X&&1===pe?"//":$.slice(0,pe)},basename($,X){void 0!==X&&z(X,"ext"),z($,"path");let ce,pe=0,re=-1,ne=!0;if(void 0!==X&&X.length>0&&X.length<=$.length){if(X===$)return"";let ue=X.length-1,we=-1;for(ce=$.length-1;ce>=0;--ce){const He=$.charCodeAt(ce);if(He===w){if(!ne){pe=ce+1;break}}else-1===we&&(ne=!1,we=ce+1),ue>=0&&(He===X.charCodeAt(ue)?-1==--ue&&(re=ce):(ue=-1,re=we))}return pe===re?re=we:-1===re&&(re=$.length),$.slice(pe,re)}for(ce=$.length-1;ce>=0;--ce)if($.charCodeAt(ce)===w){if(!ne){pe=ce+1;break}}else-1===re&&(ne=!1,re=ce+1);return-1===re?"":$.slice(pe,re)},extname($){z($,"path");let X=-1,pe=0,re=-1,ne=!0,ce=0;for(let ue=$.length-1;ue>=0;--ue){const we=$.charCodeAt(ue);if(we!==w)-1===re&&(ne=!1,re=ue+1),we===x?-1===X?X=ue:1!==ce&&(ce=1):-1!==X&&(ce=-1);else if(!ne){pe=ue+1;break}}return-1===X||-1===re||0===ce||1===ce&&X===re-1&&X===pe+1?"":$.slice(X,re)},format:M.bind(null,"/"),parse($){z($,"path");const X={root:"",dir:"",base:"",ext:"",name:""};if(0===$.length)return X;const pe=$.charCodeAt(0)===w;let re;pe?(X.root="/",re=1):re=0;let ne=-1,ce=0,ue=-1,we=!0,He=$.length-1,lt=0;for(;He>=re;--He){const ut=$.charCodeAt(He);if(ut!==w)-1===ue&&(we=!1,ue=He+1),ut===x?-1===ne?ne=He:1!==lt&&(lt=1):-1!==ne&&(lt=-1);else if(!we){ce=He+1;break}}if(-1!==ue){const ut=0===ce&&pe?1:ce;-1===ne||0===lt||1===lt&&ne===ue-1&&ne===ce+1?X.base=X.name=$.slice(ut,ue):(X.name=$.slice(ut,ne),X.base=$.slice(ut,ue),X.ext=$.slice(ne,ue))}return ce>0?X.dir=$.slice(0,ce-1):pe&&(X.dir="/"),X},sep:"/",delimiter:":",win32:null,posix:null};W.win32=P.win32=P,W.posix=P.posix=W;const J="win32"===R?P.normalize:W.normalize,he="win32"===R?P.resolve:W.resolve,ye="win32"===R?P.relative:W.relative,fe="win32"===R?P.dirname:W.dirname,Se="win32"===R?P.basename:W.basename,Ie="win32"===R?P.extname:W.extname,_e="win32"===R?P.sep:W.sep},8972:(vt,Ke,m)=>{var v;m.d(Ke,{li:()=>T,ED:()=>N,dz:()=>M,IJ:()=>P,tY:()=>W,$L:()=>J,gn:()=>he,dK:()=>fe,fn:()=>Se,OS:()=>Ie,r:()=>X,i7:()=>pe,vU:()=>re,G6:()=>ne,un:()=>ce});const h="en";let w,f,Q=!1,k=!1,R=!1,se=!1,j=!1,Y=!1,V=!1,x=!1,D=h,F=null;const T="object"==typeof self?self:"object"==typeof global?global:{};let z;void 0!==T.vscode&&void 0!==T.vscode.process?z=T.vscode.process:"undefined"!=typeof process&&(z=process);const I="string"==typeof(null===(v=null==z?void 0:z.versions)||void 0===v?void 0:v.electron);if("object"!=typeof navigator||I&&"renderer"===(null==z?void 0:z.type))if("object"==typeof z){Q="win32"===z.platform,k="darwin"===z.platform,R="linux"===z.platform,se=R&&!!z.env.SNAP&&!!z.env.SNAP_REVISION,V=I,w=h,D=h;const we=z.env.VSCODE_NLS_CONFIG;if(we)try{const He=JSON.parse(we);w=He.locale,D=He.availableLanguages["*"]||h,F=He._translationsConfigFile}catch(He){}j=!0}else console.error("Unable to resolve platform.");else f=navigator.userAgent,Q=f.indexOf("Windows")>=0,k=f.indexOf("Macintosh")>=0,x=(f.indexOf("Macintosh")>=0||f.indexOf("iPad")>=0||f.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,R=f.indexOf("Linux")>=0,Y=!0,w=navigator.language,D=w;let K=0;k?K=1:Q?K=3:R&&(K=2);const N=Q,M=k,P=R,W=j,J=Y,he=x,ye=f,fe=D,Se=(()=>{if("function"==typeof T.postMessage&&!T.importScripts){let we=[];T.addEventListener("message",lt=>{if(lt.data&&lt.data.vscodeScheduleAsyncWork)for(let ut=0,Ve=we.length;ut<Ve;ut++){const ct=we[ut];if(ct.id===lt.data.vscodeScheduleAsyncWork)return we.splice(ut,1),void ct.callback()}});let He=0;return lt=>{const ut=++He;we.push({id:ut,callback:lt}),T.postMessage({vscodeScheduleAsyncWork:ut},"*")}}return we=>setTimeout(we)})(),Ie=k||x?2:Q?1:3;let _e=!0,$=!1;function X(){if(!$){$=!0;const we=new Uint8Array(2);we[0]=1,we[1]=2,_e=513===new Uint16Array(we.buffer)[0]}return _e}const pe=!!(ye&&ye.indexOf("Chrome")>=0),re=!!(ye&&ye.indexOf("Firefox")>=0),ne=!!(!pe&&ye&&ye.indexOf("Safari")>=0),ce=!!(ye&&ye.indexOf("Edg/")>=0);ye&&ye.indexOf("Android")},6656:(vt,Ke,m)=>{var v;m.d(Ke,{e:()=>v}),function(h){function Q(j,Y){if(j.start>=Y.end||Y.start>=j.end)return{start:0,end:0};const V=Math.max(j.start,Y.start),x=Math.min(j.end,Y.end);return x-V<=0?{start:0,end:0}:{start:V,end:x}}function k(j){return j.end-j.start<=0}h.intersect=Q,h.isEmpty=k,h.intersects=function R(j,Y){return!k(Q(j,Y))},h.relativeComplement=function se(j,Y){const V=[],x={start:j.start,end:Math.min(Y.start,j.end)},w={start:Math.max(Y.end,j.start),end:j.end};return k(x)||V.push(x),k(w)||V.push(w),V}}(v||(v={}))},5151:(vt,Ke,m)=>{m.d(Ke,{z_:()=>j,SF:()=>V,Xy:()=>D,Hx:()=>T,EZ:()=>z,DZ:()=>I,XX:()=>H,Vo:()=>K,AH:()=>N,i3:()=>P,Vb:()=>Se});var v=m(5170),h=m(278),Q=m(4163),k=m(8972),R=m(4705),se=m(4672);function j(Ie){return(0,se.q)(Ie,!0)}class Y{constructor(_e){this._ignorePathCasing=_e}compare(_e,$,X=!1){return _e===$?0:(0,R.qu)(this.getComparisonKey(_e,X),this.getComparisonKey($,X))}isEqual(_e,$,X=!1){return _e===$||!(!_e||!$)&&this.getComparisonKey(_e,X)===this.getComparisonKey($,X)}getComparisonKey(_e,$=!1){return _e.with({path:this._ignorePathCasing(_e)?_e.path.toLowerCase():void 0,fragment:$?null:void 0}).toString()}isEqualOrParent(_e,$,X=!1){if(_e.scheme===$.scheme){if(_e.scheme===h.lg.file)return v.KM(j(_e),j($),this._ignorePathCasing(_e))&&_e.query===$.query&&(X||_e.fragment===$.fragment);if(J(_e.authority,$.authority))return v.KM(_e.path,$.path,this._ignorePathCasing(_e),"/")&&_e.query===$.query&&(X||_e.fragment===$.fragment)}return!1}joinPath(_e,...$){return se.o.joinPath(_e,...$)}basenameOrAuthority(_e){return z(_e)||_e.authority}basename(_e){return Q.KR.basename(_e.path)}extname(_e){return Q.KR.extname(_e.path)}dirname(_e){if(0===_e.path.length)return _e;let $;return _e.scheme===h.lg.file?$=se.o.file(Q.XX(j(_e))).path:($=Q.KR.dirname(_e.path),_e.authority&&$.length&&47!==$.charCodeAt(0)&&(console.error(`dirname("${_e.toString})) resulted in a relative path`),$="/")),_e.with({path:$})}normalizePath(_e){if(!_e.path.length)return _e;let $;return $=_e.scheme===h.lg.file?se.o.file(Q.Fv(j(_e))).path:Q.KR.normalize(_e.path),_e.with({path:$})}relativePath(_e,$){if(_e.scheme!==$.scheme||!J(_e.authority,$.authority))return;if(_e.scheme===h.lg.file){const re=Q.Gf(j(_e),j($));return k.ED?v.ej(re):re}let X=_e.path||"/",pe=$.path||"/";if(this._ignorePathCasing(_e)){let re=0;for(const ne=Math.min(X.length,pe.length);re<ne&&(X.charCodeAt(re)===pe.charCodeAt(re)||X.charAt(re).toLowerCase()===pe.charAt(re).toLowerCase());re++);X=pe.substr(0,re)+X.substr(re)}return Q.KR.relative(X,pe)}resolvePath(_e,$){if(_e.scheme===h.lg.file){const X=se.o.file(Q.DB(j(_e),$));return _e.with({authority:X.authority,path:X.path})}return $=v.fn($),_e.with({path:Q.KR.resolve(_e.path,$)})}isAbsolutePath(_e){return!!_e.path&&"/"===_e.path[0]}isEqualAuthority(_e,$){return _e===$||void 0!==_e&&void 0!==$&&(0,R.qq)(_e,$)}hasTrailingPathSeparator(_e,$=Q.ir){if(_e.scheme===h.lg.file){const X=j(_e);return X.length>v.yj(X).length&&X[X.length-1]===$}{const X=_e.path;return X.length>1&&47===X.charCodeAt(X.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(_e.fsPath)}}removeTrailingPathSeparator(_e,$=Q.ir){return he(_e,$)?_e.with({path:_e.path.substr(0,_e.path.length-1)}):_e}addTrailingPathSeparator(_e,$=Q.ir){let X=!1;if(_e.scheme===h.lg.file){const pe=j(_e);X=void 0!==pe&&pe.length===v.yj(pe).length&&pe[pe.length-1]===$}else{$="/";const pe=_e.path;X=1===pe.length&&47===pe.charCodeAt(pe.length-1)}return X||he(_e,$)?_e:_e.with({path:_e.path+"/"})}}const V=new Y(()=>!1),D=(new Y(Ie=>Ie.scheme!==h.lg.file||!k.IJ),new Y(Ie=>!0),V.isEqual.bind(V)),T=(V.isEqualOrParent.bind(V),V.getComparisonKey.bind(V),V.basenameOrAuthority.bind(V)),z=V.basename.bind(V),I=V.extname.bind(V),H=V.dirname.bind(V),K=V.joinPath.bind(V),N=V.normalizePath.bind(V),P=(V.relativePath.bind(V),V.resolvePath.bind(V)),J=(V.isAbsolutePath.bind(V),V.isEqualAuthority.bind(V)),he=V.hasTrailingPathSeparator.bind(V);var Se,Ie;V.removeTrailingPathSeparator.bind(V),V.addTrailingPathSeparator.bind(V),(Ie=Se||(Se={})).META_DATA_LABEL="label",Ie.META_DATA_DESCRIPTION="description",Ie.META_DATA_SIZE="size",Ie.META_DATA_MIME="mime",Ie.parseMetaData=function _e($){const X=new Map;$.path.substring($.path.indexOf(";")+1,$.path.lastIndexOf(";")).split(";").forEach(ne=>{const[ce,ue]=ne.split(":");ce&&ue&&X.set(ce,ue)});const re=$.path.substring(0,$.path.indexOf(";"));return re&&X.set(Ie.META_DATA_MIME,re),X}},2816:(vt,Ke,m)=>{m.d(Ke,{Rm:()=>k});var v=m(2787),h=m(2425);class Q{constructor(D,F,f,T,z,I,H){this._forceIntegerValues=D,this._scrollStateBrand=void 0,this._forceIntegerValues&&(F|=0,f|=0,T|=0,z|=0,I|=0,H|=0),this.rawScrollLeft=T,this.rawScrollTop=H,F<0&&(F=0),T+F>f&&(T=f-F),T<0&&(T=0),z<0&&(z=0),H+z>I&&(H=I-z),H<0&&(H=0),this.width=F,this.scrollWidth=f,this.scrollLeft=T,this.height=z,this.scrollHeight=I,this.scrollTop=H}equals(D){return this.rawScrollLeft===D.rawScrollLeft&&this.rawScrollTop===D.rawScrollTop&&this.width===D.width&&this.scrollWidth===D.scrollWidth&&this.scrollLeft===D.scrollLeft&&this.height===D.height&&this.scrollHeight===D.scrollHeight&&this.scrollTop===D.scrollTop}withScrollDimensions(D,F){return new Q(this._forceIntegerValues,void 0!==D.width?D.width:this.width,void 0!==D.scrollWidth?D.scrollWidth:this.scrollWidth,F?this.rawScrollLeft:this.scrollLeft,void 0!==D.height?D.height:this.height,void 0!==D.scrollHeight?D.scrollHeight:this.scrollHeight,F?this.rawScrollTop:this.scrollTop)}withScrollPosition(D){return new Q(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==D.scrollLeft?D.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==D.scrollTop?D.scrollTop:this.rawScrollTop)}createScrollEvent(D,F){return{inSmoothScrolling:F,oldWidth:D.width,oldScrollWidth:D.scrollWidth,oldScrollLeft:D.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:D.height,oldScrollHeight:D.scrollHeight,oldScrollTop:D.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==D.width,scrollWidthChanged:this.scrollWidth!==D.scrollWidth,scrollLeftChanged:this.scrollLeft!==D.scrollLeft,heightChanged:this.height!==D.height,scrollHeightChanged:this.scrollHeight!==D.scrollHeight,scrollTopChanged:this.scrollTop!==D.scrollTop}}}class k extends h.JT{constructor(D){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new v.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=D.smoothScrollDuration,this._scheduleAtNextAnimationFrame=D.scheduleAtNextAnimationFrame,this._state=new Q(D.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(D){this._smoothScrollDuration=D}validateScrollPosition(D){return this._state.withScrollPosition(D)}getScrollDimensions(){return this._state}setScrollDimensions(D,F){const f=this._state.withScrollDimensions(D,F);this._setState(f,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(D){const F=this._state.withScrollPosition(D);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(F,!1)}setScrollPositionSmooth(D,F){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(D);if(this._smoothScrolling){const f=this._state.withScrollPosition(D={scrollLeft:void 0===D.scrollLeft?this._smoothScrolling.to.scrollLeft:D.scrollLeft,scrollTop:void 0===D.scrollTop?this._smoothScrolling.to.scrollTop:D.scrollTop});if(this._smoothScrolling.to.scrollLeft===f.scrollLeft&&this._smoothScrolling.to.scrollTop===f.scrollTop)return;let T;T=F?new Y(this._smoothScrolling.from,f,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,f,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=T}else{const f=this._state.withScrollPosition(D);this._smoothScrolling=Y.start(this._state,f,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const D=this._smoothScrolling.tick(),F=this._state.withScrollPosition(D);if(this._setState(F,!0),this._smoothScrolling){if(D.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(D,F){const f=this._state;f.equals(D)||(this._state=D,this._onScroll.fire(this._state.createScrollEvent(f,F)))}}class R{constructor(D,F,f){this.scrollLeft=D,this.scrollTop=F,this.isDone=f}}function se(w,D){const F=D-w;return function(f){return w+F*function x(w){return 1-function V(w){return Math.pow(w,3)}(1-w)}(f)}}class Y{constructor(D,F,f,T){this.from=D,this.to=F,this.duration=T,this.startTime=f,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(D,F,f){if(Math.abs(D-F)>2.5*f){let z,I;return D<F?(z=D+.75*f,I=F-.75*f):(z=D-.75*f,I=F+.75*f),function j(w,D,F){return function(f){return f<F?w(f/F):D((f-F)/(1-F))}}(se(D,z),se(I,F),.33)}return se(D,F)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(D){this.to=D.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(D){const F=(D-this.startTime)/this.duration;if(F<1){const f=this.scrollLeft(F),T=this.scrollTop(F);return new R(f,T,!1)}return new R(this.to.scrollLeft,this.to.scrollTop,!0)}combine(D,F,f){return Y.start(D,F,f)}static start(D,F,f){f+=10;const T=Date.now()-10;return new Y(D,F,T,f)}}},3570:(vt,Ke,m)=>{m.d(Ke,{Z:()=>Q});var v=m(4705),h=(()=>{return(k=h||(h={}))[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error",h;var k})();!function(k){const R="error",se="warning",Y="info";k.fromValue=function x(D){return D?v.qq(R,D)?k.Error:v.qq(se,D)||v.qq("warn",D)?k.Warning:v.qq(Y,D)?k.Info:k.Ignore:k.Ignore},k.toString=function w(D){switch(D){case k.Error:return R;case k.Warning:return se;case k.Info:return Y;default:return"ignore"}}}(h||(h={}));const Q=h},1724:(vt,Ke,m)=>{m.d(Ke,{G:()=>Q});var v=m(8972);const h=v.li.performance&&"function"==typeof v.li.performance.now;class Q{constructor(R){this._highResolution=h&&R,this._startTime=this._now(),this._stopTime=-1}static create(R=!0){return new Q(R)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?v.li.performance.now():Date.now()}}},4705:(vt,Ke,m)=>{m.d(Ke,{ZK:()=>_n,W1:()=>ue,vU:()=>In,Qe:()=>un,c1:()=>pn,Mh:()=>Ie,P1:()=>_e,qu:()=>M,zY:()=>W,TT:()=>P,j_:()=>J,rL:()=>pe,Ut:()=>Ve,ab:()=>Jt,Kw:()=>ze,un:()=>D,GF:()=>f,qq:()=>fe,YU:()=>j,ec:()=>Y,LC:()=>H,WU:()=>se,J_:()=>lt,V8:()=>K,oH:()=>Nn,ZH:()=>re,$i:()=>Nt,C8:()=>en,m5:()=>k,K7:()=>St,ZG:()=>$,YK:()=>X,mK:()=>he,df:()=>ye,ow:()=>N,j3:()=>x,vH:()=>we,B4:()=>jt,HO:()=>He,mr:()=>z,IO:()=>T,oL:()=>w,PJ:()=>At,uq:()=>I,ok:()=>Se,uS:()=>Xt,R1:()=>F,fy:()=>V});var Q,h=m(991);function k(it){return!it||"string"!=typeof it||0===it.trim().length}const R=/{(\d+)}/g;function se(it,...$t){return 0===$t.length?it:it.replace(R,function(bt,Zt){const Rn=parseInt(Zt,10);return isNaN(Rn)||Rn<0||Rn>=$t.length?bt:$t[Rn]})}function j(it){return it.replace(/[<>&]/g,function($t){switch($t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return $t}})}function Y(it){return it.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function V(it,$t=" "){return w(x(it,$t),$t)}function x(it,$t){if(!it||!$t)return it;const bt=$t.length;if(0===bt||0===it.length)return it;let Zt=0;for(;it.indexOf($t,Zt)===Zt;)Zt+=bt;return it.substring(Zt)}function w(it,$t){if(!it||!$t)return it;const bt=$t.length,Zt=it.length;if(0===bt||0===Zt)return it;let Rn=Zt,vn=-1;for(;vn=it.lastIndexOf($t,Rn-1),-1!==vn&&vn+bt===Rn;){if(0===vn)return"";Rn=vn}return it.substring(0,Rn)}function D(it){return it.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function F(it){return it.replace(/\*/g,"")}function f(it,$t,bt={}){if(!it)throw new Error("Cannot create regex from empty string");$t||(it=Y(it)),bt.wholeWord&&(/\B/.test(it.charAt(0))||(it="\\b"+it),/\B/.test(it.charAt(it.length-1))||(it+="\\b"));let Zt="";return bt.global&&(Zt+="g"),bt.matchCase||(Zt+="i"),bt.multiline&&(Zt+="m"),bt.unicode&&(Zt+="u"),new RegExp(it,Zt)}function T(it){return"^"!==it.source&&"^$"!==it.source&&"$"!==it.source&&"^\\s*$"!==it.source&&!(!it.exec("")||0!==it.lastIndex)}function z(it){return(it.global?"g":"")+(it.ignoreCase?"i":"")+(it.multiline?"m":"")+(it.unicode?"u":"")}function I(it){return it.split(/\r\n|\r|\n/)}function H(it){for(let $t=0,bt=it.length;$t<bt;$t++){const Zt=it.charCodeAt($t);if(32!==Zt&&9!==Zt)return $t}return-1}function K(it,$t=0,bt=it.length){for(let Zt=$t;Zt<bt;Zt++){const Rn=it.charCodeAt(Zt);if(32!==Rn&&9!==Rn)return it.substring($t,Zt)}return it.substring($t,bt)}function N(it,$t=it.length-1){for(let bt=$t;bt>=0;bt--){const Zt=it.charCodeAt(bt);if(32!==Zt&&9!==Zt)return bt}return-1}function M(it,$t){return it<$t?-1:it>$t?1:0}function P(it,$t,bt=0,Zt=it.length,Rn=0,vn=$t.length){for(;bt<Zt&&Rn<vn;bt++,Rn++){let ei=it.charCodeAt(bt),dt=$t.charCodeAt(Rn);if(ei<dt)return-1;if(ei>dt)return 1}const Wn=Zt-bt,pt=vn-Rn;return Wn<pt?-1:Wn>pt?1:0}function W(it,$t){return J(it,$t,0,it.length,0,$t.length)}function J(it,$t,bt=0,Zt=it.length,Rn=0,vn=$t.length){for(;bt<Zt&&Rn<vn;bt++,Rn++){let ei=it.charCodeAt(bt),dt=$t.charCodeAt(Rn);if(ei===dt)continue;if(ei>=128||dt>=128)return P(it.toLowerCase(),$t.toLowerCase(),bt,Zt,Rn,vn);he(ei)&&(ei-=32),he(dt)&&(dt-=32);const ke=ei-dt;if(0!==ke)return ke}const Wn=Zt-bt,pt=vn-Rn;return Wn<pt?-1:Wn>pt?1:0}function he(it){return it>=97&&it<=122}function ye(it){return it>=65&&it<=90}function fe(it,$t){return it.length===$t.length&&0===J(it,$t)}function Se(it,$t){return!($t.length>it.length)&&0===J(it,$t,0,$t.length)}function Ie(it,$t){let bt,Zt=Math.min(it.length,$t.length);for(bt=0;bt<Zt;bt++)if(it.charCodeAt(bt)!==$t.charCodeAt(bt))return bt;return Zt}function _e(it,$t){let bt,Zt=Math.min(it.length,$t.length);const Rn=it.length-1,vn=$t.length-1;for(bt=0;bt<Zt;bt++)if(it.charCodeAt(Rn-bt)!==$t.charCodeAt(vn-bt))return bt;return Zt}function $(it){return 55296<=it&&it<=56319}function X(it){return 56320<=it&&it<=57343}function pe(it,$t){return $t-56320+(it-55296<<10)+65536}function re(it,$t,bt){const Zt=it.charCodeAt(bt);if($(Zt)&&bt+1<$t){const Rn=it.charCodeAt(bt+1);if(X(Rn))return pe(Zt,Rn)}return Zt}class ce{constructor($t,bt=0){this._str=$t,this._len=$t.length,this._offset=bt}get offset(){return this._offset}setOffset($t){this._offset=$t}prevCodePoint(){const $t=function ne(it,$t){const bt=it.charCodeAt($t-1);if(X(bt)&&$t>1){const Zt=it.charCodeAt($t-2);if($(Zt))return pe(Zt,bt)}return bt}(this._str,this._offset);return this._offset-=$t>=65536?2:1,$t}nextCodePoint(){const $t=re(this._str,this._len,this._offset);return this._offset+=$t>=65536?2:1,$t}eol(){return this._offset>=this._len}}class ue{constructor($t,bt=0){this._iterator=new ce($t,bt)}get offset(){return this._iterator.offset}nextGraphemeLength(){const $t=nn.getInstance(),bt=this._iterator,Zt=bt.offset;let Rn=$t.getGraphemeBreakType(bt.nextCodePoint());for(;!bt.eol();){const vn=bt.offset,Wn=$t.getGraphemeBreakType(bt.nextCodePoint());if(Kt(Rn,Wn)){bt.setOffset(vn);break}Rn=Wn}return bt.offset-Zt}prevGraphemeLength(){const $t=nn.getInstance(),bt=this._iterator,Zt=bt.offset;let Rn=$t.getGraphemeBreakType(bt.prevCodePoint());for(;bt.offset>0;){const vn=bt.offset,Wn=$t.getGraphemeBreakType(bt.prevCodePoint());if(Kt(Wn,Rn)){bt.setOffset(vn);break}Rn=Wn}return Zt-bt.offset}eol(){return this._iterator.eol()}}function we(it,$t){return new ue(it,$t).nextGraphemeLength()}function He(it,$t){return new ue(it,$t).prevGraphemeLength()}function lt(it,$t){$t>0&&X(it.charCodeAt($t))&&$t--;const bt=$t+we(it,$t);return[bt-He(it,bt),bt]}const ut=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Ve(it){return ut.test(it)}const ct=/^[\t\n\r\x20-\x7E]*$/;function Nt(it){return ct.test(it)}const un=/[\u2028\u2029]/;function Jt(it){return un.test(it)}function St(it){return it>=11904&&it<=55215||it>=63744&&it<=64255||it>=65281&&it<=65374}function en(it){return it>=127462&&it<=127487||8986===it||8987===it||9200===it||9203===it||it>=9728&&it<=10175||11088===it||11093===it||it>=127744&&it<=128591||it>=128640&&it<=128764||it>=128992&&it<=129008||it>=129280&&it<=129535||it>=129648&&it<=129782}const pn=String.fromCharCode(65279);function Xt(it){return!!(it&&it.length>0&&65279===it.charCodeAt(0))}function ze(it,$t=!1){return!!it&&($t&&(it=it.replace(/\\./g,"")),it.toLowerCase()!==it)}function At(it){return it%=52,String.fromCharCode(it<26?97+it:65+it-26)}function Kt(it,$t){return 0===it?5!==$t&&7!==$t:!(2===it&&3===$t||4!==it&&2!==it&&3!==it&&4!==$t&&2!==$t&&3!==$t&&(8===it&&(8===$t||9===$t||11===$t||12===$t)||(11===it||9===it)&&(9===$t||10===$t)||(12===it||10===it)&&10===$t||5===$t||13===$t||7===$t||1===it||13===it&&14===$t||6===it&&6===$t))}let nn=(()=>{class it{constructor(){this._data=function Mn(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}static getInstance(){return it._INSTANCE||(it._INSTANCE=new it),it._INSTANCE}getGraphemeBreakType(bt){if(bt<32)return 10===bt?3:13===bt?2:4;if(bt<127)return 0;const Zt=this._data,Rn=Zt.length/3;let vn=1;for(;vn<=Rn;)if(bt<Zt[3*vn])vn*=2;else{if(!(bt>Zt[3*vn+1]))return Zt[3*vn+2];vn=2*vn+1}return 0}}return it._INSTANCE=null,it})();function Nn(it,$t){if(0===it)return 0;const bt=function yt(it,$t){const bt=new ce($t,it);let Zt=bt.prevCodePoint();for(;Ht(Zt)||65039===Zt||8419===Zt;){if(0===bt.offset)return;Zt=bt.prevCodePoint()}if(!en(Zt))return;let Rn=bt.offset;return Rn>0&&8205===bt.prevCodePoint()&&(Rn=bt.offset),Rn}(it,$t);if(void 0!==bt)return bt;const Zt=new ce($t,it);return Zt.prevCodePoint(),Zt.offset}function Ht(it){return 127995<=it&&it<=127999}const jt="\xa0";class _n{constructor($t){this.confusableDictionary=$t}static getInstance($t){return _n.cache.get(Array.from($t))}static getLocales(){return _n._locales.getValue()}isAmbiguous($t){return this.confusableDictionary.has($t)}getPrimaryConfusable($t){return this.confusableDictionary.get($t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}Q=_n,_n.ambiguousCharacterData=new h.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),_n.cache=new class v{constructor($t){this.computeFn=$t,this.lastCache=void 0,this.lastArgKey=void 0}get($t){const bt=JSON.stringify($t);return this.lastArgKey!==bt&&(this.lastArgKey=bt,this.lastCache=this.computeFn($t)),this.lastCache}}(it=>{function $t(dt){const ke=new Map;for(let ft=0;ft<dt.length;ft+=2)ke.set(dt[ft],dt[ft+1]);return ke}function Zt(dt,ke){if(!dt)return ke;const ft=new Map;for(const[Me,ot]of dt)ke.has(Me)&&ft.set(Me,ot);return ft}const Rn=Q.ambiguousCharacterData.getValue();let Wn,vn=it.filter(dt=>!dt.startsWith("_")&&dt in Rn);0===vn.length&&(vn=["_default"]);for(const dt of vn)Wn=Zt(Wn,$t(Rn[dt]));const ei=function bt(dt,ke){const ft=new Map(dt);for(const[Me,ot]of ke)ft.set(Me,ot);return ft}($t(Rn._common),Wn);return new _n(ei)}),_n._locales=new h.o(()=>Object.keys(_n.ambiguousCharacterData.getValue()).filter(it=>!it.startsWith("_")));class In{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(In.getRawData())),this._data}static isInvisibleCharacter($t){return In.getData().has($t)}static get codePoints(){return In.getData()}}In._data=void 0},4435:(vt,Ke,m)=>{function v(K){return Array.isArray(K)}function h(K){return"string"==typeof K}function Q(K){return!("object"!=typeof K||null===K||Array.isArray(K)||K instanceof RegExp||K instanceof Date)}function k(K){return"number"==typeof K&&!isNaN(K)}function R(K){return!0===K||!1===K}function se(K){return void 0===K}function j(K){return!Y(K)}function Y(K){return se(K)||null===K}function V(K,N){if(!K)throw new Error(N?`Unexpected type, expected '${N}'`:"Unexpected type")}function x(K){if(Y(K))throw new Error("Assertion Failed: argument is undefined or null");return K}function w(K){return"function"==typeof K}function D(K,N){const M=Math.min(K.length,N.length);for(let P=0;P<M;P++)F(K[P],N[P])}function F(K,N){if(h(N)){if(typeof K!==N)throw new Error(`argument does not match constraint: typeof ${N}`)}else if(w(N)){try{if(K instanceof N)return}catch(M){}if(!Y(K)&&K.constructor===N||1===N.length&&!0===N.call(void 0,K))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function T(K){const N=[];for(const M of function f(K){let N=[],M=Object.getPrototypeOf(K);for(;Object.prototype!==M;)N=N.concat(Object.getOwnPropertyNames(M)),M=Object.getPrototypeOf(M);return N}(K))"function"==typeof K[M]&&N.push(M);return N}function z(K,N){const M=W=>function(){const J=Array.prototype.slice.call(arguments,0);return N(W,J)};let P={};for(const W of K)P[W]=M(W);return P}function I(K){return null===K?void 0:K}function H(K,N="Unreachable"){throw new Error(N)}m.d(Ke,{kJ:()=>v,HD:()=>h,Kn:()=>Q,hj:()=>k,jn:()=>R,o8:()=>se,$K:()=>j,Jp:()=>Y,p_:()=>V,cW:()=>x,mf:()=>w,D8:()=>D,$E:()=>T,IU:()=>z,f6:()=>I,vE:()=>H})},5129:(vt,Ke,m)=>{function v(Q){return Q<0?0:Q>255?255:0|Q}function h(Q){return Q<0?0:Q>4294967295?4294967295:0|Q}m.d(Ke,{K:()=>v,A:()=>h})},4672:(vt,Ke,m)=>{m.d(Ke,{o:()=>D,q:()=>H});var v=m(4163),h=m(8972);const Q=/^\w[\w\d+.-]*$/,k=/^\//,R=/^\/\//;function se(W,J){if(!W.scheme&&J)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${W.authority}", path: "${W.path}", query: "${W.query}", fragment: "${W.fragment}"}`);if(W.scheme&&!Q.test(W.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(W.path)if(W.authority){if(!k.test(W.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(R.test(W.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const V="",x="/",w=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class D{constructor(J,he,ye,fe,Se,Ie=!1){"object"==typeof J?(this.scheme=J.scheme||V,this.authority=J.authority||V,this.path=J.path||V,this.query=J.query||V,this.fragment=J.fragment||V):(this.scheme=function j(W,J){return W||J?W:"file"}(J,Ie),this.authority=he||V,this.path=function Y(W,J){switch(W){case"https":case"http":case"file":J?J[0]!==x&&(J=x+J):J=x}return J}(this.scheme,ye||V),this.query=fe||V,this.fragment=Se||V,se(this,Ie))}static isUri(J){return J instanceof D||!!J&&"string"==typeof J.authority&&"string"==typeof J.fragment&&"string"==typeof J.path&&"string"==typeof J.query&&"string"==typeof J.scheme&&"string"==typeof J.fsPath&&"function"==typeof J.with&&"function"==typeof J.toString}get fsPath(){return H(this,!1)}with(J){if(!J)return this;let{scheme:he,authority:ye,path:fe,query:Se,fragment:Ie}=J;return void 0===he?he=this.scheme:null===he&&(he=V),void 0===ye?ye=this.authority:null===ye&&(ye=V),void 0===fe?fe=this.path:null===fe&&(fe=V),void 0===Se?Se=this.query:null===Se&&(Se=V),void 0===Ie?Ie=this.fragment:null===Ie&&(Ie=V),he===this.scheme&&ye===this.authority&&fe===this.path&&Se===this.query&&Ie===this.fragment?this:new f(he,ye,fe,Se,Ie)}static parse(J,he=!1){const ye=w.exec(J);return ye?new f(ye[2]||V,P(ye[4]||V),P(ye[5]||V),P(ye[7]||V),P(ye[9]||V),he):new f(V,V,V,V,V)}static file(J){let he=V;if(h.ED&&(J=J.replace(/\\/g,x)),J[0]===x&&J[1]===x){const ye=J.indexOf(x,2);-1===ye?(he=J.substring(2),J=x):(he=J.substring(2,ye),J=J.substring(ye)||x)}return new f("file",he,J,V,V)}static from(J){const he=new f(J.scheme,J.authority,J.path,J.query,J.fragment);return se(he,!0),he}static joinPath(J,...he){if(!J.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let ye;return ye=h.ED&&"file"===J.scheme?D.file(v.Ku.join(H(J,!0),...he)).path:v.KR.join(J.path,...he),J.with({path:ye})}toString(J=!1){return K(this,J)}toJSON(){return this}static revive(J){if(J){if(J instanceof D)return J;{const he=new f(J);return he._formatted=J.external,he._fsPath=J._sep===F?J.fsPath:null,he}}return J}}const F=h.ED?1:void 0;class f extends D{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=H(this,!1)),this._fsPath}toString(J=!1){return J?K(this,!0):(this._formatted||(this._formatted=K(this,!1)),this._formatted)}toJSON(){const J={$mid:1};return this._fsPath&&(J.fsPath=this._fsPath,J._sep=F),this._formatted&&(J.external=this._formatted),this.path&&(J.path=this.path),this.scheme&&(J.scheme=this.scheme),this.authority&&(J.authority=this.authority),this.query&&(J.query=this.query),this.fragment&&(J.fragment=this.fragment),J}}const T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function z(W,J){let he,ye=-1;for(let fe=0;fe<W.length;fe++){const Se=W.charCodeAt(fe);if(Se>=97&&Se<=122||Se>=65&&Se<=90||Se>=48&&Se<=57||45===Se||46===Se||95===Se||126===Se||J&&47===Se)-1!==ye&&(he+=encodeURIComponent(W.substring(ye,fe)),ye=-1),void 0!==he&&(he+=W.charAt(fe));else{void 0===he&&(he=W.substr(0,fe));const Ie=T[Se];void 0!==Ie?(-1!==ye&&(he+=encodeURIComponent(W.substring(ye,fe)),ye=-1),he+=Ie):-1===ye&&(ye=fe)}}return-1!==ye&&(he+=encodeURIComponent(W.substring(ye))),void 0!==he?he:W}function I(W){let J;for(let he=0;he<W.length;he++){const ye=W.charCodeAt(he);35===ye||63===ye?(void 0===J&&(J=W.substr(0,he)),J+=T[ye]):void 0!==J&&(J+=W[he])}return void 0!==J?J:W}function H(W,J){let he;return he=W.authority&&W.path.length>1&&"file"===W.scheme?`//${W.authority}${W.path}`:47===W.path.charCodeAt(0)&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&58===W.path.charCodeAt(2)?J?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,h.ED&&(he=he.replace(/\//g,"\\")),he}function K(W,J){const he=J?I:z;let ye="",{scheme:fe,authority:Se,path:Ie,query:_e,fragment:$}=W;if(fe&&(ye+=fe,ye+=":"),(Se||"file"===fe)&&(ye+=x,ye+=x),Se){let X=Se.indexOf("@");if(-1!==X){const pe=Se.substr(0,X);Se=Se.substr(X+1),X=pe.indexOf(":"),-1===X?ye+=he(pe,!1):(ye+=he(pe.substr(0,X),!1),ye+=":",ye+=he(pe.substr(X+1),!1)),ye+="@"}Se=Se.toLowerCase(),X=Se.indexOf(":"),-1===X?ye+=he(Se,!1):(ye+=he(Se.substr(0,X),!1),ye+=Se.substr(X))}if(Ie){if(Ie.length>=3&&47===Ie.charCodeAt(0)&&58===Ie.charCodeAt(2)){const X=Ie.charCodeAt(1);X>=65&&X<=90&&(Ie=`/${String.fromCharCode(X+32)}:${Ie.substr(3)}`)}else if(Ie.length>=2&&58===Ie.charCodeAt(1)){const X=Ie.charCodeAt(0);X>=65&&X<=90&&(Ie=`${String.fromCharCode(X+32)}:${Ie.substr(2)}`)}ye+=he(Ie,!0)}return _e&&(ye+="?",ye+=he(_e,!1)),$&&(ye+="#",ye+=J?$:z($,!1)),ye}function N(W){try{return decodeURIComponent(W)}catch(J){return W.length>3?W.substr(0,3)+N(W.substr(3)):W}}const M=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function P(W){return W.match(M)?W.replace(M,J=>N(J)):W}},2099:(vt,Ke,m)=>{m.d(Ke,{X5:()=>v,Jq:()=>h,jG:()=>Q});const v={ctrlCmd:!1,alt:!1};var h=(()=>{return(se=h||(h={}))[se.Blur=1]="Blur",se[se.Gesture=2]="Gesture",se[se.Other=3]="Other",h;var se})(),Q=(()=>{return(se=Q||(Q={}))[se.NONE=0]="NONE",se[se.FIRST=1]="FIRST",se[se.SECOND=2]="SECOND",se[se.LAST=3]="LAST",Q;var se})();new class k{constructor(j){this.options=j}}},5748:(vt,Ke,m)=>{m.d(Ke,{N:()=>k});var v=m(3366),h=m(8554),Q=m(6367);function k(R,se){R instanceof h.Z?(R.setFontFamily(se.getMassagedFontFamily(v.isSafari?Q.hL.fontFamily:null)),R.setFontWeight(se.fontWeight),R.setFontSize(se.fontSize),R.setFontFeatureSettings(se.fontFeatureSettings),R.setLineHeight(se.lineHeight),R.setLetterSpacing(se.letterSpacing)):(R.style.fontFamily=se.getMassagedFontFamily(v.isSafari?Q.hL.fontFamily:null),R.style.fontWeight=se.fontWeight,R.style.fontSize=se.fontSize+"px",R.style.fontFeatureSettings=se.fontFeatureSettings,R.style.lineHeight=se.lineHeight+"px",R.style.letterSpacing=se.letterSpacing+"px")}},2052:(vt,Ke,m)=>{m.d(Ke,{I:()=>Q});var v=m(2425),h=m(2787);class Q extends v.JT{constructor(R,se){super(),this._onDidChange=this._register(new h.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=R,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,se)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(R=>{R&&R[0]&&R[0].contentRect?this.observe({width:R[0].contentRect.width,height:R[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(R){this.measureReferenceDomElement(!0,R)}measureReferenceDomElement(R,se){let j=0,Y=0;se?(j=se.width,Y=se.height):this._referenceDomElement&&(j=this._referenceDomElement.clientWidth,Y=this._referenceDomElement.clientHeight),j=Math.max(5,j),Y=Math.max(5,Y),(this._width!==j||this._height!==Y)&&(this._width=j,this._height=Y,R&&this._onDidChange.fire())}}},3126:(vt,Ke,m)=>{m.d(Ke,{g:()=>D});var v=m(3366),h=m(2787),Q=m(2425),k=m(5748);class R{constructor(f,T){this.chr=f,this.type=T,this.width=0}fulfill(f){this.width=f}}class se{constructor(f,T){this._bareFontInfo=f,this._requests=T,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const T=document.createElement("div");(0,k.N)(T,this._bareFontInfo),f.appendChild(T);const z=document.createElement("div");(0,k.N)(z,this._bareFontInfo),z.style.fontWeight="bold",f.appendChild(z);const I=document.createElement("div");(0,k.N)(I,this._bareFontInfo),I.style.fontStyle="italic",f.appendChild(I);const H=[];for(const K of this._requests){let N;0===K.type&&(N=T),2===K.type&&(N=z),1===K.type&&(N=I),N.appendChild(document.createElement("br"));const M=document.createElement("span");se._render(M,K),N.appendChild(M),H.push(M)}this._container=f,this._testElements=H}static _render(f,T){if(" "===T.chr){let z="\xa0";for(let I=0;I<8;I++)z+=z;f.innerText=z}else{let z=T.chr;for(let I=0;I<8;I++)z+=z;f.textContent=z}}_readFromDomElements(){for(let f=0,T=this._requests.length;f<T;f++)this._requests[f].fulfill(this._testElements[f].offsetWidth/256)}}var Y=m(6367),V=m(5462);class w{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(f){const T=f.getId();return!!this._values[T]}get(f){const T=f.getId();return this._values[T]}put(f,T){const z=f.getId();this._keys[z]=f,this._values[z]=T}remove(f){const T=f.getId();delete this._keys[T],delete this._values[T]}getValues(){return Object.keys(this._keys).map(f=>this._values[f])}}const D=new class x extends Q.JT{constructor(){super(),this._onDidChange=this._register(new h.Q5),this.onDidChange=this._onDidChange.event,this._cache=new w,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new w,this._onDidChange.fire()}_writeToCache(f,T){this._cache.put(f,T),!T.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const f=this._cache.getValues();let T=!1;for(const z of f)z.isTrusted||(T=!0,this._cache.remove(z));T&&this._onDidChange.fire()}readFontInfo(f){if(!this._cache.has(f)){let T=this._actualReadFontInfo(f);(T.typicalHalfwidthCharacterWidth<=2||T.typicalFullwidthCharacterWidth<=2||T.spaceWidth<=2||T.maxDigitWidth<=2)&&(T=new V.pR({pixelRatio:v.PixelRatio.value,fontFamily:T.fontFamily,fontWeight:T.fontWeight,fontSize:T.fontSize,fontFeatureSettings:T.fontFeatureSettings,lineHeight:T.lineHeight,letterSpacing:T.letterSpacing,isMonospace:T.isMonospace,typicalHalfwidthCharacterWidth:Math.max(T.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(T.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:T.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(T.spaceWidth,5),middotWidth:Math.max(T.middotWidth,5),wsmiddotWidth:Math.max(T.wsmiddotWidth,5),maxDigitWidth:Math.max(T.maxDigitWidth,5)},!1)),this._writeToCache(f,T)}return this._cache.get(f)}_createRequest(f,T,z,I){const H=new R(f,T);return z.push(H),I&&I.push(H),H}_actualReadFontInfo(f){const T=[],z=[],I=this._createRequest("n",0,T,z),H=this._createRequest("\uff4d",0,T,null),K=this._createRequest(" ",0,T,z),N=this._createRequest("0",0,T,z),M=this._createRequest("1",0,T,z),P=this._createRequest("2",0,T,z),W=this._createRequest("3",0,T,z),J=this._createRequest("4",0,T,z),he=this._createRequest("5",0,T,z),ye=this._createRequest("6",0,T,z),fe=this._createRequest("7",0,T,z),Se=this._createRequest("8",0,T,z),Ie=this._createRequest("9",0,T,z),_e=this._createRequest("\u2192",0,T,z),$=this._createRequest("\uffeb",0,T,null),X=this._createRequest("\xb7",0,T,z),pe=this._createRequest(String.fromCharCode(11825),0,T,null),re="|/-_ilm%";for(let He=0,lt=re.length;He<lt;He++)this._createRequest(re.charAt(He),0,T,z),this._createRequest(re.charAt(He),1,T,z),this._createRequest(re.charAt(He),2,T,z);!function j(F,f){new se(F,f).read()}(f,T);const ne=Math.max(N.width,M.width,P.width,W.width,J.width,he.width,ye.width,fe.width,Se.width,Ie.width);let ce=f.fontFeatureSettings===Y.n0.OFF;const ue=z[0].width;for(let He=1,lt=z.length;ce&&He<lt;He++){const ut=ue-z[He].width;if(ut<-.001||ut>.001){ce=!1;break}}let we=!0;return ce&&$.width!==ue&&(we=!1),$.width>_e.width&&(we=!1),new V.pR({pixelRatio:v.PixelRatio.value,fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:ce,typicalHalfwidthCharacterWidth:I.width,typicalFullwidthCharacterWidth:H.width,canUseHalfwidthRightwardsArrow:we,spaceWidth:K.width,middotWidth:X.width,wsmiddotWidth:pe.width,maxDigitWidth:ne},!0)}}},5617:(vt,Ke,m)=>{m.d(Ke,{n:()=>Q});var v=m(2787);const Q=new class h{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new v.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(R){this._tabFocus!==R&&(this._tabFocus=R,this._onDidChangeTabFocus.fire(this._tabFocus))}}},1410:(vt,Ke,m)=>{m.d(Ke,{wk:()=>ye,Ox:()=>P});var v=m(402),h=m(3366),Q=m(4435),k=m(3619),R=m(5172),se=m(7221),j=m(1181),Y=m(4220),V=m(8451);class x{static columnSelect(_e,$,X,pe,re,ne){const ce=Math.abs(re-X)+1,ue=X>re,we=pe>ne,He=pe<ne,lt=[];for(let ut=0;ut<ce;ut++){const Ve=X+(ue?-ut:ut),ct=_e.columnFromVisibleColumn($,Ve,pe),Nt=_e.columnFromVisibleColumn($,Ve,ne),un=_e.visibleColumnFromColumn($,new Y.L(Ve,ct)),Jt=_e.visibleColumnFromColumn($,new Y.L(Ve,Nt));He&&(un>ne||Jt<pe)||we&&(Jt>pe||un<ne)||lt.push(new j.rS(new V.e(Ve,ct,Ve,ct),0,new Y.L(Ve,Nt),0))}if(0===lt.length)for(let ut=0;ut<ce;ut++){const Ve=X+(ue?-ut:ut),ct=$.getLineMaxColumn(Ve);lt.push(new j.rS(new V.e(Ve,ct,Ve,ct),0,new Y.L(Ve,ct),0))}return{viewStates:lt,reversed:ue,fromLineNumber:X,fromVisualColumn:pe,toLineNumber:re,toVisualColumn:ne}}static columnSelectLeft(_e,$,X){let pe=X.toViewVisualColumn;return pe>0&&pe--,x.columnSelect(_e,$,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,pe)}static columnSelectRight(_e,$,X){let pe=0;const re=Math.min(X.fromViewLineNumber,X.toViewLineNumber),ne=Math.max(X.fromViewLineNumber,X.toViewLineNumber);for(let ue=re;ue<=ne;ue++){const we=$.getLineMaxColumn(ue),He=_e.visibleColumnFromColumn($,new Y.L(ue,we));pe=Math.max(pe,He)}let ce=X.toViewVisualColumn;return ce<pe&&ce++,this.columnSelect(_e,$,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,ce)}static columnSelectUp(_e,$,X,pe){const ne=Math.max(1,X.toViewLineNumber-(pe?_e.pageSize:1));return this.columnSelect(_e,$,X.fromViewLineNumber,X.fromViewVisualColumn,ne,X.toViewVisualColumn)}static columnSelectDown(_e,$,X,pe){const re=pe?_e.pageSize:1,ne=Math.min($.getLineCount(),X.toViewLineNumber+re);return this.columnSelect(_e,$,X.fromViewLineNumber,X.fromViewVisualColumn,ne,X.toViewVisualColumn)}}var K,Ie,N,P,w=m(2525),D=m(6396),F=m(6786),f=m(9584),T=m(9776),z=m(7550);class H extends R._l{runEditorCommand(_e,$,X){const pe=$._getViewModel();!pe||this.runCoreEditorCommand(pe,X||{})}}(Ie=K||(K={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(X){if(!Q.Kn(X))return!1;const pe=X;return!(!Q.HD(pe.to)||!Q.o8(pe.by)&&!Q.HD(pe.by)||!Q.o8(pe.value)&&!Q.hj(pe.value)||!Q.o8(pe.revealCursor)&&!Q.jn(pe.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},Ie.RawDirection={Up:"up",Down:"down"},Ie.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},Ie.parse=function $(X){let pe,re;switch(X.to){case Ie.RawDirection.Up:pe=1;break;case Ie.RawDirection.Down:pe=2;break;default:return null}switch(X.by){case Ie.RawUnit.Line:re=1;break;case Ie.RawUnit.WrappedLine:re=2;break;case Ie.RawUnit.Page:re=3;break;case Ie.RawUnit.HalfPage:re=4;break;default:re=2}return{direction:pe,unit:re,value:Math.floor(X.value||1),revealCursor:!!X.revealCursor,select:!!X.select}},function(Ie){Ie.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function($){if(!Q.Kn($))return!1;const X=$;return!(!Q.hj(X.lineNumber)&&!Q.HD(X.lineNumber)||!Q.o8(X.at)&&!Q.HD(X.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},Ie.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(N||(N={}));class M{constructor(_e){_e.addImplementation(1e4,"code-editor",($,X)=>{const pe=$.get(se.$).getFocusedCodeEditor();return!(!pe||!pe.hasTextFocus())&&this._runEditorCommand($,pe,X)}),_e.addImplementation(1e3,"generic-dom-input-textarea",($,X)=>{const pe=document.activeElement;return!!(pe&&["input","textarea"].indexOf(pe.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),_e.addImplementation(0,"generic-dom",($,X)=>{const pe=$.get(se.$).getActiveCodeEditor();return!!pe&&(pe.focus(),this._runEditorCommand($,pe,X))})}_runEditorCommand(_e,$,X){return this.runEditorCommand(_e,$,X)||!0}}!function(Ie){class _e extends H{constructor(St){super(St),this._minimalReveal=St.minimalReveal,this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,[D.P.moveTo(St,St.getPrimaryCursorState(),this._inSelectionMode,en.position,en.viewPosition)])&&St.revealPrimaryCursor(en.source,!0,this._minimalReveal)}}Ie.MoveTo=(0,R.fK)(new _e({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),Ie.MoveToSelect=(0,R.fK)(new _e({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class $ extends H{runCoreEditorCommand(St,en){St.model.pushStackElement();const pn=this._getColumnSelectResult(St,St.getPrimaryCursorState(),St.getCursorColumnSelectData(),en);St.setCursorStates(en.source,3,pn.viewStates.map(Xt=>j.Vi.fromViewState(Xt))),St.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:pn.fromLineNumber,fromViewVisualColumn:pn.fromVisualColumn,toViewLineNumber:pn.toLineNumber,toViewVisualColumn:pn.toVisualColumn}),pn.reversed?St.revealTopMostCursor(en.source):St.revealBottomMostCursor(en.source)}}Ie.ColumnSelect=(0,R.fK)(new class extends ${constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Jt,St,en,pn){const Xt=Jt.model.validatePosition(pn.position),ze=Jt.coordinatesConverter.validateViewPosition(new Y.L(pn.viewPosition.lineNumber,pn.viewPosition.column),Xt);return x.columnSelect(Jt.cursorConfig,Jt,pn.doColumnSelect?en.fromViewLineNumber:ze.lineNumber,pn.doColumnSelect?en.fromViewVisualColumn:pn.mouseColumn-1,ze.lineNumber,pn.mouseColumn-1)}}),Ie.CursorColumnSelectLeft=(0,R.fK)(new class extends ${constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Jt,St,en,pn){return x.columnSelectLeft(Jt.cursorConfig,Jt,en)}}),Ie.CursorColumnSelectRight=(0,R.fK)(new class extends ${constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Jt,St,en,pn){return x.columnSelectRight(Jt.cursorConfig,Jt,en)}});class X extends ${constructor(St){super(St),this._isPaged=St.isPaged}_getColumnSelectResult(St,en,pn,Xt){return x.columnSelectUp(St.cursorConfig,St,pn,this._isPaged)}}Ie.CursorColumnSelectUp=(0,R.fK)(new X({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3600,linux:{primary:0}}})),Ie.CursorColumnSelectPageUp=(0,R.fK)(new X({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3595,linux:{primary:0}}}));class pe extends ${constructor(St){super(St),this._isPaged=St.isPaged}_getColumnSelectResult(St,en,pn,Xt){return x.columnSelectDown(St.cursorConfig,St,pn,this._isPaged)}}Ie.CursorColumnSelectDown=(0,R.fK)(new pe({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3602,linux:{primary:0}}})),Ie.CursorColumnSelectPageDown=(0,R.fK)(new pe({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3596,linux:{primary:0}}}));class re extends H{constructor(){super({id:"cursorMove",precondition:void 0,description:D.N.description})}runCoreEditorCommand(St,en){const pn=D.N.parse(en);!pn||this._runCursorMove(St,en.source,pn)}_runCursorMove(St,en,pn){St.model.pushStackElement(),St.setCursorStates(en,3,re._move(St,St.getCursorStates(),pn)),St.revealPrimaryCursor(en,!0)}static _move(St,en,pn){const Xt=pn.select,ze=pn.value;switch(pn.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return D.P.simpleMove(St,en,pn.direction,Xt,ze,pn.unit);case 11:case 13:case 12:case 14:return D.P.viewportMove(St,en,pn.direction,Xt,ze);default:return null}}}Ie.CursorMoveImpl=re,Ie.CursorMove=(0,R.fK)(new re);class ne extends H{constructor(St){super(St),this._staticArgs=St.args}runCoreEditorCommand(St,en){let pn=this._staticArgs;-1===this._staticArgs.value&&(pn={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:en.pageSize||St.cursorConfig.pageSize}),St.model.pushStackElement(),St.setCursorStates(en.source,3,D.P.simpleMove(St,St.getCursorStates(),pn.direction,pn.select,pn.value,pn.unit)),St.revealPrimaryCursor(en.source,!0)}}Ie.CursorLeft=(0,R.fK)(new ne({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),Ie.CursorLeftSelect=(0,R.fK)(new ne({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1039}})),Ie.CursorRight=(0,R.fK)(new ne({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),Ie.CursorRightSelect=(0,R.fK)(new ne({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1041}})),Ie.CursorUp=(0,R.fK)(new ne({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),Ie.CursorUpSelect=(0,R.fK)(new ne({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),Ie.CursorPageUp=(0,R.fK)(new ne({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:11}})),Ie.CursorPageUpSelect=(0,R.fK)(new ne({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1035}})),Ie.CursorDown=(0,R.fK)(new ne({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),Ie.CursorDownSelect=(0,R.fK)(new ne({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),Ie.CursorPageDown=(0,R.fK)(new ne({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:12}})),Ie.CursorPageDownSelect=(0,R.fK)(new ne({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1036}})),Ie.CreateCursor=(0,R.fK)(new class extends H{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Jt,St){let en;en=St.wholeLine?D.P.line(Jt,Jt.getPrimaryCursorState(),!1,St.position,St.viewPosition):D.P.moveTo(Jt,Jt.getPrimaryCursorState(),!1,St.position,St.viewPosition);const pn=Jt.getCursorStates();if(pn.length>1){const Xt=en.modelState?en.modelState.position:null,ze=en.viewState?en.viewState.position:null;for(let At=0,Kt=pn.length;At<Kt;At++){const nn=pn[At];if((!Xt||nn.modelState.selection.containsPosition(Xt))&&(!ze||nn.viewState.selection.containsPosition(ze)))return pn.splice(At,1),Jt.model.pushStackElement(),void Jt.setCursorStates(St.source,3,pn)}}pn.push(en),Jt.model.pushStackElement(),Jt.setCursorStates(St.source,3,pn)}}),Ie.LastCursorMoveToSelect=(0,R.fK)(new class extends H{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Jt,St){const en=Jt.getLastAddedCursorIndex(),pn=Jt.getCursorStates(),Xt=pn.slice(0);Xt[en]=D.P.moveTo(Jt,pn[en],!0,St.position,St.viewPosition),Jt.model.pushStackElement(),Jt.setCursorStates(St.source,3,Xt)}});class ce extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,D.P.moveToBeginningOfLine(St,St.getCursorStates(),this._inSelectionMode)),St.revealPrimaryCursor(en.source,!0)}}Ie.CursorHome=(0,R.fK)(new ce({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),Ie.CursorHomeSelect=(0,R.fK)(new ce({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class ue extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,this._exec(St.getCursorStates())),St.revealPrimaryCursor(en.source,!0)}_exec(St){const en=[];for(let pn=0,Xt=St.length;pn<Xt;pn++){const ze=St[pn];en[pn]=j.Vi.fromModelState(ze.modelState.move(this._inSelectionMode,ze.modelState.position.lineNumber,1,0))}return en}}Ie.CursorLineStart=(0,R.fK)(new ue({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:287}}})),Ie.CursorLineStartSelect=(0,R.fK)(new ue({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1311}}}));class we extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,D.P.moveToEndOfLine(St,St.getCursorStates(),this._inSelectionMode,en.sticky||!1)),St.revealPrimaryCursor(en.source,!0)}}Ie.CursorEnd=(0,R.fK)(new we({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),Ie.CursorEndSelect=(0,R.fK)(new we({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class He extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,this._exec(St,St.getCursorStates())),St.revealPrimaryCursor(en.source,!0)}_exec(St,en){const pn=[];for(let Xt=0,ze=en.length;Xt<ze;Xt++){const At=en[Xt],Kt=At.modelState.position.lineNumber,nn=St.model.getLineMaxColumn(Kt);pn[Xt]=j.Vi.fromModelState(At.modelState.move(this._inSelectionMode,Kt,nn,0))}return pn}}Ie.CursorLineEnd=(0,R.fK)(new He({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:291}}})),Ie.CursorLineEndSelect=(0,R.fK)(new He({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1315}}}));class lt extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,D.P.moveToBeginningOfBuffer(St,St.getCursorStates(),this._inSelectionMode)),St.revealPrimaryCursor(en.source,!0)}}Ie.CursorTop=(0,R.fK)(new lt({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2062,mac:{primary:2064}}})),Ie.CursorTopSelect=(0,R.fK)(new lt({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class ut extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,D.P.moveToEndOfBuffer(St,St.getCursorStates(),this._inSelectionMode)),St.revealPrimaryCursor(en.source,!0)}}Ie.CursorBottom=(0,R.fK)(new ut({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2061,mac:{primary:2066}}})),Ie.CursorBottomSelect=(0,R.fK)(new ut({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Ve extends H{constructor(){super({id:"editorScroll",precondition:void 0,description:K.description})}runCoreEditorCommand(St,en){const pn=K.parse(en);!pn||this._runEditorScroll(St,en.source,pn)}_runEditorScroll(St,en,pn){const Xt=this._computeDesiredScrollTop(St,pn);if(pn.revealCursor){const ze=St.getCompletelyVisibleViewRangeAtScrollTop(Xt);St.setCursorStates(en,3,[D.P.findPositionInViewportIfOutside(St,St.getPrimaryCursorState(),ze,pn.select)])}St.setScrollTop(Xt,0)}_computeDesiredScrollTop(St,en){if(1===en.unit){const ze=St.getCompletelyVisibleViewRange(),At=St.coordinatesConverter.convertViewRangeToModelRange(ze);let Kt;Kt=1===en.direction?Math.max(1,At.startLineNumber-en.value):Math.min(St.model.getLineCount(),At.startLineNumber+en.value);const nn=St.coordinatesConverter.convertModelPositionToViewPosition(new Y.L(Kt,1));return St.getVerticalOffsetForLineNumber(nn.lineNumber)}let pn;pn=3===en.unit?St.cursorConfig.pageSize*en.value:4===en.unit?Math.round(St.cursorConfig.pageSize/2)*en.value:en.value;const Xt=(1===en.direction?-1:1)*pn;return St.getScrollTop()+Xt*St.cursorConfig.lineHeight}}Ie.EditorScrollImpl=Ve,Ie.EditorScroll=(0,R.fK)(new Ve),Ie.ScrollLineUp=(0,R.fK)(new class extends H{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Jt,St){Ie.EditorScroll._runEditorScroll(Jt,St.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),Ie.ScrollPageUp=(0,R.fK)(new class extends H{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Jt,St){Ie.EditorScroll._runEditorScroll(Jt,St.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),Ie.ScrollLineDown=(0,R.fK)(new class extends H{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Jt,St){Ie.EditorScroll._runEditorScroll(Jt,St.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),Ie.ScrollPageDown=(0,R.fK)(new class extends H{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Jt,St){Ie.EditorScroll._runEditorScroll(Jt,St.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ct extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,[D.P.word(St,St.getPrimaryCursorState(),this._inSelectionMode,en.position)]),St.revealPrimaryCursor(en.source,!0)}}Ie.WordSelect=(0,R.fK)(new ct({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),Ie.WordSelectDrag=(0,R.fK)(new ct({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),Ie.LastCursorWordSelect=(0,R.fK)(new class extends H{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Jt,St){const en=Jt.getLastAddedCursorIndex(),pn=Jt.getCursorStates(),Xt=pn.slice(0),ze=pn[en];Xt[en]=D.P.word(Jt,ze,ze.modelState.hasSelection(),St.position),Jt.model.pushStackElement(),Jt.setCursorStates(St.source,3,Xt)}});class Nt extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){St.model.pushStackElement(),St.setCursorStates(en.source,3,[D.P.line(St,St.getPrimaryCursorState(),this._inSelectionMode,en.position,en.viewPosition)]),St.revealPrimaryCursor(en.source,!1)}}Ie.LineSelect=(0,R.fK)(new Nt({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),Ie.LineSelectDrag=(0,R.fK)(new Nt({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class un extends H{constructor(St){super(St),this._inSelectionMode=St.inSelectionMode}runCoreEditorCommand(St,en){const pn=St.getLastAddedCursorIndex(),Xt=St.getCursorStates(),ze=Xt.slice(0);ze[pn]=D.P.line(St,Xt[pn],this._inSelectionMode,en.position,en.viewPosition),St.model.pushStackElement(),St.setCursorStates(en.source,3,ze)}}Ie.LastCursorLineSelect=(0,R.fK)(new un({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),Ie.LastCursorLineSelectDrag=(0,R.fK)(new un({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),Ie.CancelSelection=(0,R.fK)(new class extends H{constructor(){super({id:"cancelSelection",precondition:f.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Jt,St){Jt.model.pushStackElement(),Jt.setCursorStates(St.source,3,[D.P.cancelSelection(Jt,Jt.getPrimaryCursorState())]),Jt.revealPrimaryCursor(St.source,!0)}}),Ie.RemoveSecondaryCursors=(0,R.fK)(new class extends H{constructor(){super({id:"removeSecondaryCursors",precondition:f.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Jt,St){Jt.model.pushStackElement(),Jt.setCursorStates(St.source,3,[Jt.getPrimaryCursorState()]),Jt.revealPrimaryCursor(St.source,!0),(0,k.i7)(v.N("removedCursor","Removed secondary cursors"))}}),Ie.RevealLine=(0,R.fK)(new class extends H{constructor(){super({id:"revealLine",precondition:void 0,description:N.description})}runCoreEditorCommand(Jt,St){const en=St,pn=en.lineNumber||0;let Xt="number"==typeof pn?pn+1:parseInt(pn)+1;Xt<1&&(Xt=1);const ze=Jt.model.getLineCount();Xt>ze&&(Xt=ze);const At=new V.e(Xt,1,Xt,Jt.model.getLineMaxColumn(Xt));let Kt=0;if(en.at)switch(en.at){case N.RawAtArgument.Top:Kt=3;break;case N.RawAtArgument.Center:Kt=1;break;case N.RawAtArgument.Bottom:Kt=4}const nn=Jt.coordinatesConverter.convertModelRangeToViewRange(At);Jt.revealRange(St.source,!1,nn,Kt,0)}}),Ie.SelectAll=new class extends M{constructor(){super(R.Sq)}runDOMCommand(){h.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Jt,St,en){const pn=St._getViewModel();!pn||this.runCoreEditorCommand(pn,en)}runCoreEditorCommand(Jt,St){Jt.model.pushStackElement(),Jt.setCursorStates("keyboard",3,[D.P.selectAll(Jt,Jt.getPrimaryCursorState())])}},Ie.SetSelection=(0,R.fK)(new class extends H{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Jt,St){Jt.model.pushStackElement(),Jt.setCursorStates(St.source,3,[j.Vi.fromModelSelection(St.selection)])}})}(P||(P={}));const W=T.Ao.and(f.u.textInputFocus,f.u.columnSelection);function J(Ie,_e){z.W.registerKeybindingRule({id:Ie,primary:_e,when:W,weight:1})}function he(Ie){return Ie.register(),Ie}var ye;J(P.CursorColumnSelectLeft.id,1039),J(P.CursorColumnSelectRight.id,1041),J(P.CursorColumnSelectUp.id,1040),J(P.CursorColumnSelectPageUp.id,1035),J(P.CursorColumnSelectDown.id,1042),J(P.CursorColumnSelectPageDown.id,1036),function(Ie){class _e extends R._l{runEditorCommand(X,pe,re){const ne=pe._getViewModel();!ne||this.runCoreEditingCommand(pe,ne,re||{})}}Ie.CoreEditingCommand=_e,Ie.LineBreakInsert=(0,R.fK)(new class extends _e{constructor(){super({id:"lineBreakInsert",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand($,X,pe){$.pushUndoStop(),$.executeCommands(this.id,F.u.lineBreakInsert(X.cursorConfig,X.model,X.getCursorStates().map(re=>re.modelState.selection)))}}),Ie.Outdent=(0,R.fK)(new class extends _e{constructor(){super({id:"outdent",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:T.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand($,X,pe){$.pushUndoStop(),$.executeCommands(this.id,F.u.outdent(X.cursorConfig,X.model,X.getCursorStates().map(re=>re.modelState.selection))),$.pushUndoStop()}}),Ie.Tab=(0,R.fK)(new class extends _e{constructor(){super({id:"tab",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:T.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand($,X,pe){$.pushUndoStop(),$.executeCommands(this.id,F.u.tab(X.cursorConfig,X.model,X.getCursorStates().map(re=>re.modelState.selection))),$.pushUndoStop()}}),Ie.DeleteLeft=(0,R.fK)(new class extends _e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand($,X,pe){const[re,ne]=w.A.deleteLeft(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map(ce=>ce.modelState.selection),X.getCursorAutoClosedCharacters());re&&$.pushUndoStop(),$.executeCommands(this.id,ne),X.setPrevEditOperationType(2)}}),Ie.DeleteRight=(0,R.fK)(new class extends _e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand($,X,pe){const[re,ne]=w.A.deleteRight(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map(ce=>ce.modelState.selection));re&&$.pushUndoStop(),$.executeCommands(this.id,ne),X.setPrevEditOperationType(3)}}),Ie.Undo=new class extends M{constructor(){super(R.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand($,X,pe){if(X.hasModel()&&!0!==X.getOption(81))return X.getModel().undo()}},Ie.Redo=new class extends M{constructor(){super(R.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand($,X,pe){if(X.hasModel()&&!0!==X.getOption(81))return X.getModel().redo()}}}(ye||(ye={}));class fe extends R.mY{constructor(_e,$,X){super({id:_e,precondition:void 0,description:X}),this._handlerId=$}runCommand(_e,$){const X=_e.get(se.$).getFocusedCodeEditor();!X||X.trigger("keyboard",this._handlerId,$)}}function Se(Ie,_e){he(new fe("default:"+Ie,Ie)),he(new fe(Ie,Ie,_e))}Se("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),Se("replacePreviousChar"),Se("compositionType"),Se("compositionStart"),Se("compositionEnd"),Se("paste"),Se("cut")},7462:(vt,Ke,m)=>{m.d(Ke,{pd:()=>w,RA:()=>D,Nl:()=>F,Fz:()=>T,Tj:()=>I});var v=m(3366),h=m(8059),Q=m(4616),k=m(3072),R=m(2787),se=m(2425),j=m(9341),Y=m(4705),V=m(2562),x=m(3210),w=(()=>((w||(w={})).Tap="-monaco-textarea-synthetic-tap",w))();const D={forceCopyWithSyntaxHighlighting:!1};class F{constructor(){this._lastState=null}set(K,N){this._lastState={lastCopiedValue:K,data:N}}get(K){return this._lastState&&this._lastState.lastCopiedValue===K?this._lastState.data:(this._lastState=null,null)}}F.INSTANCE=new F;class f{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(K){const N={text:K=K||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=K.length,N}}class T extends se.JT{constructor(K,N,M,P){super(),this._host=K,this._textArea=N,this._OS=M,this._browser=P,this._onFocus=this._register(new R.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new R.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new R.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new R.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new R.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new R.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new R.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new R.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new R.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new R.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new R.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new k.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new k.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=V.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let W=null;this._register(this._textArea.onKeyDown(J=>{const he=new Q.y(J);(109===he.keyCode||this._currentComposition&&1===he.keyCode)&&he.stopPropagation(),he.equals(9)&&he.preventDefault(),W=he,this._onKeyDown.fire(he)})),this._register(this._textArea.onKeyUp(J=>{const he=new Q.y(J);this._onKeyUp.fire(he)})),this._register(this._textArea.onCompositionStart(J=>{V.al&&console.log("[compositionstart]",J);const he=new f;if(!this._currentComposition)return this._currentComposition=he,2===this._OS&&W&&W.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===J.data&&("ArrowRight"===W.code||"ArrowLeft"===W.code)?(V.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",J),he.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:J.data})):void this._onCompositionStart.fire({data:J.data});this._currentComposition=he})),this._register(this._textArea.onCompositionUpdate(J=>{V.al&&console.log("[compositionupdate]",J);const he=this._currentComposition;if(!he)return;if(this._browser.isAndroid){const fe=V.un.readFromTextArea(this._textArea),Se=V.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(Se),void this._onCompositionUpdate.fire(J)}const ye=he.handleCompositionUpdate(J.data);this._textAreaState=V.un.readFromTextArea(this._textArea),this._onType.fire(ye),this._onCompositionUpdate.fire(J)})),this._register(this._textArea.onCompositionEnd(J=>{V.al&&console.log("[compositionend]",J);const he=this._currentComposition;if(!he)return;if(this._currentComposition=null,this._browser.isAndroid){const fe=V.un.readFromTextArea(this._textArea),Se=V.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(Se),void this._onCompositionEnd.fire()}const ye=he.handleCompositionUpdate(J.data);this._textAreaState=V.un.readFromTextArea(this._textArea),this._onType.fire(ye),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(J=>{if(V.al&&console.log("[input]",J),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const he=V.un.readFromTextArea(this._textArea),ye=V.un.deduceInput(this._textAreaState,he,2===this._OS);0===ye.replacePrevCharCnt&&1===ye.text.length&&Y.ZG(ye.text.charCodeAt(0))||(this._textAreaState=he,(""!==ye.text||0!==ye.replacePrevCharCnt||0!==ye.replaceNextCharCnt||0!==ye.positionDelta)&&this._onType.fire(ye))})),this._register(this._textArea.onCut(J=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(J),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(J=>{this._ensureClipboardGetsEditorSelection(J)})),this._register(this._textArea.onPaste(J=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),J.preventDefault(),!J.clipboardData)return;let[he,ye]=z.getTextData(J.clipboardData);!he||(ye=ye||F.INSTANCE.get(he),this._onPaste.fire({text:he,metadata:ye}))})),this._register(this._textArea.onFocus(()=>{const J=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!J&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let K=0;return h.nm(document,"selectionchange",N=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const M=Date.now(),P=M-K;if(K=M,P<5)return;const W=M-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),W<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const J=this._textArea.getValue();if(this._textAreaState.value!==J)return;const he=this._textArea.getSelectionStart(),ye=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===he&&this._textAreaState.selectionEnd===ye)return;const fe=this._textAreaState.deduceEditorPosition(he),Se=this._host.deduceModelPosition(fe[0],fe[1],fe[2]),Ie=this._textAreaState.deduceEditorPosition(ye),_e=this._host.deduceModelPosition(Ie[0],Ie[1],Ie[2]),$=new x.Y(Se.lineNumber,Se.column,_e.lineNumber,_e.column);this._onSelectionChangeRequest.fire($)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(K){this._hasFocus!==K&&(this._hasFocus=K,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(K,N){this._hasFocus||(N=N.collapseSelection()),N.writeToTextArea(K,this._textArea,this._hasFocus),this._textAreaState=N}writeScreenReaderContent(K){this._currentComposition||this._setAndWriteTextAreaState(K,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(K){const N=this._host.getDataToCopy(),M={version:1,isFromEmptySelection:N.isFromEmptySelection,multicursorText:N.multicursorText,mode:N.mode};F.INSTANCE.set(this._browser.isFirefox?N.text.replace(/\r\n/g,"\n"):N.text,M),K.preventDefault(),K.clipboardData&&z.setTextData(K.clipboardData,N.text,N.html,M)}}class z{static getTextData(K){const N=K.getData(j.v.text);let M=null;const P=K.getData("vscode-editor-data");if("string"==typeof P)try{M=JSON.parse(P),1!==M.version&&(M=null)}catch(W){}return[N,M]}static setTextData(K,N,M,P){K.setData(j.v.text,N),"string"==typeof M&&K.setData("text/html",M),K.setData("vscode-editor-data",JSON.stringify(P))}}class I extends se.JT{constructor(K){super(),this._actual=K,this.onKeyDown=this._register(h.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(h.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(h.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(h.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(h.IC(this._actual,"compositionend")).event,this.onInput=this._register(h.IC(this._actual,"input")).event,this.onCut=this._register(h.IC(this._actual,"cut")).event,this.onCopy=this._register(h.IC(this._actual,"copy")).event,this.onPaste=this._register(h.IC(this._actual,"paste")).event,this.onFocus=this._register(h.IC(this._actual,"focus")).event,this.onBlur=this._register(h.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new R.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(h.nm(this._actual,w.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const K=h.Ay(this._actual);return K?K.activeElement===this._actual:!!h.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(K){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(K,N){const M=this._actual;M.value!==N&&(this.setIgnoreSelectionChangeTime("setValue"),M.value=N)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(K,N,M){const P=this._actual;let W=null;const J=h.Ay(P);W=J?J.activeElement:document.activeElement;const he=W===P;if(he&&P.selectionStart===N&&P.selectionEnd===M)v.isFirefox&&window.parent!==window&&P.focus();else{if(he)return this.setIgnoreSelectionChangeTime("setSelectionRange"),P.setSelectionRange(N,M),void(v.isFirefox&&window.parent!==window&&P.focus());try{const Se=h.vL(P);this.setIgnoreSelectionChangeTime("setSelectionRange"),P.focus(),P.setSelectionRange(N,M),h._0(P,Se)}catch(Se){}}}}},2562:(vt,Ke,m)=>{m.d(Ke,{al:()=>k,un:()=>R,ee:()=>se});var v=m(4705),h=m(4220),Q=m(8451);const k=!1;class R{constructor(Y,V,x,w,D){this.value=Y,this.selectionStart=V,this.selectionEnd=x,this.selectionStartPosition=w,this.selectionEndPosition=D}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(Y){return new R(Y.getValue(),Y.getSelectionStart(),Y.getSelectionEnd(),null,null)}collapseSelection(){return new R(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(Y,V,x){k&&console.log(`writeToTextArea ${Y}: ${this.toString()}`),V.setValue(Y,this.value),x&&V.setSelectionRange(Y,this.selectionStart,this.selectionEnd)}deduceEditorPosition(Y){if(Y<=this.selectionStart){const w=this.value.substring(Y,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,w,-1)}if(Y>=this.selectionEnd){const w=this.value.substring(this.selectionEnd,Y);return this._finishDeduceEditorPosition(this.selectionEndPosition,w,1)}const V=this.value.substring(this.selectionStart,Y);if(-1===V.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,V,1);const x=this.value.substring(Y,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,x,-1)}_finishDeduceEditorPosition(Y,V,x){let w=0,D=-1;for(;-1!==(D=V.indexOf("\n",D+1));)w++;return[Y,x*V.length,w]}static deduceInput(Y,V,x){if(!Y)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};k&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${Y.toString()}`),console.log(`CURRENT STATE: ${V.toString()}`));const w=Math.min(v.Mh(Y.value,V.value),Y.selectionStart,V.selectionStart),D=Math.min(v.P1(Y.value,V.value),Y.value.length-Y.selectionEnd,V.value.length-V.selectionEnd),F=Y.value.substring(w,Y.value.length-D),f=V.value.substring(w,V.value.length-D),T=Y.selectionStart-w,z=Y.selectionEnd-w,I=V.selectionStart-w,H=V.selectionEnd-w;if(k&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${F}>, selectionStart: ${T}, selectionEnd: ${z}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${I}, selectionEnd: ${H}`)),I===H){const N=Y.selectionStart-w;return k&&console.log(`REMOVE PREVIOUS: ${N} chars`),{text:f,replacePrevCharCnt:N,replaceNextCharCnt:0,positionDelta:0}}return{text:f,replacePrevCharCnt:z-T,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(Y,V){if(!Y)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(k&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${Y.toString()}`),console.log(`CURRENT STATE: ${V.toString()}`)),Y.value===V.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:V.selectionEnd-Y.selectionEnd};const x=Math.min(v.Mh(Y.value,V.value),Y.selectionEnd),w=Math.min(v.P1(Y.value,V.value),Y.value.length-Y.selectionEnd),D=Y.value.substring(x,Y.value.length-w),F=V.value.substring(x,V.value.length-w),T=Y.selectionEnd-x,z=V.selectionStart-x,I=V.selectionEnd-x;return k&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${D}>, selectionStart: ${Y.selectionStart-x}, selectionEnd: ${T}`),console.log(`AFTER DIFFING CURRENT STATE: <${F}>, selectionStart: ${z}, selectionEnd: ${I}`)),{text:F,replacePrevCharCnt:T,replaceNextCharCnt:D.length-T,positionDelta:I-F.length}}}R.EMPTY=new R("",0,0,null,null);class se{static _getPageOfLine(Y,V){return Math.floor((Y-1)/V)}static _getRangeForPage(Y,V){const x=Y*V;return new Q.e(x+1,1,x+V+1,1)}static fromEditorSelection(Y,V,x,w,D){const F=se._getPageOfLine(x.startLineNumber,w),f=se._getRangeForPage(F,w),T=se._getPageOfLine(x.endLineNumber,w),z=se._getRangeForPage(T,w),I=f.intersectRanges(new Q.e(1,1,x.startLineNumber,x.startColumn));let H=V.getValueInRange(I,1);const K=V.getLineCount(),N=V.getLineMaxColumn(K),M=z.intersectRanges(new Q.e(x.endLineNumber,x.endColumn,K,N));let W,P=V.getValueInRange(M,1);if(F===T||F+1===T)W=V.getValueInRange(x,1);else{const J=f.intersectRanges(x),he=z.intersectRanges(x);W=V.getValueInRange(J,1)+String.fromCharCode(8230)+V.getValueInRange(he,1)}return D&&(H.length>500&&(H=H.substring(H.length-500,H.length)),P.length>500&&(P=P.substring(0,500)),W.length>1e3&&(W=W.substring(0,500)+String.fromCharCode(8230)+W.substring(W.length-500,W.length))),new R(H+W+P,H.length,H.length+W.length,new h.L(x.startLineNumber,x.startColumn),new h.L(x.endLineNumber,x.endColumn))}}},7109:(vt,Ke,m)=>{m.d(Ke,{CL:()=>h,QI:()=>Q,Pi:()=>k});var v=m(2651);function h(R){return!(!R||"function"!=typeof R.getEditorType)&&R.getEditorType()===v.g.ICodeEditor}function Q(R){return!(!R||"function"!=typeof R.getEditorType)&&R.getEditorType()===v.g.IDiffEditor}function k(R){return h(R)?R:Q(R)?R.getModifiedEditor():null}},6597:(vt,Ke,m)=>{m.d(Ke,{YN:()=>j,rU:()=>Y,kG:()=>w,Pp:()=>D,gy:()=>F,N5:()=>f,tC:()=>T,iB:()=>z,t7:()=>I});var v=m(8059),h=m(3449),Q=m(8394),k=m(3072),R=m(2425),se=m(8708);class j{constructor(M,P){this.x=M,this.y=P,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new Y(this.x-v.DI.scrollX,this.y-v.DI.scrollY)}}class Y{constructor(M,P){this.clientX=M,this.clientY=P,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new j(this.clientX+v.DI.scrollX,this.clientY+v.DI.scrollY)}}class V{constructor(M,P,W,J){this.x=M,this.y=P,this.width=W,this.height=J,this._editorPagePositionBrand=void 0}}class x{constructor(M,P){this.x=M,this.y=P,this._positionRelativeToEditorBrand=void 0}}function w(N){const M=v.i(N);return new V(M.left,M.top,M.width,M.height)}function D(N,M,P){return new x((P.x-M.x)/(M.width/N.offsetWidth),(P.y-M.y)/(M.height/N.offsetHeight))}class F extends Q.n{constructor(M,P){super(M),this._editorMouseEventBrand=void 0,this.pos=new j(this.posx,this.posy),this.editorPos=w(P),this.relativePos=D(P,this.editorPos,this.pos)}}class f{constructor(M){this._editorViewDomNode=M}_create(M){return new F(M,this._editorViewDomNode)}onContextMenu(M,P){return v.nm(M,"contextmenu",W=>{P(this._create(W))})}onMouseUp(M,P){return v.nm(M,"mouseup",W=>{P(this._create(W))})}onMouseDown(M,P){return v.nm(M,"mousedown",W=>{P(this._create(W))})}onMouseLeave(M,P){return v.j_(M,W=>{P(this._create(W))})}onMouseMoveThrottled(M,P,W,J){return v.Y_(M,"mousemove",P,(ye,fe)=>W(ye,this._create(fe)),J)}}class T{constructor(M){this._editorViewDomNode=M}_create(M){return new F(M,this._editorViewDomNode)}onPointerUp(M,P){return v.nm(M,"pointerup",W=>{P(this._create(W))})}onPointerDown(M,P){return v.nm(M,"pointerdown",W=>{P(this._create(W))})}onPointerLeave(M,P){return v.RE(M,W=>{P(this._create(W))})}onPointerMoveThrottled(M,P,W,J){return v.Y_(M,"pointermove",P,(ye,fe)=>W(ye,this._create(fe)),J)}}class z extends R.JT{constructor(M){super(),this._editorViewDomNode=M,this._globalMouseMoveMonitor=this._register(new h.Z),this._keydownListener=null}startMonitoring(M,P,W,J,he){this._keydownListener=v.mu(document,"keydown",fe=>{fe.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,fe.browserEvent)},!0),this._globalMouseMoveMonitor.startMonitoring(M,P,(fe,Se)=>W(fe,new F(Se,this._editorViewDomNode)),J,fe=>{this._keydownListener.dispose(),he(fe)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}let I=(()=>{class N{constructor(P){this._editor=P,this._instanceId=++N._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new k.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(P){const W=this.getOrCreateRule(P);return W.increaseRefCount(),{className:W.className,dispose:()=>{W.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(P){const W=this.computeUniqueKey(P);let J=this._rules.get(W);if(!J){const he=this._counter++;J=new H(W,`dyn-rule-${this._instanceId}-${he}`,v.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,P),this._rules.set(W,J)}return J}computeUniqueKey(P){return JSON.stringify(P)}garbageCollect(){for(const P of this._rules.values())P.hasReferences()||(this._rules.delete(P.key),P.dispose())}}return N._idPool=0,N})();class H{constructor(M,P,W,J){this.key=M,this.className=P,this.properties=J,this._referenceCount=0,this._styleElement=v.dS(W),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(M,P){let W=`.${M} {`;for(const J in P){const he=P[J];let ye;ye="object"==typeof he?`var(${(0,se.QO2)(he.id)})`:he,W+=`\n\t${N=J,N.replace(/(^[A-Z])/,([M])=>M.toLowerCase()).replace(/([A-Z])/g,([M])=>`-${M.toLowerCase()}`)}: ${ye};`}var N;return W+="\n}",W}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},5172:(vt,Ke,m)=>{m.d(Ke,{mY:()=>T,AJ:()=>z,_l:()=>H,R6:()=>K,jY:()=>N,sb:()=>M,f:()=>P,fK:()=>W,Qr:()=>J,rn:()=>he,QG:()=>ye,_K:()=>fe,Uc:()=>Se,n_:()=>X,kz:()=>pe,Sq:()=>re});var Se,ne,v=m(402),h=m(4672),Q=m(7221),k=m(4220),R=m(8648),se=m(7424),j=m(1004),Y=m(3884),V=m(9776),x=m(7550),w=m(9537),D=m(9881),F=m(4435),f=m(2241);class T{constructor(ce){this.id=ce.id,this.precondition=ce.precondition,this._kbOpts=ce.kbOpts,this._menuOpts=ce.menuOpts,this._description=ce.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const ce=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const ue of ce){let we=ue.kbExpr;this.precondition&&(we=we?V.Ao.and(we,this.precondition):this.precondition),x.W.registerKeybindingRule({id:this.id,weight:ue.weight,args:ue.args,when:we,primary:ue.primary,secondary:ue.secondary,win:ue.win,linux:ue.linux,mac:ue.mac})}}Y.P0.registerCommand({id:this.id,handler:(ce,ue)=>this.runCommand(ce,ue),description:this._description})}_registerMenuItem(ce){j.BH.appendMenuItem(ce.menuId,{group:ce.group,command:{id:this.id,title:ce.title,icon:ce.icon,precondition:this.precondition},when:ce.when,order:ce.order})}}class z extends T{constructor(){super(...arguments),this._implementations=[]}addImplementation(ce,ue,we){return this._implementations.push({priority:ce,name:ue,implementation:we}),this._implementations.sort((He,lt)=>lt.priority-He.priority),{dispose:()=>{for(let He=0;He<this._implementations.length;He++)if(this._implementations[He].implementation===we)return void this._implementations.splice(He,1)}}}runCommand(ce,ue){const we=ce.get(f.VZ);we.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const He of this._implementations){const lt=He.implementation(ce,ue);if(lt)return we.trace(`Command '${this.id}' was handled by '${He.name}'.`),"boolean"==typeof lt?void 0:lt}we.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class I extends T{constructor(ce,ue){super(ue),this.command=ce}runCommand(ce,ue){return this.command.runCommand(ce,ue)}}class H extends T{static bindToContribution(ce){return class extends H{constructor(we){super(we),this._callback=we.handler}runEditorCommand(we,He,lt){const ut=ce(He);ut&&this._callback(ut,lt)}}}runCommand(ce,ue){const we=ce.get(Q.$),He=we.getFocusedCodeEditor()||we.getActiveCodeEditor();if(He)return He.invokeWithinContext(lt=>{if(lt.get(V.i6).contextMatchesRules((0,F.f6)(this.precondition)))return this.runEditorCommand(lt,He,ue)})}}class K extends H{constructor(ce){super(K.convertOptions(ce)),this.label=ce.label,this.alias=ce.alias}static convertOptions(ce){let ue;function we(He){return He.menuId||(He.menuId=j.eH.EditorContext),He.title||(He.title=ce.label),He.when=V.Ao.and(ce.precondition,He.when),He}return ue=Array.isArray(ce.menuOpts)?ce.menuOpts:ce.menuOpts?[ce.menuOpts]:[],Array.isArray(ce.contextMenuOpts)?ue.push(...ce.contextMenuOpts.map(we)):ce.contextMenuOpts&&ue.push(we(ce.contextMenuOpts)),ce.menuOpts=ue,ce}runEditorCommand(ce,ue,we){return this.reportTelemetry(ce,ue),this.run(ce,ue,we||{})}reportTelemetry(ce,ue){ce.get(D.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class N extends K{constructor(){super(...arguments),this._implementations=[]}addImplementation(ce,ue){return this._implementations.push([ce,ue]),this._implementations.sort((we,He)=>He[0]-we[0]),{dispose:()=>{for(let we=0;we<this._implementations.length;we++)if(this._implementations[we][1]===ue)return void this._implementations.splice(we,1)}}}run(ce,ue,we){for(const He of this._implementations){const lt=He[1](ce,ue,we);if(lt)return"boolean"==typeof lt?void 0:lt}}}function M(ne,ce){Y.P0.registerCommand(ne,function(ue,...we){const[He,lt]=we;(0,F.p_)(h.o.isUri(He)),(0,F.p_)(k.L.isIPosition(lt));const ut=ue.get(R.q).getModel(He);if(ut){const Ve=k.L.lift(lt);return ce(ut,Ve,...we.slice(2))}return ue.get(se.S).createModelReference(He).then(Ve=>new Promise((ct,Nt)=>{try{ct(ce(Ve.object.textEditorModel,k.L.lift(lt),we.slice(2)))}catch(un){Nt(un)}}).finally(()=>{Ve.dispose()}))})}function P(ne,ce){Y.P0.registerCommand(ne,function(ue,...we){const[He]=we;(0,F.p_)(h.o.isUri(He));const lt=ue.get(R.q).getModel(He);return lt?ce(lt,...we.slice(1)):ue.get(se.S).createModelReference(He).then(ut=>new Promise((Ve,ct)=>{try{Ve(ce(ut.object.textEditorModel,we.slice(1)))}catch(Nt){ct(Nt)}}).finally(()=>{ut.dispose()}))})}function W(ne){return _e.INSTANCE.registerEditorCommand(ne),ne}function J(ne){const ce=new ne;return _e.INSTANCE.registerEditorAction(ce),ce}function he(ne){return _e.INSTANCE.registerEditorAction(ne),ne}function ye(ne){_e.INSTANCE.registerEditorAction(ne)}function fe(ne,ce){_e.INSTANCE.registerEditorContribution(ne,ce)}(ne=Se||(Se={})).getEditorCommand=function ce(ut){return _e.INSTANCE.getEditorCommand(ut)},ne.getEditorActions=function ue(){return _e.INSTANCE.getEditorActions()},ne.getEditorContributions=function we(){return _e.INSTANCE.getEditorContributions()},ne.getSomeEditorContributions=function He(ut){return _e.INSTANCE.getEditorContributions().filter(Ve=>ut.indexOf(Ve.id)>=0)},ne.getDiffEditorContributions=function lt(){return _e.INSTANCE.getDiffEditorContributions()};class _e{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(ce,ue){this.editorContributions.push({id:ce,ctor:ue})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(ce){ce.register(),this.editorActions.push(ce)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(ce){ce.register(),this.editorCommands[ce.id]=ce}getEditorCommand(ce){return this.editorCommands[ce]||null}}function $(ne){return ne.register(),ne}_e.INSTANCE=new _e,w.B.add("editor.contributions",_e.INSTANCE);const X=$(new z({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:j.eH.MenubarEditMenu,group:"1_do",title:v.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:j.eH.CommandPalette,group:"",title:v.N("undo","Undo"),order:1}]}));$(new I(X,{id:"default:undo",precondition:void 0}));const pe=$(new z({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:j.eH.MenubarEditMenu,group:"1_do",title:v.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:j.eH.CommandPalette,group:"",title:v.N("redo","Redo"),order:1}]}));$(new I(pe,{id:"default:redo",precondition:void 0}));const re=$(new z({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:j.eH.MenubarSelectionMenu,group:"1_basic",title:v.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:j.eH.CommandPalette,group:"",title:v.N("selectAll","Select All"),order:1}]}))},4067:(vt,Ke,m)=>{m.d(Ke,{vu:()=>k,fo:()=>j,Gl:()=>Y});var v=m(4725),h=m(4672),Q=m(4435);const k=(0,v.yh)("IWorkspaceEditService");class j{constructor(w){this.metadata=w}static convert(w){return w.edits.map(D=>{if(function se(x){return(0,Q.Kn)(x)&&h.o.isUri(x.resource)&&(0,Q.Kn)(x.edit)}(D))return new Y(D.resource,D.edit,D.modelVersionId,D.metadata);if(function R(x){return(0,Q.Kn)(x)&&(Boolean(x.newUri)||Boolean(x.oldUri))}(D))return new V(D.oldUri,D.newUri,D.options,D.metadata);throw new Error("Unsupported edit")})}}class Y extends j{constructor(w,D,F,f){super(f),this.resource=w,this.textEdit=D,this.versionId=F}}class V extends j{constructor(w,D,F,f){super(f),this.oldResource=w,this.newResource=D,this.options=F}}},7221:(vt,Ke,m)=>{m.d(Ke,{$:()=>h});const h=(0,m(4725).yh)("codeEditorService")},1210:(vt,Ke,m)=>{m.d(Ke,{Z:()=>v});class v{constructor(Q,k,R){this._visiblePosition=Q,this._visiblePositionScrollDelta=k,this._cursorPosition=R}static capture(Q){let k=null,R=0;if(0!==Q.getScrollTop()){const se=Q.getVisibleRanges();if(se.length>0){k=se[0].getStartPosition();const j=Q.getTopForPosition(k.lineNumber,k.column);R=Q.getScrollTop()-j}}return new v(k,R,Q.getPosition())}restore(Q){if(this._visiblePosition){const k=Q.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);Q.setScrollTop(k+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(Q){const k=Q.getPosition();if(!this._cursorPosition||!k)return;const R=Q.getTopForLineNumber(k.lineNumber)-Q.getTopForLineNumber(this._cursorPosition.lineNumber);Q.setScrollTop(Q.getScrollTop()+R)}}},3656:(vt,Ke,m)=>{m.d(Ke,{Gm:()=>jl});var v=m(2945),h=m(5172);let R=class{constructor(r,d){}dispose(){}};var r;R.ID="editor.contrib.markerDecorations",R=function(st,r,d,b){var le,B=arguments.length,U=B<3?r:null===b?b=Object.getOwnPropertyDescriptor(r,d):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(st,r,d,b);else for(var Ee=st.length-1;Ee>=0;Ee--)(le=st[Ee])&&(U=(B<3?le(U):B>3?le(r,d,U):le(r,d))||U);return B>3&&U&&Object.defineProperty(r,d,U),U}([(1,r=v.i,function(d,b){r(d,b,1)})],R),(0,h._K)(R.ID,R),m(3214);var j=m(402),Y=m(8059),V=m(3663),x=m(2787),w=m(2425),D=m(278),F=m(3366),f=m(8337),T=m(5271),z=m(8972),I=m(2052),H=m(3126),K=m(2399),M=m(5617),P=m(6367),W=m(2929),J=m(5462),he=m(2452);let Se=class extends w.JT{constructor(r,d,b,B){super(),this._accessibilityService=B,this._onDidChange=this._register(new x.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new x.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new P.LJ,this.isSimpleWidget=r,this._containerObserver=this._register(new I.I(b,d.dimension)),this._rawOptions=re(d),this._validatedOptions=pe.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(W.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(M.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(H.g.onDidChange(()=>this._recomputeOptions())),this._register(F.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const r=this._computeOptions(),d=pe.checkEquals(this.options,r);null!==d&&(this.options=r,this._onDidChangeFast.fire(d),this._onDidChange.fire(d))}_computeOptions(){const r=this._readEnvConfiguration(),d=J.E4.createFromValidatedSettings(this._validatedOptions,r.pixelRatio,this.isSimpleWidget),b=this._readFontInfo(d),B={memory:this._computeOptionsMemory,outerWidth:r.outerWidth,outerHeight:r.outerHeight-this._reservedHeight,fontInfo:b,extraEditorClassName:r.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:r.emptySelectionClipboard,pixelRatio:r.pixelRatio,tabFocusMode:M.n.getTabFocusMode(),accessibilitySupport:r.accessibilitySupport};return pe.computeOptions(this._validatedOptions,B)}_readEnvConfiguration(){return{extraEditorClassName:_e(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:F.isWebKit||F.isFirefox,pixelRatio:F.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(r){return H.g.readFontInfo(r)}getRawOptions(){return this._rawOptions}updateOptions(r){const d=re(r);!pe.applyUpdate(this._rawOptions,d)||(this._validatedOptions=pe.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(r){this._containerObserver.observe(r)}setIsDominatedByLongLines(r){this._isDominatedByLongLines!==r&&(this._isDominatedByLongLines=r,this._recomputeOptions())}setModelLineCount(r){const d=function Ie(st){let r=0;for(;st;)st=Math.floor(st/10),r++;return r||1}(r);this._lineNumbersDigitCount!==d&&(this._lineNumbersDigitCount=d,this._recomputeOptions())}setViewLineCount(r){this._viewLineCount!==r&&(this._viewLineCount=r,this._recomputeOptions())}setReservedHeight(r){this._reservedHeight!==r&&(this._reservedHeight=r,this._recomputeOptions())}};function _e(){let st="";return!F.isSafari&&!F.isWebkitWebView&&(st+="no-user-select "),F.isSafari&&(st+="no-minimap-shadow "),z.dz&&(st+="mac "),st}Se=function(st,r,d,b){var le,B=arguments.length,U=B<3?r:null===b?b=Object.getOwnPropertyDescriptor(r,d):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(st,r,d,b);else for(var Ee=st.length-1;Ee>=0;Ee--)(le=st[Ee])&&(U=(B<3?le(U):B>3?le(r,d,U):le(r,d))||U);return B>3&&U&&Object.defineProperty(r,d,U),U}([function(st,r){return function(d,b){r(d,b,3)}}(0,he.F)],Se);class ${constructor(){this._values=[]}_read(r){return this._values[r]}get(r){return this._values[r]}_write(r,d){this._values[r]=d}}class X{constructor(){this._values=[]}_read(r){if(r>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[r]}get(r){return this._read(r)}_write(r,d){this._values[r]=d}}class pe{static validateOptions(r){const d=new $;for(const b of P.Bc)d._write(b.id,b.validate("_never_"===b.name?void 0:r[b.name]));return d}static computeOptions(r,d){const b=new X;for(const B of P.Bc)b._write(B.id,B.compute(d,b,r._read(B.id)));return b}static _deepEquals(r,d){if("object"!=typeof r||"object"!=typeof d||!r||!d)return r===d;if(Array.isArray(r)||Array.isArray(d))return!(!Array.isArray(r)||!Array.isArray(d))&&f.fS(r,d);if(Object.keys(r).length!==Object.keys(d).length)return!1;for(const b in r)if(!pe._deepEquals(r[b],d[b]))return!1;return!0}static checkEquals(r,d){const b=[];let B=!1;for(const U of P.Bc){const le=!pe._deepEquals(r._read(U.id),d._read(U.id));b[U.id]=le,le&&(B=!0)}return B?new P.Bb(b):null}static applyUpdate(r,d){let b=!1;for(const B of P.Bc)if(d.hasOwnProperty(B.name)){const U=B.applyUpdate(r[B.name],d[B.name]);r[B.name]=U.newValue,b=b||U.didChange}return b}}function re(st){const r=T.I8(st);return function N(st){const r=st.wordWrap;!0===r?st.wordWrap="on":!1===r&&(st.wordWrap="off");const d=st.lineNumbers;!0===d?st.lineNumbers="on":!1===d&&(st.lineNumbers="off"),!1===st.autoClosingBrackets&&(st.autoClosingBrackets="never",st.autoClosingQuotes="never",st.autoSurround="never"),"visible"===st.cursorBlinking&&(st.cursorBlinking="solid");const U=st.renderWhitespace;!0===U?st.renderWhitespace="boundary":!1===U&&(st.renderWhitespace="none");const le=st.renderLineHighlight;!0===le?st.renderLineHighlight="line":!1===le&&(st.renderLineHighlight="none");const Ee=st.acceptSuggestionOnEnter;!0===Ee?st.acceptSuggestionOnEnter="on":!1===Ee&&(st.acceptSuggestionOnEnter="off");const Oe=st.tabCompletion;!1===Oe?st.tabCompletion="off":!0===Oe&&(st.tabCompletion="onlySnippets");const je=st.suggest;je&&"object"==typeof je.filteredTypes&&je.filteredTypes&&(0,K.E)({method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"},Zn=>{const ai=je.filteredTypes[Zn.key];!1===ai&&(je[Zn.value]=ai)});const rt=st.hover;!0===rt?st.hover={enabled:!0}:!1===rt&&(st.hover={enabled:!1});const Dt=st.parameterHints;!0===Dt?st.parameterHints={enabled:!0}:!1===Dt&&(st.parameterHints={enabled:!1});const Rt=st.autoIndent;!0===Rt?st.autoIndent="full":!1===Rt&&(st.autoIndent="advanced");const Wt=st.matchBrackets;!0===Wt?st.matchBrackets="always":!1===Wt&&(st.matchBrackets="never");const{renderIndentGuides:sn,highlightActiveIndentGuide:Cn}=st;st.guides||(st.guides={}),void 0!==sn&&(st.guides.indentation=!!sn),void 0!==Cn&&(st.guides.highlightActiveIndentation=!!Cn)}(r),r}var ne=m(7221),ce=m(3210),ue=m(8554),we=m(9680),He=m(8394),lt=m(3072),ut=m(6597);class Ve extends w.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(r){return!1}onCompositionEnd(r){return!1}onConfigurationChanged(r){return!1}onCursorStateChanged(r){return!1}onDecorationsChanged(r){return!1}onFlushed(r){return!1}onFocusChanged(r){return!1}onLanguageConfigurationChanged(r){return!1}onLineMappingChanged(r){return!1}onLinesChanged(r){return!1}onLinesDeleted(r){return!1}onLinesInserted(r){return!1}onRevealRangeRequest(r){return!1}onScrollChanged(r){return!1}onThemeChanged(r){return!1}onTokensChanged(r){return!1}onTokensColorsChanged(r){return!1}onZonesChanged(r){return!1}handleEvents(r){let d=!1;for(let b=0,B=r.length;b<B;b++){const U=r[b];switch(U.type){case 0:this.onCompositionStart(U)&&(d=!0);break;case 1:this.onCompositionEnd(U)&&(d=!0);break;case 2:this.onConfigurationChanged(U)&&(d=!0);break;case 3:this.onCursorStateChanged(U)&&(d=!0);break;case 4:this.onDecorationsChanged(U)&&(d=!0);break;case 5:this.onFlushed(U)&&(d=!0);break;case 6:this.onFocusChanged(U)&&(d=!0);break;case 7:this.onLanguageConfigurationChanged(U)&&(d=!0);break;case 8:this.onLineMappingChanged(U)&&(d=!0);break;case 9:this.onLinesChanged(U)&&(d=!0);break;case 10:this.onLinesDeleted(U)&&(d=!0);break;case 11:this.onLinesInserted(U)&&(d=!0);break;case 12:this.onRevealRangeRequest(U)&&(d=!0);break;case 13:this.onScrollChanged(U)&&(d=!0);break;case 15:this.onTokensChanged(U)&&(d=!0);break;case 14:this.onThemeChanged(U)&&(d=!0);break;case 16:this.onTokensColorsChanged(U)&&(d=!0);break;case 17:this.onZonesChanged(U)&&(d=!0);break;default:console.info("View received unknown event: "),console.info(U)}}d&&(this._shouldRender=!0)}}class ct extends Ve{constructor(r){super(),this._context=r,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Nt{static write(r,d){r.setAttribute("data-mprt",String(d))}static read(r){const d=r.getAttribute("data-mprt");return null===d?0:parseInt(d,10)}static collect(r,d){const b=[];let B=0;for(;r&&r!==document.body&&r!==d;)r.nodeType===r.ELEMENT_NODE&&(b[B++]=this.read(r)),r=r.parentElement;const U=new Uint8Array(B);for(let le=0;le<B;le++)U[le]=b[B-le-1];return U}}class Jt extends class un{constructor(r,d){this._restrictedRenderingContextBrand=void 0,this._viewLayout=r,this.viewportData=d,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const b=this._viewLayout.getCurrentViewport();this.scrollTop=b.top,this.scrollLeft=b.left,this.viewportWidth=b.width,this.viewportHeight=b.height}getScrolledTopFromAbsoluteTop(r){return r-this.scrollTop}getVerticalOffsetForLineNumber(r){return this._viewLayout.getVerticalOffsetForLineNumber(r)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(r,d,b){super(r,d),this._renderingContextBrand=void 0,this._viewLines=b}linesVisibleRangesForRange(r,d){return this._viewLines.linesVisibleRangesForRange(r,d)}visibleRangeForPosition(r){return this._viewLines.visibleRangeForPosition(r)}}class St{constructor(r,d,b){this.outsideRenderedLine=r,this.lineNumber=d,this.ranges=b}}class en{constructor(r,d){this._horizontalRangeBrand=void 0,this.left=Math.round(r),this.width=Math.round(d)}static from(r){const d=new Array(r.length);for(let b=0,B=r.length;b<B;b++){const U=r[b];d[b]=new en(U.left,U.width)}return d}toString(){return`[${this.left},${this.width}]`}}class pn{constructor(r,d){this._floatHorizontalRangeBrand=void 0,this.left=r,this.width=d}toString(){return`[${this.left},${this.width}]`}static compare(r,d){return r.left-d.left}}class Xt{constructor(r,d){this.outsideRenderedLine=r,this.originalLeft=d,this.left=Math.round(this.originalLeft)}}class ze{constructor(r,d){this.outsideRenderedLine=r,this.ranges=d}}class At{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(r,d){r.selectNodeContents(d)}static _readClientRects(r,d,b,B,U){const le=this._createRange();try{return le.setStart(r,d),le.setEnd(b,B),le.getClientRects()}catch(Ee){return null}finally{this._detachRange(le,U)}}static _mergeAdjacentRanges(r){if(1===r.length)return r;r.sort(pn.compare);const d=[];let b=0,B=r[0];for(let U=1,le=r.length;U<le;U++){const Ee=r[U];B.left+B.width+.9>=Ee.left?B.width=Math.max(B.width,Ee.left+Ee.width-B.left):(d[b++]=B,B=Ee)}return d[b++]=B,d}static _createHorizontalRangesFromClientRects(r,d,b){if(!r||0===r.length)return null;const B=[];for(let U=0,le=r.length;U<le;U++){const Ee=r[U];B[U]=new pn(Math.max(0,(Ee.left-d)/b),Ee.width/b)}return this._mergeAdjacentRanges(B)}static readHorizontalRanges(r,d,b,B,U,le,Ee,Oe){const rt=r.children.length-1;if(0>rt)return null;if((d=Math.min(rt,Math.max(0,d)))===(B=Math.min(rt,Math.max(0,B)))&&b===U&&0===b&&!r.children[d].firstChild){const sn=r.children[d].getClientRects();return this._createHorizontalRangesFromClientRects(sn,le,Ee)}d!==B&&B>0&&0===U&&(B--,U=1073741824);let Dt=r.children[d].firstChild,Rt=r.children[B].firstChild;if((!Dt||!Rt)&&(!Dt&&0===b&&d>0&&(Dt=r.children[d-1].firstChild,b=1073741824),!Rt&&0===U&&B>0&&(Rt=r.children[B-1].firstChild,U=1073741824)),!Dt||!Rt)return null;b=Math.min(Dt.textContent.length,Math.max(0,b)),U=Math.min(Rt.textContent.length,Math.max(0,U));const Wt=this._readClientRects(Dt,b,Rt,U,Oe);return this._createHorizontalRangesFromClientRects(Wt,le,Ee)}}var Kt=m(4500),nn=m(6145),Mn=m(8676);const Nn=!!z.tY||!(z.IJ||F.isFirefox||F.isSafari);let yt=!0;class Ht{constructor(r,d){this._domNode=r,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=d}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const r=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=r.left,this._clientRectScale=r.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class jt{constructor(r,d){this.themeType=d;const b=r.options,B=b.get(44);this.renderWhitespace=b.get(88),this.renderControlCharacters=b.get(83),this.spaceWidth=B.spaceWidth,this.middotWidth=B.middotWidth,this.wsmiddotWidth=B.wsmiddotWidth,this.useMonospaceOptimizations=B.isMonospace&&!b.get(29),this.canUseHalfwidthRightwardsArrow=B.canUseHalfwidthRightwardsArrow,this.lineHeight=b.get(59),this.stopRenderingLineAfter=b.get(105),this.fontLigatures=b.get(45)}equals(r){return this.themeType===r.themeType&&this.renderWhitespace===r.renderWhitespace&&this.renderControlCharacters===r.renderControlCharacters&&this.spaceWidth===r.spaceWidth&&this.middotWidth===r.middotWidth&&this.wsmiddotWidth===r.wsmiddotWidth&&this.useMonospaceOptimizations===r.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===r.canUseHalfwidthRightwardsArrow&&this.lineHeight===r.lineHeight&&this.stopRenderingLineAfter===r.stopRenderingLineAfter&&this.fontLigatures===r.fontLigatures}}let _n=(()=>{class st{constructor(d){this._options=d,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(d){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,ue.X)(d)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(d){this._isMaybeInvalid=!0,this._options=d}onSelectionChanged(){return(this._options.themeType===Mn.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(d,b,B,U){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const le=B.getViewLineRenderingData(d),Ee=this._options,Oe=Kt.Kp.filter(le.inlineDecorations,d,le.minColumn,le.maxColumn);let je=null;if(Ee.themeType===Mn.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const Wt=B.selections;for(const sn of Wt){if(sn.endLineNumber<d||sn.startLineNumber>d)continue;const Cn=sn.startLineNumber===d?sn.startColumn:le.minColumn,En=sn.endLineNumber===d?sn.endColumn:le.maxColumn;Cn<En&&(Ee.themeType===Mn.e.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?Oe.push(new Kt.Kp(Cn,En,"inline-selected-text",0)):(je||(je=[]),je.push(new nn.zG(Cn-1,En-1))))}}const rt=new nn.IJ(Ee.useMonospaceOptimizations,Ee.canUseHalfwidthRightwardsArrow,le.content,le.continuesWithWrappedLine,le.isBasicASCII,le.containsRTL,le.minColumn-1,le.tokens,Oe,le.tabSize,le.startVisibleColumn,Ee.spaceWidth,Ee.middotWidth,Ee.wsmiddotWidth,Ee.stopRenderingLineAfter,Ee.renderWhitespace,Ee.renderControlCharacters,Ee.fontLigatures!==P.n0.OFF,je);if(this._renderedViewLine&&this._renderedViewLine.input.equals(rt))return!1;U.appendASCIIString('<div style="top:'),U.appendASCIIString(String(b)),U.appendASCIIString("px;height:"),U.appendASCIIString(String(this._options.lineHeight)),U.appendASCIIString('px;" class="'),U.appendASCIIString(st.CLASS_NAME),U.appendASCIIString('">');const Dt=(0,nn.d1)(rt,U);U.appendASCIIString("</div>");let Rt=null;return yt&&Nn&&le.isBasicASCII&&Ee.useMonospaceOptimizations&&0===Dt.containsForeignElements&&le.content.length<300&&rt.lineTokens.getCount()<100&&(Rt=new In(this._renderedViewLine?this._renderedViewLine.domNode:null,rt,Dt.characterMapping)),Rt||(Rt=bt(this._renderedViewLine?this._renderedViewLine.domNode:null,rt,Dt.characterMapping,Dt.containsRTL,Dt.containsForeignElements)),this._renderedViewLine=Rt,!0}layoutLine(d,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(b),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof In}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof In?this._renderedViewLine.monospaceAssumptionsAreValid():yt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof In&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(d,b,B,U){if(!this._renderedViewLine)return null;b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b)),B=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,B));const le=this._renderedViewLine.input.stopRenderingLineAfter;let Ee=!1;-1!==le&&b>le+1&&B>le+1&&(Ee=!0),-1!==le&&b>le+1&&(b=le+1),-1!==le&&B>le+1&&(B=le+1);const Oe=this._renderedViewLine.getVisibleRangesForRange(d,b,B,U);return Oe&&Oe.length>0?new ze(Ee,Oe):null}getColumnOfNodeOffset(d,b,B){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(d,b,B):1}}return st.CLASS_NAME="view-line",st})();class In{constructor(r,d,b){this.domNode=r,this.input=d,this._characterMapping=b,this._charWidth=d.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return yt;const r=this.getWidth();return Math.abs(r-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),yt=!1),yt}toSlowRenderedLine(){return bt(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(r,d,b,B){const U=this._getCharPosition(d),le=this._getCharPosition(b);return[new pn(U,le-U)]}_getCharPosition(r){const d=this._characterMapping.getAbsoluteOffset(r);return this._charWidth*d}getColumnOfNodeOffset(r,d,b){const B=d.textContent.length;let U=-1;for(;d;)d=d.previousSibling,U++;return this._characterMapping.getColumn(new nn.Nd(U,b),B)}}class it{constructor(r,d,b,B,U){if(this.domNode=r,this.input=d,this._characterMapping=b,this._isWhitespaceOnly=/^\s*$/.test(d.lineContent),this._containsForeignElements=U,this._cachedWidth=-1,this._pixelOffsetCache=null,!B||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let le=0,Ee=this._characterMapping.length;le<=Ee;le++)this._pixelOffsetCache[le]=-1}}_getReadingTarget(r){return r.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(r,d,b,B){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const U=this._readPixelOffset(this.domNode,r,d,B);if(-1===U)return null;const le=this._readPixelOffset(this.domNode,r,b,B);return-1===le?null:[new pn(U,le-U)]}return this._readVisibleRangesForRange(this.domNode,r,d,b,B)}_readVisibleRangesForRange(r,d,b,B,U){if(b===B){const le=this._readPixelOffset(r,d,b,U);return-1===le?null:[new pn(le,0)]}return this._readRawVisibleRangesForRange(r,b,B,U)}_readPixelOffset(r,d,b,B){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const U=this._getReadingTarget(r);return U.firstChild?U.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const U=this._pixelOffsetCache[b];if(-1!==U)return U;const le=this._actualReadPixelOffset(r,d,b,B);return this._pixelOffsetCache[b]=le,le}return this._actualReadPixelOffset(r,d,b,B)}_actualReadPixelOffset(r,d,b,B){if(0===this._characterMapping.length){const Oe=At.readHorizontalRanges(this._getReadingTarget(r),0,0,0,0,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);return Oe&&0!==Oe.length?Oe[0].left:-1}if(b===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const U=this._characterMapping.getDomPosition(b),le=At.readHorizontalRanges(this._getReadingTarget(r),U.partIndex,U.charIndex,U.partIndex,U.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);if(!le||0===le.length)return-1;const Ee=le[0].left;if(this.input.isBasicASCII){const Oe=this._characterMapping.getAbsoluteOffset(b),je=Math.round(this.input.spaceWidth*Oe);if(Math.abs(je-Ee)<=1)return je}return Ee}_readRawVisibleRangesForRange(r,d,b,B){if(1===d&&b===this._characterMapping.length)return[new pn(0,this.getWidth())];const U=this._characterMapping.getDomPosition(d),le=this._characterMapping.getDomPosition(b);return At.readHorizontalRanges(this._getReadingTarget(r),U.partIndex,U.charIndex,le.partIndex,le.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode)}getColumnOfNodeOffset(r,d,b){const B=d.textContent.length;let U=-1;for(;d;)d=d.previousSibling,U++;return this._characterMapping.getColumn(new nn.Nd(U,b),B)}}class $t extends it{_readVisibleRangesForRange(r,d,b,B,U){const le=super._readVisibleRangesForRange(r,d,b,B,U);if(!le||0===le.length||b===B||1===b&&B===this._characterMapping.length)return le;if(!this.input.containsRTL){const Ee=this._readPixelOffset(r,d,B,U);if(-1!==Ee){const Oe=le[le.length-1];Oe.left<Ee&&(Oe.width=Ee-Oe.left)}}return le}}const bt=F.isWebKit?function Zt(st,r,d,b,B){return new $t(st,r,d,b,B)}:function Rn(st,r,d,b,B){return new it(st,r,d,b,B)};var ft,vn=m(4220),Wn=m(8451),pt=m(4826),ei=m(7078);class dt{constructor(r=null){this.hitTarget=r,this.type=0}}class ke{constructor(r,d,b){this.position=r,this.spanNode=d,this.injectedText=b,this.type=1}}!function(st){st.createFromDOMInfo=function r(d,b,B){const U=d.getPositionFromDOMInfo(b,B);return U?new ke(U,b,null):new dt(b)}}(ft||(ft={}));class Me{constructor(r,d){this.lastViewCursorsRenderData=r,this.lastTextareaPosition=d}}class ot{static _deduceRage(r,d=null){return!d&&r?new Wn.e(r.lineNumber,r.column,r.lineNumber,r.column):null!=d?d:null}static createUnknown(r,d,b){return{type:0,element:r,mouseColumn:d,position:b,range:this._deduceRage(b)}}static createTextarea(r,d){return{type:1,element:r,mouseColumn:d,position:null,range:null}}static createMargin(r,d,b,B,U,le){return{type:r,element:d,mouseColumn:b,position:B,range:U,detail:le}}static createViewZone(r,d,b,B,U){return{type:r,element:d,mouseColumn:b,position:B,range:this._deduceRage(B),detail:U}}static createContentText(r,d,b,B,U){return{type:6,element:r,mouseColumn:d,position:b,range:this._deduceRage(b,B),detail:U}}static createContentEmpty(r,d,b,B){return{type:7,element:r,mouseColumn:d,position:b,range:this._deduceRage(b),detail:B}}static createContentWidget(r,d,b){return{type:9,element:r,mouseColumn:d,position:null,range:null,detail:b}}static createScrollbar(r,d,b){return{type:11,element:r,mouseColumn:d,position:b,range:this._deduceRage(b)}}static createOverlayWidget(r,d,b){return{type:12,element:r,mouseColumn:d,position:null,range:null,detail:b}}static createOutsideEditor(r,d){return{type:13,element:null,mouseColumn:r,position:d,range:this._deduceRage(d)}}static _typeToString(r){return 1===r?"TEXTAREA":2===r?"GUTTER_GLYPH_MARGIN":3===r?"GUTTER_LINE_NUMBERS":4===r?"GUTTER_LINE_DECORATIONS":5===r?"GUTTER_VIEW_ZONE":6===r?"CONTENT_TEXT":7===r?"CONTENT_EMPTY":8===r?"CONTENT_VIEW_ZONE":9===r?"CONTENT_WIDGET":10===r?"OVERVIEW_RULER":11===r?"SCROLLBAR":12===r?"OVERLAY_WIDGET":"UNKNOWN"}static toString(r){return this._typeToString(r.type)+": "+r.position+" - "+r.range+" - "+JSON.stringify(r.detail)}}class on{static isTextArea(r){return 2===r.length&&3===r[0]&&6===r[1]}static isChildOfViewLines(r){return r.length>=4&&3===r[0]&&7===r[3]}static isStrictChildOfViewLines(r){return r.length>4&&3===r[0]&&7===r[3]}static isChildOfScrollableElement(r){return r.length>=2&&3===r[0]&&5===r[1]}static isChildOfMinimap(r){return r.length>=2&&3===r[0]&&8===r[1]}static isChildOfContentWidgets(r){return r.length>=4&&3===r[0]&&1===r[3]}static isChildOfOverflowingContentWidgets(r){return r.length>=1&&2===r[0]}static isChildOfOverlayWidgets(r){return r.length>=2&&3===r[0]&&4===r[1]}}class Tn{constructor(r,d,b){this.model=r.model;const B=r.configuration.options;this.layoutInfo=B.get(131),this.viewDomNode=d.viewDomNode,this.lineHeight=B.get(59),this.stickyTabStops=B.get(104),this.typicalHalfwidthCharacterWidth=B.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=b,this._context=r,this._viewHelper=d}getZoneAtCoord(r){return Tn.getZoneAtCoord(this._context,r)}static getZoneAtCoord(r,d){const b=r.viewLayout.getWhitespaceAtVerticalOffset(d);if(b){const B=b.verticalOffset+b.height/2,U=r.model.getLineCount();let Ee,le=null,Oe=null;return b.afterLineNumber!==U&&(Oe=new vn.L(b.afterLineNumber+1,1)),b.afterLineNumber>0&&(le=new vn.L(b.afterLineNumber,r.model.getLineMaxColumn(b.afterLineNumber))),Ee=null===Oe?le:null===le?Oe:d<B?le:Oe,{viewZoneId:b.id,afterLineNumber:b.afterLineNumber,positionBefore:le,positionAfter:Oe,position:Ee}}return null}getFullLineRangeAtCoord(r){if(this._context.viewLayout.isAfterLines(r)){const B=this._context.model.getLineCount(),U=this._context.model.getLineMaxColumn(B);return{range:new Wn.e(B,U,B,U),isAfterLines:!0}}const d=this._context.viewLayout.getLineNumberAtVerticalOffset(r),b=this._context.model.getLineMaxColumn(d);return{range:new Wn.e(d,1,d,b),isAfterLines:!1}}getLineNumberAtVerticalOffset(r){return this._context.viewLayout.getLineNumberAtVerticalOffset(r)}isAfterLines(r){return this._context.viewLayout.isAfterLines(r)}isInTopPadding(r){return this._context.viewLayout.isInTopPadding(r)}isInBottomPadding(r){return this._context.viewLayout.isInBottomPadding(r)}getVerticalOffsetForLineNumber(r){return this._context.viewLayout.getVerticalOffsetForLineNumber(r)}findAttribute(r,d){return Tn._findAttribute(r,d,this._viewHelper.viewDomNode)}static _findAttribute(r,d,b){for(;r&&r!==document.body;){if(r.hasAttribute&&r.hasAttribute(d))return r.getAttribute(d);if(r===b)return null;r=r.parentNode}return null}getLineWidth(r){return this._viewHelper.getLineWidth(r)}visibleRangeForPosition(r,d){return this._viewHelper.visibleRangeForPosition(r,d)}getPositionFromDOMInfo(r,d){return this._viewHelper.getPositionFromDOMInfo(r,d)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class xn extends class Mi{constructor(r,d,b,B){this.editorPos=d,this.pos=b,this.relativePos=B,this.mouseVerticalOffset=Math.max(0,r.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=r.getCurrentScrollLeft()+this.relativePos.x-r.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<r.layoutInfo.contentLeft&&this.relativePos.x>=r.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,bn._getMouseColumn(this.mouseContentHorizontalOffset,r.typicalHalfwidthCharacterWidth))}}{constructor(r,d,b,B,U){super(r,d,b,B),this._ctx=r,U?(this.target=U,this.targetPath=Nt.collect(U,r.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(r=null){return r&&r.column<this._ctx.model.getLineMaxColumn(r.lineNumber)?pt.i.visibleColumnFromColumn(this._ctx.model.getLineContent(r.lineNumber),r.column,this._ctx.model.getTextModelOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(r=null){return ot.createUnknown(this.target,this._getMouseColumn(r),r)}fulfillTextarea(){return ot.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(r,d,b,B){return ot.createMargin(r,this.target,this._getMouseColumn(d),d,b,B)}fulfillViewZone(r,d,b){return ot.createViewZone(r,this.target,this._getMouseColumn(d),d,b)}fulfillContentText(r,d,b){return ot.createContentText(this.target,this._getMouseColumn(r),r,d,b)}fulfillContentEmpty(r,d){return ot.createContentEmpty(this.target,this._getMouseColumn(r),r,d)}fulfillContentWidget(r){return ot.createContentWidget(this.target,this._getMouseColumn(),r)}fulfillScrollbar(r){return ot.createScrollbar(this.target,this._getMouseColumn(r),r)}fulfillOverlayWidget(r){return ot.createOverlayWidget(this.target,this._getMouseColumn(),r)}withTarget(r){return new xn(this._ctx,this.editorPos,this.pos,this.relativePos,r)}}const rn={isAfterLines:!0};function tn(st){return{isAfterLines:!1,horizontalDistanceToText:st}}class bn{constructor(r,d){this._context=r,this._viewHelper=d}mouseTargetIsWidget(r){const b=Nt.collect(r.target,this._viewHelper.viewDomNode);return!!(on.isChildOfContentWidgets(b)||on.isChildOfOverflowingContentWidgets(b)||on.isChildOfOverlayWidgets(b))}createMouseTarget(r,d,b,B,U){const le=new Tn(this._context,this._viewHelper,r),Ee=new xn(le,d,b,B,U);try{return bn._createMouseTarget(le,Ee,!1)}catch(Oe){return Ee.fulfillUnknown()}}static _createMouseTarget(r,d,b){if(null===d.target){if(b)return d.fulfillUnknown();const le=bn._doHitTest(r,d);return 1===le.type?bn.createMouseTargetFromHitTestPosition(r,d,le.spanNode,le.position,le.injectedText):this._createMouseTarget(r,d.withTarget(le.hitTarget),!0)}const B=d;let U=null;return U=U||bn._hitTestContentWidget(r,B),U=U||bn._hitTestOverlayWidget(r,B),U=U||bn._hitTestMinimap(r,B),U=U||bn._hitTestScrollbarSlider(r,B),U=U||bn._hitTestViewZone(r,B),U=U||bn._hitTestMargin(r,B),U=U||bn._hitTestViewCursor(r,B),U=U||bn._hitTestTextArea(r,B),U=U||bn._hitTestViewLines(r,B,b),U=U||bn._hitTestScrollbar(r,B),U||d.fulfillUnknown()}static _hitTestContentWidget(r,d){if(on.isChildOfContentWidgets(d.targetPath)||on.isChildOfOverflowingContentWidgets(d.targetPath)){const b=r.findAttribute(d.target,"widgetId");return b?d.fulfillContentWidget(b):d.fulfillUnknown()}return null}static _hitTestOverlayWidget(r,d){if(on.isChildOfOverlayWidgets(d.targetPath)){const b=r.findAttribute(d.target,"widgetId");return b?d.fulfillOverlayWidget(b):d.fulfillUnknown()}return null}static _hitTestViewCursor(r,d){if(d.target){const b=r.lastRenderData.lastViewCursorsRenderData;for(const B of b)if(d.target===B.domNode)return d.fulfillContentText(B.position,null,{mightBeForeignElement:!1,injectedText:null})}if(d.isInContentArea){const b=r.lastRenderData.lastViewCursorsRenderData,B=d.mouseContentHorizontalOffset,U=d.mouseVerticalOffset;for(const le of b){if(B<le.contentLeft||B>le.contentLeft+le.width)continue;const Ee=r.getVerticalOffsetForLineNumber(le.position.lineNumber);if(Ee<=U&&U<=Ee+le.height)return d.fulfillContentText(le.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(r,d){const b=r.getZoneAtCoord(d.mouseVerticalOffset);return b?d.fulfillViewZone(d.isInContentArea?8:5,b.position,b):null}static _hitTestTextArea(r,d){return on.isTextArea(d.targetPath)?r.lastRenderData.lastTextareaPosition?d.fulfillContentText(r.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):d.fulfillTextarea():null}static _hitTestMargin(r,d){if(d.isInMarginArea){const b=r.getFullLineRangeAtCoord(d.mouseVerticalOffset),B=b.range.getStartPosition();let U=Math.abs(d.relativePos.x);const le={isAfterLines:b.isAfterLines,glyphMarginLeft:r.layoutInfo.glyphMarginLeft,glyphMarginWidth:r.layoutInfo.glyphMarginWidth,lineNumbersWidth:r.layoutInfo.lineNumbersWidth,offsetX:U};return U-=r.layoutInfo.glyphMarginLeft,U<=r.layoutInfo.glyphMarginWidth?d.fulfillMargin(2,B,b.range,le):(U-=r.layoutInfo.glyphMarginWidth,U<=r.layoutInfo.lineNumbersWidth?d.fulfillMargin(3,B,b.range,le):(U-=r.layoutInfo.lineNumbersWidth,d.fulfillMargin(4,B,b.range,le)))}return null}static _hitTestViewLines(r,d,b){if(!on.isChildOfViewLines(d.targetPath))return null;if(r.isInTopPadding(d.mouseVerticalOffset))return d.fulfillContentEmpty(new vn.L(1,1),rn);if(r.isAfterLines(d.mouseVerticalOffset)||r.isInBottomPadding(d.mouseVerticalOffset)){const U=r.model.getLineCount(),le=r.model.getLineMaxColumn(U);return d.fulfillContentEmpty(new vn.L(U,le),rn)}if(b){if(on.isStrictChildOfViewLines(d.targetPath)){const U=r.getLineNumberAtVerticalOffset(d.mouseVerticalOffset);if(0===r.model.getLineLength(U)){const Ee=r.getLineWidth(U),Oe=tn(d.mouseContentHorizontalOffset-Ee);return d.fulfillContentEmpty(new vn.L(U,1),Oe)}const le=r.getLineWidth(U);if(d.mouseContentHorizontalOffset>=le){const Ee=tn(d.mouseContentHorizontalOffset-le),Oe=new vn.L(U,r.model.getLineMaxColumn(U));return d.fulfillContentEmpty(Oe,Ee)}}return d.fulfillUnknown()}const B=bn._doHitTest(r,d);return 1===B.type?bn.createMouseTargetFromHitTestPosition(r,d,B.spanNode,B.position,B.injectedText):this._createMouseTarget(r,d.withTarget(B.hitTarget),!0)}static _hitTestMinimap(r,d){if(on.isChildOfMinimap(d.targetPath)){const b=r.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),B=r.model.getLineMaxColumn(b);return d.fulfillScrollbar(new vn.L(b,B))}return null}static _hitTestScrollbarSlider(r,d){if(on.isChildOfScrollableElement(d.targetPath)&&d.target&&1===d.target.nodeType){const b=d.target.className;if(b&&/\b(slider|scrollbar)\b/.test(b)){const B=r.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),U=r.model.getLineMaxColumn(B);return d.fulfillScrollbar(new vn.L(B,U))}}return null}static _hitTestScrollbar(r,d){if(on.isChildOfScrollableElement(d.targetPath)){const b=r.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),B=r.model.getLineMaxColumn(b);return d.fulfillScrollbar(new vn.L(b,B))}return null}getMouseColumn(r){const d=this._context.configuration.options,b=d.get(131),B=this._context.viewLayout.getCurrentScrollLeft()+r.x-b.contentLeft;return bn._getMouseColumn(B,d.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(r,d){return r<0?1:Math.round(r/d)+1}static createMouseTargetFromHitTestPosition(r,d,b,B,U){const le=B.lineNumber,Ee=B.column,Oe=r.getLineWidth(le);if(d.mouseContentHorizontalOffset>Oe){const En=tn(d.mouseContentHorizontalOffset-Oe);return d.fulfillContentEmpty(B,En)}const je=r.visibleRangeForPosition(le,Ee);if(!je)return d.fulfillUnknown(B);if(d.mouseContentHorizontalOffset===je.left)return d.fulfillContentText(B,null,{mightBeForeignElement:!!U,injectedText:U});const Dt=[];if(Dt.push({offset:je.left,column:Ee}),Ee>1){const En=r.visibleRangeForPosition(le,Ee-1);En&&Dt.push({offset:En.left,column:Ee-1})}if(Ee<r.model.getLineMaxColumn(le)){const En=r.visibleRangeForPosition(le,Ee+1);En&&Dt.push({offset:En.left,column:Ee+1})}Dt.sort((En,Zn)=>En.offset-Zn.offset);const Wt=d.pos.toClientCoordinates(),sn=b.getBoundingClientRect(),Cn=sn.left<=Wt.clientX&&Wt.clientX<=sn.right;for(let En=1;En<Dt.length;En++){const Zn=Dt[En-1],ai=Dt[En];if(Zn.offset<=d.mouseContentHorizontalOffset&&d.mouseContentHorizontalOffset<=ai.offset){const oi=new Wn.e(le,Zn.column,le,ai.column);return d.fulfillContentText(B,oi,{mightBeForeignElement:!Cn||!!U,injectedText:U})}}return d.fulfillContentText(B,null,{mightBeForeignElement:!Cn||!!U,injectedText:U})}static _doHitTestWithCaretRangeFromPoint(r,d){const b=r.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),U=r.getVerticalOffsetForLineNumber(b)+Math.floor(r.lineHeight/2);let le=d.pos.y+(U-d.mouseVerticalOffset);le<=d.editorPos.y&&(le=d.editorPos.y+1),le>=d.editorPos.y+d.editorPos.height&&(le=d.editorPos.y+d.editorPos.height-1);const Ee=new ut.YN(d.pos.x,le),Oe=this._actualDoHitTestWithCaretRangeFromPoint(r,Ee.toClientCoordinates());return 1===Oe.type?Oe:this._actualDoHitTestWithCaretRangeFromPoint(r,d.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(r,d){const b=Y.Ay(r.viewDomNode);let B;if(B=b?void 0===b.caretRangeFromPoint?function mt(st,r,d){const b=document.createRange();let B=st.elementFromPoint(r,d);if(null!==B){for(;B&&B.firstChild&&B.firstChild.nodeType!==B.firstChild.TEXT_NODE&&B.lastChild&&B.lastChild.firstChild;)B=B.lastChild;const U=B.getBoundingClientRect(),le=window.getComputedStyle(B,null).getPropertyValue("font"),Ee=B.innerText;let rt,Oe=U.left,je=0;if(r>U.left+U.width)je=Ee.length;else{const Dt=Xe.getInstance();for(let Rt=0;Rt<Ee.length+1;Rt++){if(rt=Dt.getCharWidth(Ee.charAt(Rt),le)/2,Oe+=rt,r<Oe){je=Rt;break}Oe+=rt}}b.setStart(B.firstChild,je),b.setEnd(B.firstChild,je)}return b}(b,d.clientX,d.clientY):b.caretRangeFromPoint(d.clientX,d.clientY):document.caretRangeFromPoint(d.clientX,d.clientY),!B||!B.startContainer)return new dt;const U=B.startContainer;if(U.nodeType===U.TEXT_NODE){const le=U.parentNode,Ee=le?le.parentNode:null,Oe=Ee?Ee.parentNode:null;return(Oe&&Oe.nodeType===Oe.ELEMENT_NODE?Oe.className:null)===_n.CLASS_NAME?ft.createFromDOMInfo(r,le,B.startOffset):new dt(U.parentNode)}if(U.nodeType===U.ELEMENT_NODE){const le=U.parentNode,Ee=le?le.parentNode:null;return(Ee&&Ee.nodeType===Ee.ELEMENT_NODE?Ee.className:null)===_n.CLASS_NAME?ft.createFromDOMInfo(r,U,U.textContent.length):new dt(U)}return new dt}static _doHitTestWithCaretPositionFromPoint(r,d){const b=document.caretPositionFromPoint(d.clientX,d.clientY);if(b.offsetNode.nodeType===b.offsetNode.TEXT_NODE){const B=b.offsetNode.parentNode,U=B?B.parentNode:null,le=U?U.parentNode:null;return(le&&le.nodeType===le.ELEMENT_NODE?le.className:null)===_n.CLASS_NAME?ft.createFromDOMInfo(r,b.offsetNode.parentNode,b.offset):new dt(b.offsetNode.parentNode)}if(b.offsetNode.nodeType===b.offsetNode.ELEMENT_NODE){const B=b.offsetNode.parentNode,le=B?B.parentNode:null,Ee=le&&le.nodeType===le.ELEMENT_NODE?le.className:null;if((B&&B.nodeType===B.ELEMENT_NODE?B.className:null)===_n.CLASS_NAME){const Oe=b.offsetNode.childNodes[Math.min(b.offset,b.offsetNode.childNodes.length-1)];if(Oe)return ft.createFromDOMInfo(r,Oe,0)}else if(Ee===_n.CLASS_NAME)return ft.createFromDOMInfo(r,b.offsetNode,0)}return new dt(b.offsetNode)}static _snapToSoftTabBoundary(r,d){const b=d.getLineContent(r.lineNumber),{tabSize:B}=d.getTextModelOptions(),U=ei.l.atomicPosition(b,r.column-1,B,2);return-1!==U?new vn.L(r.lineNumber,U+1):r}static _doHitTest(r,d){let b=new dt;if("function"==typeof document.caretRangeFromPoint?b=this._doHitTestWithCaretRangeFromPoint(r,d):document.caretPositionFromPoint&&(b=this._doHitTestWithCaretPositionFromPoint(r,d.pos.toClientCoordinates())),1===b.type){const B=r.model.getInjectedTextAt(b.position),U=r.model.normalizePosition(b.position,2);(B||!U.equals(b.position))&&(b=new ke(U,b.spanNode,B))}return 1===b.type&&r.stickyTabStops&&(b=new ke(this._snapToSoftTabBoundary(b.position,r.model),b.spanNode,b.injectedText)),b}}let Xe=(()=>{class st{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return st._INSTANCE||(st._INSTANCE=new st),st._INSTANCE}getCharWidth(d,b){const B=d+b;if(this._cache[B])return this._cache[B];const U=this._canvas.getContext("2d");U.font=b;const Ee=U.measureText(d).width;return this._cache[B]=Ee,Ee}}return st._INSTANCE=null,st})();function Dn(st){return function(r,d){let b=!1;return st&&(b=st.mouseTargetIsWidget(d)),b||d.preventDefault(),d}}let An=(()=>{class st extends Ve{constructor(d,b,B){super(),this._context=d,this.viewController=b,this.viewHelper=B,this.mouseTargetFactory=new bn(this._context,B),this._mouseDownOperation=this._register(new Ye(this._context,this.viewController,this.viewHelper,(Ee,Oe)=>this._createMouseTarget(Ee,Oe),Ee=>this._getMouseColumn(Ee))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const U=new ut.N5(this.viewHelper.viewDomNode);this._register(U.onContextMenu(this.viewHelper.viewDomNode,Ee=>this._onContextMenu(Ee,!0))),this._register(U.onMouseMoveThrottled(this.viewHelper.viewDomNode,Ee=>this._onMouseMove(Ee),Dn(this.mouseTargetFactory),st.MOUSE_MOVE_MINIMUM_TIME)),this._register(U.onMouseUp(this.viewHelper.viewDomNode,Ee=>this._onMouseUp(Ee))),this._register(U.onMouseLeave(this.viewHelper.viewDomNode,Ee=>this._onMouseLeave(Ee))),this._register(U.onMouseDown(this.viewHelper.viewDomNode,Ee=>this._onMouseDown(Ee))),this._register(Y.nm(this.viewHelper.viewDomNode,Y.tw.MOUSE_WHEEL,Ee=>{if(this.viewController.emitMouseWheel(Ee),!this._context.configuration.options.get(68))return;const Oe=new He.q(Ee);if(z.dz?(Ee.metaKey||Ee.ctrlKey)&&!Ee.shiftKey&&!Ee.altKey:Ee.ctrlKey&&!Ee.metaKey&&!Ee.shiftKey&&!Ee.altKey){const rt=W.C.getZoomLevel();W.C.setZoomLevel(rt+(Oe.deltaY>0?1:-1)),Oe.preventDefault(),Oe.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(d){if(d.hasChanged(131)){const b=this._context.configuration.options.get(131).height;this._height!==b&&(this._height=b,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(d){return this._mouseDownOperation.onCursorStateChanged(d),!1}onFocusChanged(d){return!1}onScrollChanged(d){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(d,b){const U=new ut.rU(d,b).toPageCoordinates(),le=(0,ut.kG)(this.viewHelper.viewDomNode);if(U.y<le.y||U.y>le.y+le.height||U.x<le.x||U.x>le.x+le.width)return null;const Ee=(0,ut.Pp)(this.viewHelper.viewDomNode,le,U);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),le,U,Ee,null)}_createMouseTarget(d,b){let B=d.target;if(!this.viewHelper.viewDomNode.contains(B)){const U=Y.Ay(this.viewHelper.viewDomNode);U&&(B=U.elementsFromPoint(d.posx,d.posy).find(le=>this.viewHelper.viewDomNode.contains(le)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),d.editorPos,d.pos,d.relativePos,b?B:null)}_getMouseColumn(d){return this.mouseTargetFactory.getMouseColumn(d.relativePos)}_onContextMenu(d,b){this.viewController.emitContextMenu({event:d,target:this._createMouseTarget(d,b)})}_onMouseMove(d){this._mouseDownOperation.isActive()||d.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:d,target:this._createMouseTarget(d,!0)})}_onMouseLeave(d){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:d,target:null})}_onMouseUp(d){this.viewController.emitMouseUp({event:d,target:this._createMouseTarget(d,!0)})}_onMouseDown(d){const b=this._createMouseTarget(d,!0),B=6===b.type||7===b.type,U=2===b.type||3===b.type||4===b.type,le=3===b.type,Ee=this._context.configuration.options.get(98),Oe=8===b.type||5===b.type,je=9===b.type;let rt=d.leftButton||d.middleButton;z.dz&&d.leftButton&&d.ctrlKey&&(rt=!1);const Dt=()=>{d.preventDefault(),this.viewHelper.focusTextArea()};rt&&(B||le&&Ee)?(Dt(),this._mouseDownOperation.start(b.type,d)):U?d.preventDefault():Oe?this.viewHelper.shouldSuppressMouseDownOnViewZone(b.detail.viewZoneId)&&(Dt(),this._mouseDownOperation.start(b.type,d),d.preventDefault()):je&&this.viewHelper.shouldSuppressMouseDownOnWidget(b.detail)&&(Dt(),d.preventDefault()),this.viewController.emitMouseDown({event:d,target:b})}}return st.MOUSE_MOVE_MINIMUM_TIME=100,st})();class Ye extends w.JT{constructor(r,d,b,B,U){super(),this._context=r,this._viewController=d,this._viewHelper=b,this._createMouseTarget=B,this._getMouseColumn=U,this._mouseMoveMonitor=this._register(new ut.iB(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new lt._F),this._mouseState=new Te,this._currentSelection=new ce.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const d=this._findMousePosition(r,!0);!d||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:d}):this._dispatchMouse(d,!0))}start(r,d){this._lastMouseEvent=d,this._mouseState.setStartedOnLineNumbers(3===r),this._mouseState.setStartButtons(d),this._mouseState.setModifiers(d);const b=this._findMousePosition(d,!0);if(!b||!b.position)return;this._mouseState.trySetCount(d.detail,b.position),d.detail=this._mouseState.count;const B=this._context.configuration.options;if(!B.get(81)&&B.get(31)&&!B.get(18)&&!this._mouseState.altKey&&d.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===b.type&&b.position&&this._currentSelection.containsPosition(b.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(d.target,d.buttons,Dn(null),U=>this._onMouseDownThenMove(U),U=>{const le=this._findMousePosition(this._lastMouseEvent,!0);U&&U instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:le?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(b,d.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(d.target,d.buttons,Dn(null),U=>this._onMouseDownThenMove(U),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const r=this._findMousePosition(this._lastMouseEvent,!1);!r||this._mouseState.isDragAndDrop||this._dispatchMouse(r,!0)},10)}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const d=r.editorPos,b=this._context.model,B=this._context.viewLayout,U=this._getMouseColumn(r);if(r.posy<d.y){const Ee=Math.max(B.getCurrentScrollTop()-(d.y-r.posy),0),Oe=Tn.getZoneAtCoord(this._context,Ee);if(Oe){const rt=this._helpPositionJumpOverViewZone(Oe);if(rt)return ot.createOutsideEditor(U,rt)}const je=B.getLineNumberAtVerticalOffset(Ee);return ot.createOutsideEditor(U,new vn.L(je,1))}if(r.posy>d.y+d.height){const Ee=B.getCurrentScrollTop()+r.relativePos.y,Oe=Tn.getZoneAtCoord(this._context,Ee);if(Oe){const rt=this._helpPositionJumpOverViewZone(Oe);if(rt)return ot.createOutsideEditor(U,rt)}const je=B.getLineNumberAtVerticalOffset(Ee);return ot.createOutsideEditor(U,new vn.L(je,b.getLineMaxColumn(je)))}const le=B.getLineNumberAtVerticalOffset(B.getCurrentScrollTop()+r.relativePos.y);return r.posx<d.x?ot.createOutsideEditor(U,new vn.L(le,1)):r.posx>d.x+d.width?ot.createOutsideEditor(U,new vn.L(le,b.getLineMaxColumn(le))):null}_findMousePosition(r,d){const b=this._getPositionOutsideEditor(r);if(b)return b;const B=this._createMouseTarget(r,d);if(!B.position)return null;if(8===B.type||5===B.type){const le=this._helpPositionJumpOverViewZone(B.detail);if(le)return ot.createViewZone(B.type,B.element,B.mouseColumn,le,B.detail)}return B}_helpPositionJumpOverViewZone(r){const d=new vn.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),b=r.positionBefore,B=r.positionAfter;return b&&B?b.isBefore(d)?b:B:null}_dispatchMouse(r,d){!r.position||this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:d,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}let Te=(()=>{class st{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(d){this._altKey=d.altKey,this._ctrlKey=d.ctrlKey,this._metaKey=d.metaKey,this._shiftKey=d.shiftKey}setStartButtons(d){this._leftButton=d.leftButton,this._middleButton=d.middleButton}setStartedOnLineNumbers(d){this._startedOnLineNumbers=d}trySetCount(d,b){const B=(new Date).getTime();B-this._lastSetMouseDownCountTime>st.CLEAR_MOUSE_DOWN_COUNT_TIME&&(d=1),this._lastSetMouseDownCountTime=B,d>this._lastMouseDownCount+1&&(d=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(b)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=b,this._lastMouseDownCount=Math.min(d,this._lastMouseDownPositionEqualCount)}}return st.CLEAR_MOUSE_DOWN_COUNT_TIME=400,st})();var Ae=m(7991),ht=m(7462);class Mt extends An{constructor(r,d,b){super(r,d,b),this._register(we.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(Y.nm(this.viewHelper.linesContentDomNode,we.t.Tap,U=>this.onTap(U))),this._register(Y.nm(this.viewHelper.linesContentDomNode,we.t.Change,U=>this.onChange(U))),this._register(Y.nm(this.viewHelper.linesContentDomNode,we.t.Contextmenu,U=>this._onContextMenu(new ut.gy(U,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(Y.nm(this.viewHelper.linesContentDomNode,"pointerdown",U=>{const le=U.pointerType;this._lastPointerType="mouse"!==le?"touch"===le?"touch":"pen":"mouse"}));const B=new ut.tC(this.viewHelper.viewDomNode);this._register(B.onPointerMoveThrottled(this.viewHelper.viewDomNode,U=>this._onMouseMove(U),Dn(this.mouseTargetFactory),An.MOUSE_MOVE_MINIMUM_TIME)),this._register(B.onPointerUp(this.viewHelper.viewDomNode,U=>this._onMouseUp(U))),this._register(B.onPointerLeave(this.viewHelper.viewDomNode,U=>this._onMouseLeave(U))),this._register(B.onPointerDown(this.viewHelper.viewDomNode,U=>this._onMouseDown(U)))}onTap(r){if(!r.initialTarget||!this.viewHelper.linesContentDomNode.contains(r.initialTarget))return;r.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new ut.gy(r,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:r.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(r){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-r.translationX,-r.translationY)}_onMouseDown(r){"touch"!==r.browserEvent.pointerType&&super._onMouseDown(r)}}class Ge extends An{constructor(r,d,b){super(r,d,b),this._register(we.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(Y.nm(this.viewHelper.linesContentDomNode,we.t.Tap,B=>this.onTap(B))),this._register(Y.nm(this.viewHelper.linesContentDomNode,we.t.Change,B=>this.onChange(B))),this._register(Y.nm(this.viewHelper.linesContentDomNode,we.t.Contextmenu,B=>this._onContextMenu(new ut.gy(B,this.viewHelper.viewDomNode),!1)))}onTap(r){r.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new ut.gy(r,this.viewHelper.viewDomNode),!1);if(d.position){const b=document.createEvent("CustomEvent");b.initEvent(ht.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(b),this.viewController.moveTo(d.position)}}onChange(r){this._context.model.deltaScrollNow(-r.translationX,-r.translationY)}}class ln extends w.JT{constructor(r,d,b){super(),this.handler=z.gn&&Ae.D.pointerEvents?this._register(new Mt(r,d,b)):window.TouchEvent?this._register(new Ge(r,d,b)):this._register(new An(r,d,b))}getTargetAtClientPoint(r,d){return this.handler.getTargetAtClientPoint(r,d)}}m(2366);var Jn=m(4705),qn=m(5748),Qn=m(2562);m(9399);class gi extends Ve{}var ui=m(3448),Ti=m(3024);let yi=(()=>{class st extends gi{constructor(d){super(),this._context=d,this._readConfig(),this._lastCursorModelPosition=new vn.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const d=this._context.configuration.options;this._lineHeight=d.get(59);const b=d.get(60);this._renderLineNumbers=b.renderType,this._renderCustomLineNumbers=b.renderFn,this._renderFinalNewline=d.get(84);const B=d.get(131);this._lineNumbersLeft=B.lineNumbersLeft,this._lineNumbersWidth=B.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(d){return this._readConfig(),!0}onCursorStateChanged(d){const b=d.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(b);let B=!1;return this._activeLineNumber!==b.lineNumber&&(this._activeLineNumber=b.lineNumber,B=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(B=!0),B}onFlushed(d){return!0}onLinesChanged(d){return!0}onLinesDeleted(d){return!0}onLinesInserted(d){return!0}onScrollChanged(d){return d.scrollTopChanged}onZonesChanged(d){return!0}_getLineRenderLineNumber(d){const b=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new vn.L(d,1));if(1!==b.column)return"";const B=b.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(B);if(2===this._renderLineNumbers){const U=Math.abs(this._lastCursorModelPosition.lineNumber-B);return 0===U?'<span class="relative-current-line-number">'+B+"</span>":String(U)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===B||B%10==0?String(B):"":String(B)}prepareRender(d){if(0===this._renderLineNumbers)return void(this._renderResult=null);const b=z.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",B=d.visibleRange.startLineNumber,U=d.visibleRange.endLineNumber,le='<div class="'+st.CLASS_NAME+b+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',Ee=this._context.model.getLineCount(),Oe=[];for(let je=B;je<=U;je++){const rt=je-B;if(!this._renderFinalNewline&&je===Ee&&0===this._context.model.getLineLength(je)){Oe[rt]="";continue}const Dt=this._getLineRenderLineNumber(je);Oe[rt]=Dt?je===this._activeLineNumber?'<div class="active-line-number '+st.CLASS_NAME+b+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+Dt+"</div>":le+Dt+"</div>":""}this._renderResult=Oe}render(d,b){if(!this._renderResult)return"";const B=b-d;return B<0||B>=this._renderResult.length?"":this._renderResult[B]}}return st.CLASS_NAME="line-numbers",st})();(0,Ti.Ic)((st,r)=>{const d=st.getColor(ui.hw);d&&r.addRule(`.monaco-editor .line-numbers { color: ${d}; }`);const b=st.getColor(ui.DD);b&&r.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${b}; }`)});let Ni=(()=>{class st extends ct{constructor(d){super(d);const b=this._context.configuration.options,B=b.get(131);this._canUseLayerHinting=!b.get(28),this._contentLeft=B.contentLeft,this._glyphMarginLeft=B.glyphMarginLeft,this._glyphMarginWidth=B.glyphMarginWidth,this._domNode=(0,ue.X)(document.createElement("div")),this._domNode.setClassName(st.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,ue.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(st.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(d){const b=this._context.configuration.options,B=b.get(131);return this._canUseLayerHinting=!b.get(28),this._contentLeft=B.contentLeft,this._glyphMarginLeft=B.glyphMarginLeft,this._glyphMarginWidth=B.glyphMarginWidth,!0}onScrollChanged(d){return super.onScrollChanged(d)||d.scrollTopChanged}prepareRender(d){}render(d){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(d.scrollTop-d.bigNumbersDelta));const B=Math.min(d.scrollHeight,1e6);this._domNode.setHeight(B),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(B)}}return st.CLASS_NAME="glyph-margin",st.OUTER_CLASS_NAME="margin",st})();var Ai=m(681),to=m(1382),Kn=m(5283),Pn=m(8927);class Ei{constructor(r,d,b,B,U){this._context=r,this.modelLineNumber=d,this.distanceToModelLineStart=b,this.widthOfHiddenLineTextBefore=B,this.distanceToModelLineEnd=U,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null}prepareRender(r){const d=new vn.L(this.modelLineNumber,this.distanceToModelLineStart+1),b=new vn.L(this.modelLineNumber,this._context.model.getModelLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(d),this.endPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(b),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=r.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=r.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}}const vi=F.isFirefox;class Wi extends ct{constructor(r,d,b){super(r),this._primaryCursorPosition=new vn.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=d,this._visibleRangeProvider=b,this._scrollLeft=0,this._scrollTop=0;const B=this._context.configuration.options,U=B.get(131);this._setAccessibilityOptions(B),this._contentLeft=U.contentLeft,this._contentWidth=U.contentWidth,this._contentHeight=U.height,this._fontInfo=B.get(44),this._lineHeight=B.get(59),this._emptySelectionClipboard=B.get(32),this._copyWithSyntaxHighlighting=B.get(21),this._visibleTextArea=null,this._selections=[new ce.Y(1,1,1,1)],this._modelSelections=[new ce.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,ue.X)(document.createElement("textarea")),Nt.write(this.textArea,6),this.textArea.setClassName(`inputarea ${to.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(B)),this.textArea.setAttribute("tabindex",String(B.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",j.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),B.get(30)&&B.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,ue.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const le={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:je=>this._context.model.getLineMaxColumn(je),getValueInRange:(je,rt)=>this._context.model.getValueInRange(je,rt)},Ee={getDataToCopy:()=>{const je=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,z.ED),rt=this._context.model.getEOL(),Dt=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),Rt=Array.isArray(je)?je:null,Wt=Array.isArray(je)?je.join(rt):je;let sn,Cn=null;if(ht.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Wt.length<65536){const En=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);En&&(sn=En.html,Cn=En.mode)}return{isFromEmptySelection:Dt,multicursorText:Rt,text:Wt,html:sn,mode:Cn}},getScreenReaderContent:je=>{if(1===this._accessibilitySupport){if(z.dz){const rt=this._selections[0];if(rt.isEmpty()){const Dt=rt.getStartPosition();let Rt=this._getWordBeforePosition(Dt);if(0===Rt.length&&(Rt=this._getCharacterBeforePosition(Dt)),Rt.length>0)return new Qn.un(Rt,Rt.length,Rt.length,Dt,Dt)}}return Qn.un.EMPTY}if(F.isAndroid){const rt=this._selections[0];if(rt.isEmpty()){const Dt=rt.getStartPosition(),[Rt,Wt]=this._getAndroidWordAtPosition(Dt);if(Rt.length>0)return new Qn.un(Rt,Wt,Wt,Dt,Dt)}return Qn.un.EMPTY}return Qn.ee.fromEditorSelection(je,le,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(je,rt,Dt)=>this._context.model.deduceModelPositionRelativeToViewPosition(je,rt,Dt)},Oe=this._register(new ht.Tj(this.textArea.domNode));this._textAreaInput=this._register(new ht.Fz(Ee,Oe,z.OS,F)),this._register(this._textAreaInput.onKeyDown(je=>{this._viewController.emitKeyDown(je)})),this._register(this._textAreaInput.onKeyUp(je=>{this._viewController.emitKeyUp(je)})),this._register(this._textAreaInput.onPaste(je=>{let rt=!1,Dt=null,Rt=null;je.metadata&&(rt=this._emptySelectionClipboard&&!!je.metadata.isFromEmptySelection,Dt=void 0!==je.metadata.multicursorText?je.metadata.multicursorText:null,Rt=je.metadata.mode),this._viewController.paste(je.text,rt,Dt,Rt)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(je=>{je.replacePrevCharCnt||je.replaceNextCharCnt||je.positionDelta?(Qn.al&&console.log(` => compositionType: <<${je.text}>>, ${je.replacePrevCharCnt}, ${je.replaceNextCharCnt}, ${je.positionDelta}`),this._viewController.compositionType(je.text,je.replacePrevCharCnt,je.replaceNextCharCnt,je.positionDelta)):(Qn.al&&console.log(` => type: <<${je.text}>>`),this._viewController.type(je.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(je=>{this._viewController.setSelection(je)})),this._register(this._textAreaInput.onCompositionStart(je=>{const rt=this.textArea.domNode,Dt=this._modelSelections[0],{distanceToModelLineStart:Rt,widthOfHiddenTextBefore:Wt}=(()=>{const Cn=rt.value.substring(0,Math.min(rt.selectionStart,rt.selectionEnd)),En=Cn.lastIndexOf("\n"),Zn=Cn.substring(En+1),ai=Zn.lastIndexOf("\t"),oi=Zn.length-ai-1,Oi=Dt.getStartPosition(),zi=Math.min(Oi.column-1,oi),Ui=Oi.column-1-zi,Si=function Ci(st,r){if(0===st.length)return 0;const d=document.createElement("div");d.style.position="absolute",d.style.top="-50000px",d.style.width="50000px";const b=document.createElement("span");(0,qn.N)(b,r),b.style.whiteSpace="pre",b.append(st),d.appendChild(b),document.body.appendChild(d);const B=b.offsetWidth;return document.body.removeChild(d),B}(Zn.substring(0,Zn.length-zi),this._fontInfo);return{distanceToModelLineStart:Ui,widthOfHiddenTextBefore:Si}})(),{distanceToModelLineEnd:sn}=(()=>{const Cn=rt.value.substring(Math.max(rt.selectionStart,rt.selectionEnd)),En=Cn.indexOf("\n"),Zn=-1===En?Cn:Cn.substring(0,En),ai=Zn.indexOf("\t"),oi=-1===ai?Zn.length:Zn.length-ai-1,Oi=Dt.getEndPosition(),zi=Math.min(this._context.model.getModelLineMaxColumn(Oi.lineNumber)-Oi.column,oi);return{distanceToModelLineEnd:this._context.model.getModelLineMaxColumn(Oi.lineNumber)-Oi.column-zi}})();this._context.model.revealRange("keyboard",!0,Wn.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Ei(this._context,Dt.startLineNumber,Rt,Wt,sn),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${to.S} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(je=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${to.S}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(r){const b=this._context.model.getLineContent(r.lineNumber),B=(0,Ai.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let U=!0,le=r.column,Ee=!0,Oe=r.column,je=0;for(;je<50&&(U||Ee);){if(U&&le<=1&&(U=!1),U){const rt=b.charCodeAt(le-2);0!==B.get(rt)?U=!1:le--}if(Ee&&Oe>b.length&&(Ee=!1),Ee){const rt=b.charCodeAt(Oe-1);0!==B.get(rt)?Ee=!1:Oe++}je++}return[b.substring(le-1,Oe-1),r.column-le]}_getWordBeforePosition(r){const d=this._context.model.getLineContent(r.lineNumber),b=(0,Ai.u)(this._context.configuration.options.get(117));let B=r.column,U=0;for(;B>1;){const le=d.charCodeAt(B-2);if(0!==b.get(le)||U>50)return d.substring(B-1,r.column-1);U++,B--}return d.substring(0,r.column-1)}_getCharacterBeforePosition(r){if(r.column>1){const b=this._context.model.getLineContent(r.lineNumber).charAt(r.column-2);if(!Jn.ZG(b.charCodeAt(0)))return b}return""}_getAriaLabel(r){return 1===r.get(2)?j.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",z.IJ?"Shift+Alt+F1":"Alt+F1"):r.get(4)}_setAccessibilityOptions(r){this._accessibilitySupport=r.get(2);const d=r.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&d===P.BH.accessibilityPageSize.defaultValue?500:d}onConfigurationChanged(r){const d=this._context.configuration.options,b=d.get(131);return this._setAccessibilityOptions(d),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._contentHeight=b.height,this._fontInfo=d.get(44),this._lineHeight=d.get(59),this._emptySelectionClipboard=d.get(32),this._copyWithSyntaxHighlighting=d.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(d)),this.textArea.setAttribute("tabindex",String(d.get(112))),(r.hasChanged(30)||r.hasChanged(81))&&(d.get(30)&&d.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),r.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),this._modelSelections=r.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return this._scrollLeft=r.scrollLeft,this._scrollTop=r.scrollTop,!0}onZonesChanged(r){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(r){r.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",r.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),r.role&&this.textArea.setAttribute("role",r.role)}prepareRender(r){this._primaryCursorPosition=new vn.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=r.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(r)}render(r){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const b=this._visibleTextArea.visibleTextareaStart,B=this._visibleTextArea.visibleTextareaEnd,U=this._visibleTextArea.startPosition,le=this._visibleTextArea.endPosition;if(U&&le&&b&&B&&B.left>=this._scrollLeft&&b.left<=this._scrollLeft+this._contentWidth){const Ee=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,Oe=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=Oe*this._lineHeight;let je=this._visibleTextArea.widthOfHiddenLineTextBefore,rt=this._contentLeft+b.left-this._scrollLeft,Dt=B.left-b.left;if(rt<this._contentLeft){const Zn=this._contentLeft-rt;rt+=Zn,je+=Zn,Dt-=Zn}Dt>this._contentWidth&&(Dt=this._contentWidth),this.textArea.domNode.scrollLeft=je,this._renderInsideEditor(null,Ee,rt,Dt,this._lineHeight);const Rt=this._context.model.getViewLineData(U.lineNumber),Wt=Rt.tokens.findTokenIndexAtOffset(U.column-1);let Cn;Cn=Wt===Rt.tokens.findTokenIndexAtOffset(le.column-1)?Rt.tokens.getPresentation(Wt):{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};const En=(Kn.RW.getColorMap()||[])[Cn.foreground];this.textArea.domNode.style.color=En?Pn.Il.Format.CSS.formatHex(En):"inherit",this.textArea.domNode.style.fontStyle=Cn.italic?"italic":"inherit",Cn.bold&&(this.textArea.domNode.style.fontWeight="bold"),this.textArea.domNode.style.textDecoration=`${Cn.underline?" underline":""}${Cn.strikethrough?" line-through":""}`}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const r=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(r<this._contentLeft||r>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const d=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(d<0||d>this._contentHeight)this._renderAtTopLeft();else if(z.dz){this._renderInsideEditor(this._primaryCursorPosition,d,r,vi?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const b=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=b*this._lineHeight}else this._renderInsideEditor(this._primaryCursorPosition,d,r,vi?0:1,vi?0:1)}_newlinecount(r){let d=0,b=-1;for(;b=r.indexOf("\n",b+1),-1!==b;)d++;return d}_renderInsideEditor(r,d,b,B,U){this._lastRenderPosition=r;const le=this.textArea,Ee=this.textAreaCover;(0,qn.N)(le,this._fontInfo),le.setTop(d),le.setLeft(b),le.setWidth(B),le.setHeight(U),Ee.setTop(0),Ee.setLeft(0),Ee.setWidth(0),Ee.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const r=this.textArea,d=this.textAreaCover;if((0,qn.N)(r,this._fontInfo),r.setTop(0),r.setLeft(0),d.setTop(0),d.setLeft(0),vi)return r.setWidth(0),r.setHeight(0),d.setWidth(0),void d.setHeight(0);r.setWidth(1),r.setHeight(1),d.setWidth(1),d.setHeight(1);const b=this._context.configuration.options;b.get(50)?d.setClassName("monaco-editor-background textAreaCover "+Ni.OUTER_CLASS_NAME):0!==b.get(60).renderType?d.setClassName("monaco-editor-background textAreaCover "+yi.CLASS_NAME):d.setClassName("monaco-editor-background textAreaCover")}}var Ri=m(1410);class co{constructor(r,d,b,B){this.configuration=r,this.viewModel=d,this.userInputEvents=b,this.commandDelegate=B}paste(r,d,b,B){this.commandDelegate.paste(r,d,b,B)}type(r){this.commandDelegate.type(r)}compositionType(r,d,b,B){this.commandDelegate.compositionType(r,d,b,B)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(r){Ri.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:r})}_validateViewColumn(r){const d=this.viewModel.getLineMinColumn(r.lineNumber);return r.column<d?new vn.L(r.lineNumber,d):r}_hasMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.altKey;case"ctrlKey":return r.ctrlKey;case"metaKey":return r.metaKey;default:return!1}}_hasNonMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.ctrlKey||r.metaKey;case"ctrlKey":return r.altKey||r.metaKey;case"metaKey":return r.ctrlKey||r.altKey;default:return!1}}dispatchMouse(r){const d=this.configuration.options,b=z.IJ&&d.get(96),B=d.get(18);r.middleButton&&!b?this._columnSelect(r.position,r.mouseColumn,r.inSelectionMode):r.startedOnLineNumbers?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelect(r.position):this._createCursor(r.position,!0):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):r.mouseDownCount>=4?this._selectAll():3===r.mouseDownCount?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelectDrag(r.position):this._lastCursorLineSelect(r.position):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):2===r.mouseDownCount?this._hasMulticursorModifier(r)?this._lastCursorWordSelect(r.position):r.inSelectionMode?this._wordSelectDrag(r.position):this._wordSelect(r.position):this._hasMulticursorModifier(r)?this._hasNonMulticursorModifier(r)||(r.shiftKey?this._columnSelect(r.position,r.mouseColumn,!0):r.inSelectionMode?this._lastCursorMoveToSelect(r.position):this._createCursor(r.position,!1)):r.inSelectionMode?r.altKey||B?this._columnSelect(r.position,r.mouseColumn,!0):this._moveToSelect(r.position):this.moveTo(r.position)}_usualArgs(r){return r=this._validateViewColumn(r),{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r}}moveTo(r){Ri.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_moveToSelect(r){Ri.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_columnSelect(r,d,b){r=this._validateViewColumn(r),Ri.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,mouseColumn:d,doColumnSelect:b})}_createCursor(r,d){r=this._validateViewColumn(r),Ri.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,wholeLine:d})}_lastCursorMoveToSelect(r){Ri.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelect(r){Ri.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelectDrag(r){Ri.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorWordSelect(r){Ri.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelect(r){Ri.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelectDrag(r){Ri.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelect(r){Ri.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelectDrag(r){Ri.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_selectAll(){Ri.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(r){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(r)}emitKeyDown(r){this.userInputEvents.emitKeyDown(r)}emitKeyUp(r){this.userInputEvents.emitKeyUp(r)}emitContextMenu(r){this.userInputEvents.emitContextMenu(r)}emitMouseMove(r){this.userInputEvents.emitMouseMove(r)}emitMouseLeave(r){this.userInputEvents.emitMouseLeave(r)}emitMouseUp(r){this.userInputEvents.emitMouseUp(r)}emitMouseDown(r){this.userInputEvents.emitMouseDown(r)}emitMouseDrag(r){this.userInputEvents.emitMouseDrag(r)}emitMouseDrop(r){this.userInputEvents.emitMouseDrop(r)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(r){this.userInputEvents.emitMouseWheel(r)}}class Pi{constructor(r){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=r}emitKeyDown(r){this.onKeyDown&&this.onKeyDown(r)}emitKeyUp(r){this.onKeyUp&&this.onKeyUp(r)}emitContextMenu(r){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(r))}emitMouseMove(r){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(r))}emitMouseLeave(r){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(r))}emitMouseDown(r){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(r))}emitMouseUp(r){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(r))}emitMouseDrag(r){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(r))}emitMouseDrop(r){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(r))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(r){this.onMouseWheel&&this.onMouseWheel(r)}_convertViewToModelMouseEvent(r){return r.target?{event:r.event,target:this._convertViewToModelMouseTarget(r.target)}:r}_convertViewToModelMouseTarget(r){return Pi.convertViewToModelMouseTarget(r,this._coordinatesConverter)}static convertViewToModelMouseTarget(r,d){const b=Object.assign({},r);return b.position&&(b.position=d.convertViewPositionToModelPosition(b.position)),b.range&&(b.range=d.convertViewRangeToModelRange(b.range)),b}}var Li,vo=m(8511);class Di{constructor(r){this._createLine=r,this._set(1,[])}flush(){this._set(1,[])}_set(r,d){this._lines=d,this._rendLineNumberStart=r}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(r){const d=r-this._rendLineNumberStart;if(d<0||d>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[d]}onLinesDeleted(r,d){if(0===this.getCount())return null;const b=this.getStartLineNumber(),B=this.getEndLineNumber();if(d<b)return this._rendLineNumberStart-=d-r+1,null;if(r>B)return null;let U=0,le=0;for(let Oe=b;Oe<=B;Oe++){const je=Oe-this._rendLineNumberStart;r<=Oe&&Oe<=d&&(0===le?(U=je,le=1):le++)}if(r<b){let Oe=0;Oe=d<b?d-r+1:b-r,this._rendLineNumberStart-=Oe}return this._lines.splice(U,le)}onLinesChanged(r,d){if(0===this.getCount())return!1;const b=this.getStartLineNumber(),B=this.getEndLineNumber();let U=!1;for(let le=r;le<=d;le++)le>=b&&le<=B&&(this._lines[le-this._rendLineNumberStart].onContentChanged(),U=!0);return U}onLinesInserted(r,d){if(0===this.getCount())return null;const b=d-r+1,B=this.getStartLineNumber(),U=this.getEndLineNumber();if(r<=B)return this._rendLineNumberStart+=b,null;if(r>U)return null;if(b+r>U)return this._lines.splice(r-this._rendLineNumberStart,U-r+1);const le=[];for(let Dt=0;Dt<b;Dt++)le[Dt]=this._createLine();const Ee=r-this._rendLineNumberStart,Oe=this._lines.slice(0,Ee),je=this._lines.slice(Ee,this._lines.length-b),rt=this._lines.slice(this._lines.length-b,this._lines.length);return this._lines=Oe.concat(le).concat(je),rt}onTokensChanged(r){if(0===this.getCount())return!1;const d=this.getStartLineNumber(),b=this.getEndLineNumber();let B=!1;for(let U=0,le=r.length;U<le;U++){const Ee=r[U];if(Ee.toLineNumber<d||Ee.fromLineNumber>b)continue;const Oe=Math.max(d,Ee.fromLineNumber),je=Math.min(b,Ee.toLineNumber);for(let rt=Oe;rt<=je;rt++)this._lines[rt-this._rendLineNumberStart].onTokensChanged(),B=!0}return B}}class Mo{constructor(r){this._host=r,this.domNode=this._createDomNode(),this._linesCollection=new Di(()=>this._host.createVisibleLine())}_createDomNode(){const r=(0,ue.X)(document.createElement("div"));return r.setClassName("view-layer"),r.setPosition("absolute"),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r}onConfigurationChanged(r){return!!r.hasChanged(131)}onFlushed(r){return this._linesCollection.flush(),!0}onLinesChanged(r){return this._linesCollection.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){const d=this._linesCollection.onLinesDeleted(r.fromLineNumber,r.toLineNumber);if(d)for(let b=0,B=d.length;b<B;b++){const U=d[b].getDomNode();U&&this.domNode.domNode.removeChild(U)}return!0}onLinesInserted(r){const d=this._linesCollection.onLinesInserted(r.fromLineNumber,r.toLineNumber);if(d)for(let b=0,B=d.length;b<B;b++){const U=d[b].getDomNode();U&&this.domNode.domNode.removeChild(U)}return!0}onScrollChanged(r){return r.scrollTopChanged}onTokensChanged(r){return this._linesCollection.onTokensChanged(r.ranges)}onZonesChanged(r){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(r){return this._linesCollection.getLine(r)}renderLines(r){const d=this._linesCollection._get(),U=new Yi(this.domNode.domNode,this._host,r).render({rendLineNumberStart:d.rendLineNumberStart,lines:d.lines,linesLength:d.lines.length},r.startLineNumber,r.endLineNumber,r.relativeVerticalOffset);this._linesCollection._set(U.rendLineNumberStart,U.lines)}}class Yi{constructor(r,d,b){this.domNode=r,this.host=d,this.viewportData=b}render(r,d,b,B){const U={rendLineNumberStart:r.rendLineNumberStart,lines:r.lines.slice(0),linesLength:r.linesLength};if(U.rendLineNumberStart+U.linesLength-1<d||b<U.rendLineNumberStart){U.rendLineNumberStart=d,U.linesLength=b-d+1,U.lines=[];for(let le=d;le<=b;le++)U.lines[le-d]=this.host.createVisibleLine();return this._finishRendering(U,!0,B),U}if(this._renderUntouchedLines(U,Math.max(d-U.rendLineNumberStart,0),Math.min(b-U.rendLineNumberStart,U.linesLength-1),B,d),U.rendLineNumberStart>d){const le=d,Ee=Math.min(b,U.rendLineNumberStart-1);le<=Ee&&(this._insertLinesBefore(U,le,Ee,B,d),U.linesLength+=Ee-le+1)}else if(U.rendLineNumberStart<d){const le=Math.min(U.linesLength,d-U.rendLineNumberStart);le>0&&(this._removeLinesBefore(U,le),U.linesLength-=le)}if(U.rendLineNumberStart=d,U.rendLineNumberStart+U.linesLength-1<b){const le=U.rendLineNumberStart+U.linesLength,Ee=b;le<=Ee&&(this._insertLinesAfter(U,le,Ee,B,d),U.linesLength+=Ee-le+1)}else if(U.rendLineNumberStart+U.linesLength-1>b){const le=Math.max(0,b-U.rendLineNumberStart+1),Oe=U.linesLength-1-le+1;Oe>0&&(this._removeLinesAfter(U,Oe),U.linesLength-=Oe)}return this._finishRendering(U,!1,B),U}_renderUntouchedLines(r,d,b,B,U){const le=r.rendLineNumberStart,Ee=r.lines;for(let Oe=d;Oe<=b;Oe++){const je=le+Oe;Ee[Oe].layoutLine(je,B[je-U])}}_insertLinesBefore(r,d,b,B,U){const le=[];let Ee=0;for(let Oe=d;Oe<=b;Oe++)le[Ee++]=this.host.createVisibleLine();r.lines=le.concat(r.lines)}_removeLinesBefore(r,d){for(let b=0;b<d;b++){const B=r.lines[b].getDomNode();B&&this.domNode.removeChild(B)}r.lines.splice(0,d)}_insertLinesAfter(r,d,b,B,U){const le=[];let Ee=0;for(let Oe=d;Oe<=b;Oe++)le[Ee++]=this.host.createVisibleLine();r.lines=r.lines.concat(le)}_removeLinesAfter(r,d){const b=r.linesLength-d;for(let B=0;B<d;B++){const U=r.lines[b+B].getDomNode();U&&this.domNode.removeChild(U)}r.lines.splice(b,d)}_finishRenderingNewLines(r,d,b,B){Yi._ttPolicy&&(b=Yi._ttPolicy.createHTML(b));const U=this.domNode.lastChild;d||!U?this.domNode.innerHTML=b:U.insertAdjacentHTML("afterend",b);let le=this.domNode.lastChild;for(let Ee=r.linesLength-1;Ee>=0;Ee--){const Oe=r.lines[Ee];B[Ee]&&(Oe.setDomNode(le),le=le.previousSibling)}}_finishRenderingInvalidLines(r,d,b){const B=document.createElement("div");Yi._ttPolicy&&(d=Yi._ttPolicy.createHTML(d)),B.innerHTML=d;for(let U=0;U<r.linesLength;U++){const le=r.lines[U];if(b[U]){const Ee=B.firstChild,Oe=le.getDomNode();Oe.parentNode.replaceChild(Ee,Oe),le.setDomNode(Ee)}}}_finishRendering(r,d,b){const B=Yi._sb,U=r.linesLength,le=r.lines,Ee=r.rendLineNumberStart,Oe=[];{B.reset();let je=!1;for(let rt=0;rt<U;rt++){const Dt=le[rt];Oe[rt]=!1,!Dt.getDomNode()&&Dt.renderLine(rt+Ee,b[rt],this.viewportData,B)&&(Oe[rt]=!0,je=!0)}je&&this._finishRenderingNewLines(r,d,B.build(),Oe)}{B.reset();let je=!1;const rt=[];for(let Dt=0;Dt<U;Dt++){const Rt=le[Dt];rt[Dt]=!1,!Oe[Dt]&&Rt.renderLine(Dt+Ee,b[Dt],this.viewportData,B)&&(rt[Dt]=!0,je=!0)}je&&this._finishRenderingInvalidLines(r,B.build(),rt)}}}Yi._ttPolicy=null===(Li=window.trustedTypes)||void 0===Li?void 0:Li.createPolicy("editorViewLayer",{createHTML:st=>st}),Yi._sb=(0,vo.l$)(1e5);class Bo extends ct{constructor(r){super(r),this._visibleLines=new Mo(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let r=0,d=this._dynamicOverlays.length;r<d;r++)if(this._dynamicOverlays[r].shouldRender())return!0;return!1}dispose(){super.dispose();for(let r=0,d=this._dynamicOverlays.length;r<d;r++)this._dynamicOverlays[r].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Oo(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(r){this._dynamicOverlays.push(r)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r);const d=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let B=d;B<=b;B++)this._visibleLines.getVisibleLine(B).onConfigurationChanged(r);return!0}onFlushed(r){return this._visibleLines.onFlushed(r)}onFocusChanged(r){return this._isFocused=r.isFocused,!0}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onScrollChanged(r){return this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._visibleLines.onZonesChanged(r)}prepareRender(r){const d=this._dynamicOverlays.filter(b=>b.shouldRender());for(let b=0,B=d.length;b<B;b++){const U=d[b];U.prepareRender(r),U.onDidRender()}}render(r){this._viewOverlaysRender(r),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(r){this._visibleLines.renderLines(r.viewportData)}}class Oo{constructor(r,d){this._configuration=r,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=d,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(r){this._domNode=(0,ue.X)(r)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(r){this._lineHeight=this._configuration.options.get(59)}renderLine(r,d,b,B){let U="";for(let le=0,Ee=this._dynamicOverlays.length;le<Ee;le++)U+=this._dynamicOverlays[le].render(b.startLineNumber,r);return this._renderedContent!==U&&(this._renderedContent=U,B.appendASCIIString('<div style="position:absolute;top:'),B.appendASCIIString(String(d)),B.appendASCIIString("px;width:100%;height:"),B.appendASCIIString(String(this._lineHeight)),B.appendASCIIString('px;">'),B.appendASCIIString(U),B.appendASCIIString("</div>"),!0)}layoutLine(r,d){this._domNode&&(this._domNode.setTop(d),this._domNode.setHeight(this._lineHeight))}}class wi extends Bo{constructor(r){super(r);const b=this._context.configuration.options.get(131);this._contentWidth=b.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(r){const b=this._context.configuration.options.get(131);return this._contentWidth=b.contentWidth,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollWidthChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r),this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth))}}class $o extends Bo{constructor(r){super(r);const d=this._context.configuration.options,b=d.get(131);this._contentLeft=b.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,qn.N)(this.domNode,d.get(44))}onConfigurationChanged(r){const d=this._context.configuration.options;(0,qn.N)(this.domNode,d.get(44));const b=d.get(131);return this._contentLeft=b.contentLeft,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollHeightChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r);const d=Math.min(r.scrollHeight,1e6);this.domNode.setHeight(d),this.domNode.setWidth(this._contentLeft)}}class fi{constructor(r,d){this._coordinateBrand=void 0,this.top=r,this.left=d}}class ss extends ct{constructor(r,d){super(r),this._viewDomNode=d,this._widgets={},this.domNode=(0,ue.X)(document.createElement("div")),Nt.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,ue.X)(document.createElement("div")),Nt.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(r){const d=Object.keys(this._widgets);for(const b of d)this._widgets[b].onConfigurationChanged(r);return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLineMappingChanged(r){const d=Object.keys(this._widgets);for(const b of d)this._widgets[b].onLineMappingChanged(r);return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onZonesChanged(r){return!0}addWidget(r){const d=new xi(this._context,this._viewDomNode,r);this._widgets[d.id]=d,d.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(d.domNode):this.domNode.appendChild(d.domNode),this.setShouldRender()}setWidgetPosition(r,d,b){this._widgets[r.getId()].setPosition(d,b),this.setShouldRender()}removeWidget(r){const d=r.getId();if(this._widgets.hasOwnProperty(d)){const b=this._widgets[d];delete this._widgets[d];const B=b.domNode.domNode;B.parentNode.removeChild(B),B.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(r){return!!this._widgets.hasOwnProperty(r)&&this._widgets[r].suppressMouseDown}onBeforeRender(r){const d=Object.keys(this._widgets);for(const b of d)this._widgets[b].onBeforeRender(r)}prepareRender(r){const d=Object.keys(this._widgets);for(const b of d)this._widgets[b].prepareRender(r)}render(r){const d=Object.keys(this._widgets);for(const b of d)this._widgets[b].render(r)}}class xi{constructor(r,d,b){this._context=r,this._viewDomNode=d,this._actual=b,this.domNode=(0,ue.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const B=this._context.configuration.options,U=B.get(131);this._fixedOverflowWidgets=B.get(36),this._contentWidth=U.contentWidth,this._contentLeft=U.contentLeft,this._lineHeight=B.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(r){const d=this._context.configuration.options;if(this._lineHeight=d.get(59),r.hasChanged(131)){const b=d.get(131);this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(r){this._setPosition(this._range)}_setPosition(r){if(this._range=r,this._viewRange=null,this._range){const d=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(d.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(d.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(d))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(r,d){this._setPosition(r),this._preference=d,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(r,d,b,B,U){const le=r.top,Oe=d.top+this._lineHeight;let sn=r.left,Cn=d.left;return sn+b>U.scrollLeft+U.viewportWidth&&(sn=U.scrollLeft+U.viewportWidth-b),Cn+b>U.scrollLeft+U.viewportWidth&&(Cn=U.scrollLeft+U.viewportWidth-b),sn<U.scrollLeft&&(sn=U.scrollLeft),Cn<U.scrollLeft&&(Cn=U.scrollLeft),{fitsAbove:le>=B,aboveTop:le-B,aboveLeft:sn,fitsBelow:U.viewportHeight-Oe>=B,belowTop:Oe,belowLeft:Cn}}_layoutHorizontalSegmentInPage(r,d,b,B){const U=Math.max(0,d.left-B),le=Math.min(d.left+d.width+B,r.width);let Ee=d.left+b-Y.DI.scrollX;if(Ee+B>le){const Oe=Ee-(le-B);Ee-=Oe,b-=Oe}if(Ee<U){const Oe=Ee-U;Ee-=Oe,b-=Oe}return[b,Ee]}_layoutBoxInPage(r,d,b,B,U){const le=r.top-B,Ee=d.top+this._lineHeight,Oe=Y.i(this._viewDomNode.domNode),je=Oe.top+le-Y.DI.scrollY,rt=Oe.top+Ee-Y.DI.scrollY,Dt=Y.D6(document.body),[Rt,Wt]=this._layoutHorizontalSegmentInPage(Dt,Oe,r.left-U.scrollLeft+this._contentLeft,b),[sn,Cn]=this._layoutHorizontalSegmentInPage(Dt,Oe,d.left-U.scrollLeft+this._contentLeft,b),ai=je>=22,oi=rt+B<=Dt.height-22;return this._fixedOverflowWidgets?{fitsAbove:ai,aboveTop:Math.max(je,22),aboveLeft:Wt,fitsBelow:oi,belowTop:rt,belowLeft:Cn}:{fitsAbove:ai,aboveTop:le,aboveLeft:Rt,fitsBelow:oi,belowTop:Ee,belowLeft:sn}}_prepareRenderWidgetAtExactPositionOverflowing(r){return new fi(r.top,r.left+this._contentLeft)}_getTopAndBottomLeft(r){if(!this._viewRange)return[null,null];const d=r.linesVisibleRangesForRange(this._viewRange,!1);if(!d||0===d.length)return[null,null];let b=d[0],B=d[0];for(const Dt of d)Dt.lineNumber<b.lineNumber&&(b=Dt),Dt.lineNumber>B.lineNumber&&(B=Dt);let U=1073741824;for(const Dt of b.ranges)Dt.left<U&&(U=Dt.left);let le=1073741824;for(const Dt of B.ranges)Dt.left<le&&(le=Dt.left);const Ee=r.getVerticalOffsetForLineNumber(b.lineNumber)-r.scrollTop,Oe=new fi(Ee,U),je=r.getVerticalOffsetForLineNumber(B.lineNumber)-r.scrollTop;return[Oe,new fi(je,le)]}_prepareRenderWidget(r){if(!this._preference||0===this._preference.length)return null;const[d,b]=this._getTopAndBottomLeft(r);if(!d||!b)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let U=null;if("function"==typeof this._actual.beforeRender&&(U=Ii(this._actual.beforeRender,this._actual)),U)this._cachedDomNodeOffsetWidth=U.width,this._cachedDomNodeOffsetHeight=U.height;else{const le=this.domNode.domNode;this._cachedDomNodeOffsetWidth=le.offsetWidth,this._cachedDomNodeOffsetHeight=le.offsetHeight}}let B;B=this.allowEditorOverflow?this._layoutBoxInPage(d,b,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r):this._layoutBoxInViewport(d,b,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r);for(let U=1;U<=2;U++)for(const le of this._preference)if(1===le){if(!B)return null;if(2===U||B.fitsAbove)return{coordinate:new fi(B.aboveTop,B.aboveLeft),position:1}}else{if(2!==le)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(d),position:0}:{coordinate:d,position:0};if(!B)return null;if(2===U||B.fitsBelow)return{coordinate:new fi(B.belowTop,B.belowLeft),position:2}}return null}onBeforeRender(r){!this._viewRange||!this._preference||this._viewRange.endLineNumber<r.startLineNumber||this._viewRange.startLineNumber>r.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(r){this._renderData=this._prepareRenderWidget(r)}render(r){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Ii(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+r.scrollTop-r.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Ii(this._actual.afterRender,this._actual,this._renderData.position)}}function Ii(st,r,...d){try{return st.call(r,...d)}catch(b){return null}}m(6964);class Zo extends gi{constructor(r){super(),this._context=r;const d=this._context.configuration.options,b=d.get(131);this._lineHeight=d.get(59),this._renderLineHighlight=d.get(85),this._renderLineHighlightOnlyWhenFocus=d.get(86),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new ce.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let r=!1;const d=this._selections.map(B=>B.positionLineNumber);d.sort((B,U)=>B-U),f.fS(this._cursorLineNumbers,d)||(this._cursorLineNumbers=d,r=!0);const b=this._selections.every(B=>B.isEmpty());return this._selectionIsEmpty!==b&&(this._selectionIsEmpty=b,r=!0),r}onThemeChanged(r){return this._readFromSelections()}onConfigurationChanged(r){const d=this._context.configuration.options,b=d.get(131);return this._lineHeight=d.get(59),this._renderLineHighlight=d.get(85),this._renderLineHighlightOnlyWhenFocus=d.get(86),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,!0}onCursorStateChanged(r){return this._selections=r.selections,this._readFromSelections()}onFlushed(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollWidthChanged||r.scrollTopChanged}onZonesChanged(r){return!0}onFocusChanged(r){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=r.isFocused,!0)}prepareRender(r){if(!this._shouldRenderThis())return void(this._renderData=null);const d=this._renderOne(r),b=r.visibleRange.startLineNumber,B=r.visibleRange.endLineNumber,U=this._cursorLineNumbers.length;let le=0;const Ee=[];for(let Oe=b;Oe<=B;Oe++){const je=Oe-b;for(;le<U&&this._cursorLineNumbers[le]<Oe;)le++;Ee[je]=le<U&&this._cursorLineNumbers[le]===Oe?d:""}this._renderData=Ee}render(r,d){if(!this._renderData)return"";const b=d-r;return b>=this._renderData.length?"":this._renderData[b]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Gn extends Zo{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(r.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class ds extends Zo{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Ti.Ic)((st,r)=>{const d=st.getColor(ui.Kh);if(d&&(r.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${d}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${d}; border: none; }`)),!d||d.isTransparent()||st.defines(ui.Mm)){const b=st.getColor(ui.Mm);b&&(r.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${b}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${b}; }`),"hc"===st.type&&(r.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),r.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}),m(2830);class Io extends gi{constructor(r){super(),this._context=r;const d=this._context.configuration.options;this._lineHeight=d.get(59),this._typicalHalfwidthCharacterWidth=d.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const d=this._context.configuration.options;return this._lineHeight=d.get(59),this._typicalHalfwidthCharacterWidth=d.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}prepareRender(r){const d=r.getDecorationsInViewport();let b=[],B=0;for(let Oe=0,je=d.length;Oe<je;Oe++){const rt=d[Oe];rt.options.className&&(b[B++]=rt)}b=b.sort((Oe,je)=>{if(Oe.options.zIndex<je.options.zIndex)return-1;if(Oe.options.zIndex>je.options.zIndex)return 1;const rt=Oe.options.className,Dt=je.options.className;return rt<Dt?-1:rt>Dt?1:Wn.e.compareRangesUsingStarts(Oe.range,je.range)});const U=r.visibleRange.startLineNumber,le=r.visibleRange.endLineNumber,Ee=[];for(let Oe=U;Oe<=le;Oe++)Ee[Oe-U]="";this._renderWholeLineDecorations(r,b,Ee),this._renderNormalDecorations(r,b,Ee),this._renderResult=Ee}_renderWholeLineDecorations(r,d,b){const B=String(this._lineHeight),U=r.visibleRange.startLineNumber,le=r.visibleRange.endLineNumber;for(let Ee=0,Oe=d.length;Ee<Oe;Ee++){const je=d[Ee];if(!je.options.isWholeLine)continue;const rt='<div class="cdr '+je.options.className+'" style="left:0;width:100%;height:'+B+'px;"></div>',Dt=Math.max(je.range.startLineNumber,U),Rt=Math.min(je.range.endLineNumber,le);for(let Wt=Dt;Wt<=Rt;Wt++)b[Wt-U]+=rt}}_renderNormalDecorations(r,d,b){const B=String(this._lineHeight),U=r.visibleRange.startLineNumber;let le=null,Ee=!1,Oe=null;for(let je=0,rt=d.length;je<rt;je++){const Dt=d[je];if(Dt.options.isWholeLine)continue;const Rt=Dt.options.className,Wt=Boolean(Dt.options.showIfCollapsed);let sn=Dt.range;Wt&&1===sn.endColumn&&sn.endLineNumber!==sn.startLineNumber&&(sn=new Wn.e(sn.startLineNumber,sn.startColumn,sn.endLineNumber-1,this._context.model.getLineMaxColumn(sn.endLineNumber-1))),le===Rt&&Ee===Wt&&Wn.e.areIntersectingOrTouching(Oe,sn)?Oe=Wn.e.plusRange(Oe,sn):(null!==le&&this._renderNormalDecoration(r,Oe,le,Ee,B,U,b),le=Rt,Ee=Wt,Oe=sn)}null!==le&&this._renderNormalDecoration(r,Oe,le,Ee,B,U,b)}_renderNormalDecoration(r,d,b,B,U,le,Ee){const Oe=r.linesVisibleRangesForRange(d,"findMatch"===b);if(Oe)for(let je=0,rt=Oe.length;je<rt;je++){const Dt=Oe[je];if(Dt.outsideRenderedLine)continue;const Rt=Dt.lineNumber-le;if(B&&1===Dt.ranges.length){const Wt=Dt.ranges[0];if(Wt.width<this._typicalHalfwidthCharacterWidth){const sn=Math.round(Wt.left+Wt.width/2),Cn=Math.max(0,Math.round(sn-this._typicalHalfwidthCharacterWidth/2));Dt.ranges[0]=new en(Cn,this._typicalHalfwidthCharacterWidth)}}for(let Wt=0,sn=Dt.ranges.length;Wt<sn;Wt++){const Cn=Dt.ranges[Wt],En='<div class="cdr '+b+'" style="left:'+String(Cn.left)+"px;width:"+String(Cn.width)+"px;height:"+U+'px;"></div>';Ee[Rt]+=En}}}render(r,d){if(!this._renderResult)return"";const b=d-r;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}var Xi=m(8152),Wo=m(8708);class nr extends ct{constructor(r,d,b,B){super(r);const U=this._context.configuration.options,le=U.get(92),Ee=U.get(67),Oe=U.get(34),je=U.get(95),rt={listenOnDomNode:b.domNode,className:"editor-scrollable "+(0,Ti.m6)(r.theme.type),useShadows:!1,lazyRender:!0,vertical:le.vertical,horizontal:le.horizontal,verticalHasArrows:le.verticalHasArrows,horizontalHasArrows:le.horizontalHasArrows,verticalScrollbarSize:le.verticalScrollbarSize,verticalSliderSize:le.verticalSliderSize,horizontalScrollbarSize:le.horizontalScrollbarSize,horizontalSliderSize:le.horizontalSliderSize,handleMouseWheel:le.handleMouseWheel,alwaysConsumeMouseWheel:le.alwaysConsumeMouseWheel,arrowSize:le.arrowSize,mouseWheelScrollSensitivity:Ee,fastScrollSensitivity:Oe,scrollPredominantAxis:je,scrollByPage:le.scrollByPage};this.scrollbar=this._register(new Xi.$Z(d.domNode,rt,this._context.viewLayout.getScrollable())),Nt.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,ue.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Dt=(Rt,Wt,sn)=>{const Cn={};if(Wt){const En=Rt.scrollTop;En&&(Cn.scrollTop=this._context.viewLayout.getCurrentScrollTop()+En,Rt.scrollTop=0)}if(sn){const En=Rt.scrollLeft;En&&(Cn.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+En,Rt.scrollLeft=0)}this._context.model.setScrollPosition(Cn,1)};this._register(Y.nm(b.domNode,"scroll",Rt=>Dt(b.domNode,!0,!0))),this._register(Y.nm(d.domNode,"scroll",Rt=>Dt(d.domNode,!0,!1))),this._register(Y.nm(B.domNode,"scroll",Rt=>Dt(B.domNode,!0,!1))),this._register(Y.nm(this.scrollbarDomNode.domNode,"scroll",Rt=>Dt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const r=this._context.configuration.options,d=r.get(131);this.scrollbarDomNode.setLeft(d.contentLeft),"right"===r.get(65).side?this.scrollbarDomNode.setWidth(d.contentWidth+d.minimap.minimapWidth):this.scrollbarDomNode.setWidth(d.contentWidth),this.scrollbarDomNode.setHeight(d.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(r){this.scrollbar.delegateVerticalScrollbarMouseDown(r)}onConfigurationChanged(r){if(r.hasChanged(92)||r.hasChanged(67)||r.hasChanged(34)){const d=this._context.configuration.options,b=d.get(92),B=d.get(67),U=d.get(34),le=d.get(95);this.scrollbar.updateOptions({vertical:b.vertical,horizontal:b.horizontal,verticalScrollbarSize:b.verticalScrollbarSize,horizontalScrollbarSize:b.horizontalScrollbarSize,scrollByPage:b.scrollByPage,handleMouseWheel:b.handleMouseWheel,mouseWheelScrollSensitivity:B,fastScrollSensitivity:U,scrollPredominantAxis:le})}return r.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(r){return!0}onThemeChanged(r){return this.scrollbar.updateClassName("editor-scrollable "+(0,Ti.m6)(this._context.theme.type)),!0}prepareRender(r){}render(r){this.scrollbar.renderNow()}}(0,Ti.Ic)((st,r)=>{const d=st.getColor(Wo._wn);d&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${d} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${d} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${d} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const b=st.getColor(Wo.etL);b&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${b};\n\t\t\t}\n\t\t`);const B=st.getColor(Wo.ABB);B&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${B};\n\t\t\t}\n\t\t`);const U=st.getColor(Wo.ynu);U&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${U};\n\t\t\t}\n\t\t`)}),m(3196);class vs{constructor(r,d,b){this._decorationToRenderBrand=void 0,this.startLineNumber=+r,this.endLineNumber=+d,this.className=String(b)}}class Ks extends gi{_render(r,d,b){const B=[];for(let Ee=r;Ee<=d;Ee++)B[Ee-r]=[];if(0===b.length)return B;b.sort((Ee,Oe)=>Ee.className===Oe.className?Ee.startLineNumber===Oe.startLineNumber?Ee.endLineNumber-Oe.endLineNumber:Ee.startLineNumber-Oe.startLineNumber:Ee.className<Oe.className?-1:1);let U=null,le=0;for(let Ee=0,Oe=b.length;Ee<Oe;Ee++){const je=b[Ee],rt=je.className;let Dt=Math.max(je.startLineNumber,r)-r;const Rt=Math.min(je.endLineNumber,d)-r;U===rt?(Dt=Math.max(le+1,Dt),le=Math.max(le,Rt)):(U=rt,le=Rt);for(let Wt=Dt;Wt<=le;Wt++)B[Wt].push(U)}return B}}class dr extends Ks{constructor(r){super(),this._context=r;const d=this._context.configuration.options,b=d.get(131);this._lineHeight=d.get(59),this._glyphMargin=d.get(50),this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const d=this._context.configuration.options,b=d.get(131);return this._lineHeight=d.get(59),this._glyphMargin=d.get(50),this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const d=r.getDecorationsInViewport(),b=[];let B=0;for(let U=0,le=d.length;U<le;U++){const Ee=d[U],Oe=Ee.options.glyphMarginClassName;Oe&&(b[B++]=new vs(Ee.range.startLineNumber,Ee.range.endLineNumber,Oe))}return b}prepareRender(r){if(!this._glyphMargin)return void(this._renderResult=null);const d=r.visibleRange.startLineNumber,b=r.visibleRange.endLineNumber,B=this._render(d,b,this._getDecorations(r)),U=this._lineHeight.toString(),Oe='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+U+'px;"></div>',je=[];for(let rt=d;rt<=b;rt++){const Dt=rt-d,Rt=B[Dt];je[Dt]=0===Rt.length?"":'<div class="cgmr codicon '+Rt.join(" ")+Oe}this._renderResult=je}render(r,d){if(!this._renderResult)return"";const b=d-r;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}m(3382);var $s=m(4435),Gs=m(7225),ks=m(2904);class Ar extends gi{constructor(r){super(),this._context=r,this._primaryPosition=null;const d=this._context.configuration.options,b=d.get(132),B=d.get(44);this._lineHeight=d.get(59),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=-1===b.wrappingColumn?-1:b.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=d.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const d=this._context.configuration.options,b=d.get(132),B=d.get(44);return this._lineHeight=d.get(59),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=-1===b.wrappingColumn?-1:b.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=d.get(13),!0}onCursorStateChanged(r){var d;const B=r.selections[0].getPosition();return!(null===(d=this._primaryPosition)||void 0===d?void 0:d.equals(B))&&(this._primaryPosition=B,!0)}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}onLanguageConfigurationChanged(r){return!0}prepareRender(r){var d,b,B,U;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const le=r.visibleRange.startLineNumber,Ee=r.visibleRange.endLineNumber,Oe=r.scrollWidth,je=this._lineHeight,Dt=this.getGuidesByLine(le,Ee,this._primaryPosition),Rt=[];for(let Wt=le;Wt<=Ee;Wt++){const sn=Wt-le,Cn=Dt[sn];let En="";const Zn=null!==(b=null===(d=r.visibleRangeForPosition(new vn.L(Wt,1)))||void 0===d?void 0:d.left)&&void 0!==b?b:0;for(const ai of Cn){const oi=Zn+(ai.visibleColumn-1)*this._spaceWidth;if(oi>Oe||this._maxIndentLeft>0&&oi>this._maxIndentLeft)break;const Oi=ai.horizontalLine?ai.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",zi=ai.horizontalLine?(null!==(U=null===(B=r.visibleRangeForPosition(new vn.L(Wt,ai.horizontalLine.endColumn)))||void 0===B?void 0:B.left)&&void 0!==U?U:oi+this._spaceWidth)-oi:this._spaceWidth;En+=`<div class="core-guide ${ai.className} ${Oi}" style="left:${oi}px;height:${je}px;width:${zi}px"></div>`}Rt[sn]=En}this._renderResult=Rt}getGuidesByLine(r,d,b){const B=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(r,d,b,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?ks.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?ks.s6.EnabledForActive:ks.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,U=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(r,d):null;let le=0,Ee=0,Oe=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&b){const Dt=this._context.model.getActiveIndentGuide(b.lineNumber,r,d);le=Dt.startLineNumber,Ee=Dt.endLineNumber,Oe=Dt.indent}const{indentSize:je}=this._context.model.getTextModelOptions(),rt=[];for(let Dt=r;Dt<=d;Dt++){const Rt=new Array;rt.push(Rt);const Wt=B?B[Dt-r]:[],sn=new f.H9(Wt),Cn=U?U[Dt-r]:[];for(let En=1;En<=Cn;En++){const Zn=(En-1)*je+1,ai=0===Wt.length&&le<=Dt&&Dt<=Ee&&En===Oe;Rt.push(...sn.takeWhile(Oi=>Oi.visibleColumn<Zn)||[]);const oi=sn.peek();(!oi||oi.visibleColumn!==Zn||oi.horizontalLine)&&Rt.push(new ks.UO(Zn,ai?"core-guide-indent-active":"core-guide-indent",null))}Rt.push(...sn.takeWhile(En=>!0)||[])}return rt}render(r,d){if(!this._renderResult)return"";const b=d-r;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}function qs(st){if(!st||!st.isTransparent())return st}(0,Ti.Ic)((st,r)=>{const d=st.getColor(ui.tR);d&&r.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${d} inset; }`);const b=st.getColor(ui.Ym)||d;b&&r.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${b} inset; }`);const B=[{bracketColor:ui.zJ,guideColor:ui.oV,guideColorActive:ui.Qb},{bracketColor:ui.Vs,guideColor:ui.m$,guideColorActive:ui.m3},{bracketColor:ui.CE,guideColor:ui.DS,guideColorActive:ui.To},{bracketColor:ui.UP,guideColor:ui.lS,guideColorActive:ui.L7},{bracketColor:ui.r0,guideColor:ui.Jn,guideColorActive:ui.HV},{bracketColor:ui.m1,guideColor:ui.YF,guideColorActive:ui.f9}],U=new Gs.W,le=B.map(Ee=>{var Oe,je;const rt=st.getColor(Ee.bracketColor),Dt=st.getColor(Ee.guideColor),Rt=st.getColor(Ee.guideColorActive),Wt=qs(null!==(Oe=qs(Dt))&&void 0!==Oe?Oe:null==rt?void 0:rt.transparent(.3)),sn=qs(null!==(je=qs(Rt))&&void 0!==je?je:rt);if(Wt&&sn)return{guideColor:Wt,guideColorActive:sn}}).filter($s.$K);if(le.length>0){for(let Ee=0;Ee<30;Ee++){const Oe=le[Ee%le.length];r.addRule(`.monaco-editor .${U.getInlineClassNameOfLevel(Ee).replace(/ /g,".")} { --guide-color: ${Oe.guideColor}; --guide-color-active: ${Oe.guideColorActive}; }`)}r.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),r.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),r.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),r.addRule(`.monaco-editor .vertical.${U.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),r.addRule(`.monaco-editor .horizontal-top.${U.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),r.addRule(`.monaco-editor .horizontal-bottom.${U.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}),m(5632);class Bs{constructor(){this._currentVisibleRange=new Wn.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(r){this._currentVisibleRange=r}}class Qs{constructor(r,d,b,B,U,le,Ee){this.minimalReveal=r,this.lineNumber=d,this.startColumn=b,this.endColumn=B,this.startScrollTop=U,this.stopScrollTop=le,this.scrollType=Ee,this.type="range",this.minLineNumber=d,this.maxLineNumber=d}}class ir{constructor(r,d,b,B,U){this.minimalReveal=r,this.selections=d,this.startScrollTop=b,this.stopScrollTop=B,this.scrollType=U,this.type="selections";let le=d[0].startLineNumber,Ee=d[0].endLineNumber;for(let Oe=1,je=d.length;Oe<je;Oe++){const rt=d[Oe];le=Math.min(le,rt.startLineNumber),Ee=Math.max(Ee,rt.endLineNumber)}this.minLineNumber=le,this.maxLineNumber=Ee}}let Sr=(()=>{class st extends ct{constructor(d,b){super(d),this._linesContent=b,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Mo(this),this.domNode=this._visibleLines.domNode;const B=this._context.configuration,U=this._context.configuration.options,le=U.get(44),Ee=U.get(132),Oe=U.get(131);this._lineHeight=U.get(59),this._typicalHalfwidthCharacterWidth=le.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Ee.isViewportWrapping,this._revealHorizontalRightPadding=U.get(89),this._horizontalScrollbarHeight=Oe.horizontalScrollbarHeight,this._cursorSurroundingLines=U.get(25),this._cursorSurroundingLinesStyle=U.get(26),this._canUseLayerHinting=!U.get(28),this._viewLineOptions=new jt(B,this._context.theme.type),Nt.write(this.domNode,7),this.domNode.setClassName(`view-lines ${to.S}`),(0,qn.N)(this.domNode,le),this._maxLineWidth=0,this._asyncUpdateLineWidths=new lt.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new lt.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Bs,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new _n(this._viewLineOptions)}onConfigurationChanged(d){this._visibleLines.onConfigurationChanged(d),d.hasChanged(132)&&(this._maxLineWidth=0);const b=this._context.configuration.options,B=b.get(44),U=b.get(132),le=b.get(131);return this._lineHeight=b.get(59),this._typicalHalfwidthCharacterWidth=B.typicalHalfwidthCharacterWidth,this._isViewportWrapping=U.isViewportWrapping,this._revealHorizontalRightPadding=b.get(89),this._horizontalScrollbarHeight=le.horizontalScrollbarHeight,this._cursorSurroundingLines=b.get(25),this._cursorSurroundingLinesStyle=b.get(26),this._canUseLayerHinting=!b.get(28),(0,qn.N)(this.domNode,B),this._onOptionsMaybeChanged(),d.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const b=new jt(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(b)){this._viewLineOptions=b;const B=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let le=B;le<=U;le++)this._visibleLines.getVisibleLine(le).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(d){const b=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();let U=!1;for(let le=b;le<=B;le++)U=this._visibleLines.getVisibleLine(le).onSelectionChanged()||U;return U}onDecorationsChanged(d){{const b=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let U=b;U<=B;U++)this._visibleLines.getVisibleLine(U).onDecorationsChanged()}return!0}onFlushed(d){const b=this._visibleLines.onFlushed(d);return this._maxLineWidth=0,b}onLinesChanged(d){return this._visibleLines.onLinesChanged(d)}onLinesDeleted(d){return this._visibleLines.onLinesDeleted(d)}onLinesInserted(d){return this._visibleLines.onLinesInserted(d)}onRevealRangeRequest(d){const b=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),d.source,d.minimalReveal,d.range,d.selections,d.verticalType);if(-1===b)return!1;let B=this._context.viewLayout.validateScrollPosition({scrollTop:b});d.revealHorizontal?d.range&&d.range.startLineNumber!==d.range.endLineNumber?B={scrollTop:B.scrollTop,scrollLeft:0}:d.range?this._horizontalRevealRequest=new Qs(d.minimalReveal,d.range.startLineNumber,d.range.startColumn,d.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),B.scrollTop,d.scrollType):d.selections&&d.selections.length>0&&(this._horizontalRevealRequest=new ir(d.minimalReveal,d.selections,this._context.viewLayout.getCurrentScrollTop(),B.scrollTop,d.scrollType)):this._horizontalRevealRequest=null;const le=Math.abs(this._context.viewLayout.getCurrentScrollTop()-B.scrollTop)<=this._lineHeight?1:d.scrollType;return this._context.model.setScrollPosition(B,le),!0}onScrollChanged(d){if(this._horizontalRevealRequest&&d.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&d.scrollTopChanged){const b=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),B=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(d.scrollTop<b||d.scrollTop>B)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(d.scrollWidth),this._visibleLines.onScrollChanged(d)||!0}onTokensChanged(d){return this._visibleLines.onTokensChanged(d)}onZonesChanged(d){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(d)}onThemeChanged(d){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(d,b){const B=this._getViewLineDomNode(d);if(null===B)return null;const U=this._getLineNumberFor(B);if(-1===U||U<1||U>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(U))return new vn.L(U,1);const le=this._visibleLines.getStartLineNumber(),Ee=this._visibleLines.getEndLineNumber();if(U<le||U>Ee)return null;let Oe=this._visibleLines.getVisibleLine(U).getColumnOfNodeOffset(U,d,b);const je=this._context.model.getLineMinColumn(U);return Oe<je&&(Oe=je),new vn.L(U,Oe)}_getViewLineDomNode(d){for(;d&&1===d.nodeType;){if(d.className===_n.CLASS_NAME)return d;d=d.parentElement}return null}_getLineNumberFor(d){const b=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let U=b;U<=B;U++)if(d===this._visibleLines.getVisibleLine(U).getDomNode())return U;return-1}getLineWidth(d){const b=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();return d<b||d>B?-1:this._visibleLines.getVisibleLine(d).getWidth()}linesVisibleRangesForRange(d,b){if(this.shouldRender())return null;const B=d.endLineNumber,U=Wn.e.intersectRanges(d,this._lastRenderedData.getCurrentVisibleRange());if(!U)return null;let le=[],Ee=0;const Oe=new Ht(this.domNode.domNode,this._textRangeRestingSpot);let je=0;b&&(je=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new vn.L(U.startLineNumber,1)).lineNumber);const rt=this._visibleLines.getStartLineNumber(),Dt=this._visibleLines.getEndLineNumber();for(let Rt=U.startLineNumber;Rt<=U.endLineNumber;Rt++){if(Rt<rt||Rt>Dt)continue;const Wt=Rt===U.startLineNumber?U.startColumn:1,sn=Rt===U.endLineNumber?U.endColumn:this._context.model.getLineMaxColumn(Rt),Cn=this._visibleLines.getVisibleLine(Rt).getVisibleRangesForRange(Rt,Wt,sn,Oe);if(Cn){if(b&&Rt<B){const En=je;je=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new vn.L(Rt+1,1)).lineNumber,En!==je&&(Cn.ranges[Cn.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}le[Ee++]=new St(Cn.outsideRenderedLine,Rt,en.from(Cn.ranges))}}return 0===Ee?null:le}_visibleRangesForLineRange(d,b,B){return this.shouldRender()||d<this._visibleLines.getStartLineNumber()||d>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,b,B,new Ht(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(d){const b=this._visibleRangesForLineRange(d.lineNumber,d.column,d.column);return b?new Xt(b.outsideRenderedLine,b.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(d){const b=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();let U=1,le=!0;for(let Ee=b;Ee<=B;Ee++){const Oe=this._visibleLines.getVisibleLine(Ee);!d||Oe.getWidthIsFast()?U=Math.max(U,Oe.getWidth()):le=!1}return le&&1===b&&B===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(U),le}_checkMonospaceFontAssumptions(){let d=-1,b=-1;const B=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let le=B;le<=U;le++){const Ee=this._visibleLines.getVisibleLine(le);if(Ee.needsMonospaceFontCheck()){const Oe=Ee.getWidth();Oe>b&&(b=Oe,d=le)}}if(-1!==d&&!this._visibleLines.getVisibleLine(d).monospaceAssumptionsAreValid())for(let le=B;le<=U;le++)this._visibleLines.getVisibleLine(le).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(d){if(this._visibleLines.renderLines(d),this._lastRenderedData.setCurrentVisibleRange(d.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const B=this._horizontalRevealRequest;if(d.startLineNumber<=B.minLineNumber&&B.maxLineNumber<=d.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const U=this._computeScrollLeftToReveal(B);U&&(this._isViewportWrapping||this._ensureMaxLineWidth(U.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:U.scrollLeft},B.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),z.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const B=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let le=B;le<=U;le++)if(this._visibleLines.getVisibleLine(le).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const b=this._context.viewLayout.getCurrentScrollTop()-d.bigNumbersDelta;this._linesContent.setTop(-b),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(d){const b=Math.ceil(d);this._maxLineWidth<b&&(this._maxLineWidth=b,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(d,b,B,U,le,Ee){const Oe=d.top,je=d.height,rt=Oe+je;let Dt,Rt,Wt,Cn;if(le&&le.length>0){let En=le[0].startLineNumber,Zn=le[0].endLineNumber;for(let ai=1,oi=le.length;ai<oi;ai++){const Oi=le[ai];En=Math.min(En,Oi.startLineNumber),Zn=Math.max(Zn,Oi.endLineNumber)}Dt=!1,Rt=this._context.viewLayout.getVerticalOffsetForLineNumber(En),Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(Zn)+this._lineHeight}else{if(!U)return-1;Dt=!0,Rt=this._context.viewLayout.getVerticalOffsetForLineNumber(U.startLineNumber),Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(U.endLineNumber)+this._lineHeight}if("mouse"!==b&&!B||"default"!==this._cursorSurroundingLinesStyle){const En=Math.min(je/this._lineHeight/2,this._cursorSurroundingLines);Rt-=En*this._lineHeight,Wt+=Math.max(0,En-1)*this._lineHeight}else B||(Rt-=this._lineHeight);if((0===Ee||4===Ee)&&(Wt+=B?this._horizontalScrollbarHeight:this._lineHeight),Wt-Rt>je){if(!Dt)return-1;Cn=Rt}else if(5===Ee||6===Ee)if(6===Ee&&Oe<=Rt&&Wt<=rt)Cn=Oe;else{const En=Math.max(5*this._lineHeight,.2*je);Cn=Math.max(Wt-je,Rt-En)}else Cn=1===Ee||2===Ee?2===Ee&&Oe<=Rt&&Wt<=rt?Oe:Math.max(0,(Rt+Wt)/2-je/2):this._computeMinimumScrolling(Oe,rt,Rt,Wt,3===Ee,4===Ee);return Cn}_computeScrollLeftToReveal(d){const b=this._context.viewLayout.getCurrentViewport(),B=b.left,U=B+b.width;let le=1073741824,Ee=0;if("range"===d.type){const je=this._visibleRangesForLineRange(d.lineNumber,d.startColumn,d.endColumn);if(!je)return null;for(const rt of je.ranges)le=Math.min(le,Math.round(rt.left)),Ee=Math.max(Ee,Math.round(rt.left+rt.width))}else for(const je of d.selections){if(je.startLineNumber!==je.endLineNumber)return null;const rt=this._visibleRangesForLineRange(je.startLineNumber,je.startColumn,je.endColumn);if(!rt)return null;for(const Dt of rt.ranges)le=Math.min(le,Math.round(Dt.left)),Ee=Math.max(Ee,Math.round(Dt.left+Dt.width))}return d.minimalReveal||(le=Math.max(0,le-st.HORIZONTAL_EXTRA_PX),Ee+=this._revealHorizontalRightPadding),"selections"===d.type&&Ee-le>b.width?null:{scrollLeft:this._computeMinimumScrolling(B,U,le,Ee),maxHorizontalOffset:Ee}}_computeMinimumScrolling(d,b,B,U,le,Ee){le=!!le,Ee=!!Ee;const Oe=(b|=0)-(d|=0);return(U|=0)-(B|=0)<Oe?le?B:Ee?Math.max(0,U-Oe):B<d?B:U>b?Math.max(0,U-Oe):d:B}}return st.HORIZONTAL_EXTRA_PX=30,st})();m(1594);class c extends Ks{constructor(r){super(),this._context=r;const b=this._context.configuration.options.get(131);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const b=this._context.configuration.options.get(131);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const d=r.getDecorationsInViewport(),b=[];let B=0;for(let U=0,le=d.length;U<le;U++){const Ee=d[U],Oe=Ee.options.linesDecorationsClassName;Oe&&(b[B++]=new vs(Ee.range.startLineNumber,Ee.range.endLineNumber,Oe));const je=Ee.options.firstLineDecorationClassName;je&&(b[B++]=new vs(Ee.range.startLineNumber,Ee.range.startLineNumber,je))}return b}prepareRender(r){const d=r.visibleRange.startLineNumber,b=r.visibleRange.endLineNumber,B=this._render(d,b,this._getDecorations(r)),Ee='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',Oe=[];for(let je=d;je<=b;je++){const rt=je-d,Dt=B[rt];let Rt="";for(let Wt=0,sn=Dt.length;Wt<sn;Wt++)Rt+='<div class="cldr '+Dt[Wt]+Ee;Oe[rt]=Rt}this._renderResult=Oe}render(r,d){return this._renderResult?this._renderResult[d-r]:""}}m(5994);class O extends Ks{constructor(r){super(),this._context=r,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const d=r.getDecorationsInViewport(),b=[];let B=0;for(let U=0,le=d.length;U<le;U++){const Ee=d[U],Oe=Ee.options.marginClassName;Oe&&(b[B++]=new vs(Ee.range.startLineNumber,Ee.range.endLineNumber,Oe))}return b}prepareRender(r){const d=r.visibleRange.startLineNumber,b=r.visibleRange.endLineNumber,B=this._render(d,b,this._getDecorations(r)),U=[];for(let le=d;le<=b;le++){const Ee=le-d,Oe=B[Ee];let je="";for(let rt=0,Dt=Oe.length;rt<Dt;rt++)je+='<div class="cmdr '+Oe[rt]+'" style=""></div>';U[Ee]=je}this._renderResult=U}render(r,d){return this._renderResult?this._renderResult[d-r]:""}}m(1215);var de=m(3449);class oe{constructor(r,d,b,B){this._rgba8Brand=void 0,this.r=oe._clamp(r),this.g=oe._clamp(d),this.b=oe._clamp(b),this.a=oe._clamp(B)}equals(r){return this.r===r.r&&this.g===r.g&&this.b===r.b&&this.a===r.a}static _clamp(r){return r<0?0:r>255?255:0|r}}oe.Empty=new oe(0,0,0,0);let Qe=(()=>{class st extends w.JT{constructor(){super(),this._onDidChange=new x.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Kn.RW.onDidChange(d=>{d.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,w.dk)(new st)),this._INSTANCE}_updateColorMap(){const d=Kn.RW.getColorMap();if(!d)return this._colors=[oe.Empty],void(this._backgroundIsLight=!0);this._colors=[oe.Empty];for(let B=1;B<d.length;B++){const U=d[B].rgba;this._colors[B]=new oe(U.r,U.g,U.b,Math.round(255*U.a))}const b=d[2].getRelativeLuminance();this._backgroundIsLight=b>=.5,this._onDidChange.fire(void 0)}getColor(d){return(d<1||d>=this._colors.length)&&(d=2),this._colors[d]}backgroundIsLight(){return this._backgroundIsLight}}return st._INSTANCE=null,st})();var et=m(5024);const xt=(()=>{const st=[];for(let r=32;r<=126;r++)st.push(r);return st.push(65533),st})();var Ft=m(5129);class Yt{constructor(r,d){this.scale=d,this._minimapCharRendererBrand=void 0,this.charDataNormal=Yt.soften(r,.8),this.charDataLight=Yt.soften(r,50/60)}static soften(r,d){const b=new Uint8ClampedArray(r.length);for(let B=0,U=r.length;B<U;B++)b[B]=(0,Ft.K)(r[B]*d);return b}renderChar(r,d,b,B,U,le,Ee,Oe,je,rt,Dt){const Rt=1*this.scale,Wt=2*this.scale,sn=Dt?1:Wt;if(d+Rt>r.width||b+sn>r.height)return void console.warn("bad render request outside image data");const Cn=rt?this.charDataLight:this.charDataNormal,En=((st,r)=>(st-=32)<0||st>96?r<=2?(st+96)%96:95:st)(B,je),Zn=4*r.width,ai=Ee.r,oi=Ee.g,Oi=Ee.b,zi=U.r-ai,Ui=U.g-oi,Gi=U.b-Oi,Si=Math.max(le,Oe),qi=r.data;let wo=En*Rt*Wt,uo=b*Zn+4*d;for(let ys=0;ys<sn;ys++){let Ts=uo;for(let Js=0;Js<Rt;Js++){const Uo=Cn[wo++]/255*(le/255);qi[Ts++]=ai+zi*Uo,qi[Ts++]=oi+Ui*Uo,qi[Ts++]=Oi+Gi*Uo,qi[Ts++]=Si}uo+=Zn}}blockRenderChar(r,d,b,B,U,le,Ee,Oe){const je=1*this.scale,Dt=Oe?1:2*this.scale;if(d+je>r.width||b+Dt>r.height)return void console.warn("bad render request outside image data");const Rt=4*r.width,Wt=U/255*.5,sn=le.r,Cn=le.g,En=le.b,Oi=sn+(B.r-sn)*Wt,zi=Cn+(B.g-Cn)*Wt,Ui=En+(B.b-En)*Wt,Gi=Math.max(U,Ee),Si=r.data;let qi=b*Rt+4*d;for(let wo=0;wo<Dt;wo++){let uo=qi;for(let ys=0;ys<je;ys++)Si[uo++]=Oi,Si[uo++]=zi,Si[uo++]=Ui,Si[uo++]=Gi;qi+=Rt}}}var nt=m(2706);const Le={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},De=st=>{const r=new Uint8ClampedArray(st.length/2);for(let d=0;d<st.length;d+=2)r[d>>1]=Le[st[d]]<<4|15&Le[st[d+1]];return r},Fe={1:(0,nt.I)(()=>De("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,nt.I)(()=>De("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class _t{static create(r,d){if(this.lastCreated&&r===this.lastCreated.scale&&d===this.lastFontFamily)return this.lastCreated;let b;return b=Fe[r]?new Yt(Fe[r](),r):_t.createFromSampleData(_t.createSampleData(d).data,r),this.lastFontFamily=d,this.lastCreated=b,b}static createSampleData(r){const d=document.createElement("canvas"),b=d.getContext("2d");d.style.height="16px",d.height=16,d.width=960,d.style.width="960px",b.fillStyle="#ffffff",b.font=`bold 16px ${r}`,b.textBaseline="middle";let B=0;for(const U of xt)b.fillText(String.fromCharCode(U),B,8),B+=10;return b.getImageData(0,0,960,16)}static createFromSampleData(r,d){if(61440!==r.length)throw new Error("Unexpected source in MinimapCharRenderer");const B=_t._downsample(r,d);return new Yt(B,d)}static _downsampleChar(r,d,b,B,U){const le=1*U,Ee=2*U;let Oe=B,je=0;for(let rt=0;rt<Ee;rt++){const Dt=rt/Ee*16,Rt=(rt+1)/Ee*16;for(let Wt=0;Wt<le;Wt++){const sn=Wt/le*10,Cn=(Wt+1)/le*10;let En=0,Zn=0;for(let oi=Dt;oi<Rt;oi++){const Oi=d+3840*Math.floor(oi),zi=1-(oi-Math.floor(oi));for(let Ui=sn;Ui<Cn;Ui++){const Gi=1-(Ui-Math.floor(Ui)),Si=Oi+4*Math.floor(Ui),qi=Gi*zi;Zn+=qi,En+=r[Si]*r[Si+3]/255*qi}}const ai=En/Zn;je=Math.max(je,ai),b[Oe++]=(0,Ft.K)(ai)}}return je}static _downsample(r,d){const b=2*d*1*d,B=96*b,U=new Uint8ClampedArray(B);let le=0,Ee=0,Oe=0;for(let je=0;je<96;je++)Oe=Math.max(Oe,this._downsampleChar(r,Ee,U,le,d)),le+=b,Ee+=40;if(Oe>0){const je=255/Oe;for(let rt=0;rt<B;rt++)U[rt]*=je}return U}}var Gt=m(2213);class zt{constructor(r,d,b){const B=r.options,U=B.get(129),le=B.get(131),Ee=le.minimap,Oe=B.get(44),je=B.get(65);this.renderMinimap=Ee.renderMinimap,this.size=je.size,this.minimapHeightIsEditorHeight=Ee.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(94),this.showSlider=je.showSlider,this.pixelRatio=U,this.typicalHalfwidthCharacterWidth=Oe.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(59),this.minimapLeft=Ee.minimapLeft,this.minimapWidth=Ee.minimapWidth,this.minimapHeight=le.height,this.canvasInnerWidth=Ee.minimapCanvasInnerWidth,this.canvasInnerHeight=Ee.minimapCanvasInnerHeight,this.canvasOuterWidth=Ee.minimapCanvasOuterWidth,this.canvasOuterHeight=Ee.minimapCanvasOuterHeight,this.isSampling=Ee.minimapIsSampling,this.editorHeight=le.height,this.fontScale=Ee.minimapScale,this.minimapLineHeight=Ee.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,nt.I)(()=>_t.create(this.fontScale,Oe.fontFamily)),this.defaultBackgroundColor=b.getColor(2),this.backgroundColor=zt._getMinimapBackground(d,this.defaultBackgroundColor),this.foregroundAlpha=zt._getMinimapForegroundOpacity(d)}static _getMinimapBackground(r,d){const b=r.getColor(Wo.kVY);return b?new oe(b.rgba.r,b.rgba.g,b.rgba.b,Math.round(255*b.rgba.a)):d}static _getMinimapForegroundOpacity(r){const d=r.getColor(Wo.Itd);return d?oe._clamp(Math.round(255*d.rgba.a)):255}equals(r){return this.renderMinimap===r.renderMinimap&&this.size===r.size&&this.minimapHeightIsEditorHeight===r.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===r.scrollBeyondLastLine&&this.showSlider===r.showSlider&&this.pixelRatio===r.pixelRatio&&this.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&this.lineHeight===r.lineHeight&&this.minimapLeft===r.minimapLeft&&this.minimapWidth===r.minimapWidth&&this.minimapHeight===r.minimapHeight&&this.canvasInnerWidth===r.canvasInnerWidth&&this.canvasInnerHeight===r.canvasInnerHeight&&this.canvasOuterWidth===r.canvasOuterWidth&&this.canvasOuterHeight===r.canvasOuterHeight&&this.isSampling===r.isSampling&&this.editorHeight===r.editorHeight&&this.fontScale===r.fontScale&&this.minimapLineHeight===r.minimapLineHeight&&this.minimapCharWidth===r.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(r.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(r.backgroundColor)&&this.foregroundAlpha===r.foregroundAlpha}}class ci{constructor(r,d,b,B,U,le,Ee,Oe){this.scrollTop=r,this.scrollHeight=d,this.sliderNeeded=b,this._computedSliderRatio=B,this.sliderTop=U,this.sliderHeight=le,this.startLineNumber=Ee,this.endLineNumber=Oe}getDesiredScrollTopFromDelta(r){return Math.round(this.scrollTop+r/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(r){return Math.round((r-this.sliderHeight/2)/this._computedSliderRatio)}static create(r,d,b,B,U,le,Ee,Oe,je,rt,Dt){const Rt=r.pixelRatio,Wt=r.minimapLineHeight,sn=Math.floor(r.canvasInnerHeight/Wt),Cn=r.lineHeight;if(r.minimapHeightIsEditorHeight){const Ui=Math.max(1,Math.floor(U*U/(Oe*r.lineHeight+(r.scrollBeyondLastLine?U-r.lineHeight:0)))),Gi=Math.max(0,r.minimapHeight-Ui),Si=Gi/(rt-U),qi=je*Si,wo=Gi>0,uo=Math.floor(r.canvasInnerHeight/r.minimapLineHeight);return new ci(je,rt,wo,Si,qi,Ui,1,Math.min(Ee,uo))}let En,Zn;En=le&&b!==Ee?Math.floor((b-d+1)*Wt/Rt):Math.floor(U/Cn*Wt/Rt),Zn=r.scrollBeyondLastLine?(Ee-1)*Wt/Rt:Math.max(0,Ee*Wt/Rt-En),Zn=Math.min(r.minimapHeight-En,Zn);const ai=Zn/(rt-U),oi=je*ai;let Oi=0;if(r.scrollBeyondLastLine&&(Oi=U/Cn-1),sn>=Ee+Oi)return new ci(je,rt,Zn>0,ai,oi,En,1,Ee);{let zi=Math.max(1,Math.floor(d-oi*Rt/Wt));Dt&&Dt.scrollHeight===rt&&(Dt.scrollTop>je&&(zi=Math.min(zi,Dt.startLineNumber)),Dt.scrollTop<je&&(zi=Math.max(zi,Dt.startLineNumber)));const Ui=Math.min(Ee,zi+sn-1);return new ci(je,rt,!0,ai,(d-zi+(je-B)/Cn)*Wt/Rt,En,zi,Ui)}}}class Re{constructor(r){this.dy=r}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Re.INVALID=new Re(-1);class wt{constructor(r,d,b){this.renderedLayout=r,this._imageData=d,this._renderedLines=new Di(()=>Re.INVALID),this._renderedLines._set(r.startLineNumber,b)}linesEquals(r){if(!this.scrollEquals(r))return!1;const b=this._renderedLines._get().lines;for(let B=0,U=b.length;B<U;B++)if(-1===b[B].dy)return!1;return!0}scrollEquals(r){return this.renderedLayout.startLineNumber===r.startLineNumber&&this.renderedLayout.endLineNumber===r.endLineNumber}_get(){const r=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:r.rendLineNumberStart,lines:r.lines}}onLinesChanged(r,d){return this._renderedLines.onLinesChanged(r,d)}onLinesDeleted(r,d){this._renderedLines.onLinesDeleted(r,d)}onLinesInserted(r,d){this._renderedLines.onLinesInserted(r,d)}onTokensChanged(r){return this._renderedLines.onTokensChanged(r)}}class Ze{constructor(r,d,b,B){this._backgroundFillData=Ze._createBackgroundFillData(d,b,B),this._buffers=[r.createImageData(d,b),r.createImageData(d,b)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const r=this._buffers[this._lastUsedBuffer];return r.data.set(this._backgroundFillData),r}static _createBackgroundFillData(r,d,b){const B=b.r,U=b.g,le=b.b,Ee=b.a,Oe=new Uint8ClampedArray(r*d*4);let je=0;for(let rt=0;rt<d;rt++)for(let Dt=0;Dt<r;Dt++)Oe[je]=B,Oe[je+1]=U,Oe[je+2]=le,Oe[je+3]=Ee,je+=4;return Oe}}class Ot{constructor(r,d){this.samplingRatio=r,this.minimapLines=d}static compute(r,d,b){if(0===r.renderMinimap||!r.isSampling)return[null,[]];const B=r.pixelRatio,U=r.lineHeight,le=r.scrollBeyondLastLine,{minimapLineCount:Ee}=P.gk.computeContainedMinimapLineCount({viewLineCount:d,scrollBeyondLastLine:le,height:r.editorHeight,lineHeight:U,pixelRatio:B}),Oe=d/Ee,je=Oe/2;if(!b||0===b.minimapLines.length){const oi=[];if(oi[0]=1,Ee>1){for(let Oi=0,zi=Ee-1;Oi<zi;Oi++)oi[Oi]=Math.round(Oi*Oe+je);oi[Ee-1]=d}return[new Ot(Oe,oi),[]]}const rt=b.minimapLines,Dt=rt.length,Rt=[];let Wt=0,sn=0,Cn=1,Zn=[],ai=null;for(let oi=0;oi<Ee;oi++){const Oi=Math.max(Cn,Math.round(oi*Oe)),zi=Math.max(Oi,Math.round((oi+1)*Oe));for(;Wt<Dt&&rt[Wt]<Oi;){if(Zn.length<10){const Gi=Wt+1+sn;ai&&"deleted"===ai.type&&ai._oldIndex===Wt-1?ai.deleteToLineNumber++:(ai={type:"deleted",_oldIndex:Wt,deleteFromLineNumber:Gi,deleteToLineNumber:Gi},Zn.push(ai)),sn--}Wt++}let Ui;if(Wt<Dt&&rt[Wt]<=zi)Ui=rt[Wt],Wt++;else if(Ui=0===oi?1:oi+1===Ee?d:Math.round(oi*Oe+je),Zn.length<10){const Gi=Wt+1+sn;ai&&"inserted"===ai.type&&ai._i===oi-1?ai.insertToLineNumber++:(ai={type:"inserted",_i:oi,insertFromLineNumber:Gi,insertToLineNumber:Gi},Zn.push(ai)),sn++}Rt[oi]=Ui,Cn=Ui}if(Zn.length<10)for(;Wt<Dt;){const oi=Wt+1+sn;ai&&"deleted"===ai.type&&ai._oldIndex===Wt-1?ai.deleteToLineNumber++:(ai={type:"deleted",_oldIndex:Wt,deleteFromLineNumber:oi,deleteToLineNumber:oi},Zn.push(ai)),sn--,Wt++}else Zn=[{type:"flush"}];return[new Ot(Oe,Rt),Zn]}modelLineToMinimapLine(r){return Math.min(this.minimapLines.length,Math.max(1,Math.round(r/this.samplingRatio)))}modelLineRangeToMinimapLineRange(r,d){let b=this.modelLineToMinimapLine(r)-1;for(;b>0&&this.minimapLines[b-1]>=r;)b--;let B=this.modelLineToMinimapLine(d)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=d;)B++;if(b===B){const U=this.minimapLines[b];if(U<r||U>d)return null}return[b+1,B+1]}decorationLineRangeToMinimapLineRange(r,d){let b=this.modelLineToMinimapLine(r),B=this.modelLineToMinimapLine(d);return r!==d&&B===b&&(B===this.minimapLines.length?b>1&&b--:B++),[b,B]}onLinesDeleted(r){const d=r.toLineNumber-r.fromLineNumber+1;let b=this.minimapLines.length,B=0;for(let U=this.minimapLines.length-1;U>=0&&!(this.minimapLines[U]<r.fromLineNumber);U--)this.minimapLines[U]<=r.toLineNumber?(this.minimapLines[U]=Math.max(1,r.fromLineNumber-1),b=Math.min(b,U),B=Math.max(B,U)):this.minimapLines[U]-=d;return[b,B]}onLinesInserted(r){const d=r.toLineNumber-r.fromLineNumber+1;for(let b=this.minimapLines.length-1;b>=0&&!(this.minimapLines[b]<r.fromLineNumber);b--)this.minimapLines[b]+=d}}class hn extends ct{constructor(r){super(r),this.tokensColorTracker=Qe.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new zt(this._context.configuration,this._context.theme,this.tokensColorTracker);const[d]=Ot.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=d,this._shouldCheckSampling=!1,this._actual=new Hn(r.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const r=new zt(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(r)&&(this.options=r,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(r){return this._onOptionsMaybeChanged()}onCursorStateChanged(r){return this._selections=r.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(r){return!!r.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(r){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(r){if(this._samplingState){const d=this._samplingState.modelLineRangeToMinimapLineRange(r.fromLineNumber,r.toLineNumber);return!!d&&this._actual.onLinesChanged(d[0],d[1])}return this._actual.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){if(this._samplingState){const[d,b]=this._samplingState.onLinesDeleted(r);return d<=b&&this._actual.onLinesChanged(d+1,b+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(r.fromLineNumber,r.toLineNumber)}onLinesInserted(r){return this._samplingState?(this._samplingState.onLinesInserted(r),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(r.fromLineNumber,r.toLineNumber)}onScrollChanged(r){return this._actual.onScrollChanged()}onThemeChanged(r){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(r){if(this._samplingState){const d=[];for(const b of r.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(b.fromLineNumber,b.toLineNumber);B&&d.push({fromLineNumber:B[0],toLineNumber:B[1]})}return!!d.length&&this._actual.onTokensChanged(d)}return this._actual.onTokensChanged(r.ranges)}onTokensColorsChanged(r){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(r){return this._actual.onZonesChanged()}prepareRender(r){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(r){let d=r.visibleRange.startLineNumber,b=r.visibleRange.endLineNumber;this._samplingState&&(d=this._samplingState.modelLineToMinimapLine(d),b=this._samplingState.modelLineToMinimapLine(b));const B={viewportContainsWhitespaceGaps:r.viewportData.whitespaceViewportData.length>0,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,viewportStartLineNumber:d,viewportEndLineNumber:b,viewportStartLineNumberVerticalOffset:r.getVerticalOffsetForLineNumber(d),scrollTop:r.scrollTop,scrollLeft:r.scrollLeft,viewportWidth:r.viewportWidth,viewportHeight:r.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const r=Boolean(this._samplingState),[d,b]=Ot.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=d,r&&this._samplingState)for(const B of b)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(r){return this._context.model.getLineContent(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getLineMaxColumn(r){return this._context.model.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getMinimapLinesRenderingData(r,d,b){if(this._samplingState){const B=[];for(let U=0,le=d-r+1;U<le;U++)B[U]=b[U]?this._context.model.getViewLineData(this._samplingState.minimapLines[r+U-1]):null;return B}return this._context.model.getMinimapLinesRenderingData(r,d,b).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const r of this._selections){const[d,b]=this._samplingState.decorationLineRangeToMinimapLineRange(r.startLineNumber,r.endLineNumber);this._minimapSelections.push(new ce.Y(d,r.startColumn,b,r.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(r,d){let b;if(this._samplingState){const le=this._samplingState.minimapLines[d-1];b=new Wn.e(this._samplingState.minimapLines[r-1],1,le,this._context.model.getLineMaxColumn(le))}else b=new Wn.e(r,1,d,this._context.model.getLineMaxColumn(d));const B=this._context.model.getDecorationsInViewport(b);if(this._samplingState){const U=[];for(const le of B){if(!le.options.minimap)continue;const Ee=le.range,Oe=this._samplingState.modelLineToMinimapLine(Ee.startLineNumber),je=this._samplingState.modelLineToMinimapLine(Ee.endLineNumber);U.push(new et.$l(new Wn.e(Oe,Ee.startColumn,je,Ee.endColumn),le.options))}return U}return B}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(r){this._samplingState&&(r=this._samplingState.minimapLines[r-1]),this._context.model.revealRange("mouse",!1,new Wn.e(r,1,r,1),1,0)}setScrollTop(r){this._context.model.setScrollPosition({scrollTop:r},1)}}class Hn extends w.JT{constructor(r,d){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=r,this._model=d,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Wo.ov3),this._domNode=(0,ue.X)(document.createElement("div")),Nt.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,ue.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,ue.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,ue.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,ue.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,ue.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=Y.mu(this._domNode.domNode,"mousedown",b=>{if(b.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(b.leftButton&&this._lastRenderData){const je=Y.i(this._slider.domNode);this._startSliderDragging(b.buttons,b.posx,je.top+je.height/2,b.posy,this._lastRenderData.renderedLayout)}return}let Oe=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*b.browserEvent.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;Oe=Math.min(Oe,this._model.getLineCount()),this._model.revealLineNumber(Oe)}),this._sliderMouseMoveMonitor=new de.Z,this._sliderMouseDownListener=Y.mu(this._slider.domNode,"mousedown",b=>{b.preventDefault(),b.stopPropagation(),b.leftButton&&this._lastRenderData&&this._startSliderDragging(b.buttons,b.posx,b.posy,b.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=we.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=Y.nm(this._domNode.domNode,we.t.Start,b=>{b.preventDefault(),b.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(b))},{passive:!1}),this._sliderTouchMoveListener=Y.nm(this._domNode.domNode,we.t.Change,b=>{b.preventDefault(),b.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(b)},{passive:!1}),this._sliderTouchEndListener=Y.mu(this._domNode.domNode,we.t.End,b=>{b.preventDefault(),b.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(r,d,b,B,U){this._slider.toggleClassName("active",!0);const le=(Ee,Oe)=>{const je=Math.abs(Oe-d);this._model.setScrollTop(z.ED&&je>140?U.scrollTop:U.getDesiredScrollTopFromDelta(Ee-b))};B!==b&&le(B,d),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,r,de.e,Ee=>le(Ee.posy,Ee.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(r){const d=this._domNode.domNode.getBoundingClientRect().top,b=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(r.pageY-d);this._model.setScrollTop(b)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Ze(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(r,d){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(r,d)}onLinesDeleted(r,d){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(r,d),!0}onLinesInserted(r,d){return this._lastRenderData&&this._lastRenderData.onLinesInserted(r,d),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Wo.ov3),this._renderDecorations=!0,!0}onTokensChanged(r){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(r)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(r){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(r.scrollLeft+r.viewportWidth>=r.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const b=ci.create(this._model.options,r.viewportStartLineNumber,r.viewportEndLineNumber,r.viewportStartLineNumberVerticalOffset,r.viewportHeight,r.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),r.scrollTop,r.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(b.sliderNeeded?"block":"none"),this._slider.setTop(b.sliderTop),this._slider.setHeight(b.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(b.sliderHeight),this.renderDecorations(b),this._lastRenderData=this.renderLines(b)}renderDecorations(r){if(this._renderDecorations){this._renderDecorations=!1;const d=this._model.getSelections();d.sort(Wn.e.compareRangesUsingStarts);const b=this._model.getMinimapDecorationsInViewport(r.startLineNumber,r.endLineNumber);b.sort((Rt,Wt)=>(Rt.options.zIndex||0)-(Wt.options.zIndex||0));const{canvasInnerWidth:B,canvasInnerHeight:U}=this._model.options,le=this._model.options.minimapLineHeight,Ee=this._model.options.minimapCharWidth,Oe=this._model.getOptions().tabSize,je=this._decorationsCanvas.domNode.getContext("2d");je.clearRect(0,0,B,U);const rt=new $n(r.startLineNumber,r.endLineNumber,!1);this._renderSelectionLineHighlights(je,d,rt,r,le),this._renderDecorationsLineHighlights(je,b,rt,r,le);const Dt=new $n(r.startLineNumber,r.endLineNumber,null);this._renderSelectionsHighlights(je,d,Dt,r,le,Oe,Ee,B),this._renderDecorationsHighlights(je,b,Dt,r,le,Oe,Ee,B)}}_renderSelectionLineHighlights(r,d,b,B,U){if(!this._selectionColor||this._selectionColor.isTransparent())return;r.fillStyle=this._selectionColor.transparent(.5).toString();let le=0,Ee=0;for(const Oe of d){const je=Math.max(B.startLineNumber,Oe.startLineNumber),rt=Math.min(B.endLineNumber,Oe.endLineNumber);if(je>rt)continue;for(let Wt=je;Wt<=rt;Wt++)b.set(Wt,!0);const Dt=(je-B.startLineNumber)*U,Rt=(rt-B.startLineNumber)*U+U;Ee>=Dt||(Ee>le&&r.fillRect(P.y0,le,r.canvas.width,Ee-le),le=Dt),Ee=Rt}Ee>le&&r.fillRect(P.y0,le,r.canvas.width,Ee-le)}_renderDecorationsLineHighlights(r,d,b,B,U){const le=new Map;for(let Ee=d.length-1;Ee>=0;Ee--){const Oe=d[Ee],je=Oe.options.minimap;if(!je||je.position!==Gt.F5.Inline)continue;const rt=Math.max(B.startLineNumber,Oe.range.startLineNumber),Dt=Math.min(B.endLineNumber,Oe.range.endLineNumber);if(rt>Dt)continue;const Rt=je.getColor(this._theme.value);if(!Rt||Rt.isTransparent())continue;let Wt=le.get(Rt.toString());Wt||(Wt=Rt.transparent(.5).toString(),le.set(Rt.toString(),Wt)),r.fillStyle=Wt;for(let sn=rt;sn<=Dt;sn++)b.has(sn)||(b.set(sn,!0),r.fillRect(P.y0,(rt-B.startLineNumber)*U,r.canvas.width,U))}}_renderSelectionsHighlights(r,d,b,B,U,le,Ee,Oe){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const je of d){const rt=Math.max(B.startLineNumber,je.startLineNumber),Dt=Math.min(B.endLineNumber,je.endLineNumber);if(!(rt>Dt))for(let Rt=rt;Rt<=Dt;Rt++)this.renderDecorationOnLine(r,b,je,this._selectionColor,B,Rt,U,U,le,Ee,Oe)}}_renderDecorationsHighlights(r,d,b,B,U,le,Ee,Oe){for(const je of d){const rt=je.options.minimap;if(!rt)continue;const Dt=Math.max(B.startLineNumber,je.range.startLineNumber),Rt=Math.min(B.endLineNumber,je.range.endLineNumber);if(Dt>Rt)continue;const Wt=rt.getColor(this._theme.value);if(Wt&&!Wt.isTransparent())for(let sn=Dt;sn<=Rt;sn++)switch(rt.position){case Gt.F5.Inline:this.renderDecorationOnLine(r,b,je.range,Wt,B,sn,U,U,le,Ee,Oe);continue;case Gt.F5.Gutter:this.renderDecoration(r,Wt,2,(sn-B.startLineNumber)*U,2,U);continue}}}renderDecorationOnLine(r,d,b,B,U,le,Ee,Oe,je,rt,Dt){const Rt=(le-U.startLineNumber)*Oe;if(Rt+Ee<0||Rt>this._model.options.canvasInnerHeight)return;const{startLineNumber:Wt,endLineNumber:sn}=b,Cn=Wt===le?b.startColumn:1,En=sn===le?b.endColumn:this._model.getLineMaxColumn(le),Zn=this.getXOffsetForPosition(d,le,Cn,je,rt,Dt),ai=this.getXOffsetForPosition(d,le,En,je,rt,Dt);this.renderDecoration(r,B,Zn,Rt,ai-Zn,Ee)}getXOffsetForPosition(r,d,b,B,U,le){if(1===b)return P.y0;if((b-1)*U>=le)return le;let Oe=r.get(d);if(!Oe){const je=this._model.getLineContent(d);Oe=[P.y0];let rt=P.y0;for(let Dt=1;Dt<je.length+1;Dt++){const Rt=je.charCodeAt(Dt-1),sn=rt+(9===Rt?B*U:Jn.K7(Rt)?2*U:U);if(sn>=le){Oe[Dt]=le;break}Oe[Dt]=sn,rt=sn}r.set(d,Oe)}return b-1<Oe.length?Oe[b-1]:le}renderDecoration(r,d,b,B,U,le){r.fillStyle=d&&d.toString()||"",r.fillRect(b,B,U,le)}renderLines(r){const d=r.startLineNumber,b=r.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(r)){const Uo=this._lastRenderData._get();return new wt(r,Uo.imageData,Uo.lines)}const U=this._getBuffer();if(!U)return null;const[le,Ee,Oe]=Hn._renderUntouchedLines(U,d,b,B,this._lastRenderData),je=this._model.getMinimapLinesRenderingData(d,b,Oe),rt=this._model.getOptions().tabSize,Dt=this._model.options.defaultBackgroundColor,Rt=this._model.options.backgroundColor,Wt=this._model.options.foregroundAlpha,sn=this._model.tokensColorTracker,Cn=sn.backgroundIsLight(),En=this._model.options.renderMinimap,Zn=this._model.options.charRenderer(),ai=this._model.options.fontScale,oi=this._model.options.minimapCharWidth,zi=(1===En?2:3)*ai,Ui=B>zi?Math.floor((B-zi)/2):0,Gi=Rt.a/255,Si=new oe(Math.round((Rt.r-Dt.r)*Gi+Dt.r),Math.round((Rt.g-Dt.g)*Gi+Dt.g),Math.round((Rt.b-Dt.b)*Gi+Dt.b),255);let qi=0;const wo=[];for(let Uo=0,or=b-d+1;Uo<or;Uo++)Oe[Uo]&&Hn._renderLine(U,Si,Rt.a,Cn,En,oi,sn,Wt,Zn,qi,Ui,rt,je[Uo],ai,B),wo[Uo]=new Re(qi),qi+=B;const uo=-1===le?0:le,Ts=(-1===Ee?U.height:Ee)-uo;return this._canvas.domNode.getContext("2d").putImageData(U,0,0,0,uo,U.width,Ts),new wt(r,U,wo)}static _renderUntouchedLines(r,d,b,B,U){const le=[];if(!U){for(let Si=0,qi=b-d+1;Si<qi;Si++)le[Si]=!0;return[-1,-1,le]}const Ee=U._get(),Oe=Ee.imageData.data,je=Ee.rendLineNumberStart,rt=Ee.lines,Dt=rt.length,Rt=r.width,Wt=r.data,sn=(b-d+1)*B*Rt*4;let Cn=-1,En=-1,Zn=-1,ai=-1,oi=-1,Oi=-1,zi=0;for(let Si=d;Si<=b;Si++){const qi=Si-d,wo=Si-je,uo=wo>=0&&wo<Dt?rt[wo].dy:-1;if(-1===uo){le[qi]=!0,zi+=B;continue}const ys=uo*Rt*4,Ts=(uo+B)*Rt*4,Js=zi*Rt*4,Uo=(zi+B)*Rt*4;ai===ys&&Oi===Js?(ai=Ts,Oi=Uo):(-1!==Zn&&(Wt.set(Oe.subarray(Zn,ai),oi),-1===Cn&&0===Zn&&Zn===oi&&(Cn=ai),-1===En&&ai===sn&&Zn===oi&&(En=Zn)),Zn=ys,ai=Ts,oi=Js,Oi=Uo),le[qi]=!1,zi+=B}return-1!==Zn&&(Wt.set(Oe.subarray(Zn,ai),oi),-1===Cn&&0===Zn&&Zn===oi&&(Cn=ai),-1===En&&ai===sn&&Zn===oi&&(En=Zn)),[-1===Cn?-1:Cn/(4*Rt),-1===En?-1:En/(4*Rt),le]}static _renderLine(r,d,b,B,U,le,Ee,Oe,je,rt,Dt,Rt,Wt,sn,Cn){const En=Wt.content,Zn=Wt.tokens,ai=r.width-le,oi=1===Cn;let Oi=P.y0,zi=0,Ui=0;for(let Gi=0,Si=Zn.getCount();Gi<Si;Gi++){const qi=Zn.getEndOffset(Gi),wo=Zn.getForeground(Gi),uo=Ee.getColor(wo);for(;zi<qi;zi++){if(Oi>ai)return;const ys=En.charCodeAt(zi);if(9===ys){const Ts=Rt-(zi+Ui)%Rt;Ui+=Ts-1,Oi+=Ts*le}else if(32===ys)Oi+=le;else{const Ts=Jn.K7(ys)?2:1;for(let Js=0;Js<Ts;Js++)if(2===U?je.blockRenderChar(r,Oi,rt+Dt,uo,Oe,d,b,oi):je.renderChar(r,Oi,rt+Dt,ys,uo,Oe,d,b,sn,B,oi),Oi+=le,Oi>ai)return}}}}}class $n{constructor(r,d,b){this._startLineNumber=r,this._endLineNumber=d,this._defaultValue=b,this._values=[];for(let B=0,U=this._endLineNumber-this._startLineNumber+1;B<U;B++)this._values[B]=b}has(r){return this.get(r)!==this._defaultValue}set(r,d){r<this._startLineNumber||r>this._endLineNumber||(this._values[r-this._startLineNumber]=d)}get(r){return r<this._startLineNumber||r>this._endLineNumber?this._defaultValue:this._values[r-this._startLineNumber]}}(0,Ti.Ic)((st,r)=>{const d=st.getColor(Wo.CA6);d&&r.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${d}; }`);const b=st.getColor(Wo.Xy4);b&&r.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${b}; }`);const B=st.getColor(Wo.brw);B&&r.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${B}; }`);const U=st.getColor(Wo._wn);U&&r.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${U} -6px 0 6px -6px inset; }`)}),m(8719);class es extends ct{constructor(r){super(r);const b=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._domNode=(0,ue.X)(document.createElement("div")),Nt.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(r){const b=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(r){const d=(0,ue.X)(r.getDomNode());this._widgets[r.getId()]={widget:r,preference:null,domNode:d},d.setPosition("absolute"),d.setAttribute("widgetId",r.getId()),this._domNode.appendChild(d),this.setShouldRender()}setWidgetPosition(r,d){const b=this._widgets[r.getId()];return b.preference!==d&&(b.preference=d,this.setShouldRender(),!0)}removeWidget(r){const d=r.getId();if(this._widgets.hasOwnProperty(d)){const B=this._widgets[d].domNode.domNode;delete this._widgets[d],B.parentNode.removeChild(B),this.setShouldRender()}}_renderWidget(r){const d=r.domNode;null!==r.preference?0===r.preference?(d.setTop(0),d.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===r.preference?(d.setTop(this._editorHeight-d.domNode.clientHeight-2*this._horizontalScrollbarHeight),d.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===r.preference&&(d.setTop(0),d.domNode.style.right="50%"):d.unsetTop()}prepareRender(r){}render(r){this._domNode.setWidth(this._editorWidth);const d=Object.keys(this._widgets);for(let b=0,B=d.length;b<B;b++)this._renderWidget(this._widgets[d[b]])}}class No{constructor(r,d){const b=r.options;this.lineHeight=b.get(59),this.pixelRatio=b.get(129),this.overviewRulerLanes=b.get(74),this.renderBorder=b.get(73);const B=d.getColor(ui.zw);this.borderColor=B?B.toString():null,this.hideCursor=b.get(52);const U=d.getColor(ui.n0);this.cursorColor=U?U.transparent(.7).toString():null,this.themeType=d.type;const le=b.get(65),Oe=le.side,je=le.enabled?d.getColor(ui.e_)||Kn.RW.getDefaultBackground():null;this.backgroundColor=null===je||"left"===Oe?null:Pn.Il.Format.CSS.formatHex(je);const Dt=b.get(131).overviewRuler;this.top=Dt.top,this.right=Dt.right,this.domWidth=Dt.width,this.domHeight=Dt.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Rt,Wt]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Rt,this.w=Wt}_initLanes(r,d,b){const B=d-r;if(b>=3){const U=Math.floor(B/3),le=Math.floor(B/3),Ee=B-U-le,je=r+U;return[[0,r,je,r,r+U+Ee,r,je,r],[0,U,Ee,U+Ee,le,U+Ee+le,Ee+le,U+Ee+le]]}if(2===b){const U=Math.floor(B/2),le=B-U;return[[0,r,r,r,r+U,r,r,r],[0,U,U,U,le,U+le,U+le,U+le]]}return[[0,r,r,r,r,r,r,r],[0,B,B,B,B,B,B,B]]}equals(r){return this.lineHeight===r.lineHeight&&this.pixelRatio===r.pixelRatio&&this.overviewRulerLanes===r.overviewRulerLanes&&this.renderBorder===r.renderBorder&&this.borderColor===r.borderColor&&this.hideCursor===r.hideCursor&&this.cursorColor===r.cursorColor&&this.themeType===r.themeType&&this.backgroundColor===r.backgroundColor&&this.top===r.top&&this.right===r.right&&this.domWidth===r.domWidth&&this.domHeight===r.domHeight&&this.canvasWidth===r.canvasWidth&&this.canvasHeight===r.canvasHeight}}class yo extends ct{constructor(r){super(r),this._domNode=(0,ue.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Kn.RW.onDidChange(d=>{d.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(r){const d=new No(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(d)||(this._settings=d,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,r&&this._render(),0))}onConfigurationChanged(r){return this._updateSettings(!1)}onCursorStateChanged(r){this._cursorPositions=[];for(let d=0,b=r.selections.length;d<b;d++)this._cursorPositions[d]=r.selections[d].getPosition();return this._cursorPositions.sort(vn.L.compare),!0}onDecorationsChanged(r){return!!r.affectsOverviewRuler}onFlushed(r){return!0}onScrollChanged(r){return r.scrollHeightChanged}onZonesChanged(r){return!0}onThemeChanged(r){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(r){}render(r){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const r=this._settings.canvasWidth,d=this._settings.canvasHeight,b=this._settings.lineHeight,B=this._context.viewLayout,le=d/this._context.viewLayout.getScrollHeight(),Ee=this._context.model.getAllOverviewRulerDecorations(this._context.theme),Oe=6*this._settings.pixelRatio|0,je=Oe/2|0,rt=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?rt.clearRect(0,0,r,d):(rt.fillStyle=this._settings.backgroundColor,rt.fillRect(0,0,r,d));const Dt=this._settings.x,Rt=this._settings.w;Ee.sort(et.SQ.cmp);for(const Wt of Ee){const Cn=Wt.data;rt.fillStyle=Wt.color;let En=0,Zn=0,ai=0;for(let oi=0,Oi=Cn.length/3;oi<Oi;oi++){const zi=Cn[3*oi],Gi=Cn[3*oi+2];let Si=B.getVerticalOffsetForLineNumber(Cn[3*oi+1])*le|0,qi=(B.getVerticalOffsetForLineNumber(Gi)+b)*le|0;if(qi-Si<Oe){let uo=(Si+qi)/2|0;uo<je?uo=je:uo+je>d&&(uo=d-je),Si=uo-je,qi=uo+je}Si>ai+1||zi!==En?(0!==oi&&rt.fillRect(Dt[En],Zn,Rt[En],ai-Zn),En=zi,Zn=Si,ai=qi):qi>ai&&(ai=qi)}rt.fillRect(Dt[En],Zn,Rt[En],ai-Zn)}if(!this._settings.hideCursor&&this._settings.cursorColor){const Wt=2*this._settings.pixelRatio|0,sn=Wt/2|0,Cn=this._settings.x[7],En=this._settings.w[7];rt.fillStyle=this._settings.cursorColor;let Zn=-100,ai=-100;for(let oi=0,Oi=this._cursorPositions.length;oi<Oi;oi++){let Ui=B.getVerticalOffsetForLineNumber(this._cursorPositions[oi].lineNumber)*le|0;Ui<sn?Ui=sn:Ui+sn>d&&(Ui=d-sn);const Gi=Ui-sn,Si=Gi+Wt;Gi>ai+1?(0!==oi&&rt.fillRect(Cn,Zn,En,ai-Zn),Zn=Gi,ai=Si):Si>ai&&(ai=Si)}rt.fillRect(Cn,Zn,En,ai-Zn)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(rt.beginPath(),rt.lineWidth=1,rt.strokeStyle=this._settings.borderColor,rt.moveTo(0,0),rt.lineTo(0,d),rt.stroke(),rt.moveTo(0,0),rt.lineTo(r,0),rt.stroke())}}var $i=m(3772);class Xo extends Ve{constructor(r,d){super(),this._context=r;const b=this._context.configuration.options;this._domNode=(0,ue.X)(document.createElement("canvas")),this._domNode.setClassName(d),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new $i.Tj(B=>this._context.viewLayout.getVerticalOffsetForLineNumber(B)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(b.get(59)),this._zoneManager.setPixelRatio(b.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(r){const d=this._context.configuration.options;return r.hasChanged(59)&&(this._zoneManager.setLineHeight(d.get(59)),this._render()),r.hasChanged(129)&&(this._zoneManager.setPixelRatio(d.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(r){return this._render(),!0}onScrollChanged(r){return r.scrollHeightChanged&&(this._zoneManager.setOuterHeight(r.scrollHeight),this._render()),!0}onZonesChanged(r){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(r){this._domNode.setTop(r.top),this._domNode.setRight(r.right);let d=!1;d=this._zoneManager.setDOMWidth(r.width)||d,d=this._zoneManager.setDOMHeight(r.height)||d,d&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(r){this._zoneManager.setZones(r),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const r=this._zoneManager.getCanvasWidth(),d=this._zoneManager.getCanvasHeight(),b=this._zoneManager.resolveColorZones(),B=this._zoneManager.getId2Color(),U=this._domNode.domNode.getContext("2d");return U.clearRect(0,0,r,d),b.length>0&&this._renderOneLane(U,b,B,r),!0}_renderOneLane(r,d,b,B){let U=0,le=0,Ee=0;for(const Oe of d){const je=Oe.colorId,rt=Oe.from,Dt=Oe.to;je!==U?(r.fillRect(0,le,B,Ee-le),U=je,r.fillStyle=b[U],le=rt,Ee=Dt):Ee>=rt?Ee=Math.max(Ee,Dt):(r.fillRect(0,le,B,Ee-le),le=rt,Ee=Dt)}r.fillRect(0,le,B,Ee-le)}}m(7349);class So extends ct{constructor(r){super(r),this.domNode=(0,ue.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const d=this._context.configuration.options;this._rulers=d.get(91),this._typicalHalfwidthCharacterWidth=d.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(r){const d=this._context.configuration.options;return this._rulers=d.get(91),this._typicalHalfwidthCharacterWidth=d.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(r){return r.scrollHeightChanged}prepareRender(r){}_ensureRulersCount(){const r=this._renderedRulers.length,d=this._rulers.length;if(r===d)return;if(r<d){const{tabSize:B}=this._context.model.getTextModelOptions(),U=B;let le=d-r;for(;le>0;){const Ee=(0,ue.X)(document.createElement("div"));Ee.setClassName("view-ruler"),Ee.setWidth(U),this.domNode.appendChild(Ee),this._renderedRulers.push(Ee),le--}return}let b=r-d;for(;b>0;){const B=this._renderedRulers.pop();this.domNode.removeChild(B),b--}}render(r){this._ensureRulersCount();for(let d=0,b=this._rulers.length;d<b;d++){const B=this._renderedRulers[d],U=this._rulers[d];B.setBoxShadow(U.color?`1px 0 0 0 ${U.color} inset`:""),B.setHeight(Math.min(r.scrollHeight,1e6)),B.setLeft(U.column*this._typicalHalfwidthCharacterWidth)}}}(0,Ti.Ic)((st,r)=>{const d=st.getColor(ui.zk);d&&r.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${d} inset; }`)}),m(8051);class Rs extends ct{constructor(r){super(r),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const b=this._context.configuration.options.get(92);this._useShadows=b.useShadows,this._domNode=(0,ue.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const r=this._useShadows&&this._scrollTop>0;return this._shouldShow!==r&&(this._shouldShow=r,!0)}getDomNode(){return this._domNode}_updateWidth(){const d=this._context.configuration.options.get(131);this._width=0===d.minimap.renderMinimap||d.minimap.minimapWidth>0&&0===d.minimap.minimapLeft?d.width:d.width-d.minimap.minimapWidth-d.verticalScrollbarWidth}onConfigurationChanged(r){const b=this._context.configuration.options.get(92);return this._useShadows=b.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(r){return this._scrollTop=r.scrollTop,this._updateShouldShow()}prepareRender(r){}render(r){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Ti.Ic)((st,r)=>{const d=st.getColor(Wo._wn);d&&r.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${d} 0 6px 6px -6px inset; }`)}),m(3535);class Dr{constructor(r){this.left=r.left,this.width=r.width,this.startStyle=null,this.endStyle=null}}class Hs{constructor(r,d){this.lineNumber=r,this.ranges=d}}function Ys(st){return new Dr(st)}function ra(st){return new Hs(st.lineNumber,st.ranges.map(Ys))}let To=(()=>{class st extends gi{constructor(d){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=d;const b=this._context.configuration.options;this._lineHeight=b.get(59),this._roundedSelection=b.get(90),this._typicalHalfwidthCharacterWidth=b.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(d){const b=this._context.configuration.options;return this._lineHeight=b.get(59),this._roundedSelection=b.get(90),this._typicalHalfwidthCharacterWidth=b.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(d){return this._selections=d.selections.slice(0),!0}onDecorationsChanged(d){return!0}onFlushed(d){return!0}onLinesChanged(d){return!0}onLinesDeleted(d){return!0}onLinesInserted(d){return!0}onScrollChanged(d){return d.scrollTopChanged}onZonesChanged(d){return!0}_visibleRangesHaveGaps(d){for(let b=0,B=d.length;b<B;b++)if(d[b].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(d,b,B){const U=this._typicalHalfwidthCharacterWidth/4;let le=null,Ee=null;if(B&&B.length>0&&b.length>0){const Oe=b[0].lineNumber;if(Oe===d.startLineNumber)for(let rt=0;!le&&rt<B.length;rt++)B[rt].lineNumber===Oe&&(le=B[rt].ranges[0]);const je=b[b.length-1].lineNumber;if(je===d.endLineNumber)for(let rt=B.length-1;!Ee&&rt>=0;rt--)B[rt].lineNumber===je&&(Ee=B[rt].ranges[0]);le&&!le.startStyle&&(le=null),Ee&&!Ee.startStyle&&(Ee=null)}for(let Oe=0,je=b.length;Oe<je;Oe++){const rt=b[Oe].ranges[0],Dt=rt.left,Rt=rt.left+rt.width,Wt={top:0,bottom:0},sn={top:0,bottom:0};if(Oe>0){const Cn=b[Oe-1].ranges[0].left,En=b[Oe-1].ranges[0].left+b[Oe-1].ranges[0].width;Qr(Dt-Cn)<U?Wt.top=2:Dt>Cn&&(Wt.top=1),Qr(Rt-En)<U?sn.top=2:Cn<Rt&&Rt<En&&(sn.top=1)}else le&&(Wt.top=le.startStyle.top,sn.top=le.endStyle.top);if(Oe+1<je){const Cn=b[Oe+1].ranges[0].left,En=b[Oe+1].ranges[0].left+b[Oe+1].ranges[0].width;Qr(Dt-Cn)<U?Wt.bottom=2:Cn<Dt&&Dt<En&&(Wt.bottom=1),Qr(Rt-En)<U?sn.bottom=2:Rt<En&&(sn.bottom=1)}else Ee&&(Wt.bottom=Ee.startStyle.bottom,sn.bottom=Ee.endStyle.bottom);rt.startStyle=Wt,rt.endStyle=sn}}_getVisibleRangesWithStyle(d,b,B){const le=(b.linesVisibleRangesForRange(d,!0)||[]).map(ra);return!this._visibleRangesHaveGaps(le)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(b.visibleRange,le,B),le}_createSelectionPiece(d,b,B,U,le){return'<div class="cslr '+B+'" style="top:'+d.toString()+"px;left:"+U.toString()+"px;width:"+le.toString()+"px;height:"+b+'px;"></div>'}_actualRenderOneSelection(d,b,B,U){if(0===U.length)return;const le=!!U[0].ranges[0].startStyle,Ee=this._lineHeight.toString(),Oe=(this._lineHeight-1).toString(),je=U[0].lineNumber,rt=U[U.length-1].lineNumber;for(let Dt=0,Rt=U.length;Dt<Rt;Dt++){const Wt=U[Dt],sn=Wt.lineNumber,Cn=sn-b,En=!B||sn!==rt&&sn!==je?Ee:Oe,Zn=B&&sn===je?1:0;let ai="",oi="";for(let Oi=0,zi=Wt.ranges.length;Oi<zi;Oi++){const Ui=Wt.ranges[Oi];if(le){const Si=Ui.startStyle,qi=Ui.endStyle;if(1===Si.top||1===Si.bottom){ai+=this._createSelectionPiece(Zn,En,st.SELECTION_CLASS_NAME,Ui.left-st.ROUNDED_PIECE_WIDTH,st.ROUNDED_PIECE_WIDTH);let wo=st.EDITOR_BACKGROUND_CLASS_NAME;1===Si.top&&(wo+=" "+st.SELECTION_TOP_RIGHT),1===Si.bottom&&(wo+=" "+st.SELECTION_BOTTOM_RIGHT),ai+=this._createSelectionPiece(Zn,En,wo,Ui.left-st.ROUNDED_PIECE_WIDTH,st.ROUNDED_PIECE_WIDTH)}if(1===qi.top||1===qi.bottom){ai+=this._createSelectionPiece(Zn,En,st.SELECTION_CLASS_NAME,Ui.left+Ui.width,st.ROUNDED_PIECE_WIDTH);let wo=st.EDITOR_BACKGROUND_CLASS_NAME;1===qi.top&&(wo+=" "+st.SELECTION_TOP_LEFT),1===qi.bottom&&(wo+=" "+st.SELECTION_BOTTOM_LEFT),ai+=this._createSelectionPiece(Zn,En,wo,Ui.left+Ui.width,st.ROUNDED_PIECE_WIDTH)}}let Gi=st.SELECTION_CLASS_NAME;if(le){const Si=Ui.startStyle,qi=Ui.endStyle;0===Si.top&&(Gi+=" "+st.SELECTION_TOP_LEFT),0===Si.bottom&&(Gi+=" "+st.SELECTION_BOTTOM_LEFT),0===qi.top&&(Gi+=" "+st.SELECTION_TOP_RIGHT),0===qi.bottom&&(Gi+=" "+st.SELECTION_BOTTOM_RIGHT)}oi+=this._createSelectionPiece(Zn,En,Gi,Ui.left,Ui.width)}d[Cn][0]+=ai,d[Cn][1]+=oi}}prepareRender(d){const b=[],B=d.visibleRange.startLineNumber,U=d.visibleRange.endLineNumber;for(let Ee=B;Ee<=U;Ee++)b[Ee-B]=["",""];const le=[];for(let Ee=0,Oe=this._selections.length;Ee<Oe;Ee++){const je=this._selections[Ee];if(je.isEmpty()){le[Ee]=null;continue}const rt=this._getVisibleRangesWithStyle(je,d,this._previousFrameVisibleRangesWithStyle[Ee]);le[Ee]=rt,this._actualRenderOneSelection(b,B,this._selections.length>1,rt)}this._previousFrameVisibleRangesWithStyle=le,this._renderResult=b.map(([Ee,Oe])=>Ee+Oe)}render(d,b){if(!this._renderResult)return"";const B=b-d;return B<0||B>=this._renderResult.length?"":this._renderResult[B]}}return st.SELECTION_CLASS_NAME="selected-text",st.SELECTION_TOP_LEFT="top-left-radius",st.SELECTION_BOTTOM_LEFT="bottom-left-radius",st.SELECTION_TOP_RIGHT="top-right-radius",st.SELECTION_BOTTOM_RIGHT="bottom-right-radius",st.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",st.ROUNDED_PIECE_WIDTH=10,st})();function Qr(st){return st<0?-st:st}(0,Ti.Ic)((st,r)=>{const d=st.getColor(Wo.hEj);d&&r.addRule(`.monaco-editor .focused .selected-text { background-color: ${d}; }`);const b=st.getColor(Wo.ES4);b&&r.addRule(`.monaco-editor .selected-text { background-color: ${b}; }`);const B=st.getColor(Wo.yb5);B&&!B.isTransparent()&&r.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${B}; }`)}),m(274);class qe{constructor(r,d,b,B,U,le){this.top=r,this.left=d,this.width=b,this.height=B,this.textContent=U,this.textContentClassName=le}}class Ue{constructor(r){this._context=r;const d=this._context.configuration.options,b=d.get(44);this._cursorStyle=d.get(24),this._lineHeight=d.get(59),this._typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(d.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,ue.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${to.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,qn.N)(this._domNode,b),this._domNode.setDisplay("none"),this._position=new vn.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(r){const d=this._context.configuration.options,b=d.get(44);return this._cursorStyle=d.get(24),this._lineHeight=d.get(59),this._typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(d.get(27),this._typicalHalfwidthCharacterWidth),(0,qn.N)(this._domNode,b),!0}onCursorPositionChanged(r){return this._position=r,!0}_getGraphemeAwarePosition(){const{lineNumber:r,column:d}=this._position,b=this._context.model.getLineContent(r),[B,U]=Jn.J_(b,d-1);return[new vn.L(r,B+1),b.substring(B,U)]}_prepareRender(r){let d="";const[b,B]=this._getGraphemeAwarePosition();if(this._cursorStyle===P.d2.Line||this._cursorStyle===P.d2.LineThin){const Rt=r.visibleRangeForPosition(b);if(!Rt||Rt.outsideRenderedLine)return null;let Wt;this._cursorStyle===P.d2.Line?(Wt=Y.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Wt>2&&(d=B)):Wt=Y.Uh(1);let sn=Rt.left;Wt>=2&&sn>=1&&(sn-=1);const Cn=r.getVerticalOffsetForLineNumber(b.lineNumber)-r.bigNumbersDelta;return new qe(Cn,sn,Wt,this._lineHeight,d,"")}const U=r.linesVisibleRangesForRange(new Wn.e(b.lineNumber,b.column,b.lineNumber,b.column+B.length),!1);if(!U||0===U.length)return null;const le=U[0];if(le.outsideRenderedLine||0===le.ranges.length)return null;const Ee=le.ranges[0],Oe=Ee.width<1?this._typicalHalfwidthCharacterWidth:Ee.width;let je="";if(this._cursorStyle===P.d2.Block){const Rt=this._context.model.getViewLineData(b.lineNumber);d=B;const Wt=Rt.tokens.findTokenIndexAtOffset(b.column-1);je=Rt.tokens.getClassName(Wt)}let rt=r.getVerticalOffsetForLineNumber(b.lineNumber)-r.bigNumbersDelta,Dt=this._lineHeight;return(this._cursorStyle===P.d2.Underline||this._cursorStyle===P.d2.UnderlineThin)&&(rt+=this._lineHeight-2,Dt=2),new qe(rt,Ee.left,Oe,Dt,d,je)}prepareRender(r){this._renderData=this._prepareRender(r)}render(r){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${to.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let Be=(()=>{class st extends ct{constructor(d){super(d);const b=this._context.configuration.options;this._readOnly=b.get(81),this._cursorBlinking=b.get(22),this._cursorStyle=b.get(24),this._cursorSmoothCaretAnimation=b.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Ue(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,ue.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new lt._F,this._cursorFlatBlinkInterval=new lt.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(d){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(d){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(d){const b=this._context.configuration.options;this._readOnly=b.get(81),this._cursorBlinking=b.get(22),this._cursorStyle=b.get(24),this._cursorSmoothCaretAnimation=b.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(d);for(let B=0,U=this._secondaryCursors.length;B<U;B++)this._secondaryCursors[B].onConfigurationChanged(d);return!0}_onCursorPositionChanged(d,b){if(this._primaryCursor.onCursorPositionChanged(d),this._updateBlinking(),this._secondaryCursors.length<b.length){const B=b.length-this._secondaryCursors.length;for(let U=0;U<B;U++){const le=new Ue(this._context);this._domNode.domNode.insertBefore(le.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(le)}}else if(this._secondaryCursors.length>b.length){const B=this._secondaryCursors.length-b.length;for(let U=0;U<B;U++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let B=0;B<b.length;B++)this._secondaryCursors[B].onCursorPositionChanged(b[B])}onCursorStateChanged(d){const b=[];for(let U=0,le=d.selections.length;U<le;U++)b[U]=d.selections[U].getPosition();this._onCursorPositionChanged(b[0],b.slice(1));const B=d.selections[0].isEmpty();return this._selectionIsEmpty!==B&&(this._selectionIsEmpty=B,this._updateDomClassName()),!0}onDecorationsChanged(d){return!0}onFlushed(d){return!0}onFocusChanged(d){return this._editorHasFocus=d.isFocused,this._updateBlinking(),!1}onLinesChanged(d){return!0}onLinesDeleted(d){return!0}onLinesInserted(d){return!0}onScrollChanged(d){return!0}onTokensChanged(d){const b=B=>{for(let U=0,le=d.ranges.length;U<le;U++)if(d.ranges[U].fromLineNumber<=B.lineNumber&&B.lineNumber<=d.ranges[U].toLineNumber)return!0;return!1};if(b(this._primaryCursor.getPosition()))return!0;for(const B of this._secondaryCursors)if(b(B.getPosition()))return!0;return!1}onZonesChanged(d){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const d=this._getCursorBlinking(),b=0===d,B=5===d;b?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!b&&!B&&(1===d?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},st.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},st.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let d="cursors-layer";switch(this._selectionIsEmpty||(d+=" has-selection"),this._cursorStyle){case P.d2.Line:d+=" cursor-line-style";break;case P.d2.Block:d+=" cursor-block-style";break;case P.d2.Underline:d+=" cursor-underline-style";break;case P.d2.LineThin:d+=" cursor-line-thin-style";break;case P.d2.BlockOutline:d+=" cursor-block-outline-style";break;case P.d2.UnderlineThin:d+=" cursor-underline-thin-style";break;default:d+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:d+=" cursor-blink";break;case 2:d+=" cursor-smooth";break;case 3:d+=" cursor-phase";break;case 4:d+=" cursor-expand";break;default:d+=" cursor-solid"}else d+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(d+=" cursor-smooth-caret-animation"),d}_show(){this._primaryCursor.show();for(let d=0,b=this._secondaryCursors.length;d<b;d++)this._secondaryCursors[d].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let d=0,b=this._secondaryCursors.length;d<b;d++)this._secondaryCursors[d].hide();this._isVisible=!1}prepareRender(d){this._primaryCursor.prepareRender(d);for(let b=0,B=this._secondaryCursors.length;b<B;b++)this._secondaryCursors[b].prepareRender(d)}render(d){const b=[];let B=0;const U=this._primaryCursor.render(d);U&&(b[B++]=U);for(let le=0,Ee=this._secondaryCursors.length;le<Ee;le++){const Oe=this._secondaryCursors[le].render(d);Oe&&(b[B++]=Oe)}this._renderData=b}getLastRenderData(){return this._renderData}}return st.BLINK_INTERVAL=500,st})();(0,Ti.Ic)((st,r)=>{const d=st.getColor(ui.n0);if(d){let b=st.getColor(ui.fY);b||(b=d.opposite()),r.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${d}; border-color: ${d}; color: ${b}; }`),"hc"===st.type&&r.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${b}; border-right: 1px solid ${b}; }`)}});const kt=()=>{throw new Error("Invalid change accessor")};class ri extends ct{constructor(r){super(r);const d=this._context.configuration.options,b=d.get(131);this._lineHeight=d.get(59),this._contentWidth=b.contentWidth,this._contentLeft=b.contentLeft,this.domNode=(0,ue.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,ue.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const r=this._context.viewLayout.getWhitespaces(),d=new Map;for(const B of r)d.set(B.id,B);let b=!1;return this._context.model.changeWhitespace(B=>{const U=Object.keys(this._zones);for(let le=0,Ee=U.length;le<Ee;le++){const Oe=U[le],je=this._zones[Oe],rt=this._computeWhitespaceProps(je.delegate);je.isInHiddenArea=rt.isInHiddenArea;const Dt=d.get(Oe);Dt&&(Dt.afterLineNumber!==rt.afterViewLineNumber||Dt.height!==rt.heightInPx)&&(B.changeOneWhitespace(Oe,rt.afterViewLineNumber,rt.heightInPx),this._safeCallOnComputedHeight(je.delegate,rt.heightInPx),b=!0)}}),b}onConfigurationChanged(r){const d=this._context.configuration.options,b=d.get(131);return this._lineHeight=d.get(59),this._contentWidth=b.contentWidth,this._contentLeft=b.contentLeft,r.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(r){return this._recomputeWhitespacesProps()}onLinesDeleted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}onLinesInserted(r){return!0}_getZoneOrdinal(r){return void 0!==r.afterColumn?r.afterColumn:1e4}_computeWhitespaceProps(r){if(0===r.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(r),minWidthInPx:this._minWidthInPixels(r)};let d,b;if(void 0!==r.afterColumn)d=this._context.model.validateModelPosition({lineNumber:r.afterLineNumber,column:r.afterColumn});else{const le=this._context.model.validateModelPosition({lineNumber:r.afterLineNumber,column:1}).lineNumber;d=new vn.L(le,this._context.model.getModelLineMaxColumn(le))}b=d.column===this._context.model.getModelLineMaxColumn(d.lineNumber)?this._context.model.validateModelPosition({lineNumber:d.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:d.lineNumber,column:d.column+1});const B=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(d,r.afterColumnAffinity),U=this._context.model.coordinatesConverter.modelPositionIsVisible(b);return{isInHiddenArea:!U,afterViewLineNumber:B.lineNumber,heightInPx:U?this._heightInPixels(r):0,minWidthInPx:this._minWidthInPixels(r)}}changeViewZones(r){let d=!1;return this._context.model.changeWhitespace(b=>{const B={addZone:U=>(d=!0,this._addZone(b,U)),removeZone:U=>{!U||(d=this._removeZone(b,U)||d)},layoutZone:U=>{!U||(d=this._layoutZone(b,U)||d)}};(function Vn(st,r){try{st(r)}catch(d){(0,V.dL)(d)}})(r,B),B.addZone=kt,B.removeZone=kt,B.layoutZone=kt}),d}_addZone(r,d){const b=this._computeWhitespaceProps(d),U={whitespaceId:r.insertWhitespace(b.afterViewLineNumber,this._getZoneOrdinal(d),b.heightInPx,b.minWidthInPx),delegate:d,isInHiddenArea:b.isInHiddenArea,isVisible:!1,domNode:(0,ue.X)(d.domNode),marginDomNode:d.marginDomNode?(0,ue.X)(d.marginDomNode):null};return this._safeCallOnComputedHeight(U.delegate,b.heightInPx),U.domNode.setPosition("absolute"),U.domNode.domNode.style.width="100%",U.domNode.setDisplay("none"),U.domNode.setAttribute("monaco-view-zone",U.whitespaceId),this.domNode.appendChild(U.domNode),U.marginDomNode&&(U.marginDomNode.setPosition("absolute"),U.marginDomNode.domNode.style.width="100%",U.marginDomNode.setDisplay("none"),U.marginDomNode.setAttribute("monaco-view-zone",U.whitespaceId),this.marginDomNode.appendChild(U.marginDomNode)),this._zones[U.whitespaceId]=U,this.setShouldRender(),U.whitespaceId}_removeZone(r,d){if(this._zones.hasOwnProperty(d)){const b=this._zones[d];return delete this._zones[d],r.removeWhitespace(b.whitespaceId),b.domNode.removeAttribute("monaco-visible-view-zone"),b.domNode.removeAttribute("monaco-view-zone"),b.domNode.domNode.parentNode.removeChild(b.domNode.domNode),b.marginDomNode&&(b.marginDomNode.removeAttribute("monaco-visible-view-zone"),b.marginDomNode.removeAttribute("monaco-view-zone"),b.marginDomNode.domNode.parentNode.removeChild(b.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(r,d){if(this._zones.hasOwnProperty(d)){const b=this._zones[d],B=this._computeWhitespaceProps(b.delegate);return b.isInHiddenArea=B.isInHiddenArea,r.changeOneWhitespace(b.whitespaceId,B.afterViewLineNumber,B.heightInPx),this._safeCallOnComputedHeight(b.delegate,B.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(r){return!!this._zones.hasOwnProperty(r)&&Boolean(this._zones[r].delegate.suppressMouseDown)}_heightInPixels(r){return"number"==typeof r.heightInPx?r.heightInPx:"number"==typeof r.heightInLines?this._lineHeight*r.heightInLines:this._lineHeight}_minWidthInPixels(r){return"number"==typeof r.minWidthInPx?r.minWidthInPx:0}_safeCallOnComputedHeight(r,d){if("function"==typeof r.onComputedHeight)try{r.onComputedHeight(d)}catch(b){(0,V.dL)(b)}}_safeCallOnDomNodeTop(r,d){if("function"==typeof r.onDomNodeTop)try{r.onDomNodeTop(d)}catch(b){(0,V.dL)(b)}}prepareRender(r){}render(r){const d=r.viewportData.whitespaceViewportData,b={};let B=!1;for(const le of d)this._zones[le.id].isInHiddenArea||(b[le.id]=le,B=!0);const U=Object.keys(this._zones);for(let le=0,Ee=U.length;le<Ee;le++){const Oe=U[le],je=this._zones[Oe];let rt=0,Dt=0,Rt="none";b.hasOwnProperty(Oe)?(rt=b[Oe].verticalOffset-r.bigNumbersDelta,Dt=b[Oe].height,Rt="block",je.isVisible||(je.domNode.setAttribute("monaco-visible-view-zone","true"),je.isVisible=!0),this._safeCallOnDomNodeTop(je.delegate,r.getScrolledTopFromAbsoluteTop(b[Oe].verticalOffset))):(je.isVisible&&(je.domNode.removeAttribute("monaco-visible-view-zone"),je.isVisible=!1),this._safeCallOnDomNodeTop(je.delegate,r.getScrolledTopFromAbsoluteTop(-1e6))),je.domNode.setTop(rt),je.domNode.setHeight(Dt),je.domNode.setDisplay(Rt),je.marginDomNode&&(je.marginDomNode.setTop(rt),je.marginDomNode.setHeight(Dt),je.marginDomNode.setDisplay(Rt))}B&&(this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class so{constructor(r){this._theme=r}get type(){return this._theme.type}get value(){return this._theme}update(r){this._theme=r}getColor(r){return this._theme.getColor(r)}}class er{constructor(r,d,b){this.configuration=r,this.theme=new so(d),this.model=b,this.viewLayout=b.viewLayout}addEventHandler(r){this.model.addViewEventHandler(r)}removeEventHandler(r){this.model.removeViewEventHandler(r)}}class Ls{constructor(r,d,b,B){this.selections=r,this.startLineNumber=0|d.startLineNumber,this.endLineNumber=0|d.endLineNumber,this.relativeVerticalOffset=d.relativeVerticalOffset,this.bigNumbersDelta=0|d.bigNumbersDelta,this.whitespaceViewportData=b,this._model=B,this.visibleRange=new Wn.e(d.startLineNumber,this._model.getLineMinColumn(d.startLineNumber),d.endLineNumber,this._model.getLineMaxColumn(d.endLineNumber))}getViewLineRenderingData(r){return this._model.getViewLineRenderingData(this.visibleRange,r)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Ct extends Ve{constructor(r,d,b,B,U,le){super(),this._selections=[new ce.Y(1,1,1,1)],this._renderAnimationFrame=null;const Ee=new co(d,B,U,r);this._context=new er(d,b.getColorTheme(),B),this._context.addEventHandler(this),this._register(b.onDidColorThemeChange(Cn=>{this._context.theme.update(Cn),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new Wi(this._context,Ee,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,ue.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,ue.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,ue.X)(document.createElement("div")),Nt.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new nr(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Sr(this._context,this._linesContent),this._viewZones=new ri(this._context),this._viewParts.push(this._viewZones);const Oe=new yo(this._context);this._viewParts.push(Oe);const je=new Rs(this._context);this._viewParts.push(je);const rt=new wi(this._context);this._viewParts.push(rt),rt.addDynamicOverlay(new Gn(this._context)),rt.addDynamicOverlay(new To(this._context)),rt.addDynamicOverlay(new Ar(this._context)),rt.addDynamicOverlay(new Io(this._context));const Dt=new $o(this._context);this._viewParts.push(Dt),Dt.addDynamicOverlay(new ds(this._context)),Dt.addDynamicOverlay(new dr(this._context)),Dt.addDynamicOverlay(new O(this._context)),Dt.addDynamicOverlay(new c(this._context)),Dt.addDynamicOverlay(new yi(this._context));const Rt=new Ni(this._context);Rt.getDomNode().appendChild(this._viewZones.marginDomNode),Rt.getDomNode().appendChild(Dt.getDomNode()),this._viewParts.push(Rt),this._contentWidgets=new ss(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Be(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new es(this._context),this._viewParts.push(this._overlayWidgets);const Wt=new So(this._context);this._viewParts.push(Wt);const sn=new hn(this._context);if(this._viewParts.push(sn),Oe){const Cn=this._scrollbar.getOverviewRulerLayoutInfo();Cn.parent.insertBefore(Oe.getDomNode(),Cn.insertBefore)}this._linesContent.appendChild(rt.getDomNode()),this._linesContent.appendChild(Wt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Rt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(je.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(sn.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),le?le.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new ln(this._context,Ee,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:r=>{this._textAreaHandler.textArea.domNode.dispatchEvent(r)},getLastRenderData:()=>{const r=this._viewCursors.getLastRenderData()||[],d=this._textAreaHandler.getLastRenderData();return new Me(r,d)},shouldSuppressMouseDownOnViewZone:r=>this._viewZones.shouldSuppressMouseDownOnViewZone(r),shouldSuppressMouseDownOnWidget:r=>this._contentWidgets.shouldSuppressMouseDownOnWidget(r),getPositionFromDOMInfo:(r,d)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(r,d)),visibleRangeForPosition:(r,d)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new vn.L(r,d))),getLineWidth:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(r))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(r))}}_applyLayout(){const d=this._context.configuration.options.get(131);this.domNode.setWidth(d.width),this.domNode.setHeight(d.height),this._overflowGuardContainer.setWidth(d.width),this._overflowGuardContainer.setHeight(d.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const r=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,Ti.m6)(this._context.theme.type)+r}handleEvents(r){super.handleEvents(r),this._scheduleRender()}onConfigurationChanged(r){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(r){return this._selections=r.selections,!1}onFocusChanged(r){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(r){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const r of this._viewParts)r.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=Y.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function me(st){try{st()}catch(r){(0,V.dL)(r)}}(()=>this._actualRender())}_getViewPartsToRender(){const r=[];let d=0;for(const b of this._viewParts)b.shouldRender()&&(r[d++]=b);return r}_actualRender(){if(!Y.Uw(this.domNode.domNode))return;let r=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===r.length)return;const d=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(d.startLineNumber,d.endLineNumber,d.centeredLineNumber);const b=new Ls(this._selections,d,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(b),this._viewLines.shouldRender()&&(this._viewLines.renderText(b),this._viewLines.onDidRender(),r=this._getViewPartsToRender());const B=new Jt(this._context.viewLayout,b,this._viewLines);for(const U of r)U.prepareRender(B);for(const U of r)U.render(B),U.onDidRender()}delegateVerticalScrollbarMouseDown(r){this._scrollbar.delegateVerticalScrollbarMouseDown(r)}restoreState(r){this._context.model.setScrollPosition({scrollTop:r.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:r.scrollLeft},1)}getOffsetForColumn(r,d){const b=this._context.model.validateModelPosition({lineNumber:r,column:d}),B=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(b);this._flushAccumulatedAndRenderNow();const U=this._viewLines.visibleRangeForPosition(new vn.L(B.lineNumber,B.column));return U?U.left:-1}getTargetAtClientPoint(r,d){const b=this._pointerHandler.getTargetAtClientPoint(r,d);return b?Pi.convertViewToModelMouseTarget(b,this._context.model.coordinatesConverter):null}createOverviewRuler(r){return new Xo(this._context,r)}change(r){this._viewZones.changeViewZones(r),this._scheduleRender()}render(r,d){if(d){this._viewLines.forceShouldRender();for(const b of this._viewParts)b.forceShouldRender()}r?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(r){this._textAreaHandler.setAriaOptions(r)}addContentWidget(r){this._contentWidgets.addWidget(r.widget),this.layoutContentWidget(r),this._scheduleRender()}layoutContentWidget(r){let d=r.position&&r.position.range||null;if(null===d){const B=r.position?r.position.position:null;null!==B&&(d=new Wn.e(B.lineNumber,B.column,B.lineNumber,B.column))}this._contentWidgets.setWidgetPosition(r.widget,d,r.position?r.position.preference:null),this._scheduleRender()}removeContentWidget(r){this._contentWidgets.removeWidget(r.widget),this._scheduleRender()}addOverlayWidget(r){this._overlayWidgets.addWidget(r.widget),this.layoutOverlayWidget(r),this._scheduleRender()}layoutOverlayWidget(r){this._overlayWidgets.setWidgetPosition(r.widget,r.position?r.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(r){this._overlayWidgets.removeWidget(r.widget),this._scheduleRender()}}var be=m(1181);class We{constructor(r){this._selTrackedRange=null,this._trackSelection=!0,this._setState(r,new be.rS(new Wn.e(1,1,1,1),0,new vn.L(1,1),0),new be.rS(new Wn.e(1,1,1,1),0,new vn.L(1,1),0))}dispose(r){this._removeTrackedRange(r)}startTrackingSelection(r){this._trackSelection=!0,this._updateTrackedRange(r)}stopTrackingSelection(r){this._trackSelection=!1,this._removeTrackedRange(r)}_updateTrackedRange(r){!this._trackSelection||(this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(r){this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new be.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(r){const d=r.model._getTrackedRange(this._selTrackedRange);return ce.Y.fromRange(d,this.modelState.selection.getDirection())}ensureValidState(r){this._setState(r,this.modelState,this.viewState)}setState(r,d,b){this._setState(r,d,b)}static _validatePositionWithCache(r,d,b,B){return d.equals(b)?B:r.normalizePosition(d,2)}static _validateViewState(r,d){const b=d.position,B=d.selectionStart.getStartPosition(),U=d.selectionStart.getEndPosition(),le=r.normalizePosition(b,2),Ee=this._validatePositionWithCache(r,B,b,le),Oe=this._validatePositionWithCache(r,U,B,Ee);return b.equals(le)&&B.equals(Ee)&&U.equals(Oe)?d:new be.rS(Wn.e.fromPositions(Ee,Oe),d.selectionStartLeftoverVisibleColumns+B.column-Ee.column,le,d.leftoverVisibleColumns+b.column-le.column)}_setState(r,d,b){if(b&&(b=We._validateViewState(r.viewModel,b)),d){const B=r.model.validateRange(d.selectionStart),U=d.selectionStart.equalsRange(B)?d.selectionStartLeftoverVisibleColumns:0,le=r.model.validatePosition(d.position),Ee=d.position.equals(le)?d.leftoverVisibleColumns:0;d=new be.rS(B,U,le,Ee)}else{if(!b)return;const B=r.model.validateRange(r.coordinatesConverter.convertViewRangeToModelRange(b.selectionStart)),U=r.model.validatePosition(r.coordinatesConverter.convertViewPositionToModelPosition(b.position));d=new be.rS(B,b.selectionStartLeftoverVisibleColumns,U,b.leftoverVisibleColumns)}if(b){const B=r.coordinatesConverter.validateViewRange(b.selectionStart,d.selectionStart),U=r.coordinatesConverter.validateViewPosition(b.position,d.position);b=new be.rS(B,d.selectionStartLeftoverVisibleColumns,U,d.leftoverVisibleColumns)}else{const B=r.coordinatesConverter.convertModelPositionToViewPosition(new vn.L(d.selectionStart.startLineNumber,d.selectionStart.startColumn)),U=r.coordinatesConverter.convertModelPositionToViewPosition(new vn.L(d.selectionStart.endLineNumber,d.selectionStart.endColumn)),le=new Wn.e(B.lineNumber,B.column,U.lineNumber,U.column),Ee=r.coordinatesConverter.convertModelPositionToViewPosition(d.position);b=new be.rS(le,d.selectionStartLeftoverVisibleColumns,Ee,d.leftoverVisibleColumns)}this.modelState=d,this.viewState=b,this._updateTrackedRange(r)}}class Tt{constructor(r){this.context=r,this.cursors=[new We(r)],this.lastAddedCursorIndex=0}dispose(){for(const r of this.cursors)r.dispose(this.context)}startTrackingSelections(){for(const r of this.cursors)r.startTrackingSelection(this.context)}stopTrackingSelections(){for(const r of this.cursors)r.stopTrackingSelection(this.context)}updateContext(r){this.context=r}ensureValidState(){for(const r of this.cursors)r.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(r=>r.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(r=>r.asCursorState())}getViewPositions(){return this.cursors.map(r=>r.viewState.position)}getTopMostViewPosition(){return(0,f.VJ)(this.cursors,(0,f.tT)(r=>r.viewState.position,vn.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,f.jV)(this.cursors,(0,f.tT)(r=>r.viewState.position,vn.L.compare)).viewState.position}getSelections(){return this.cursors.map(r=>r.modelState.selection)}getViewSelections(){return this.cursors.map(r=>r.viewState.selection)}setSelections(r){this.setStates(be.Vi.fromModelSelections(r))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(r){null!==r&&(this.cursors[0].setState(this.context,r[0].modelState,r[0].viewState),this._setSecondaryStates(r.slice(1)))}_setSecondaryStates(r){const d=this.cursors.length-1,b=r.length;if(d<b){const B=b-d;for(let U=0;U<B;U++)this._addSecondaryCursor()}else if(d>b){const B=d-b;for(let U=0;U<B;U++)this._removeSecondaryCursor(this.cursors.length-2)}for(let B=0;B<b;B++)this.cursors[B+1].setState(this.context,r[B].modelState,r[B].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new We(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(r){this.lastAddedCursorIndex>=r+1&&this.lastAddedCursorIndex--,this.cursors[r+1].dispose(this.context),this.cursors.splice(r+1,1)}normalize(){if(1===this.cursors.length)return;const r=this.cursors.slice(0),d=[];for(let b=0,B=r.length;b<B;b++)d.push({index:b,selection:r[b].modelState.selection});d.sort((0,f.tT)(b=>b.selection,Wn.e.compareRangesUsingStarts));for(let b=0;b<d.length-1;b++){const B=d[b],U=d[b+1],le=B.selection,Ee=U.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Oe;if(Oe=Ee.isEmpty()||le.isEmpty()?Ee.getStartPosition().isBeforeOrEqual(le.getEndPosition()):Ee.getStartPosition().isBefore(le.getEndPosition()),Oe){const je=B.index<U.index?b:b+1,rt=B.index<U.index?b+1:b,Dt=d[rt].index,Rt=d[je].index,Wt=d[rt].selection,sn=d[je].selection;if(!Wt.equalsSelection(sn)){const Cn=Wt.plusRange(sn),En=Wt.selectionStartLineNumber===Wt.startLineNumber&&Wt.selectionStartColumn===Wt.startColumn,Zn=sn.selectionStartLineNumber===sn.startLineNumber&&sn.selectionStartColumn===sn.startColumn;let ai,oi;Dt===this.lastAddedCursorIndex?(ai=En,this.lastAddedCursorIndex=Rt):ai=Zn,oi=ai?new ce.Y(Cn.startLineNumber,Cn.startColumn,Cn.endLineNumber,Cn.endColumn):new ce.Y(Cn.endLineNumber,Cn.endColumn,Cn.startLineNumber,Cn.startColumn),d[je].selection=oi;const Oi=be.Vi.fromModelSelection(oi);r[Rt].setState(this.context,Oi.modelState,Oi.viewState)}for(const Cn of d)Cn.index>Dt&&Cn.index--;r.splice(Dt,1),d.splice(rt,1),this._removeSecondaryCursor(Dt-1),b--}}}}var Qt=m(2525),fn=m(6786),cn=m(2814);class wn{constructor(){this.type=0}}class ni{constructor(){this.type=1}}class Hi{constructor(r){this.type=2,this._source=r}hasChanged(r){return this._source.hasChanged(r)}}class ro{constructor(r,d){this.type=3,this.selections=r,this.modelSelections=d}}class ao{constructor(r){this.type=4,r?(this.affectsMinimap=r.affectsMinimap,this.affectsOverviewRuler=r.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class pi{constructor(){this.type=5}}class fo{constructor(r){this.type=6,this.isFocused=r}}class Lo{constructor(){this.type=7}}class hs{constructor(){this.type=8}}class Ss{constructor(r,d){this.type=9,this.fromLineNumber=r,this.toLineNumber=d}}class Os{constructor(r,d){this.type=10,this.fromLineNumber=r,this.toLineNumber=d}}class ts{constructor(r,d){this.type=11,this.fromLineNumber=r,this.toLineNumber=d}}class Jo{constructor(r,d,b,B,U,le,Ee){this.source=r,this.minimalReveal=d,this.range=b,this.selections=B,this.verticalType=U,this.revealHorizontal=le,this.scrollType=Ee,this.type=12}}class io{constructor(r){this.type=13,this.scrollWidth=r.scrollWidth,this.scrollLeft=r.scrollLeft,this.scrollHeight=r.scrollHeight,this.scrollTop=r.scrollTop,this.scrollWidthChanged=r.scrollWidthChanged,this.scrollLeftChanged=r.scrollLeftChanged,this.scrollHeightChanged=r.scrollHeightChanged,this.scrollTopChanged=r.scrollTopChanged}}class Do{constructor(){this.type=14}}class Ro{constructor(r){this.type=15,this.ranges=r}}class Cs{constructor(){this.type=16}}class Ms{constructor(){this.type=17}}class Ps extends w.JT{constructor(){super(),this._onEvent=this._register(new x.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(r){this._addOutgoingEvent(r),this._emitOutgoingEvents()}_addOutgoingEvent(r){for(let d=0,b=this._outgoingEvents.length;d<b;d++)if(this._outgoingEvents[d].kind===r.kind)return void(this._outgoingEvents[d]=this._outgoingEvents[d].merge(r));this._outgoingEvents.push(r)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const r=this._outgoingEvents.shift();r.isNoOp()||this._onEvent.fire(r)}}addViewEventHandler(r){for(let d=0,b=this._eventHandlers.length;d<b;d++)this._eventHandlers[d]===r&&console.warn("Detected duplicate listener in ViewEventDispatcher",r);this._eventHandlers.push(r)}removeViewEventHandler(r){for(let d=0;d<this._eventHandlers.length;d++)if(this._eventHandlers[d]===r){this._eventHandlers.splice(d,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new lr),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const r=this._collector.outgoingEvents,d=this._collector.viewEvents;this._collector=null;for(const b of r)this._addOutgoingEvent(b);d.length>0&&this._emitMany(d)}this._emitOutgoingEvents()}emitSingleViewEvent(r){try{this.beginEmitViewEvents().emitViewEvent(r)}finally{this.endEmitViewEvents()}}_emitMany(r){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(r):r,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const r=this._viewEventQueue;this._viewEventQueue=null;const d=this._eventHandlers.slice(0);for(const b of d)b.handleEvents(r)}}}class lr{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(r){this.viewEvents.push(r)}emitOutgoingEvent(r){this.outgoingEvents.push(r)}}class Er{constructor(r,d,b,B){this.kind=0,this._oldContentWidth=r,this._oldContentHeight=d,this.contentWidth=b,this.contentHeight=B,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(r){return 0!==r.kind?this:new Er(this._oldContentWidth,this._oldContentHeight,r.contentWidth,r.contentHeight)}}class gr{constructor(r,d){this.kind=1,this.oldHasFocus=r,this.hasFocus=d}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(r){return 1!==r.kind?this:new gr(this.oldHasFocus,r.hasFocus)}}class la{constructor(r,d,b,B,U,le,Ee,Oe){this.kind=2,this._oldScrollWidth=r,this._oldScrollLeft=d,this._oldScrollHeight=b,this._oldScrollTop=B,this.scrollWidth=U,this.scrollLeft=le,this.scrollHeight=Ee,this.scrollTop=Oe,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(r){return 2!==r.kind?this:new la(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,r.scrollWidth,r.scrollLeft,r.scrollHeight,r.scrollTop)}}class ul{constructor(){this.kind=3}isNoOp(){return!1}merge(r){return this}}class bi{constructor(r,d,b,B,U,le,Ee){this.kind=6,this.oldSelections=r,this.selections=d,this.oldModelVersionId=b,this.modelVersionId=B,this.source=U,this.reason=le,this.reachedMaxCursorCount=Ee}static _selectionsAreEqual(r,d){if(!r&&!d)return!0;if(!r||!d)return!1;const b=r.length;if(b!==d.length)return!1;for(let U=0;U<b;U++)if(!r[U].equalsSelection(d[U]))return!1;return!0}isNoOp(){return bi._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(r){return 6!==r.kind?this:new bi(this.oldSelections,r.selections,this.oldModelVersionId,r.modelVersionId,r.source,r.reason,this.reachedMaxCursorCount||r.reachedMaxCursorCount)}}class eo{constructor(){this.kind=5}isNoOp(){return!1}merge(r){return this}}let rs=(()=>{class st extends w.JT{constructor(d,b,B,U){super(),this._model=d,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=b,this._coordinatesConverter=B,this.context=new be.zp(this._model,this._viewModel,this._coordinatesConverter,U),this._cursors=new Tt(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,w.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(d){this.context=new be.zp(this._model,this._viewModel,this._coordinatesConverter,d),this._cursors.updateContext(this.context)}onLineMappingChanged(d){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(d,"viewModel",0,this.getCursorStates())}setHasFocus(d){this._hasFocus=d}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const d=this._cursors.getSelections();for(let b=0;b<this._autoClosedActions.length;b++){const B=this._autoClosedActions[b];B.isValid(d)||(B.dispose(),this._autoClosedActions.splice(b,1),b--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(d,b,B,U){let le=!1;null!==U&&U.length>st.MAX_CURSOR_COUNT&&(U=U.slice(0,st.MAX_CURSOR_COUNT),le=!0);const Ee=Vs.from(this._model,this);return this._cursors.setStates(U),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(d,b,B,Ee,le)}setCursorColumnSelectData(d){this._columnSelectData=d}revealPrimary(d,b,B,U,le,Ee){const Oe=this._cursors.getViewPositions();let je=null,rt=null;Oe.length>1?rt=this._cursors.getViewSelections():je=Wn.e.fromPositions(Oe[0],Oe[0]),d.emitViewEvent(new Jo(b,B,je,rt,U,le,Ee))}saveState(){const d=[],b=this._cursors.getSelections();for(let B=0,U=b.length;B<U;B++){const le=b[B];d.push({inSelectionMode:!le.isEmpty(),selectionStart:{lineNumber:le.selectionStartLineNumber,column:le.selectionStartColumn},position:{lineNumber:le.positionLineNumber,column:le.positionColumn}})}return d}restoreState(d,b){const B=[];for(let U=0,le=b.length;U<le;U++){const Ee=b[U];let Oe=1,je=1;Ee.position&&Ee.position.lineNumber&&(Oe=Ee.position.lineNumber),Ee.position&&Ee.position.column&&(je=Ee.position.column);let rt=Oe,Dt=je;Ee.selectionStart&&Ee.selectionStart.lineNumber&&(rt=Ee.selectionStart.lineNumber),Ee.selectionStart&&Ee.selectionStart.column&&(Dt=Ee.selectionStart.column),B.push({selectionStartLineNumber:rt,selectionStartColumn:Dt,positionLineNumber:Oe,positionColumn:je})}this.setStates(d,"restoreState",0,be.Vi.fromModelSelections(B)),this.revealPrimary(d,"restoreState",!1,0,!0,1)}onModelContentChanged(d,b){if(b instanceof cn.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(d,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=b.versionId,this._isHandling)return;const B=b.containsEvent(1);if(this._prevEditOperationType=0,B)this._cursors.dispose(),this._cursors=new Tt(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(d,"model",1,null,!1);else if(this._hasFocus&&b.resultingSelection&&b.resultingSelection.length>0){const U=be.Vi.fromModelSelections(b.resultingSelection);this.setStates(d,"modelChange",b.isUndoing?5:b.isRedoing?6:2,U)&&this.revealPrimary(d,"modelChange",!1,0,!0,0)}else{const U=this._cursors.readSelectionFromMarkers();this.setStates(d,"modelChange",2,be.Vi.fromModelSelections(U))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const d=this._cursors.getPrimaryCursor(),b=d.viewState.selectionStart.getStartPosition(),B=d.viewState.position;return{isReal:!1,fromViewLineNumber:b.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,b),toViewLineNumber:B.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,B)}}getSelections(){return this._cursors.getSelections()}setSelections(d,b,B,U){this.setStates(d,b,U,be.Vi.fromModelSelections(B))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(d){this._prevEditOperationType=d}_pushAutoClosedAction(d,b){const B=[],U=[];for(let Oe=0,je=d.length;Oe<je;Oe++)B.push({range:d[Oe],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),U.push({range:b[Oe],options:{description:"auto-closed-enclosing",stickiness:1}});const le=this._model.deltaDecorations([],B),Ee=this._model.deltaDecorations([],U);this._autoClosedActions.push(new Ds(this._model,le,Ee))}_executeEditOperation(d){if(!d)return;d.shouldPushStackElementBefore&&this._model.pushStackElement();const b=class zr{static executeCommands(r,d,b){const B={model:r,selectionsBefore:d,trackedRanges:[],trackedRangesDirection:[]},U=this._innerExecuteCommands(B,b);for(let le=0,Ee=B.trackedRanges.length;le<Ee;le++)B.model._setTrackedRange(B.trackedRanges[le],null,0);return U}static _innerExecuteCommands(r,d){if(this._arrayIsEmpty(d))return null;const b=this._getEditOperations(r,d);if(0===b.operations.length)return null;const B=b.operations,U=this._getLoserCursorMap(B);if(U.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const le=[];for(let je=0,rt=B.length;je<rt;je++)U.hasOwnProperty(B[je].identifier.major.toString())||le.push(B[je]);b.hadTrackedEditOperation&&le.length>0&&(le[0]._isTracked=!0);let Ee=r.model.pushEditOperations(r.selectionsBefore,le,je=>{const rt=[];for(let Wt=0;Wt<r.selectionsBefore.length;Wt++)rt[Wt]=[];for(const Wt of je)!Wt.identifier||rt[Wt.identifier.major].push(Wt);const Dt=(Wt,sn)=>Wt.identifier.minor-sn.identifier.minor,Rt=[];for(let Wt=0;Wt<r.selectionsBefore.length;Wt++)rt[Wt].length>0?(rt[Wt].sort(Dt),Rt[Wt]=d[Wt].computeCursorState(r.model,{getInverseEditOperations:()=>rt[Wt],getTrackedSelection:sn=>{const Cn=parseInt(sn,10),En=r.model._getTrackedRange(r.trackedRanges[Cn]);return 0===r.trackedRangesDirection[Cn]?new ce.Y(En.startLineNumber,En.startColumn,En.endLineNumber,En.endColumn):new ce.Y(En.endLineNumber,En.endColumn,En.startLineNumber,En.startColumn)}})):Rt[Wt]=r.selectionsBefore[Wt];return Rt});Ee||(Ee=r.selectionsBefore);const Oe=[];for(let je in U)U.hasOwnProperty(je)&&Oe.push(parseInt(je,10));Oe.sort((je,rt)=>rt-je);for(const je of Oe)Ee.splice(je,1);return Ee}static _arrayIsEmpty(r){for(let d=0,b=r.length;d<b;d++)if(r[d])return!1;return!0}static _getEditOperations(r,d){let b=[],B=!1;for(let U=0,le=d.length;U<le;U++){const Ee=d[U];if(Ee){const Oe=this._getEditOperationsFromCommand(r,U,Ee);b=b.concat(Oe.operations),B=B||Oe.hadTrackedEditOperation}}return{operations:b,hadTrackedEditOperation:B}}static _getEditOperationsFromCommand(r,d,b){const B=[];let U=0;const le=(Dt,Rt,Wt=!1)=>{Wn.e.isEmpty(Dt)&&""===Rt||B.push({identifier:{major:d,minor:U++},range:Dt,text:Rt,forceMoveMarkers:Wt,isAutoWhitespaceEdit:b.insertsAutoWhitespace})};let Ee=!1;const rt={addEditOperation:le,addTrackedEditOperation:(Dt,Rt,Wt)=>{Ee=!0,le(Dt,Rt,Wt)},trackSelection:(Dt,Rt)=>{const Wt=ce.Y.liftSelection(Dt);let sn;if(Wt.isEmpty())if("boolean"==typeof Rt)sn=Rt?2:3;else{const Zn=r.model.getLineMaxColumn(Wt.startLineNumber);sn=Wt.startColumn===Zn?2:3}else sn=1;const Cn=r.trackedRanges.length,En=r.model._setTrackedRange(null,Wt,sn);return r.trackedRanges[Cn]=En,r.trackedRangesDirection[Cn]=Wt.getDirection(),Cn.toString()}};try{b.getEditOperations(r.model,rt)}catch(Dt){return(0,V.dL)(Dt),{operations:[],hadTrackedEditOperation:!1}}return{operations:B,hadTrackedEditOperation:Ee}}static _getLoserCursorMap(r){(r=r.slice(0)).sort((b,B)=>-Wn.e.compareRangesUsingEnds(b.range,B.range));const d={};for(let b=1;b<r.length;b++){const B=r[b-1],U=r[b];if(Wn.e.getStartPosition(B.range).isBefore(Wn.e.getEndPosition(U.range))){let le;le=B.identifier.major>U.identifier.major?B.identifier.major:U.identifier.major,d[le.toString()]=!0;for(let Ee=0;Ee<r.length;Ee++)r[Ee].identifier.major===le&&(r.splice(Ee,1),Ee<b&&b--,Ee--);b>0&&b--}}return d}}.executeCommands(this._model,this._cursors.getSelections(),d.commands);if(b){this._interpretCommandResult(b);const B=[],U=[];for(let le=0;le<d.commands.length;le++){const Ee=d.commands[le];Ee instanceof fn.g&&Ee.enclosingRange&&Ee.closeCharacterRange&&(B.push(Ee.closeCharacterRange),U.push(Ee.enclosingRange))}B.length>0&&this._pushAutoClosedAction(B,U),this._prevEditOperationType=d.type}d.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(d){(!d||0===d.length)&&(d=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(d),this._cursors.normalize()}_emitStateChangedIfNecessary(d,b,B,U,le){const Ee=Vs.from(this._model,this);if(Ee.equals(U))return!1;const Oe=this._cursors.getSelections(),je=this._cursors.getViewSelections();if(d.emitViewEvent(new ro(je,Oe)),!U||U.cursorState.length!==Ee.cursorState.length||Ee.cursorState.some((rt,Dt)=>!rt.modelState.equals(U.cursorState[Dt].modelState))){const rt=U?U.cursorState.map(Rt=>Rt.modelState.selection):null;d.emitOutgoingEvent(new bi(rt,Oe,U?U.modelVersionId:0,Ee.modelVersionId,b||"keyboard",B,le))}return!0}_findAutoClosingPairs(d){if(!d.length)return null;const b=[];for(let B=0,U=d.length;B<U;B++){const le=d[B];if(!le.text||le.text.indexOf("\n")>=0)return null;const Ee=le.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Ee)return null;const je=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ee[1]);if(!je||1!==je.length)return null;const Dt=le.text.length-Ee[2].length-1,Rt=le.text.lastIndexOf(je[0].open,Dt-1);if(-1===Rt)return null;b.push([Rt,Dt])}return b}executeEdits(d,b,B,U){let le=null;"snippet"===b&&(le=this._findAutoClosingPairs(B)),le&&(B[0]._isTracked=!0);const Ee=[],Oe=[],je=this._model.pushEditOperations(this.getSelections(),B,rt=>{if(le)for(let Rt=0,Wt=le.length;Rt<Wt;Rt++){const[sn,Cn]=le[Rt],En=rt[Rt],Zn=En.range.startLineNumber,ai=En.range.startColumn-1+sn,oi=En.range.startColumn-1+Cn;Ee.push(new Wn.e(Zn,oi+1,Zn,oi+2)),Oe.push(new Wn.e(Zn,ai+1,Zn,oi+2))}const Dt=U(rt);return Dt&&(this._isHandling=!0),Dt});je&&(this._isHandling=!1,this.setSelections(d,b,je,0)),Ee.length>0&&this._pushAutoClosedAction(Ee,Oe)}_executeEdit(d,b,B,U=0){if(this.context.cursorConfig.readOnly)return;const le=Vs.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),d()}catch(Ee){(0,V.dL)(Ee)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(b,B,U,le,!1)&&this.revealPrimary(b,B,!1,0,!0,0)}setIsDoingComposition(d){this._isDoingComposition=d}getAutoClosedCharacters(){return Ds.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(d){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(d,b){this._executeEdit(()=>{"keyboard"===b&&(this._executeEditOperation(fn.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},d,b)}type(d,b,B){this._executeEdit(()=>{if("keyboard"===B){const U=b.length;let le=0;for(;le<U;){const Ee=Jn.vH(b,le),Oe=b.substr(le,Ee);this._executeEditOperation(fn.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Oe)),le+=Ee}}else this._executeEditOperation(fn.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b))},d,B)}compositionType(d,b,B,U,le,Ee){if(0!==b.length||0!==B||0!==U)this._executeEdit(()=>{this._executeEditOperation(fn.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b,B,U,le))},d,Ee);else if(0!==le){const Oe=this.getSelections().map(je=>{const rt=je.getPosition();return new ce.Y(rt.lineNumber,rt.column+le,rt.lineNumber,rt.column+le)});this.setSelections(d,Ee,Oe,0)}}paste(d,b,B,U,le){this._executeEdit(()=>{this._executeEditOperation(fn.u.paste(this.context.cursorConfig,this._model,this.getSelections(),b,B,U||[]))},d,le,4)}cut(d,b){this._executeEdit(()=>{this._executeEditOperation(Qt.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},d,b)}executeCommand(d,b,B){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new be.Tp(0,[b],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},d,B)}executeCommands(d,b,B){this._executeEdit(()=>{this._executeEditOperation(new be.Tp(0,b,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},d,B)}}return st.MAX_CURSOR_COUNT=1e4,st})();class Vs{constructor(r,d){this.modelVersionId=r,this.cursorState=d}static from(r,d){return new Vs(r.getVersionId(),d.getCursorStates())}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let d=0,b=this.cursorState.length;d<b;d++)if(!this.cursorState[d].equals(r.cursorState[d]))return!1;return!0}}class Ds{constructor(r,d,b){this._model=r,this._autoClosedCharactersDecorations=d,this._autoClosedEnclosingDecorations=b}static getAllAutoClosedCharacters(r){let d=[];for(const b of r)d=d.concat(b.getAutoClosedCharactersRanges());return d}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const r=[];for(let d=0;d<this._autoClosedCharactersDecorations.length;d++){const b=this._model.getDecorationRange(this._autoClosedCharactersDecorations[d]);b&&r.push(b)}return r}isValid(r){const d=[];for(let b=0;b<this._autoClosedEnclosingDecorations.length;b++){const B=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[b]);if(B&&(d.push(B),B.startLineNumber!==B.endLineNumber))return!1}d.sort(Wn.e.compareRangesUsingStarts),r.sort(Wn.e.compareRangesUsingStarts);for(let b=0;b<r.length;b++)if(b>=d.length||!d[b].strictContainsRange(r[b]))return!1;return!0}}var Xr=m(658),zs=m(2651),ns=m(9584),Ur=m(4669),Es=m(6689),_a=m(2816);class ur{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(r){this._hasPending=!0,this._inserts.push(r)}change(r){this._hasPending=!0,this._changes.push(r)}remove(r){this._hasPending=!0,this._removes.push(r)}mustCommit(){return this._hasPending}commit(r){if(!this._hasPending)return;const d=this._inserts,b=this._changes,B=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],r._commitPendingChanges(d,b,B)}}class jr{constructor(r,d,b,B,U){this.id=r,this.afterLineNumber=d,this.ordinal=b,this.height=B,this.minWidth=U,this.prefixSum=0}}let Jr=(()=>{class st{constructor(d,b,B,U){this._instanceId=Jn.PJ(++st.INSTANCE_COUNT),this._pendingChanges=new ur,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=d,this._lineHeight=b,this._paddingTop=B,this._paddingBottom=U}static findInsertionIndex(d,b,B){let U=0,le=d.length;for(;U<le;){const Ee=U+le>>>1;b===d[Ee].afterLineNumber?B<d[Ee].ordinal?le=Ee:U=Ee+1:b<d[Ee].afterLineNumber?le=Ee:U=Ee+1}return U}setLineHeight(d){this._checkPendingChanges(),this._lineHeight=d}setPadding(d,b){this._paddingTop=d,this._paddingBottom=b}onFlushed(d){this._checkPendingChanges(),this._lineCount=d}changeWhitespace(d){let b=!1;try{d({insertWhitespace:(U,le,Ee,Oe)=>{b=!0,U|=0,le|=0,Ee|=0,Oe|=0;const je=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new jr(je,U,le,Ee,Oe)),je},changeOneWhitespace:(U,le,Ee)=>{b=!0,this._pendingChanges.change({id:U,newAfterLineNumber:le|=0,newHeight:Ee|=0})},removeWhitespace:U=>{b=!0,this._pendingChanges.remove({id:U})}})}finally{this._pendingChanges.commit(this)}return b}_commitPendingChanges(d,b,B){if((d.length>0||B.length>0)&&(this._minWidth=-1),d.length+b.length+B.length<=1){for(const je of d)this._insertWhitespace(je);for(const je of b)this._changeOneWhitespace(je.id,je.newAfterLineNumber,je.newHeight);for(const je of B){const rt=this._findWhitespaceIndex(je.id);-1!==rt&&this._removeWhitespace(rt)}return}const U=new Set;for(const je of B)U.add(je.id);const le=new Map;for(const je of b)le.set(je.id,je);const Ee=je=>{const rt=[];for(const Dt of je)if(!U.has(Dt.id)){if(le.has(Dt.id)){const Rt=le.get(Dt.id);Dt.afterLineNumber=Rt.newAfterLineNumber,Dt.height=Rt.newHeight}rt.push(Dt)}return rt},Oe=Ee(this._arr).concat(Ee(d));Oe.sort((je,rt)=>je.afterLineNumber===rt.afterLineNumber?je.ordinal-rt.ordinal:je.afterLineNumber-rt.afterLineNumber),this._arr=Oe,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(d){const b=st.findInsertionIndex(this._arr,d.afterLineNumber,d.ordinal);this._arr.splice(b,0,d),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}_findWhitespaceIndex(d){const b=this._arr;for(let B=0,U=b.length;B<U;B++)if(b[B].id===d)return B;return-1}_changeOneWhitespace(d,b,B){const U=this._findWhitespaceIndex(d);if(-1!==U&&(this._arr[U].height!==B&&(this._arr[U].height=B,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,U-1)),this._arr[U].afterLineNumber!==b)){const le=this._arr[U];this._removeWhitespace(U),le.afterLineNumber=b,this._insertWhitespace(le)}}_removeWhitespace(d){this._arr.splice(d,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,d-1)}onLinesDeleted(d,b){this._checkPendingChanges(),this._lineCount-=(b|=0)-(d|=0)+1;for(let B=0,U=this._arr.length;B<U;B++){const le=this._arr[B].afterLineNumber;d<=le&&le<=b?this._arr[B].afterLineNumber=d-1:le>b&&(this._arr[B].afterLineNumber-=b-d+1)}}onLinesInserted(d,b){this._checkPendingChanges(),this._lineCount+=(b|=0)-(d|=0)+1;for(let B=0,U=this._arr.length;B<U;B++)d<=this._arr[B].afterLineNumber&&(this._arr[B].afterLineNumber+=b-d+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(d){this._checkPendingChanges(),d|=0;let b=Math.max(0,this._prefixSumValidIndex+1);0===b&&(this._arr[0].prefixSum=this._arr[0].height,b++);for(let B=b;B<=d;B++)this._arr[B].prefixSum=this._arr[B-1].prefixSum+this._arr[B].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,d),this._arr[d].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(d){this._checkPendingChanges();const b=this._findLastWhitespaceBeforeLineNumber(d|=0);return-1===b?0:this.getWhitespacesAccumulatedHeight(b)}_findLastWhitespaceBeforeLineNumber(d){d|=0;const b=this._arr;let B=0,U=b.length-1;for(;B<=U;){const Oe=B+((U-B|0)/2|0)|0;if(b[Oe].afterLineNumber<d){if(Oe+1>=b.length||b[Oe+1].afterLineNumber>=d)return Oe;B=Oe+1|0}else U=Oe-1|0}return-1}_findFirstWhitespaceAfterLineNumber(d){const B=this._findLastWhitespaceBeforeLineNumber(d|=0)+1;return B<this._arr.length?B:-1}getFirstWhitespaceIndexAfterLineNumber(d){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(d|=0)}getVerticalOffsetForLineNumber(d){let b;return this._checkPendingChanges(),b=(d|=0)>1?this._lineHeight*(d-1):0,b+this.getWhitespaceAccumulatedHeightBeforeLineNumber(d)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let d=0;for(let b=0,B=this._arr.length;b<B;b++)d=Math.max(d,this._arr[b].minWidth);this._minWidth=d}return this._minWidth}isAfterLines(d){return this._checkPendingChanges(),d>this.getLinesTotalHeight()}isInTopPadding(d){return 0!==this._paddingTop&&(this._checkPendingChanges(),d<this._paddingTop)}isInBottomPadding(d){return 0!==this._paddingBottom&&(this._checkPendingChanges(),d>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(d){if(this._checkPendingChanges(),(d|=0)<0)return 1;const b=0|this._lineCount,B=this._lineHeight;let U=1,le=b;for(;U<le;){const Ee=(U+le)/2|0,Oe=0|this.getVerticalOffsetForLineNumber(Ee);if(d>=Oe+B)U=Ee+1;else{if(d>=Oe)return Ee;le=Ee}}return U>b?b:U}getLinesViewportData(d,b){this._checkPendingChanges(),b|=0;const B=this._lineHeight,U=0|this.getLineNumberAtOrAfterVerticalOffset(d|=0),le=0|this.getVerticalOffsetForLineNumber(U);let Ee=0|this._lineCount,Oe=0|this.getFirstWhitespaceIndexAfterLineNumber(U);const je=0|this.getWhitespacesCount();let rt,Dt;-1===Oe?(Oe=je,Dt=Ee+1,rt=0):(Dt=0|this.getAfterLineNumberForWhitespaceIndex(Oe),rt=0|this.getHeightForWhitespaceIndex(Oe));let Rt=le,Wt=Rt;const sn=5e5;let Cn=0;le>=sn&&(Cn=Math.floor(le/sn)*sn,Cn=Math.floor(Cn/B)*B,Wt-=Cn);const En=[],Zn=d+(b-d)/2;let ai=-1;for(let Ui=U;Ui<=Ee;Ui++){if(-1===ai){const Gi=Rt,Si=Rt+B;(Gi<=Zn&&Zn<Si||Gi>Zn)&&(ai=Ui)}for(Rt+=B,En[Ui-U]=Wt,Wt+=B;Dt===Ui;)Wt+=rt,Rt+=rt,Oe++,Oe>=je?Dt=Ee+1:(Dt=0|this.getAfterLineNumberForWhitespaceIndex(Oe),rt=0|this.getHeightForWhitespaceIndex(Oe));if(Rt>=b){Ee=Ui;break}}-1===ai&&(ai=Ee);const oi=0|this.getVerticalOffsetForLineNumber(Ee);let Oi=U,zi=Ee;return Oi<zi&&le<d&&Oi++,Oi<zi&&oi+B>b&&zi--,{bigNumbersDelta:Cn,startLineNumber:U,endLineNumber:Ee,relativeVerticalOffset:En,centeredLineNumber:ai,completelyVisibleStartLineNumber:Oi,completelyVisibleEndLineNumber:zi}}getVerticalOffsetForWhitespaceIndex(d){this._checkPendingChanges();const b=this.getAfterLineNumberForWhitespaceIndex(d|=0);let B,U;return B=b>=1?this._lineHeight*b:0,U=d>0?this.getWhitespacesAccumulatedHeight(d-1):0,B+U+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(d){this._checkPendingChanges(),d|=0;let b=0,B=this.getWhitespacesCount()-1;if(B<0)return-1;if(d>=this.getVerticalOffsetForWhitespaceIndex(B)+this.getHeightForWhitespaceIndex(B))return-1;for(;b<B;){const Ee=Math.floor((b+B)/2),Oe=this.getVerticalOffsetForWhitespaceIndex(Ee);if(d>=Oe+this.getHeightForWhitespaceIndex(Ee))b=Ee+1;else{if(d>=Oe)return Ee;B=Ee}}return b}getWhitespaceAtVerticalOffset(d){this._checkPendingChanges();const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(d|=0);if(b<0||b>=this.getWhitespacesCount())return null;const B=this.getVerticalOffsetForWhitespaceIndex(b);if(B>d)return null;const U=this.getHeightForWhitespaceIndex(b);return{id:this.getIdForWhitespaceIndex(b),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(b),verticalOffset:B,height:U}}getWhitespaceViewportData(d,b){this._checkPendingChanges(),b|=0;const B=this.getWhitespaceIndexAtOrAfterVerticallOffset(d|=0),U=this.getWhitespacesCount()-1;if(B<0)return[];const le=[];for(let Ee=B;Ee<=U;Ee++){const Oe=this.getVerticalOffsetForWhitespaceIndex(Ee),je=this.getHeightForWhitespaceIndex(Ee);if(Oe>=b)break;le.push({id:this.getIdForWhitespaceIndex(Ee),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Ee),verticalOffset:Oe,height:je})}return le}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(d){return this._checkPendingChanges(),this._arr[d|=0].id}getAfterLineNumberForWhitespaceIndex(d){return this._checkPendingChanges(),this._arr[d|=0].afterLineNumber}getHeightForWhitespaceIndex(d){return this._checkPendingChanges(),this._arr[d|=0].height}}return st.INSTANCE_COUNT=0,st})();class Fl{constructor(r,d,b,B){(r|=0)<0&&(r=0),(d|=0)<0&&(d=0),(b|=0)<0&&(b=0),(B|=0)<0&&(B=0),this.width=r,this.contentWidth=d,this.scrollWidth=Math.max(r,d),this.height=b,this.contentHeight=B,this.scrollHeight=Math.max(b,B)}equals(r){return this.width===r.width&&this.contentWidth===r.contentWidth&&this.height===r.height&&this.contentHeight===r.contentHeight}}class Ka extends w.JT{constructor(r,d){super(),this._onDidContentSizeChange=this._register(new x.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Fl(0,0,0,0),this._scrollable=this._register(new _a.Rm({forceIntegerValues:!0,smoothScrollDuration:r,scheduleAtNextAnimationFrame:d})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(r){this._scrollable.setSmoothScrollDuration(r)}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}getScrollDimensions(){return this._dimensions}setScrollDimensions(r){if(this._dimensions.equals(r))return;const d=this._dimensions;this._dimensions=r,this._scrollable.setScrollDimensions({width:r.width,scrollWidth:r.scrollWidth,height:r.height,scrollHeight:r.scrollHeight},!0),(d.contentWidth!==r.contentWidth||d.contentHeight!==r.contentHeight)&&this._onDidContentSizeChange.fire(new Er(d.contentWidth,d.contentHeight,r.contentWidth,r.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(r){this._scrollable.setScrollPositionNow(r)}setScrollPositionSmooth(r){this._scrollable.setScrollPositionSmooth(r)}}class va extends w.JT{constructor(r,d,b){super(),this._configuration=r;const B=this._configuration.options,U=B.get(131),le=B.get(75);this._linesLayout=new Jr(d,B.get(59),le.top,le.bottom),this._scrollable=this._register(new Ka(0,b)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Fl(U.contentWidth,0,U.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?125:0)}onConfigurationChanged(r){const d=this._configuration.options;if(r.hasChanged(59)&&this._linesLayout.setLineHeight(d.get(59)),r.hasChanged(75)){const b=d.get(75);this._linesLayout.setPadding(b.top,b.bottom)}if(r.hasChanged(131)){const b=d.get(131),B=b.contentWidth,U=b.height,le=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Fl(B,le.contentWidth,U,this._getContentHeight(B,U,le.contentWidth)))}else this._updateHeight();r.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(r){this._linesLayout.onFlushed(r)}onLinesDeleted(r,d){this._linesLayout.onLinesDeleted(r,d)}onLinesInserted(r,d){this._linesLayout.onLinesInserted(r,d)}_getHorizontalScrollbarHeight(r,d){const B=this._configuration.options.get(92);return 2===B.horizontal||r>=d?0:B.horizontalScrollbarSize}_getContentHeight(r,d,b){const B=this._configuration.options;let U=this._linesLayout.getLinesTotalHeight();return B.get(94)?U+=Math.max(0,d-B.get(59)-B.get(75).bottom):U+=this._getHorizontalScrollbarHeight(r,b),U}_updateHeight(){const r=this._scrollable.getScrollDimensions(),d=r.width,b=r.height;this._scrollable.setScrollDimensions(new Fl(d,r.contentWidth,b,this._getContentHeight(d,b,r.contentWidth)))}getCurrentViewport(){const r=this._scrollable.getScrollDimensions(),d=this._scrollable.getCurrentScrollPosition();return new et.l_(d.scrollTop,d.scrollLeft,r.width,r.height)}getFutureViewport(){const r=this._scrollable.getScrollDimensions(),d=this._scrollable.getFutureScrollPosition();return new et.l_(d.scrollTop,d.scrollLeft,r.width,r.height)}_computeContentWidth(r){const d=this._configuration.options,b=d.get(132),B=d.get(44);if(b.isViewportWrapping){const U=d.get(131),le=d.get(65);return r>U.contentWidth+B.typicalHalfwidthCharacterWidth&&le.enabled&&"right"===le.side?r+U.verticalScrollbarWidth:r}{const U=d.get(93)*B.typicalHalfwidthCharacterWidth,le=this._linesLayout.getWhitespaceMinWidth();return Math.max(r+U,le)}}setMaxLineWidth(r){const d=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Fl(d.width,this._computeContentWidth(r),d.height,d.contentHeight)),this._updateHeight()}saveState(){const r=this._scrollable.getFutureScrollPosition(),d=r.scrollTop,b=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(d);return{scrollTop:d,scrollTopWithoutViewZones:d-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(b),scrollLeft:r.scrollLeft}}changeWhitespace(r){const d=this._linesLayout.changeWhitespace(r);return d&&this.onHeightMaybeChanged(),d}getVerticalOffsetForLineNumber(r){return this._linesLayout.getVerticalOffsetForLineNumber(r)}isAfterLines(r){return this._linesLayout.isAfterLines(r)}isInTopPadding(r){return this._linesLayout.isInTopPadding(r)}isInBottomPadding(r){return this._linesLayout.isInBottomPadding(r)}getLineNumberAtVerticalOffset(r){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r)}getWhitespaceAtVerticalOffset(r){return this._linesLayout.getWhitespaceAtVerticalOffset(r)}getLinesViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(r.top,r.top+r.height)}getLinesViewportDataAtScrollTop(r){const d=this._scrollable.getScrollDimensions();return r+d.height>d.scrollHeight&&(r=d.scrollHeight-d.height),r<0&&(r=0),this._linesLayout.getLinesViewportData(r,r+d.height)}getWhitespaceViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(r.top,r.top+r.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}setScrollPosition(r,d){1===d?this._scrollable.setScrollPositionNow(r):this._scrollable.setScrollPositionSmooth(r)}deltaScrollNow(r,d){const b=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:b.scrollLeft+r,scrollTop:b.scrollTop+d})}}var rc=m(1322),Tc=m(4412),_m=m(8028);function Bl(st,r){return null===st?r?Vl.INSTANCE:kr.INSTANCE:new Us(st,r)}class Us{constructor(r,d){this._projectionData=r,this._isVisible=d}isVisible(){return this._isVisible}setVisible(r){return this._isVisible=r,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(r,d,b){this._assertVisible();const B=b>0?this._projectionData.breakOffsets[b-1]:0,U=this._projectionData.breakOffsets[b];let le;if(null!==this._projectionData.injectionOffsets){const Ee=this._projectionData.injectionOffsets.map((je,rt)=>new cn.gk(0,0,je+1,this._projectionData.injectionOptions[rt],0));le=cn.gk.applyInjectedText(r.getLineContent(d),Ee).substring(B,U)}else le=r.getValueInRange({startLineNumber:d,startColumn:B+1,endLineNumber:d,endColumn:U+1});return b>0&&(le=qr(this._projectionData.wrappedTextIndentLength)+le),le}getViewLineLength(r,d,b){return this._assertVisible(),this._projectionData.getLineLength(b)}getViewLineMinColumn(r,d,b){return this._assertVisible(),this._projectionData.getMinOutputOffset(b)+1}getViewLineMaxColumn(r,d,b){return this._assertVisible(),this._projectionData.getMaxOutputOffset(b)+1}getViewLineData(r,d,b){const B=new Array;return this.getViewLinesData(r,d,b,1,0,[!0],B),B[0]}getViewLinesData(r,d,b,B,U,le,Ee){this._assertVisible();const Oe=this._projectionData,je=Oe.injectionOffsets,rt=Oe.injectionOptions;let Rt,Dt=null;if(je){Dt=[];let Wt=0,sn=0;for(let Cn=0;Cn<Oe.getOutputLineCount();Cn++){const En=new Array;Dt[Cn]=En;const Zn=Cn>0?Oe.breakOffsets[Cn-1]:0,ai=Oe.breakOffsets[Cn];for(;sn<je.length;){const oi=rt[sn].content.length,Oi=je[sn]+Wt,zi=Oi+oi;if(Oi>ai)break;if(Zn<zi){const Ui=rt[sn];if(Ui.inlineClassName){const Gi=Cn>0?Oe.wrappedTextIndentLength:0,Si=Gi+Math.max(Oi-Zn,0),qi=Gi+Math.min(zi-Zn,ai);Si!==qi&&En.push(new et.Wx(Si,qi,Ui.inlineClassName,Ui.inlineClassNameAffectsLetterSpacing))}}if(!(zi<=ai))break;Wt+=oi,sn++}}}Rt=je?r.getLineTokens(d).withInserted(je.map((Wt,sn)=>({offset:Wt,text:rt[sn].content,tokenMetadata:_m.A.defaultTokenMetadata}))):r.getLineTokens(d);for(let Wt=b;Wt<b+B;Wt++){const sn=U+Wt-b;Ee[sn]=le[sn]?this._getViewLineData(Rt,Dt?Dt[Wt]:null,Wt):null}}_getViewLineData(r,d,b){this._assertVisible();const B=this._projectionData,Oe=r.sliceAndInflate(b>0?B.breakOffsets[b-1]:0,B.breakOffsets[b],b>0?B.wrappedTextIndentLength:0);let je=Oe.getLineContent();b>0&&(je=qr(B.wrappedTextIndentLength)+je);const rt=this._projectionData.getMinOutputOffset(b)+1,Dt=je.length+1,Rt=b+1<this.getViewLineCount();return new et.IP(je,Rt,rt,Dt,0===b?0:B.breakOffsetsVisibleColumn[b-1],Oe,d)}getModelColumnOfViewPosition(r,d){return this._assertVisible(),this._projectionData.translateToInputOffset(r,d-1)+1}getViewPositionOfModelPosition(r,d,b=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(d-1,b).toPosition(r)}getViewLineNumberOfModelPosition(r,d){return this._assertVisible(),r+this._projectionData.translateToOutputPosition(d-1).outputLineIndex}normalizePosition(r,d,b){const B=d.lineNumber-r;return this._projectionData.normalizeOutputPosition(r,d.column-1,b).toPosition(B)}getInjectedTextAt(r,d){return this._projectionData.getInjectedText(r,d-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Vl{constructor(){}isVisible(){return!0}setVisible(r){return r?this:kr.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(r,d,b){return r.getLineContent(d)}getViewLineLength(r,d,b){return r.getLineLength(d)}getViewLineMinColumn(r,d,b){return r.getLineMinColumn(d)}getViewLineMaxColumn(r,d,b){return r.getLineMaxColumn(d)}getViewLineData(r,d,b){const B=r.getLineTokens(d),U=B.getLineContent();return new et.IP(U,!1,1,U.length+1,0,B.inflate(),null)}getViewLinesData(r,d,b,B,U,le,Ee){Ee[U]=le[U]?this.getViewLineData(r,d,0):null}getModelColumnOfViewPosition(r,d){return d}getViewPositionOfModelPosition(r,d){return new vn.L(r,d)}getViewLineNumberOfModelPosition(r,d){return r}normalizePosition(r,d,b){return d}getInjectedTextAt(r,d){return null}}Vl.INSTANCE=new Vl;class kr{constructor(){}isVisible(){return!1}setVisible(r){return r?Vl.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(r,d,b){throw new Error("Not supported")}getViewLineLength(r,d,b){throw new Error("Not supported")}getViewLineMinColumn(r,d,b){throw new Error("Not supported")}getViewLineMaxColumn(r,d,b){throw new Error("Not supported")}getViewLineData(r,d,b){throw new Error("Not supported")}getViewLinesData(r,d,b,B,U,le,Ee){throw new Error("Not supported")}getModelColumnOfViewPosition(r,d){throw new Error("Not supported")}getViewPositionOfModelPosition(r,d){throw new Error("Not supported")}getViewLineNumberOfModelPosition(r,d){throw new Error("Not supported")}normalizePosition(r,d,b){throw new Error("Not supported")}getInjectedTextAt(r,d){throw new Error("Not supported")}}kr.INSTANCE=new kr;let ba=[""];function qr(st){if(st>=ba.length)for(let r=1;r<=st;r++)ba[r]=$a(r);return ba[st]}function $a(st){return new Array(st+1).join(" ")}var iu=m(5589);class Ga{constructor(r,d,b,B,U,le,Ee,Oe,je){this._editorId=r,this.model=d,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=b,this._monospaceLineBreaksComputerFactory=B,this.fontInfo=U,this.tabSize=le,this.wrappingStrategy=Ee,this.wrappingColumn=Oe,this.wrappingIndent=je,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new md(this)}_constructLines(r,d){this.modelLineProjections=[],r&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const b=this.model.getLinesContent(),B=this.model.getInjectedTextDecorations(this._editorId),U=b.length,le=this.createLineBreaksComputer(),Ee=new f.H9(cn.gk.fromDecorations(B));for(let Cn=0;Cn<U;Cn++){const En=Ee.takeWhile(Zn=>Zn.lineNumber===Cn+1);le.addRequest(b[Cn],En,d?d[Cn]:null)}const Oe=le.finalize(),je=[],rt=this.hiddenAreasDecorationIds.map(Cn=>this.model.getDecorationRange(Cn)).sort(Wn.e.compareRangesUsingStarts);let Dt=1,Rt=0,Wt=-1,sn=Wt+1<rt.length?Rt+1:U+2;for(let Cn=0;Cn<U;Cn++){const En=Cn+1;En===sn&&(Wt++,Dt=rt[Wt].startLineNumber,Rt=rt[Wt].endLineNumber,sn=Wt+1<rt.length?Rt+1:U+2);const ai=Bl(Oe[Cn],!(En>=Dt&&En<=Rt));je[Cn]=ai.getViewLineCount(),this.modelLineProjections[Cn]=ai}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new iu.Ck(je)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(r=>this.model.getDecorationRange(r))}setHiddenAreas(r){const b=function fd(st){if(0===st.length)return[];const r=st.slice();r.sort(Wn.e.compareRangesUsingStarts);const d=[];let b=r[0].startLineNumber,B=r[0].endLineNumber;for(let U=1,le=r.length;U<le;U++){const Ee=r[U];Ee.startLineNumber>B+1?(d.push(new Wn.e(b,1,B,1)),b=Ee.startLineNumber,B=Ee.endLineNumber):Ee.endLineNumber>B&&(B=Ee.endLineNumber)}return d.push(new Wn.e(b,1,B,1)),d}(r.map(Rt=>this.model.validateRange(Rt))),B=this.hiddenAreasDecorationIds.map(Rt=>this.model.getDecorationRange(Rt)).sort(Wn.e.compareRangesUsingStarts);if(b.length===B.length){let Rt=!1;for(let Wt=0;Wt<b.length;Wt++)if(!b[Wt].equalsRange(B[Wt])){Rt=!0;break}if(!Rt)return!1}const U=b.map(Rt=>({range:Rt,options:Tc.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,U);const le=b;let Ee=1,Oe=0,je=-1,rt=je+1<le.length?Oe+1:this.modelLineProjections.length+2,Dt=!1;for(let Rt=0;Rt<this.modelLineProjections.length;Rt++){const Wt=Rt+1;Wt===rt&&(je++,Ee=le[je].startLineNumber,Oe=le[je].endLineNumber,rt=je+1<le.length?Oe+1:this.modelLineProjections.length+2);let sn=!1;if(Wt>=Ee&&Wt<=Oe?this.modelLineProjections[Rt].isVisible()&&(this.modelLineProjections[Rt]=this.modelLineProjections[Rt].setVisible(!1),sn=!0):(Dt=!0,this.modelLineProjections[Rt].isVisible()||(this.modelLineProjections[Rt]=this.modelLineProjections[Rt].setVisible(!0),sn=!0)),sn){const Cn=this.modelLineProjections[Rt].getViewLineCount();this.projectedModelLineLineCounts.setValue(Rt,Cn)}}return Dt||this.setHiddenAreas([]),!0}modelPositionIsVisible(r,d){return!(r<1||r>this.modelLineProjections.length)&&this.modelLineProjections[r-1].isVisible()}getModelLineViewLineCount(r){return r<1||r>this.modelLineProjections.length?1:this.modelLineProjections[r-1].getViewLineCount()}setTabSize(r){return this.tabSize!==r&&(this.tabSize=r,this._constructLines(!1,null),!0)}setWrappingSettings(r,d,b,B){const U=this.fontInfo.equals(r),le=this.wrappingStrategy===d,Ee=this.wrappingColumn===b,Oe=this.wrappingIndent===B;if(U&&le&&Ee&&Oe)return!1;const je=U&&le&&!Ee&&Oe;this.fontInfo=r,this.wrappingStrategy=d,this.wrappingColumn=b,this.wrappingIndent=B;let rt=null;if(je){rt=[];for(let Dt=0,Rt=this.modelLineProjections.length;Dt<Rt;Dt++)rt[Dt]=this.modelLineProjections[Dt].getProjectionData()}return this._constructLines(!1,rt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(r,d,b){if(!r||r<=this._validModelVersionId)return null;const B=1===d?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,U=this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections.splice(d-1,b-d+1),this.projectedModelLineLineCounts.removeValues(d-1,b-d+1),new Os(B,U)}onModelLinesInserted(r,d,b,B){if(!r||r<=this._validModelVersionId)return null;const U=d>2&&!this.modelLineProjections[d-2].isVisible(),le=1===d?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1;let Ee=0;const Oe=[],je=[];for(let rt=0,Dt=B.length;rt<Dt;rt++){const Rt=Bl(B[rt],!U);Oe.push(Rt);const Wt=Rt.getViewLineCount();Ee+=Wt,je[rt]=Wt}return this.modelLineProjections=this.modelLineProjections.slice(0,d-1).concat(Oe).concat(this.modelLineProjections.slice(d-1)),this.projectedModelLineLineCounts.insertValues(d-1,je),new ts(le,le+Ee-1)}onModelLineChanged(r,d,b){if(null!==r&&r<=this._validModelVersionId)return[!1,null,null,null];const B=d-1,U=this.modelLineProjections[B].getViewLineCount(),Ee=Bl(b,this.modelLineProjections[B].isVisible());this.modelLineProjections[B]=Ee;const Oe=this.modelLineProjections[B].getViewLineCount();let je=!1,rt=0,Dt=-1,Rt=0,Wt=-1,sn=0,Cn=-1;return U>Oe?(rt=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,Dt=rt+Oe-1,sn=Dt+1,Cn=sn+(U-Oe)-1,je=!0):U<Oe?(rt=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,Dt=rt+U-1,Rt=Dt+1,Wt=Rt+(Oe-U)-1,je=!0):(rt=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,Dt=rt+Oe-1),this.projectedModelLineLineCounts.setValue(B,Oe),[je,rt<=Dt?new Ss(rt,Dt):null,Rt<=Wt?new ts(Rt,Wt):null,sn<=Cn?new Os(sn,Cn):null]}acceptVersionId(r){this._validModelVersionId=r,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(r){if(r<1)return 1;const d=this.getViewLineCount();return r>d?d:0|r}getActiveIndentGuide(r,d,b){r=this._toValidViewLineNumber(r),d=this._toValidViewLineNumber(d),b=this._toValidViewLineNumber(b);const B=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),U=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),le=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),Ee=this.model.guides.getActiveIndentGuide(B.lineNumber,U.lineNumber,le.lineNumber),Oe=this.convertModelPositionToViewPosition(Ee.startLineNumber,1),je=this.convertModelPositionToViewPosition(Ee.endLineNumber,this.model.getLineMaxColumn(Ee.endLineNumber));return{startLineNumber:Oe.lineNumber,endLineNumber:je.lineNumber,indent:Ee.indent}}getViewLineInfo(r){r=this._toValidViewLineNumber(r);const d=this.projectedModelLineLineCounts.getIndexOf(r-1);return new Wl(d.index+1,d.remainder)}getMinColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(r){const d=this.modelLineProjections[r.modelLineNumber-1],b=d.getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),B=d.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,b);return new vn.L(r.modelLineNumber,B)}getModelEndPositionOfViewLine(r){const d=this.modelLineProjections[r.modelLineNumber-1],b=d.getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),B=d.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,b);return new vn.L(r.modelLineNumber,B)}getViewLineInfosGroupedByModelRanges(r,d){const b=this.getViewLineInfo(r),B=this.getViewLineInfo(d),U=new Array;let le=this.getModelStartPositionOfViewLine(b),Ee=new Array;for(let Oe=b.modelLineNumber;Oe<=B.modelLineNumber;Oe++){const je=this.modelLineProjections[Oe-1];if(je.isVisible()){const rt=Oe===b.modelLineNumber?b.modelLineWrappedLineIdx:0,Dt=Oe===B.modelLineNumber?B.modelLineWrappedLineIdx+1:je.getViewLineCount();for(let Rt=rt;Rt<Dt;Rt++)Ee.push(new Wl(Oe,Rt))}if(!je.isVisible()&&le){const rt=new vn.L(Oe-1,this.model.getLineMaxColumn(Oe-1)+1),Dt=Wn.e.fromPositions(le,rt);U.push(new gd(Dt,Ee)),Ee=[],le=null}else je.isVisible()&&!le&&(le=new vn.L(Oe,1))}if(le){const Oe=Wn.e.fromPositions(le,this.getModelEndPositionOfViewLine(B));U.push(new gd(Oe,Ee))}return U}getViewLinesBracketGuides(r,d,b,B){const U=b?this.convertViewPositionToModelPosition(b.lineNumber,b.column):null,le=[];for(const Ee of this.getViewLineInfosGroupedByModelRanges(r,d)){const Oe=Ee.modelRange.startLineNumber,je=this.model.guides.getLinesBracketGuides(Oe,Ee.modelRange.endLineNumber,U,B);for(const rt of Ee.viewLines)if(rt.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(rt))le.push([]);else{let Dt=je[rt.modelLineNumber-Oe];Dt=Dt.map(Rt=>Rt.horizontalLine?new ks.UO(Rt.visibleColumn,Rt.className,new ks.vW(Rt.horizontalLine.top,this.convertModelPositionToViewPosition(rt.modelLineNumber,Rt.horizontalLine.endColumn).column)):Rt),le.push(Dt)}}return le}getViewLinesIndentGuides(r,d){r=this._toValidViewLineNumber(r),d=this._toValidViewLineNumber(d);const b=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),B=this.convertViewPositionToModelPosition(d,this.getViewLineMaxColumn(d));let U=[];const le=[],Ee=[],Oe=b.lineNumber-1,je=B.lineNumber-1;let rt=null;for(let sn=Oe;sn<=je;sn++){const Cn=this.modelLineProjections[sn];if(Cn.isVisible()){const En=Cn.getViewLineNumberOfModelPosition(0,sn===Oe?b.column:1),Zn=Cn.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(sn+1)),ai=Zn-En+1;let oi=0;ai>1&&1===Cn.getViewLineMinColumn(this.model,sn+1,Zn)&&(oi=0===En?1:2),le.push(ai),Ee.push(oi),null===rt&&(rt=new vn.L(sn+1,0))}else null!==rt&&(U=U.concat(this.model.guides.getLinesIndentGuides(rt.lineNumber,sn)),rt=null)}null!==rt&&(U=U.concat(this.model.guides.getLinesIndentGuides(rt.lineNumber,B.lineNumber)),rt=null);const Dt=d-r+1,Rt=new Array(Dt);let Wt=0;for(let sn=0,Cn=U.length;sn<Cn;sn++){let En=U[sn];const Zn=Math.min(Dt-Wt,le[sn]),ai=Ee[sn];let oi;oi=2===ai?0:1===ai?1:Zn;for(let Oi=0;Oi<Zn;Oi++)Oi===oi&&(En=0),Rt[Wt++]=En}return Rt}getViewLineContent(r){const d=this.getViewLineInfo(r);return this.modelLineProjections[d.modelLineNumber-1].getViewLineContent(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineLength(r){const d=this.getViewLineInfo(r);return this.modelLineProjections[d.modelLineNumber-1].getViewLineLength(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMinColumn(r){const d=this.getViewLineInfo(r);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMaxColumn(r){const d=this.getViewLineInfo(r);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineData(r){const d=this.getViewLineInfo(r);return this.modelLineProjections[d.modelLineNumber-1].getViewLineData(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLinesData(r,d,b){r=this._toValidViewLineNumber(r),d=this._toValidViewLineNumber(d);const B=this.projectedModelLineLineCounts.getIndexOf(r-1);let U=r;const le=B.index,Ee=B.remainder,Oe=[];for(let je=le,rt=this.model.getLineCount();je<rt;je++){const Dt=this.modelLineProjections[je];if(!Dt.isVisible())continue;const Rt=je===le?Ee:0;let Wt=Dt.getViewLineCount()-Rt,sn=!1;if(U+Wt>d&&(sn=!0,Wt=d-U+1),Dt.getViewLinesData(this.model,je+1,Rt,Wt,U-r,b,Oe),U+=Wt,sn)break}return Oe}validateViewPosition(r,d,b){r=this._toValidViewLineNumber(r);const B=this.projectedModelLineLineCounts.getIndexOf(r-1),U=B.index,le=B.remainder,Ee=this.modelLineProjections[U],Oe=Ee.getViewLineMinColumn(this.model,U+1,le),je=Ee.getViewLineMaxColumn(this.model,U+1,le);d<Oe&&(d=Oe),d>je&&(d=je);const rt=Ee.getModelColumnOfViewPosition(le,d);return this.model.validatePosition(new vn.L(U+1,rt)).equals(b)?new vn.L(r,d):this.convertModelPositionToViewPosition(b.lineNumber,b.column)}validateViewRange(r,d){const b=this.validateViewPosition(r.startLineNumber,r.startColumn,d.getStartPosition()),B=this.validateViewPosition(r.endLineNumber,r.endColumn,d.getEndPosition());return new Wn.e(b.lineNumber,b.column,B.lineNumber,B.column)}convertViewPositionToModelPosition(r,d){const b=this.getViewLineInfo(r),B=this.modelLineProjections[b.modelLineNumber-1].getModelColumnOfViewPosition(b.modelLineWrappedLineIdx,d);return this.model.validatePosition(new vn.L(b.modelLineNumber,B))}convertViewRangeToModelRange(r){const d=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),b=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);return new Wn.e(d.lineNumber,d.column,b.lineNumber,b.column)}convertModelPositionToViewPosition(r,d,b=2){const B=this.model.validatePosition(new vn.L(r,d)),U=B.lineNumber,le=B.column;let Ee=U-1,Oe=!1;for(;Ee>0&&!this.modelLineProjections[Ee].isVisible();)Ee--,Oe=!0;if(0===Ee&&!this.modelLineProjections[Ee].isVisible())return new vn.L(1,1);const je=1+this.projectedModelLineLineCounts.getPrefixSum(Ee);let rt;return rt=Oe?this.modelLineProjections[Ee].getViewPositionOfModelPosition(je,this.model.getLineMaxColumn(Ee+1),b):this.modelLineProjections[U-1].getViewPositionOfModelPosition(je,le,b),rt}convertModelRangeToViewRange(r,d=0){if(r.isEmpty()){const b=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,d);return Wn.e.fromPositions(b)}{const b=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,1),B=this.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn,0);return new Wn.e(b.lineNumber,b.column,B.lineNumber,B.column)}}getViewLineNumberOfModelPosition(r,d){let b=r-1;if(this.modelLineProjections[b].isVisible()){const U=1+this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections[b].getViewLineNumberOfModelPosition(U,d)}for(;b>0&&!this.modelLineProjections[b].isVisible();)b--;if(0===b&&!this.modelLineProjections[b].isVisible())return 1;const B=1+this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections[b].getViewLineNumberOfModelPosition(B,this.model.getLineMaxColumn(b+1))}getDecorationsInRange(r,d,b){const B=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),U=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);if(U.lineNumber-B.lineNumber<=r.endLineNumber-r.startLineNumber)return this.model.getDecorationsInRange(new Wn.e(B.lineNumber,1,U.lineNumber,U.column),d,b);let le=[];const Ee=B.lineNumber-1,Oe=U.lineNumber-1;let je=null;for(let Wt=Ee;Wt<=Oe;Wt++)if(this.modelLineProjections[Wt].isVisible())null===je&&(je=new vn.L(Wt+1,Wt===Ee?B.column:1));else if(null!==je){const Cn=this.model.getLineMaxColumn(Wt);le=le.concat(this.model.getDecorationsInRange(new Wn.e(je.lineNumber,je.column,Wt,Cn),d,b)),je=null}null!==je&&(le=le.concat(this.model.getDecorationsInRange(new Wn.e(je.lineNumber,je.column,U.lineNumber,U.column),d,b)),je=null),le.sort((Wt,sn)=>{const Cn=Wn.e.compareRangesUsingStarts(Wt.range,sn.range);return 0===Cn?Wt.id<sn.id?-1:Wt.id>sn.id?1:0:Cn});let rt=[],Dt=0,Rt=null;for(const Wt of le){const sn=Wt.id;Rt!==sn&&(Rt=sn,rt[Dt++]=Wt)}return rt}getInjectedTextAt(r){const d=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[d.modelLineNumber-1].getInjectedTextAt(d.modelLineWrappedLineIdx,r.column)}normalizePosition(r,d){const b=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[b.modelLineNumber-1].normalizePosition(b.modelLineWrappedLineIdx,r,d)}getLineIndentColumn(r){const d=this.getViewLineInfo(r);return 0===d.modelLineWrappedLineIdx?this.model.getLineIndentColumn(d.modelLineNumber):0}}class Wl{constructor(r,d){this.modelLineNumber=r,this.modelLineWrappedLineIdx=d}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class gd{constructor(r,d){this.modelRange=r,this.viewLines=d}}class md{constructor(r){this._lines=r}convertViewPositionToModelPosition(r){return this._lines.convertViewPositionToModelPosition(r.lineNumber,r.column)}convertViewRangeToModelRange(r){return this._lines.convertViewRangeToModelRange(r)}validateViewPosition(r,d){return this._lines.validateViewPosition(r.lineNumber,r.column,d)}validateViewRange(r,d){return this._lines.validateViewRange(r,d)}convertModelPositionToViewPosition(r,d){return this._lines.convertModelPositionToViewPosition(r.lineNumber,r.column,d)}convertModelRangeToViewRange(r,d){return this._lines.convertModelRangeToViewRange(r,d)}modelPositionIsVisible(r){return this._lines.modelPositionIsVisible(r.lineNumber,r.column)}getModelLineViewLineCount(r){return this._lines.getModelLineViewLineCount(r)}getViewLineNumberOfModelPosition(r,d){return this._lines.getViewLineNumberOfModelPosition(r,d)}}class pd{constructor(r){this.model=r}dispose(){}createCoordinatesConverter(){return new Qu(this)}getHiddenAreas(){return[]}setHiddenAreas(r){return!1}setTabSize(r){return!1}setWrappingSettings(r,d,b,B){return!1}createLineBreaksComputer(){const r=[];return{addRequest:(d,b,B)=>{r.push(null)},finalize:()=>r}}onModelFlushed(){}onModelLinesDeleted(r,d,b){return new Os(d,b)}onModelLinesInserted(r,d,b,B){return new ts(d,b)}onModelLineChanged(r,d,b){return[!1,new Ss(d,d),null,null]}acceptVersionId(r){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(r,d,b){return{startLineNumber:r,endLineNumber:r,indent:0}}getViewLinesBracketGuides(r,d,b){return new Array(d-r+1).fill([])}getViewLinesIndentGuides(r,d){const b=d-r+1,B=new Array(b);for(let U=0;U<b;U++)B[U]=0;return B}getViewLineContent(r){return this.model.getLineContent(r)}getViewLineLength(r){return this.model.getLineLength(r)}getViewLineMinColumn(r){return this.model.getLineMinColumn(r)}getViewLineMaxColumn(r){return this.model.getLineMaxColumn(r)}getViewLineData(r){const d=this.model.getLineTokens(r),b=d.getLineContent();return new et.IP(b,!1,1,b.length+1,0,d.inflate(),null)}getViewLinesData(r,d,b){const B=this.model.getLineCount();r=Math.min(Math.max(1,r),B),d=Math.min(Math.max(1,d),B);const U=[];for(let le=r;le<=d;le++){const Ee=le-r;U[Ee]=b[Ee]?this.getViewLineData(le):null}return U}getDecorationsInRange(r,d,b){return this.model.getDecorationsInRange(r,d,b)}normalizePosition(r,d){return this.model.normalizePosition(r,d)}getLineIndentColumn(r){return this.model.getLineIndentColumn(r)}getInjectedTextAt(r){return null}}class Qu{constructor(r){this._lines=r}_validPosition(r){return this._lines.model.validatePosition(r)}_validRange(r){return this._lines.model.validateRange(r)}convertViewPositionToModelPosition(r){return this._validPosition(r)}convertViewRangeToModelRange(r){return this._validRange(r)}validateViewPosition(r,d){return this._validPosition(d)}validateViewRange(r,d){return this._validRange(d)}convertModelPositionToViewPosition(r){return this._validPosition(r)}convertModelRangeToViewRange(r){return this._validRange(r)}modelPositionIsVisible(r){const d=this._lines.model.getLineCount();return!(r.lineNumber<1||r.lineNumber>d)}getModelLineViewLineCount(r){return 1}getViewLineNumberOfModelPosition(r,d){return r}}class wl extends w.JT{constructor(r,d,b,B,U,le,Ee){if(super(),this.languageConfigurationService=Ee,this._editorId=r,this._configuration=d,this.model=b,this._eventDispatcher=new Ps,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new be.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new lt.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new lt.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new pd(this.model);else{const Oe=this._configuration.options,je=Oe.get(44),rt=Oe.get(125),Dt=Oe.get(132),Rt=Oe.get(124);this._lines=new Ga(this._editorId,this.model,B,U,je,this.model.getOptions().tabSize,rt,Dt.wrappingColumn,Rt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new rs(b,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new va(this._configuration,this.getLineCount(),le)),this._register(this.viewLayout.onDidScroll(Oe=>{Oe.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new io(Oe)),this._eventDispatcher.emitOutgoingEvent(new la(Oe.oldScrollWidth,Oe.oldScrollLeft,Oe.oldScrollHeight,Oe.oldScrollTop,Oe.scrollWidth,Oe.scrollLeft,Oe.scrollHeight,Oe.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Oe=>{this._eventDispatcher.emitOutgoingEvent(Oe)})),this._decorations=new rc.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Oe=>{try{const je=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(je,Oe)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Qe.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Cs)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(r){this._eventDispatcher.addViewEventHandler(r)}removeViewEventHandler(r){this._eventDispatcher.removeViewEventHandler(r)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const r=this.viewLayout.getLinesViewportData(),d=new Wn.e(r.startLineNumber,this.getLineMinColumn(r.startLineNumber),r.endLineNumber,this.getLineMaxColumn(r.endLineNumber)),b=this._toModelVisibleRanges(d);for(const B of b)this.model.tokenizeViewport(B.startLineNumber,B.endLineNumber)}setHasFocus(r){this._hasFocus=r,this._cursor.setHasFocus(r),this._eventDispatcher.emitSingleViewEvent(new fo(r)),this._eventDispatcher.emitOutgoingEvent(new gr(!r,r))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new wn)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ni)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new Do)}_onConfigurationChanged(r,d){let b=null;if(-1!==this._viewportStartLine){const rt=new vn.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));b=this.coordinatesConverter.convertViewPositionToModelPosition(rt)}let B=!1;const U=this._configuration.options,le=U.get(44),Ee=U.get(125),Oe=U.get(132),je=U.get(124);if(this._lines.setWrappingSettings(le,Ee,Oe.wrappingColumn,je)&&(r.emitViewEvent(new pi),r.emitViewEvent(new hs),r.emitViewEvent(new ao(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(B=!0),this._updateConfigurationViewLineCount.schedule()),d.hasChanged(81)&&(this._decorations.reset(),r.emitViewEvent(new ao(null))),r.emitViewEvent(new Hi(d)),this.viewLayout.onConfigurationChanged(d),B&&b){const rt=this.coordinatesConverter.convertModelPositionToViewPosition(b),Dt=this.viewLayout.getVerticalOffsetForLineNumber(rt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Dt+this._viewportStartLineDelta},1)}be.LM.shouldRecreate(d)&&(this.cursorConfig=new be.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(r=>{try{const d=this._eventDispatcher.beginEmitViewEvents();let b=!1,B=!1;const U=r.changes,le=r instanceof cn.dQ?r.versionId:null,Ee=this._lines.createLineBreaksComputer();for(const rt of U)switch(rt.changeType){case 4:for(let Dt=0;Dt<rt.detail.length;Dt++){const Rt=rt.detail[Dt];let Wt=rt.injectedTexts[Dt];Wt&&(Wt=Wt.filter(sn=>!sn.ownerId||sn.ownerId===this._editorId)),Ee.addRequest(Rt,Wt,null)}break;case 2:{let Dt=null;rt.injectedText&&(Dt=rt.injectedText.filter(Rt=>!Rt.ownerId||Rt.ownerId===this._editorId)),Ee.addRequest(rt.detail,Dt,null);break}}const Oe=Ee.finalize(),je=new f.H9(Oe);for(const rt of U)switch(rt.changeType){case 1:this._lines.onModelFlushed(),d.emitViewEvent(new pi),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),b=!0;break;case 3:{const Dt=this._lines.onModelLinesDeleted(le,rt.fromLineNumber,rt.toLineNumber);null!==Dt&&(d.emitViewEvent(Dt),this.viewLayout.onLinesDeleted(Dt.fromLineNumber,Dt.toLineNumber)),b=!0;break}case 4:{const Dt=je.takeCount(rt.detail.length),Rt=this._lines.onModelLinesInserted(le,rt.fromLineNumber,rt.toLineNumber,Dt);null!==Rt&&(d.emitViewEvent(Rt),this.viewLayout.onLinesInserted(Rt.fromLineNumber,Rt.toLineNumber)),b=!0;break}case 2:{const Dt=je.dequeue(),[Rt,Wt,sn,Cn]=this._lines.onModelLineChanged(le,rt.lineNumber,Dt);B=Rt,Wt&&d.emitViewEvent(Wt),sn&&(d.emitViewEvent(sn),this.viewLayout.onLinesInserted(sn.fromLineNumber,sn.toLineNumber)),Cn&&(d.emitViewEvent(Cn),this.viewLayout.onLinesDeleted(Cn.fromLineNumber,Cn.toLineNumber));break}}null!==le&&this._lines.acceptVersionId(le),this.viewLayout.onHeightMaybeChanged(),!b&&B&&(d.emitViewEvent(new hs),d.emitViewEvent(new ao(null)),this._cursor.onLineMappingChanged(d),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const d=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(d){const b=this.coordinatesConverter.convertModelPositionToViewPosition(d.getStartPosition()),B=this.viewLayout.getVerticalOffsetForLineNumber(b.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStartLineDelta},1)}}try{const d=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(d,r)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(r=>{const d=[];for(let b=0,B=r.ranges.length;b<B;b++){const U=r.ranges[b],le=this.coordinatesConverter.convertModelPositionToViewPosition(new vn.L(U.fromLineNumber,1)).lineNumber,Ee=this.coordinatesConverter.convertModelPositionToViewPosition(new vn.L(U.toLineNumber,this.model.getLineMaxColumn(U.toLineNumber))).lineNumber;d[b]={fromLineNumber:le,toLineNumber:Ee}}this._eventDispatcher.emitSingleViewEvent(new Ro(d)),r.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(r=>{this._eventDispatcher.emitSingleViewEvent(new Lo),this.cursorConfig=new be.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(r=>{this.cursorConfig=new be.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(r=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const d=this._eventDispatcher.beginEmitViewEvents();d.emitViewEvent(new pi),d.emitViewEvent(new hs),d.emitViewEvent(new ao(null)),this._cursor.onLineMappingChanged(d),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new be.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(r=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new ao(r))}))}setHiddenAreas(r){let d=!1;try{const b=this._eventDispatcher.beginEmitViewEvents();d=this._lines.setHiddenAreas(r),d&&(b.emitViewEvent(new pi),b.emitViewEvent(new hs),b.emitViewEvent(new ao(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),d&&this._eventDispatcher.emitOutgoingEvent(new ul)}getVisibleRangesPlusViewportAboveBelow(){const r=this._configuration.options.get(131),d=this._configuration.options.get(59),b=Math.max(20,Math.round(r.height/d)),B=this.viewLayout.getLinesViewportData(),U=Math.max(1,B.completelyVisibleStartLineNumber-b),le=Math.min(this.getLineCount(),B.completelyVisibleEndLineNumber+b);return this._toModelVisibleRanges(new Wn.e(U,this.getLineMinColumn(U),le,this.getLineMaxColumn(le)))}getVisibleRanges(){const r=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(r)}_toModelVisibleRanges(r){const d=this.coordinatesConverter.convertViewRangeToModelRange(r),b=this._lines.getHiddenAreas();if(0===b.length)return[d];const B=[];let U=0,le=d.startLineNumber,Ee=d.startColumn;const Oe=d.endLineNumber,je=d.endColumn;for(let rt=0,Dt=b.length;rt<Dt;rt++){const Rt=b[rt].startLineNumber,Wt=b[rt].endLineNumber;Wt<le||Rt>Oe||(le<Rt&&(B[U++]=new Wn.e(le,Ee,Rt-1,this.model.getLineMaxColumn(Rt-1))),le=Wt+1,Ee=1)}return(le<Oe||le===Oe&&Ee<je)&&(B[U++]=new Wn.e(le,Ee,Oe,je)),B}getCompletelyVisibleViewRange(){const r=this.viewLayout.getLinesViewportData(),d=r.completelyVisibleStartLineNumber,b=r.completelyVisibleEndLineNumber;return new Wn.e(d,this.getLineMinColumn(d),b,this.getLineMaxColumn(b))}getCompletelyVisibleViewRangeAtScrollTop(r){const d=this.viewLayout.getLinesViewportDataAtScrollTop(r),b=d.completelyVisibleStartLineNumber,B=d.completelyVisibleEndLineNumber;return new Wn.e(b,this.getLineMinColumn(b),B,this.getLineMaxColumn(B))}saveState(){const r=this.viewLayout.saveState(),d=r.scrollTop,b=this.viewLayout.getLineNumberAtVerticalOffset(d),B=this.coordinatesConverter.convertViewPositionToModelPosition(new vn.L(b,this.getLineMinColumn(b))),U=this.viewLayout.getVerticalOffsetForLineNumber(b)-d;return{scrollLeft:r.scrollLeft,firstPosition:B,firstPositionDeltaTop:U}}reduceRestoreState(r){if(void 0===r.firstPosition)return this._reduceRestoreStateCompatibility(r);const d=this.model.validatePosition(r.firstPosition),b=this.coordinatesConverter.convertModelPositionToViewPosition(d),B=this.viewLayout.getVerticalOffsetForLineNumber(b.lineNumber)-r.firstPositionDeltaTop;return{scrollLeft:r.scrollLeft,scrollTop:B}}_reduceRestoreStateCompatibility(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(r,d,b){this._viewportStartLine=r;const B=this.coordinatesConverter.convertViewPositionToModelPosition(new vn.L(r,this.getLineMinColumn(r)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Wn.e(B.lineNumber,B.column,B.lineNumber,B.column),1);const U=this.viewLayout.getVerticalOffsetForLineNumber(r),le=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=le-U}getActiveIndentGuide(r,d,b){return this._lines.getActiveIndentGuide(r,d,b)}getLinesIndentGuides(r,d){return this._lines.getViewLinesIndentGuides(r,d)}getBracketGuidesInRangeByLine(r,d,b,B){return this._lines.getViewLinesBracketGuides(r,d,b,B)}getLineContent(r){return this._lines.getViewLineContent(r)}getLineLength(r){return this._lines.getViewLineLength(r)}getLineMinColumn(r){return this._lines.getViewLineMinColumn(r)}getLineMaxColumn(r){return this._lines.getViewLineMaxColumn(r)}getLineFirstNonWhitespaceColumn(r){const d=Jn.LC(this.getLineContent(r));return-1===d?0:d+1}getLineLastNonWhitespaceColumn(r){const d=Jn.ow(this.getLineContent(r));return-1===d?0:d+2}getDecorationsInViewport(r){return this._decorations.getDecorationsViewportData(r).decorations}getInjectedTextAt(r){return this._lines.getInjectedTextAt(r)}getViewLineRenderingData(r,d){const b=this.model.mightContainRTL(),B=this.model.mightContainNonBasicASCII(),U=this.getTabSize(),le=this._lines.getViewLineData(d);let Oe=this._decorations.getDecorationsViewportData(r).inlineDecorations[d-r.startLineNumber];return le.inlineDecorations&&(Oe=[...Oe,...le.inlineDecorations.map(je=>je.toInlineDecoration(d))]),new et.wA(le.minColumn,le.maxColumn,le.content,le.continuesWithWrappedLine,b,B,le.tokens,Oe,U,le.startVisibleColumn)}getViewLineData(r){return this._lines.getViewLineData(r)}getMinimapLinesRenderingData(r,d,b){const B=this._lines.getViewLinesData(r,d,b);return new et.ud(this.getTabSize(),B)}getAllOverviewRulerDecorations(r){const d=this.model.getOverviewRulerDecorations(this._editorId,(0,P.$J)(this._configuration.options)),b=new Uf;for(const B of d){const U=B.options,le=U.overviewRuler;if(!le)continue;const Ee=le.position;if(0===Ee)continue;const Oe=le.getColor(r.value),je=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.startLineNumber,B.range.startColumn),rt=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.endLineNumber,B.range.endColumn);b.accept(Oe,U.zIndex,je,rt,Ee)}return b.asArray}invalidateOverviewRulerColorCache(){const r=this.model.getOverviewRulerDecorations();for(const d of r){const b=d.options.overviewRuler;b&&b.invalidateCachedColor()}}invalidateMinimapColorCache(){const r=this.model.getAllDecorations();for(const d of r){const b=d.options.minimap;b&&b.invalidateCachedColor()}}getValueInRange(r,d){const b=this.coordinatesConverter.convertViewRangeToModelRange(r);return this.model.getValueInRange(b,d)}getModelLineMaxColumn(r){return this.model.getLineMaxColumn(r)}validateModelPosition(r){return this.model.validatePosition(r)}validateModelRange(r){return this.model.validateRange(r)}deduceModelPositionRelativeToViewPosition(r,d,b){const B=this.coordinatesConverter.convertViewPositionToModelPosition(r);2===this.model.getEOL().length&&(d<0?d-=b:d+=b);const le=this.model.getOffsetAt(B)+d;return this.model.getPositionAt(le)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(r,d,b){const B=b?"\r\n":this.model.getEOL();(r=r.slice(0)).sort(Wn.e.compareRangesUsingStarts);let U=!1,le=!1;for(const Oe of r)Oe.isEmpty()?U=!0:le=!0;if(!le){if(!d)return"";const Oe=r.map(rt=>rt.startLineNumber);let je="";for(let rt=0;rt<Oe.length;rt++)rt>0&&Oe[rt-1]===Oe[rt]||(je+=this.model.getLineContent(Oe[rt])+B);return je}if(U&&d){const Oe=[];let je=0;for(const rt of r){const Dt=rt.startLineNumber;rt.isEmpty()?Dt!==je&&Oe.push(this.model.getLineContent(Dt)):Oe.push(this.model.getValueInRange(rt,b?2:0)),je=Dt}return 1===Oe.length?Oe[0]:Oe}const Ee=[];for(const Oe of r)Oe.isEmpty()||Ee.push(this.model.getValueInRange(Oe,b?2:0));return 1===Ee.length?Ee[0]:Ee}getRichTextToCopy(r,d){const b=this.model.getLanguageId();if(b===Ur.bd||1!==r.length)return null;let B=r[0];if(B.isEmpty()){if(!d)return null;const rt=B.startLineNumber;B=new Wn.e(rt,this.model.getLineMinColumn(rt),rt,this.model.getLineMaxColumn(rt))}const U=this._configuration.options.get(44),le=this._getColorMap();let je;return/[:;\\\/<>]/.test(U.fontFamily)||U.fontFamily===P.hL.fontFamily?je=P.hL.fontFamily:(je=U.fontFamily,je=je.replace(/"/g,"'"),/[,']/.test(je)||/[+ ]/.test(je)&&(je=`'${je}'`),je=`${je}, ${P.hL.fontFamily}`),{mode:b,html:`<div style="color: ${le[1]};background-color: ${le[2]};font-family: ${je};font-weight: ${U.fontWeight};font-size: ${U.fontSize}px;line-height: ${U.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(B,le)+"</div>"}}_getHTMLToCopy(r,d){const b=r.startLineNumber,B=r.startColumn,U=r.endLineNumber,le=r.endColumn,Ee=this.getTabSize();let Oe="";for(let je=b;je<=U;je++){const rt=this.model.getLineTokens(je),Dt=rt.getLineContent(),Rt=je===b?B-1:0,Wt=je===U?le-1:Dt.length;Oe+=""===Dt?"<br>":(0,Es.Fq)(Dt,rt.inflate(),d,Rt,Wt,Ee,z.ED)}return Oe}_getColorMap(){const r=Kn.RW.getColorMap(),d=["#000000"];if(r)for(let b=1,B=r.length;b<B;b++)d[b]=Pn.Il.Format.CSS.formatHex(r[b]);return d}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(r,d,b){return this._withViewEventsCollector(B=>this._cursor.setStates(B,r,d,b))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(r){this._cursor.setCursorColumnSelectData(r)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(r){this._cursor.setPrevEditOperationType(r)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(r,d,b=0){this._withViewEventsCollector(B=>this._cursor.setSelections(B,r,d,b))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(r){this._withViewEventsCollector(d=>this._cursor.restoreState(d,r))}_executeCursorEdit(r){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new eo):this._withViewEventsCollector(r)}executeEdits(r,d,b){this._executeCursorEdit(B=>this._cursor.executeEdits(B,r,d,b))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(r=>this._cursor.startComposition(r))}endComposition(r){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(d=>this._cursor.endComposition(d,r))}type(r,d){this._executeCursorEdit(b=>this._cursor.type(b,r,d))}compositionType(r,d,b,B,U){this._executeCursorEdit(le=>this._cursor.compositionType(le,r,d,b,B,U))}paste(r,d,b,B){this._executeCursorEdit(U=>this._cursor.paste(U,r,d,b,B))}cut(r){this._executeCursorEdit(d=>this._cursor.cut(d,r))}executeCommand(r,d){this._executeCursorEdit(b=>this._cursor.executeCommand(b,r,d))}executeCommands(r,d){this._executeCursorEdit(b=>this._cursor.executeCommands(b,r,d))}revealPrimaryCursor(r,d,b=!1){this._withViewEventsCollector(B=>this._cursor.revealPrimary(B,r,b,0,d,0))}revealTopMostCursor(r){const d=this._cursor.getTopMostViewPosition(),b=new Wn.e(d.lineNumber,d.column,d.lineNumber,d.column);this._withViewEventsCollector(B=>B.emitViewEvent(new Jo(r,!1,b,null,0,!0,0)))}revealBottomMostCursor(r){const d=this._cursor.getBottomMostViewPosition(),b=new Wn.e(d.lineNumber,d.column,d.lineNumber,d.column);this._withViewEventsCollector(B=>B.emitViewEvent(new Jo(r,!1,b,null,0,!0,0)))}revealRange(r,d,b,B,U){this._withViewEventsCollector(le=>le.emitViewEvent(new Jo(r,!1,b,null,B,d,U)))}getVerticalOffsetForLineNumber(r){return this.viewLayout.getVerticalOffsetForLineNumber(r)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(r,d){this.viewLayout.setScrollPosition({scrollTop:r},d)}setScrollPosition(r,d){this.viewLayout.setScrollPosition(r,d)}deltaScrollNow(r,d){this.viewLayout.deltaScrollNow(r,d)}changeWhitespace(r){this.viewLayout.changeWhitespace(r)&&(this._eventDispatcher.emitSingleViewEvent(new Ms),this._eventDispatcher.emitOutgoingEvent(new ul))}setMaxLineWidth(r){this.viewLayout.setMaxLineWidth(r)}_withViewEventsCollector(r){try{return r(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(r,d){return this._lines.normalizePosition(r,d)}getLineIndentColumn(r){return this._lines.getLineIndentColumn(r)}}class Uf{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(r,d,b,B,U){const le=this._asMap[r];if(le){const Ee=le.data,je=Ee[Ee.length-1];if(Ee[Ee.length-3]===U&&je+1>=b)return void(B>je&&(Ee[Ee.length-1]=B));Ee.push(U,b,B)}else{const Ee=new et.SQ(r,d,[U,b,B]);this._asMap[r]=Ee,this.asArray.push(Ee)}}}var Ac=m(3884),_d=m(9776),vd=m(4725),kc=m(2281),Rc=m(8782),Oc=m(7686);class hr{constructor(r,d,b,B,U){this.injectionOffsets=r,this.injectionOptions=d,this.breakOffsets=b,this.breakOffsetsVisibleColumn=B,this.wrappedTextIndentLength=U}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(r){return r>0?this.wrappedTextIndentLength:0}getLineLength(r){let B=this.breakOffsets[r]-(r>0?this.breakOffsets[r-1]:0);return r>0&&(B+=this.wrappedTextIndentLength),B}getMaxOutputOffset(r){return this.getLineLength(r)}translateToInputOffset(r,d){r>0&&(d=Math.max(0,d-this.wrappedTextIndentLength));let B=0===r?d:this.breakOffsets[r-1]+d;if(null!==this.injectionOffsets)for(let U=0;U<this.injectionOffsets.length&&B>this.injectionOffsets[U];U++)B<this.injectionOffsets[U]+this.injectionOptions[U].content.length?B=this.injectionOffsets[U]:B-=this.injectionOptions[U].content.length;return B}translateToOutputPosition(r,d=2){let b=r;if(null!==this.injectionOffsets)for(let B=0;B<this.injectionOffsets.length&&!(r<this.injectionOffsets[B]||1!==d&&r===this.injectionOffsets[B]);B++)b+=this.injectionOptions[B].content.length;return this.offsetInInputWithInjectionsToOutputPosition(b,d)}offsetInInputWithInjectionsToOutputPosition(r,d=2){let b=0,B=this.breakOffsets.length-1,U=0,le=0;for(;b<=B;){U=b+(B-b)/2|0;const Oe=this.breakOffsets[U];if(le=U>0?this.breakOffsets[U-1]:0,0===d)if(r<=le)B=U-1;else{if(!(r>Oe))break;b=U+1}else if(r<le)B=U-1;else{if(!(r>=Oe))break;b=U+1}}let Ee=r-le;return U>0&&(Ee+=this.wrappedTextIndentLength),new Cd(U,Ee)}normalizeOutputPosition(r,d,b){if(null!==this.injectionOffsets){const B=this.outputPositionToOffsetInInputWithInjections(r,d),U=this.normalizeOffsetInInputWithInjectionsAroundInjections(B,b);if(U!==B)return this.offsetInInputWithInjectionsToOutputPosition(U,b)}if(0===b){if(r>0&&d===this.getMinOutputOffset(r))return new Cd(r-1,this.getMaxOutputOffset(r-1))}else if(1===b&&r<this.getOutputLineCount()-1&&d===this.getMaxOutputOffset(r))return new Cd(r+1,this.getMinOutputOffset(r+1));return new Cd(r,d)}outputPositionToOffsetInInputWithInjections(r,d){return r>0&&(d=Math.max(0,d-this.wrappedTextIndentLength)),(r>0?this.breakOffsets[r-1]:0)+d}normalizeOffsetInInputWithInjectionsAroundInjections(r,d){const b=this.getInjectedTextAtOffset(r);if(!b)return r;if(2===d){if(r===b.offsetInInputWithInjections+b.length&&Hl(this.injectionOptions[b.injectedTextIndex].cursorStops))return b.offsetInInputWithInjections+b.length;{let B=b.offsetInInputWithInjections;if(bd(this.injectionOptions[b.injectedTextIndex].cursorStops))return B;let U=b.injectedTextIndex-1;for(;U>=0&&this.injectionOffsets[U]===this.injectionOffsets[b.injectedTextIndex]&&!Hl(this.injectionOptions[U].cursorStops)&&(B-=this.injectionOptions[U].content.length,!bd(this.injectionOptions[U].cursorStops));)U--;return B}}if(1===d){let B=b.offsetInInputWithInjections+b.length,U=b.injectedTextIndex;for(;U+1<this.injectionOffsets.length&&this.injectionOffsets[U+1]===this.injectionOffsets[U];)B+=this.injectionOptions[U+1].content.length,U++;return B}if(0===d){let B=b.offsetInInputWithInjections,U=b.injectedTextIndex;for(;U-1>=0&&this.injectionOffsets[U-1]===this.injectionOffsets[U];)B-=this.injectionOptions[U-1].content.length,U--;return B}(0,$s.vE)(d)}getInjectedText(r,d){const b=this.outputPositionToOffsetInInputWithInjections(r,d),B=this.getInjectedTextAtOffset(b);return B?{options:this.injectionOptions[B.injectedTextIndex]}:null}getInjectedTextAtOffset(r){const d=this.injectionOffsets,b=this.injectionOptions;if(null!==d){let B=0;for(let U=0;U<d.length;U++){const le=b[U].content.length,Ee=d[U]+B,Oe=d[U]+B+le;if(Ee>r)break;if(r<=Oe)return{injectedTextIndex:U,offsetInInputWithInjections:Ee,length:le};B+=le}}}}function Hl(st){return null==st||st===Gt.RM.Right||st===Gt.RM.Both}function bd(st){return null==st||st===Gt.RM.Left||st===Gt.RM.Both}class Cd{constructor(r,d){this.outputLineIndex=r,this.outputOffset=d}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(r){return new vn.L(r+this.outputLineIndex,this.outputOffset+1)}}class Kr{constructor(r,d){this.classifier=new xa(r,d)}static create(r){return new Kr(r.get(120),r.get(119))}createLineBreaksComputer(r,d,b,B){const U=[],le=[],Ee=[];return{addRequest:(Oe,je,rt)=>{U.push(Oe),le.push(je),Ee.push(rt)},finalize:()=>{const Oe=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth,je=[];for(let rt=0,Dt=U.length;rt<Dt;rt++){const Rt=le[rt],Wt=Ee[rt];je[rt]=!Wt||Wt.injectionOptions||Rt?zl(this.classifier,U[rt],Rt,d,b,Oe,B):Fc(this.classifier,Wt,U[rt],d,b,Oe,B)}return Lr.length=0,Pc.length=0,je}}}}class xa extends Oc.N{constructor(r,d){super(0);for(let b=0;b<r.length;b++)this.set(r.charCodeAt(b),1);for(let b=0;b<d.length;b++)this.set(d.charCodeAt(b),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let Lr=[],Pc=[];function Fc(st,r,d,b,B,U,le){if(-1===B)return null;const Ee=d.length;if(Ee<=1)return null;const Oe=r.breakOffsets,je=r.breakOffsetsVisibleColumn,rt=ac(d,b,B,U,le),Dt=B-rt,Rt=Lr,Wt=Pc;let sn=0,Cn=0,En=0,Zn=B;const ai=Oe.length;let oi=0;if(oi>=0){let Oi=Math.abs(je[oi]-Zn);for(;oi+1<ai;){const zi=Math.abs(je[oi+1]-Zn);if(zi>=Oi)break;Oi=zi,oi++}}for(;oi<ai;){let Oi=oi<0?0:Oe[oi],zi=oi<0?0:je[oi];Cn>Oi&&(Oi=Cn,zi=En);let Ui=0,Gi=0,Si=0,qi=0;if(zi<=Zn){let uo=zi,ys=0===Oi?0:d.charCodeAt(Oi-1),Ts=0===Oi?0:st.get(ys),Js=!0;for(let Uo=Oi;Uo<Ee;Uo++){const or=Uo,Zs=d.charCodeAt(Uo);let is,mr;if(Jn.ZG(Zs)?(Uo++,is=0,mr=2):(is=st.get(Zs),mr=Rr(Zs,uo,b,U)),or>Cn&&Ya(0,Ts,Zs,is)&&(Ui=or,Gi=uo),uo+=mr,uo>Zn){or>Cn?(Si=or,qi=uo-mr):(Si=Uo+1,qi=uo),uo-Gi>Dt&&(Ui=0),Js=!1;break}ys=Zs,Ts=is}if(Js){sn>0&&(Rt[sn]=Oe[Oe.length-1],Wt[sn]=je[Oe.length-1],sn++);break}}if(0===Ui){let uo=zi,ys=d.charCodeAt(Oi),Ts=st.get(ys),Js=!1;for(let Uo=Oi-1;Uo>=Cn;Uo--){const or=Uo+1,Zs=d.charCodeAt(Uo);if(9===Zs){Js=!0;break}let is,mr;if(Jn.YK(Zs)?(Uo--,is=0,mr=2):(is=st.get(Zs),mr=Jn.K7(Zs)?U:1),uo<=Zn){if(0===Si&&(Si=or,qi=uo),uo<=Zn-Dt)break;if(Ya(0,is,ys,Ts)){Ui=or,Gi=uo;break}}uo-=mr,ys=Zs,Ts=is}if(0!==Ui){const Uo=Dt-(qi-Gi);if(Uo<=b){const or=d.charCodeAt(Si);let Zs;Zs=Jn.ZG(or)?2:Rr(or,qi,b,U),Uo-Zs<0&&(Ui=0)}}if(Js){oi--;continue}}if(0===Ui&&(Ui=Si,Gi=qi),Ui<=Cn){const uo=d.charCodeAt(Cn);Jn.ZG(uo)?(Ui=Cn+2,Gi=En+2):(Ui=Cn+1,Gi=En+Rr(uo,En,b,U))}for(Cn=Ui,Rt[sn]=Ui,En=Gi,Wt[sn]=Gi,sn++,Zn=Gi+Dt;oi<0||oi<ai&&je[oi]<Gi;)oi++;let wo=Math.abs(je[oi]-Zn);for(;oi+1<ai;){const uo=Math.abs(je[oi+1]-Zn);if(uo>=wo)break;wo=uo,oi++}}return 0===sn?null:(Rt.length=sn,Wt.length=sn,Lr=r.breakOffsets,Pc=r.breakOffsetsVisibleColumn,r.breakOffsets=Rt,r.breakOffsetsVisibleColumn=Wt,r.wrappedTextIndentLength=rt,r)}function zl(st,r,d,b,B,U,le){const Ee=cn.gk.applyInjectedText(r,d);let Oe,je;if(d&&d.length>0?(Oe=d.map(Gi=>Gi.options),je=d.map(Gi=>Gi.column-1)):(Oe=null,je=null),-1===B)return Oe?new hr(je,Oe,[Ee.length],[],0):null;const rt=Ee.length;if(rt<=1)return Oe?new hr(je,Oe,[Ee.length],[],0):null;const Dt=ac(Ee,b,B,U,le),Rt=B-Dt,Wt=[],sn=[];let Cn=0,En=0,Zn=0,ai=B,oi=Ee.charCodeAt(0),Oi=st.get(oi),zi=Rr(oi,0,b,U),Ui=1;Jn.ZG(oi)&&(zi+=1,oi=Ee.charCodeAt(1),Oi=st.get(oi),Ui++);for(let Gi=Ui;Gi<rt;Gi++){const Si=Gi,qi=Ee.charCodeAt(Gi);let wo,uo;Jn.ZG(qi)?(Gi++,wo=0,uo=2):(wo=st.get(qi),uo=Rr(qi,zi,b,U)),Ya(0,Oi,qi,wo)&&(En=Si,Zn=zi),zi+=uo,zi>ai&&((0===En||zi-Zn>Rt)&&(En=Si,Zn=zi-uo),Wt[Cn]=En,sn[Cn]=Zn,Cn++,ai=Zn+Rt,En=0),oi=qi,Oi=wo}return 0!==Cn||d&&0!==d.length?(Wt[Cn]=rt,sn[Cn]=zi,new hr(je,Oe,Wt,sn,Dt)):null}function Rr(st,r,d,b){return 9===st?d-r%d:Jn.K7(st)||st<32?b:1}function fr(st,r){return r-st%r}function Ya(st,r,d,b){return 32!==d&&(2===r||3===r&&2!==b||1===b||3===b&&1!==r)}function ac(st,r,d,b,B){let U=0;if(0!==B){const le=Jn.LC(st);if(-1!==le){for(let Oe=0;Oe<le;Oe++)U+=9===st.charCodeAt(Oe)?fr(U,r):1;const Ee=3===B?2:2===B?1:0;for(let Oe=0;Oe<Ee;Oe++)U+=fr(U,r);U+b>d&&(U=0)}}return U}var Sl;const Ia=null===(Sl=window.trustedTypes)||void 0===Sl?void 0:Sl.createPolicy("domLineBreaksComputer",{createHTML:st=>st});class Ul{static create(){return new Ul}constructor(){}createLineBreaksComputer(r,d,b,B){const U=[],le=[];return{addRequest:(Ee,Oe,je)=>{U.push(Ee),le.push(Oe)},finalize:()=>function Za(st,r,d,b,B,U){var le;function Ee(Si){const qi=U[Si];if(qi){const wo=cn.gk.applyInjectedText(st[Si],qi),uo=qi.map(Ts=>Ts.options),ys=qi.map(Ts=>Ts.column-1);return new hr(ys,uo,[wo.length],[],0)}return null}if(-1===b){const Si=[];for(let qi=0,wo=st.length;qi<wo;qi++)Si[qi]=Ee(qi);return Si}const Oe=Math.round(b*r.typicalHalfwidthCharacterWidth),rt=Math.round(d*(3===B?2:2===B?1:0)),Dt=Math.ceil(r.spaceWidth*rt),Rt=document.createElement("div");(0,qn.N)(Rt,r);const Wt=(0,vo.l$)(1e4),sn=[],Cn=[],En=[],Zn=[],ai=[];for(let Si=0;Si<st.length;Si++){const qi=cn.gk.applyInjectedText(st[Si],U[Si]);let wo=0,uo=0,ys=Oe;if(0!==B)if(wo=Jn.LC(qi),-1===wo)wo=0;else{for(let or=0;or<wo;or++)uo+=9===qi.charCodeAt(or)?d-uo%d:1;const Uo=Math.ceil(r.spaceWidth*uo);Uo+r.typicalFullwidthCharacterWidth>Oe?(wo=0,uo=0):ys=Oe-Uo}const Ts=qi.substr(wo),Js=yd(Ts,uo,d,ys,Wt,Dt);sn[Si]=wo,Cn[Si]=uo,En[Si]=Ts,Zn[Si]=Js[0],ai[Si]=Js[1]}const oi=Wt.build(),Oi=null!==(le=null==Ia?void 0:Ia.createHTML(oi))&&void 0!==le?le:oi;Rt.innerHTML=Oi,Rt.style.position="absolute",Rt.style.top="10000",Rt.style.wordWrap="break-word",document.body.appendChild(Rt);const zi=document.createRange(),Ui=Array.prototype.slice.call(Rt.children,0),Gi=[];for(let Si=0;Si<st.length;Si++){const wo=lc(zi,Ui[Si],En[Si],Zn[Si]);if(null===wo){Gi[Si]=Ee(Si);continue}const uo=sn[Si],ys=Cn[Si]+rt,Ts=ai[Si],Js=[];for(let is=0,mr=wo.length;is<mr;is++)Js[is]=Ts[wo[is]];if(0!==uo)for(let is=0,mr=wo.length;is<mr;is++)wo[is]+=uo;let Uo,or;const Zs=U[Si];Zs?(Uo=Zs.map(is=>is.options),or=Zs.map(is=>is.column-1)):(Uo=null,or=null),Gi[Si]=new hr(or,Uo,wo,Js,ys)}return document.body.removeChild(Rt),Gi}(U,r,d,b,B,le)}}}function yd(st,r,d,b,B,U){if(0!==U){const Rt=String(U);B.appendASCIIString('<div style="text-indent: -'),B.appendASCIIString(Rt),B.appendASCIIString("px; padding-left: "),B.appendASCIIString(Rt),B.appendASCIIString("px; box-sizing: border-box; width:")}else B.appendASCIIString('<div style="width:');B.appendASCIIString(String(b)),B.appendASCIIString('px;">');const le=st.length;let Ee=r,Oe=0;const je=[],rt=[];let Dt=0<le?st.charCodeAt(0):0;B.appendASCIIString("<span>");for(let Rt=0;Rt<le;Rt++){0!==Rt&&Rt%16384==0&&B.appendASCIIString("</span><span>"),je[Rt]=Oe,rt[Rt]=Ee;const Wt=Dt;Dt=Rt+1<le?st.charCodeAt(Rt+1):0;let sn=1,Cn=1;switch(Wt){case 9:sn=d-Ee%d,Cn=sn;for(let En=1;En<=sn;En++)En<sn?B.write1(160):B.appendASCII(32);break;case 32:32===Dt?B.write1(160):B.appendASCII(32);break;case 60:B.appendASCIIString("&lt;");break;case 62:B.appendASCIIString("&gt;");break;case 38:B.appendASCIIString("&amp;");break;case 0:B.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:B.write1(65533);break;default:Jn.K7(Wt)&&Cn++,B.write1(Wt<32?9216+Wt:Wt)}Oe+=sn,Ee+=Cn}return B.appendASCIIString("</span>"),je[st.length]=Oe,rt[st.length]=Ee,B.appendASCIIString("</div>"),[je,rt]}function lc(st,r,d,b){if(d.length<=1)return null;const B=Array.prototype.slice.call(r.children,0),U=[];try{cc(st,B,b,0,null,d.length-1,null,U)}catch(le){return console.log(le),null}return 0===U.length?null:(U.push(d.length),U)}function cc(st,r,d,b,B,U,le,Ee){if(b===U||(B=B||wd(st,r,d[b],d[b+1]),le=le||wd(st,r,d[U],d[U+1]),Math.abs(B[0].top-le[0].top)<=.1))return;if(b+1===U)return void Ee.push(U);const Oe=b+(U-b)/2|0,je=wd(st,r,d[Oe],d[Oe+1]);cc(st,r,d,b,B,Oe,je,Ee),cc(st,r,d,Oe,je,U,le,Ee)}function wd(st,r,d,b){return st.setStart(r[d/16384|0].firstChild,d%16384),st.setEnd(r[b/16384|0].firstChild,b%16384),st.getClientRects()}var Xs=m(7616),vm=m(7372),ca=function(st,r){return function(d,b){r(d,b,st)}};let jf=0;class Ju{constructor(r,d,b,B,U){this.model=r,this.viewModel=d,this.view=b,this.hasRealView=B,this.listenersToRemove=U}dispose(){(0,w.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let jl=class ly extends w.JT{constructor(r,d,b,B,U,le,Ee,Oe,je,rt,Dt){super(),this.languageConfigurationService=Dt,this._onDidDispose=this._register(new x.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new x.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new x.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new x.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new x.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new x.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new x.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new x.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new x.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new x.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new x.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new x.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new qu),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new qu),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new x.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new x.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new x.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new x.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new x.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new x.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new x.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new x.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new x.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new x.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new x.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new x.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new x.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new x.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new x.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new x.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new x.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new x.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new x.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new x.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const Rt=Object.assign({},d);let Wt;this._domElement=r,this._overflowWidgetsDomNode=Rt.overflowWidgetsDomNode,delete Rt.overflowWidgetsDomNode,this._id=++jf,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=b.telemetryData,this._configuration=this._register(this._createConfiguration(b.isSimpleWidget||!1,Rt,rt)),this._register(this._configuration.onDidChange(sn=>{this._onDidChangeConfiguration.fire(sn);const Cn=this._configuration.options;if(sn.hasChanged(131)){const En=Cn.get(131);this._onDidLayoutChange.fire(En)}})),this._contextKeyService=this._register(Ee.createScoped(this._domElement)),this._notificationService=je,this._codeEditorService=U,this._commandService=le,this._themeService=Oe,this._register(new Ma(this,this._contextKeyService)),this._register(new ea(this,this._contextKeyService)),this._instantiationService=B.createChild(new kc.y([_d.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new qo(r),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},Wt=Array.isArray(b.contributions)?b.contributions:h.Uc.getEditorContributions();for(const sn of Wt)if(this._contributions[sn.id])(0,V.dL)(new Error(`Cannot have two contributions with the same id ${sn.id}`));else try{const Cn=this._instantiationService.createInstance(sn.ctor,this);this._contributions[sn.id]=Cn}catch(Cn){(0,V.dL)(Cn)}h.Uc.getEditorActions().forEach(sn=>{if(this._actions[sn.id])return void(0,V.dL)(new Error(`Cannot have two actions with the same id ${sn.id}`));const Cn=new Xr.p(sn.id,sn.label,sn.alias,(0,$s.f6)(sn.precondition),()=>this._instantiationService.invokeFunction(En=>Promise.resolve(sn.runEditorCommand(En,this,null))),this._contextKeyService);this._actions[Cn.id]=Cn}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(r,d,b){return new Se(r,d,this._domElement,b)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return zs.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const r=Object.keys(this._contributions);for(let d=0,b=r.length;d<b;d++)this._contributions[r[d]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(r){return this._instantiationService.invokeFunction(r)}updateOptions(r){this._configuration.updateOptions(r||{})}getOptions(){return this._configuration.options}getOption(r){return this._configuration.options.get(r)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(r){return this._modelData?Xs.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),r):null}getValue(r=null){if(!this._modelData)return"";let b=0;return r&&r.lineEnding&&"\n"===r.lineEnding?b=1:r&&r.lineEnding&&"\r\n"===r.lineEnding&&(b=2),this._modelData.model.getValue(b,!(!r||!r.preserveBOM))}setValue(r){!this._modelData||this._modelData.model.setValue(r)}getModel(){return this._modelData?this._modelData.model:null}setModel(r=null){const d=r;if(null===this._modelData&&null===d||this._modelData&&this._modelData.model===d)return;const b=this.hasTextFocus(),B=this._detachModel();this._attachModel(d),b&&this.hasModel()&&this.focus();const U={oldModelUrl:B?B.uri:null,newModelUrl:d?d.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(U),this._postDetachModelCleanup(B)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let r in this._decorationTypeSubtypes){const d=this._decorationTypeSubtypes[r];for(let b in d)this._removeDecorationType(r+"-"+b)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(r,d,b){const B=r.model.validatePosition({lineNumber:d,column:b}),U=r.viewModel.coordinatesConverter.convertModelPositionToViewPosition(B);return r.viewModel.viewLayout.getVerticalOffsetForLineNumber(U.lineNumber)}getTopForLineNumber(r){return this._modelData?ly._getVerticalOffsetForPosition(this._modelData,r,1):-1}getTopForPosition(r,d){return this._modelData?ly._getVerticalOffsetForPosition(this._modelData,r,d):-1}setHiddenAreas(r){this._modelData&&this._modelData.viewModel.setHiddenAreas(r.map(d=>Wn.e.lift(d)))}getVisibleColumnFromPosition(r){if(!this._modelData)return r.column;const d=this._modelData.model.validatePosition(r),b=this._modelData.model.getOptions().tabSize;return pt.i.visibleColumnFromColumn(this._modelData.model.getLineContent(d.lineNumber),d.column,b)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(r){if(this._modelData){if(!vn.L.isIPosition(r))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:r.lineNumber,selectionStartColumn:r.column,positionLineNumber:r.lineNumber,positionColumn:r.column}])}}_sendRevealRange(r,d,b,B){if(!this._modelData)return;if(!Wn.e.isIRange(r))throw new Error("Invalid arguments");const U=this._modelData.model.validateRange(r),le=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(U);this._modelData.viewModel.revealRange("api",b,le,d,B)}revealLine(r,d=0){this._revealLine(r,0,d)}revealLineInCenter(r,d=0){this._revealLine(r,1,d)}revealLineInCenterIfOutsideViewport(r,d=0){this._revealLine(r,2,d)}revealLineNearTop(r,d=0){this._revealLine(r,5,d)}_revealLine(r,d,b){if("number"!=typeof r)throw new Error("Invalid arguments");this._sendRevealRange(new Wn.e(r,1,r,1),d,!1,b)}revealPosition(r,d=0){this._revealPosition(r,0,!0,d)}revealPositionInCenter(r,d=0){this._revealPosition(r,1,!0,d)}revealPositionInCenterIfOutsideViewport(r,d=0){this._revealPosition(r,2,!0,d)}revealPositionNearTop(r,d=0){this._revealPosition(r,5,!0,d)}_revealPosition(r,d,b,B){if(!vn.L.isIPosition(r))throw new Error("Invalid arguments");this._sendRevealRange(new Wn.e(r.lineNumber,r.column,r.lineNumber,r.column),d,b,B)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(r){const d=ce.Y.isISelection(r),b=Wn.e.isIRange(r);if(!d&&!b)throw new Error("Invalid arguments");d?this._setSelectionImpl(r):b&&this._setSelectionImpl({selectionStartLineNumber:r.startLineNumber,selectionStartColumn:r.startColumn,positionLineNumber:r.endLineNumber,positionColumn:r.endColumn})}_setSelectionImpl(r){if(!this._modelData)return;const d=new ce.Y(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,r.positionColumn);this._modelData.viewModel.setSelections("api",[d])}revealLines(r,d,b=0){this._revealLines(r,d,0,b)}revealLinesInCenter(r,d,b=0){this._revealLines(r,d,1,b)}revealLinesInCenterIfOutsideViewport(r,d,b=0){this._revealLines(r,d,2,b)}revealLinesNearTop(r,d,b=0){this._revealLines(r,d,5,b)}_revealLines(r,d,b,B){if("number"!=typeof r||"number"!=typeof d)throw new Error("Invalid arguments");this._sendRevealRange(new Wn.e(r,1,d,1),b,!1,B)}revealRange(r,d=0,b=!1,B=!0){this._revealRange(r,b?1:0,B,d)}revealRangeInCenter(r,d=0){this._revealRange(r,1,!0,d)}revealRangeInCenterIfOutsideViewport(r,d=0){this._revealRange(r,2,!0,d)}revealRangeNearTop(r,d=0){this._revealRange(r,5,!0,d)}revealRangeNearTopIfOutsideViewport(r,d=0){this._revealRange(r,6,!0,d)}revealRangeAtTop(r,d=0){this._revealRange(r,3,!0,d)}_revealRange(r,d,b,B){if(!Wn.e.isIRange(r))throw new Error("Invalid arguments");this._sendRevealRange(Wn.e.lift(r),d,b,B)}setSelections(r,d="api",b=0){if(this._modelData){if(!r||0===r.length)throw new Error("Invalid arguments");for(let B=0,U=r.length;B<U;B++)if(!ce.Y.isISelection(r[B]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(d,r,b)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(r,d=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:r},d)}}setScrollTop(r,d=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:r},d)}}setScrollPosition(r,d=1){!this._modelData||this._modelData.viewModel.setScrollPosition(r,d)}saveViewState(){if(!this._modelData)return null;const r={},d=Object.keys(this._contributions);for(const U of d){const le=this._contributions[U];"function"==typeof le.saveViewState&&(r[U]=le.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:r}}restoreViewState(r){if(!this._modelData||!this._modelData.hasRealView)return;const d=r;if(d&&d.cursorState&&d.viewState){const b=d.cursorState;Array.isArray(b)?this._modelData.viewModel.restoreCursorState(b):this._modelData.viewModel.restoreCursorState([b]);const B=d.contributionsState||{},U=Object.keys(this._contributions);for(let Ee=0,Oe=U.length;Ee<Oe;Ee++){const je=U[Ee],rt=this._contributions[je];"function"==typeof rt.restoreViewState&&rt.restoreViewState(B[je])}const le=this._modelData.viewModel.reduceRestoreState(d.viewState);this._modelData.view.restoreState(le)}}getContribution(r){return this._contributions[r]||null}getActions(){const r=[],d=Object.keys(this._actions);for(let b=0,B=d.length;b<B;b++)r.push(this._actions[d[b]]);return r}getSupportedActions(){let r=this.getActions();return r=r.filter(d=>d.isSupported()),r}getAction(r){return this._actions[r]||null}trigger(r,d,b){switch(b=b||{},d){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(r);case"type":return void this._type(r,b.text||"");case"replacePreviousChar":return void this._compositionType(r,b.text||"",b.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(r,b.text||"",b.replacePrevCharCnt||0,b.replaceNextCharCnt||0,b.positionDelta||0);case"paste":return void this._paste(r,b.text||"",b.pasteOnNewLine||!1,b.multicursorText||null,b.mode||null);case"cut":return void this._cut(r)}const B=this.getAction(d);B?Promise.resolve(B.run()).then(void 0,V.dL):!this._modelData||this._triggerEditorCommand(r,d,b)||this._triggerCommand(d,b)}_triggerCommand(r,d){this._commandService.executeCommand(r,d)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(r){!this._modelData||(this._modelData.viewModel.endComposition(r),this._onDidCompositionEnd.fire())}_type(r,d){!this._modelData||0===d.length||("keyboard"===r&&this._onWillType.fire(d),this._modelData.viewModel.type(d,r),"keyboard"===r&&this._onDidType.fire(d))}_compositionType(r,d,b,B,U){!this._modelData||this._modelData.viewModel.compositionType(d,b,B,U,r)}_paste(r,d,b,B,U){if(!this._modelData||0===d.length)return;const le=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(d,b,B,r);const Ee=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===r&&this._onDidPaste.fire({range:new Wn.e(le.lineNumber,le.column,Ee.lineNumber,Ee.column),languageId:U})}_cut(r){!this._modelData||this._modelData.viewModel.cut(r)}_triggerEditorCommand(r,d,b){const B=h.Uc.getEditorCommand(d);return!!B&&((b=b||{}).source=r,this._instantiationService.invokeFunction(U=>{Promise.resolve(B.runEditorCommand(U,this,b)).then(void 0,V.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.popStackElement(),0))}executeEdits(r,d,b){if(!this._modelData||this._configuration.options.get(81))return!1;let B;return B=b?Array.isArray(b)?()=>b:b:()=>null,this._modelData.viewModel.executeEdits(r,d,B),!0}executeCommand(r,d){!this._modelData||this._modelData.viewModel.executeCommand(d,r)}executeCommands(r,d){!this._modelData||this._modelData.viewModel.executeCommands(d,r)}changeDecorations(r){return this._modelData?this._modelData.model.changeDecorations(r,this._id):null}getLineDecorations(r){return this._modelData?this._modelData.model.getLineDecorations(r,this._id,(0,P.$J)(this._configuration.options)):null}getDecorationsInRange(r){return this._modelData?this._modelData.model.getDecorationsInRange(r,this._id,(0,P.$J)(this._configuration.options)):null}deltaDecorations(r,d){return this._modelData?0===r.length&&0===d.length?r:this._modelData.model.deltaDecorations(r,d,this._id):[]}removeDecorations(r){const d=this._decorationTypeKeysToIds[r];d&&this.deltaDecorations(d,[]),this._decorationTypeKeysToIds.hasOwnProperty(r)&&delete this._decorationTypeKeysToIds[r],this._decorationTypeSubtypes.hasOwnProperty(r)&&delete this._decorationTypeSubtypes[r]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(r):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(r)}layout(r){this._configuration.observeContainer(r),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(r){const d={widget:r,position:r.getPosition()};this._contentWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[r.getId()]=d,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(d)}layoutContentWidget(r){const d=r.getId();if(this._contentWidgets.hasOwnProperty(d)){const b=this._contentWidgets[d];b.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(b)}}removeContentWidget(r){const d=r.getId();if(this._contentWidgets.hasOwnProperty(d)){const b=this._contentWidgets[d];delete this._contentWidgets[d],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(b)}}addOverlayWidget(r){const d={widget:r,position:r.getPosition()};this._overlayWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[r.getId()]=d,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(d)}layoutOverlayWidget(r){const d=r.getId();if(this._overlayWidgets.hasOwnProperty(d)){const b=this._overlayWidgets[d];b.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(b)}}removeOverlayWidget(r){const d=r.getId();if(this._overlayWidgets.hasOwnProperty(d)){const b=this._overlayWidgets[d];delete this._overlayWidgets[d],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(b)}}changeViewZones(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(r)}getTargetAtClientPoint(r,d){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(r,d):null}getScrolledVisiblePosition(r){if(!this._modelData||!this._modelData.hasRealView)return null;const d=this._modelData.model.validatePosition(r),b=this._configuration.options,B=b.get(131);return{top:ly._getVerticalOffsetForPosition(this._modelData,d.lineNumber,d.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(d.lineNumber,d.column)+B.glyphMarginWidth+B.lineNumbersWidth+B.decorationsWidth-this.getScrollLeft(),height:b.get(59)}}getOffsetForColumn(r,d){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(r,d):-1}render(r=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,r)}setAriaOptions(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(r)}applyFontInfo(r){(0,qn.N)(r,this._configuration.options.get(44))}setBanner(r,d){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=r,this._configuration.setReservedHeight(r?d:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(r){if(!r)return void(this._modelData=null);const d=[];this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._configuration.setIsDominatedByLongLines(r.isDominatedByLongLines()),this._configuration.setModelLineCount(r.getLineCount()),r.onBeforeAttached();const b=new wl(this._id,this._configuration,r,Ul.create(),Kr.create(this._configuration.options),le=>Y.jL(le),this.languageConfigurationService);d.push(r.onDidChangeDecorations(le=>this._onDidChangeModelDecorations.fire(le))),d.push(r.onDidChangeLanguage(le=>{this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._onDidChangeModelLanguage.fire(le)})),d.push(r.onDidChangeLanguageConfiguration(le=>this._onDidChangeModelLanguageConfiguration.fire(le))),d.push(r.onDidChangeContent(le=>this._onDidChangeModelContent.fire(le))),d.push(r.onDidChangeOptions(le=>this._onDidChangeModelOptions.fire(le))),d.push(r.onWillDispose(()=>this.setModel(null))),d.push(b.onEvent(le=>{switch(le.kind){case 0:this._onDidContentSizeChange.fire(le);break;case 1:this._editorTextFocus.setValue(le.hasFocus);break;case 2:this._onDidScrollChange.fire(le);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{le.reachedMaxCursorCount&&this._notificationService.warn(j.N("cursors.maximum","The number of cursors has been limited to {0}.",rs.MAX_CURSOR_COUNT));const Ee=[];for(let rt=0,Dt=le.selections.length;rt<Dt;rt++)Ee[rt]=le.selections[rt].getPosition();const Oe={position:Ee[0],secondaryPositions:Ee.slice(1),reason:le.reason,source:le.source};this._onDidChangeCursorPosition.fire(Oe);const je={selection:le.selections[0],secondarySelections:le.selections.slice(1),modelVersionId:le.modelVersionId,oldSelections:le.oldSelections,oldModelVersionId:le.oldModelVersionId,source:le.source,reason:le.reason};this._onDidChangeCursorSelection.fire(je);break}}}));const[B,U]=this._createView(b);if(U){this._domElement.appendChild(B.domNode.domNode);let le=Object.keys(this._contentWidgets);for(let Ee=0,Oe=le.length;Ee<Oe;Ee++)B.addContentWidget(this._contentWidgets[le[Ee]]);le=Object.keys(this._overlayWidgets);for(let Ee=0,Oe=le.length;Ee<Oe;Ee++)B.addOverlayWidget(this._overlayWidgets[le[Ee]]);B.render(!1,!0),B.domNode.domNode.setAttribute("data-uri",r.uri.toString())}this._modelData=new Ju(r,b,B,U,d)}_createView(r){let d;d=this.isSimpleWidget?{paste:(U,le,Ee,Oe)=>{this._paste("keyboard",U,le,Ee,Oe)},type:U=>{this._type("keyboard",U)},compositionType:(U,le,Ee,Oe)=>{this._compositionType("keyboard",U,le,Ee,Oe)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(U,le,Ee,Oe)=>{this._commandService.executeCommand("paste",{text:U,pasteOnNewLine:le,multicursorText:Ee,mode:Oe})},type:U=>{this._commandService.executeCommand("type",{text:U})},compositionType:(U,le,Ee,Oe)=>{Ee||Oe?this._commandService.executeCommand("compositionType",{text:U,replacePrevCharCnt:le,replaceNextCharCnt:Ee,positionDelta:Oe}):this._commandService.executeCommand("replacePreviousChar",{text:U,replaceCharCnt:le})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const b=new Pi(r.coordinatesConverter);return b.onKeyDown=U=>this._onKeyDown.fire(U),b.onKeyUp=U=>this._onKeyUp.fire(U),b.onContextMenu=U=>this._onContextMenu.fire(U),b.onMouseMove=U=>this._onMouseMove.fire(U),b.onMouseLeave=U=>this._onMouseLeave.fire(U),b.onMouseDown=U=>this._onMouseDown.fire(U),b.onMouseUp=U=>this._onMouseUp.fire(U),b.onMouseDrag=U=>this._onMouseDrag.fire(U),b.onMouseDrop=U=>this._onMouseDrop.fire(U),b.onMouseDropCanceled=U=>this._onMouseDropCanceled.fire(U),b.onMouseWheel=U=>this._onMouseWheel.fire(U),[new Ct(d,this._configuration,this._themeService,r,b,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(r){r&&r.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const r=this._modelData.model,d=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),d&&this._domElement.contains(d)&&this._domElement.removeChild(d),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),r}_removeDecorationType(r){this._codeEditorService.removeDecorationType(r)}hasModel(){return null!==this._modelData}};jl=function(st,r,d,b){var le,B=arguments.length,U=B<3?r:null===b?b=Object.getOwnPropertyDescriptor(r,d):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(st,r,d,b);else for(var Ee=st.length-1;Ee>=0;Ee--)(le=st[Ee])&&(U=(B<3?le(U):B>3?le(r,d,U):le(r,d))||U);return B>3&&U&&Object.defineProperty(r,d,U),U}([ca(3,vd.TG),ca(4,ne.$),ca(5,Ac.Hy),ca(6,_d.i6),ca(7,Ti.XE),ca(8,Rc.lT),ca(9,he.F),ca(10,vm.c_)],jl);class qu extends w.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new x.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new x.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(r){const d=r?2:1;this._value!==d&&(this._value=d,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Ma extends w.JT{constructor(r,d){super(),this._editor=r,d.createKey("editorId",r.getId()),this._editorSimpleInput=ns.u.editorSimpleInput.bindTo(d),this._editorFocus=ns.u.focus.bindTo(d),this._textInputFocus=ns.u.textInputFocus.bindTo(d),this._editorTextFocus=ns.u.editorTextFocus.bindTo(d),this._editorTabMovesFocus=ns.u.tabMovesFocus.bindTo(d),this._editorReadonly=ns.u.readOnly.bindTo(d),this._inDiffEditor=ns.u.inDiffEditor.bindTo(d),this._editorColumnSelection=ns.u.columnSelection.bindTo(d),this._hasMultipleSelections=ns.u.hasMultipleSelections.bindTo(d),this._hasNonEmptySelection=ns.u.hasNonEmptySelection.bindTo(d),this._canUndo=ns.u.canUndo.bindTo(d),this._canRedo=ns.u.canRedo.bindTo(d),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const r=this._editor.getOptions();this._editorTabMovesFocus.set(r.get(130)),this._editorReadonly.set(r.get(81)),this._inDiffEditor.set(r.get(54)),this._editorColumnSelection.set(r.get(18))}_updateFromSelection(){const r=this._editor.getSelections();r?(this._hasMultipleSelections.set(r.length>1),this._hasNonEmptySelection.set(r.some(d=>!d.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const r=this._editor.getModel();this._canUndo.set(Boolean(r&&r.canUndo())),this._canRedo.set(Boolean(r&&r.canRedo()))}}class ea extends w.JT{constructor(r,d){super(),this._editor=r,this._contextKeyService=d,this._langId=ns.u.languageId.bindTo(d),this._hasCompletionItemProvider=ns.u.hasCompletionItemProvider.bindTo(d),this._hasCodeActionsProvider=ns.u.hasCodeActionsProvider.bindTo(d),this._hasCodeLensProvider=ns.u.hasCodeLensProvider.bindTo(d),this._hasDefinitionProvider=ns.u.hasDefinitionProvider.bindTo(d),this._hasDeclarationProvider=ns.u.hasDeclarationProvider.bindTo(d),this._hasImplementationProvider=ns.u.hasImplementationProvider.bindTo(d),this._hasTypeDefinitionProvider=ns.u.hasTypeDefinitionProvider.bindTo(d),this._hasHoverProvider=ns.u.hasHoverProvider.bindTo(d),this._hasDocumentHighlightProvider=ns.u.hasDocumentHighlightProvider.bindTo(d),this._hasDocumentSymbolProvider=ns.u.hasDocumentSymbolProvider.bindTo(d),this._hasReferenceProvider=ns.u.hasReferenceProvider.bindTo(d),this._hasRenameProvider=ns.u.hasRenameProvider.bindTo(d),this._hasSignatureHelpProvider=ns.u.hasSignatureHelpProvider.bindTo(d),this._hasInlayHintsProvider=ns.u.hasInlayHintsProvider.bindTo(d),this._hasDocumentFormattingProvider=ns.u.hasDocumentFormattingProvider.bindTo(d),this._hasDocumentSelectionFormattingProvider=ns.u.hasDocumentSelectionFormattingProvider.bindTo(d),this._hasMultipleDocumentFormattingProvider=ns.u.hasMultipleDocumentFormattingProvider.bindTo(d),this._hasMultipleDocumentSelectionFormattingProvider=ns.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(d),this._isInWalkThrough=ns.u.isInWalkThroughSnippet.bindTo(d);const b=()=>this._update();this._register(r.onDidChangeModel(b)),this._register(r.onDidChangeModelLanguage(b)),this._register(Kn.KZ.onDidChange(b)),this._register(Kn.H9.onDidChange(b)),this._register(Kn.He.onDidChange(b)),this._register(Kn.Ct.onDidChange(b)),this._register(Kn.RN.onDidChange(b)),this._register(Kn.vI.onDidChange(b)),this._register(Kn.tA.onDidChange(b)),this._register(Kn.xp.onDidChange(b)),this._register(Kn.vH.onDidChange(b)),this._register(Kn.vJ.onDidChange(b)),this._register(Kn.FL.onDidChange(b)),this._register(Kn.G0.onDidChange(b)),this._register(Kn.Az.onDidChange(b)),this._register(Kn.vN.onDidChange(b)),this._register(Kn.nD.onDidChange(b)),this._register(Kn.mX.onDidChange(b)),b()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const r=this._editor.getModel();r?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(r.getLanguageId()),this._hasCompletionItemProvider.set(Kn.KZ.has(r)),this._hasCodeActionsProvider.set(Kn.H9.has(r)),this._hasCodeLensProvider.set(Kn.He.has(r)),this._hasDefinitionProvider.set(Kn.Ct.has(r)),this._hasDeclarationProvider.set(Kn.RN.has(r)),this._hasImplementationProvider.set(Kn.vI.has(r)),this._hasTypeDefinitionProvider.set(Kn.tA.has(r)),this._hasHoverProvider.set(Kn.xp.has(r)),this._hasDocumentHighlightProvider.set(Kn.vH.has(r)),this._hasDocumentSymbolProvider.set(Kn.vJ.has(r)),this._hasReferenceProvider.set(Kn.FL.has(r)),this._hasRenameProvider.set(Kn.G0.has(r)),this._hasSignatureHelpProvider.set(Kn.nD.has(r)),this._hasInlayHintsProvider.set(Kn.mX.has(r)),this._hasDocumentFormattingProvider.set(Kn.Az.has(r)||Kn.vN.has(r)),this._hasDocumentSelectionFormattingProvider.set(Kn.vN.has(r)),this._hasMultipleDocumentFormattingProvider.set(Kn.Az.all(r).length+Kn.vN.all(r).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Kn.vN.all(r).length>1),this._isInWalkThrough.set(r.uri.scheme===D.lg.walkThroughSnippet)}):this.reset()}}class qo extends w.JT{constructor(r){super(),this._onChange=this._register(new x.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Y.go(r)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Na=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),go=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function eh(st){return Na+encodeURIComponent(st.toString())+go}const dc=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),js=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Ti.Ic)((st,r)=>{const d=st.getColor(Wo.b6y);d&&r.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${d}; }`);const b=st.getColor(Wo.lXJ);b&&r.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${eh(b)}") repeat-x bottom left; }`);const B=st.getColor(Wo.L_H);B&&r.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${B}; }`);const U=st.getColor(Wo.pW3);U&&r.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${U}; }`);const le=st.getColor(Wo.uoC);le&&r.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${eh(le)}") repeat-x bottom left; }`);const Ee=st.getColor(Wo.gpD);Ee&&r.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ee}; }`);const Oe=st.getColor(Wo.T83);Oe&&r.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${Oe}; }`);const je=st.getColor(Wo.c63);je&&r.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${eh(je)}") repeat-x bottom left; }`);const rt=st.getColor(Wo.few);rt&&r.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${rt}; }`);const Dt=st.getColor(Wo.fEB);Dt&&r.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Dt}; }`);const Rt=st.getColor(Wo.Dut);Rt&&r.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function ta(st){return dc+encodeURIComponent(st.toString())+js}(Rt)}") no-repeat bottom left; }`);const Wt=st.getColor(ui.zu);Wt&&r.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Wt.rgba.a}; }`);const sn=st.getColor(ui.kp);sn&&r.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${sn}; }`);const Cn=st.getColor(Wo.NOs)||"inherit";r.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Cn}}`)})},5637:(vt,Ke,m)=>{m.d(Ke,{p:()=>ei}),m(4548);var pe,h=m(402),Q=m(8059),k=m(8554),R=m(7687),se=m(3072),j=m(2787),Y=m(2425),V=m(5748),x=m(1210),w=m(7221),D=m(3656),f=(m(9043),m(4039)),T=m(8152),z=m(5113),I=m(5172),H=m(6367),K=m(8028),N=m(4220),M=m(3448),P=m(6145),W=m(5024),J=m(9776),he=m(8708),ye=m(3024),fe=m(2450),Se=m(5836),Ie=m(7675);class ne{constructor(Te,Ae,ht,Mt){this.originalLineStart=Te,this.originalLineEnd=Ae,this.modifiedLineStart=ht,this.modifiedLineEnd=Mt}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class ce{constructor(Te){this.entries=Te}}const ue=(0,Se.q5)("diff-review-insert",fe.lA.add,h.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),we=(0,Se.q5)("diff-review-remove",fe.lA.remove,h.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),He=(0,Se.q5)("diff-review-close",fe.lA.close,h.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let lt=class mm extends Y.JT{constructor(Te,Ae){super(),this._languageService=Ae,this._width=0,this._diffEditor=Te,this._isVisible=!1,this.shadow=(0,k.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new f.o(this.actionBarContainer.domNode)),this._actionBar.push(new z.aU("diffreview.close",h.N("label.close","Close"),"close-diff-review "+ye.kS.asClassName(He),!0,()=>function(Ye,Te,Ae,ht){return new(Ae||(Ae=Promise))(function(Ge,ln){function jn(Qn){try{qn(ht.next(Qn))}catch(ii){ln(ii)}}function Jn(Qn){try{qn(ht.throw(Qn))}catch(ii){ln(ii)}}function qn(Qn){Qn.done?Ge(Qn.value):function Mt(Ge){return Ge instanceof Ae?Ge:new Ae(function(ln){ln(Ge)})}(Qn.value).then(jn,Jn)}qn((ht=ht.apply(Ye,Te||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new T.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(Te.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(Te.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Q.mu(this.domNode.domNode,"click",ht=>{ht.preventDefault();const Mt=Q.Fx(ht.target,"diff-review-row");Mt&&this._goToRow(Mt)})),this._register(Q.mu(this.domNode.domNode,"keydown",ht=>{(ht.equals(18)||ht.equals(2066)||ht.equals(530))&&(ht.preventDefault(),this._goToRow(this._getNextRow())),(ht.equals(16)||ht.equals(2064)||ht.equals(528))&&(ht.preventDefault(),this._goToRow(this._getPrevRow())),(ht.equals(9)||ht.equals(2057)||ht.equals(521)||ht.equals(1033))&&(ht.preventDefault(),this.hide()),(ht.equals(10)||ht.equals(3))&&(ht.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let Te=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let ht=-1;for(let Mt=0,Ge=this._diffs.length;Mt<Ge;Mt++)if(this._diffs[Mt]===this._currentDiff){ht=Mt;break}Te=this._diffs.length+ht-1}else Te=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Te%=this._diffs.length;const Ae=this._diffs[Te].entries;this._diffEditor.setPosition(new N.L(Ae[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ae[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ae[Ae.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let Te=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let ht=-1;for(let Mt=0,Ge=this._diffs.length;Mt<Ge;Mt++)if(this._diffs[Mt]===this._currentDiff){ht=Mt;break}Te=ht+1}else Te=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Te%=this._diffs.length;const Ae=this._diffs[Te].entries;this._diffEditor.setPosition(new N.L(Ae[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ae[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ae[Ae.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let Te=-1;const Ae=this._getCurrentFocusedRow();if(Ae){const ht=parseInt(Ae.getAttribute("data-line"),10);isNaN(ht)||(Te=ht)}this.hide(),-1!==Te&&(this._diffEditor.setPosition(new N.L(Te,1)),this._diffEditor.revealPosition(new N.L(Te,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const Te=this._getCurrentFocusedRow();return Te?Te.previousElementSibling?Te.previousElementSibling:Te:this._getFirstRow()}_getNextRow(){const Te=this._getCurrentFocusedRow();return Te?Te.nextElementSibling?Te.nextElementSibling:Te:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const Te=document.activeElement;return Te&&/diff-review-row/.test(Te.className)?Te:null}_goToRow(Te){const Ae=this._getCurrentFocusedRow();Te.tabIndex=0,Te.focus(),Ae&&Ae!==Te&&(Ae.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(Te,Ae,ht){this._width=Ae,this.shadow.setTop(Te-6),this.shadow.setWidth(Ae),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Te),this.domNode.setWidth(Ae),this.domNode.setHeight(ht),this._content.setHeight(ht),this._content.setWidth(Ae),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const Te=this._diffEditor.getLineChanges();if(!Te||0===Te.length)return[];const Ae=this._diffEditor.getOriginalEditor().getModel(),ht=this._diffEditor.getModifiedEditor().getModel();return Ae&&ht?mm._mergeAdjacent(Te,Ae.getLineCount(),ht.getLineCount()):[]}static _mergeAdjacent(Te,Ae,ht){if(!Te||0===Te.length)return[];const Mt=[];let Ge=0;for(let qn=0,Qn=Te.length;qn<Qn;qn++){const ii=Te[qn],gi=ii.originalStartLineNumber,ui=ii.originalEndLineNumber,Ti=ii.modifiedStartLineNumber,yi=ii.modifiedEndLineNumber,Ni=[];let Ai=0;{const to=0===ui?gi:gi-1,Kn=0===yi?Ti:Ti-1;let Pn=1,Ei=1;if(qn>0){const Ci=Te[qn-1];Pn=0===Ci.originalEndLineNumber?Ci.originalStartLineNumber+1:Ci.originalEndLineNumber+1,Ei=0===Ci.modifiedEndLineNumber?Ci.modifiedStartLineNumber+1:Ci.modifiedEndLineNumber+1}let vi=to-3+1,Wi=Kn-3+1;if(vi<Pn){const Ci=Pn-vi;vi+=Ci,Wi+=Ci}if(Wi<Ei){const Ci=Ei-Wi;vi+=Ci,Wi+=Ci}Ni[Ai++]=new ne(vi,to,Wi,Kn)}0!==ui&&(Ni[Ai++]=new ne(gi,ui,0,0)),0!==yi&&(Ni[Ai++]=new ne(0,0,Ti,yi));{const to=0===ui?gi+1:ui+1,Kn=0===yi?Ti+1:yi+1;let Pn=Ae,Ei=ht;if(qn+1<Qn){const Ci=Te[qn+1];Pn=0===Ci.originalEndLineNumber?Ci.originalStartLineNumber:Ci.originalStartLineNumber-1,Ei=0===Ci.modifiedEndLineNumber?Ci.modifiedStartLineNumber:Ci.modifiedStartLineNumber-1}let vi=to+3-1,Wi=Kn+3-1;if(vi>Pn){const Ci=Pn-vi;vi+=Ci,Wi+=Ci}if(Wi>Ei){const Ci=Ei-Wi;vi+=Ci,Wi+=Ci}Ni[Ai++]=new ne(to,vi,Kn,Wi)}Mt[Ge++]=new ce(Ni)}let ln=Mt[0].entries;const jn=[];let Jn=0;for(let qn=1,Qn=Mt.length;qn<Qn;qn++){const ii=Mt[qn].entries,gi=ln[ln.length-1],ui=ii[0];0===gi.getType()&&0===ui.getType()&&ui.originalLineStart<=gi.originalLineEnd?(ln[ln.length-1]=new ne(gi.originalLineStart,ui.originalLineEnd,gi.modifiedLineStart,ui.modifiedLineEnd),ln=ln.concat(ii.slice(1))):(jn[Jn++]=new ce(ln),ln=ii)}return jn[Jn++]=new ce(ln),jn}_findDiffIndex(Te){const Ae=Te.lineNumber;for(let ht=0,Mt=this._diffs.length;ht<Mt;ht++){const Ge=this._diffs[ht].entries;if(Ae<=Ge[Ge.length-1].modifiedLineEnd)return ht}return 0}_render(){const Te=this._diffEditor.getOriginalEditor().getOptions(),Ae=this._diffEditor.getModifiedEditor().getOptions(),ht=this._diffEditor.getOriginalEditor().getModel(),Mt=this._diffEditor.getModifiedEditor().getModel(),Ge=ht.getOptions(),ln=Mt.getOptions();if(!this._isVisible||!ht||!Mt)return Q.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const jn=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[jn]===this._currentDiff)return;this._currentDiff=this._diffs[jn];const Jn=this._diffs[jn].entries,qn=document.createElement("div");qn.className="diff-review-table",qn.setAttribute("role","list"),qn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,V.N)(qn,Ae.get(44));let Qn=0,ii=0,gi=0,ui=0;for(let Wi=0,Ci=Jn.length;Wi<Ci;Wi++){const Ri=Jn[Wi],co=Ri.originalLineStart,Pi=Ri.originalLineEnd,vo=Ri.modifiedLineStart,Li=Ri.modifiedLineEnd;0!==co&&(0===Qn||co<Qn)&&(Qn=co),0!==Pi&&(0===ii||Pi>ii)&&(ii=Pi),0!==vo&&(0===gi||vo<gi)&&(gi=vo),0!==Li&&(0===ui||Li>ui)&&(ui=Li)}const Ti=document.createElement("div");Ti.className="diff-review-row";const yi=document.createElement("div");yi.className="diff-review-cell diff-review-summary";const Ni=ii-Qn+1,Ai=ui-gi+1;yi.appendChild(document.createTextNode(`${jn+1}/${this._diffs.length}: @@ -${Qn},${Ni} +${gi},${Ai} @@`)),Ti.setAttribute("data-line",String(gi));const to=Wi=>0===Wi?h.N("no_lines_changed","no lines changed"):1===Wi?h.N("one_line_changed","1 line changed"):h.N("more_lines_changed","{0} lines changed",Wi),Kn=to(Ni),Pn=to(Ai);Ti.setAttribute("aria-label",h.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",jn+1,this._diffs.length,Qn,Kn,gi,Pn)),Ti.appendChild(yi),Ti.setAttribute("role","listitem"),qn.appendChild(Ti);const Ei=Ae.get(59);let vi=gi;for(let Wi=0,Ci=Jn.length;Wi<Ci;Wi++){const Ri=Jn[Wi];mm._renderSection(qn,Ri,vi,Ei,this._width,Te,ht,Ge,Ae,Mt,ln,this._languageService.languageIdCodec),0!==Ri.modifiedLineStart&&(vi=Ri.modifiedLineEnd)}Q.PO(this._content.domNode),this._content.domNode.appendChild(qn),this.scrollbar.scanDomNode()}static _renderSection(Te,Ae,ht,Mt,Ge,ln,jn,Jn,qn,Qn,ii,gi){const ui=Ae.getType();let Ti="diff-review-row",yi="",Ai=null;switch(ui){case 1:Ti="diff-review-row line-insert",yi=" char-insert",Ai=ue;break;case 2:Ti="diff-review-row line-delete",yi=" char-delete",Ai=we}const to=Ae.originalLineStart,Pn=Ae.modifiedLineStart,vi=Math.max(Ae.modifiedLineEnd-Pn,Ae.originalLineEnd-to),Wi=ln.get(131),Ci=Wi.glyphMarginWidth+Wi.lineNumbersWidth,Ri=qn.get(131),co=10+Ri.glyphMarginWidth+Ri.lineNumbersWidth;for(let Pi=0;Pi<=vi;Pi++){const vo=0===to?0:to+Pi,Li=0===Pn?0:Pn+Pi,Di=document.createElement("div");Di.style.minWidth=Ge+"px",Di.className=Ti,Di.setAttribute("role","listitem"),0!==Li&&(ht=Li),Di.setAttribute("data-line",String(ht));const Mo=document.createElement("div");Mo.className="diff-review-cell",Mo.style.height=`${Mt}px`,Di.appendChild(Mo);const Yi=document.createElement("span");Yi.style.width=Ci+"px",Yi.style.minWidth=Ci+"px",Yi.className="diff-review-line-number"+yi,0!==vo?Yi.appendChild(document.createTextNode(String(vo))):Yi.innerText="\xa0",Mo.appendChild(Yi);const Bo=document.createElement("span");Bo.style.width=co+"px",Bo.style.minWidth=co+"px",Bo.style.paddingRight="10px",Bo.className="diff-review-line-number"+yi,0!==Li?Bo.appendChild(document.createTextNode(String(Li))):Bo.innerText="\xa0",Mo.appendChild(Bo);const Oo=document.createElement("span");if(Oo.className="diff-review-spacer",Ai){const fi=document.createElement("span");fi.className=ye.kS.asClassName(Ai),fi.innerText="\xa0\xa0",Oo.appendChild(fi)}else Oo.innerText="\xa0\xa0";let wi;if(Mo.appendChild(Oo),0!==Li){let fi=this._renderLine(Qn,qn,ii.tabSize,Li,gi);mm._ttPolicy&&(fi=mm._ttPolicy.createHTML(fi)),Mo.insertAdjacentHTML("beforeend",fi),wi=Qn.getLineContent(Li)}else{let fi=this._renderLine(jn,ln,Jn.tabSize,vo,gi);mm._ttPolicy&&(fi=mm._ttPolicy.createHTML(fi)),Mo.insertAdjacentHTML("beforeend",fi),wi=jn.getLineContent(vo)}0===wi.length&&(wi=h.N("blankLine","blank"));let $o="";switch(ui){case 0:$o=vo===Li?h.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",wi,vo):h.N("equalLine","{0} original line {1} modified line {2}",wi,vo,Li);break;case 1:$o=h.N("insertLine","+ {0} modified line {1}",wi,Li);break;case 2:$o=h.N("deleteLine","- {0} original line {1}",wi,vo)}Di.setAttribute("aria-label",$o),Te.appendChild(Di)}}static _renderLine(Te,Ae,ht,Mt,Ge){const ln=Te.getLineContent(Mt),jn=Ae.get(44),Jn=K.A.createEmpty(ln,Ge),qn=W.wA.isBasicASCII(ln,Te.mightContainNonBasicASCII()),Qn=W.wA.containsRTL(ln,qn,Te.mightContainRTL());return(0,P.tF)(new P.IJ(jn.isMonospace&&!Ae.get(29),jn.canUseHalfwidthRightwardsArrow,ln,!1,qn,Qn,0,Jn,[],ht,0,jn.spaceWidth,jn.middotWidth,jn.wsmiddotWidth,Ae.get(105),Ae.get(88),Ae.get(83),Ae.get(45)!==H.n0.OFF,null)).html}};var Te;function ct(Ye){const Te=Ye.get(w.$),Ae=Te.listDiffEditors(),ht=Te.getActiveCodeEditor();if(!ht)return null;for(let Mt=0,Ge=Ae.length;Mt<Ge;Mt++){const ln=Ae[Mt];if(ln.getModifiedEditor().getId()===ht.getId()||ln.getOriginalEditor().getId()===ht.getId())return ln}return null}lt._ttPolicy=null===(pe=window.trustedTypes)||void 0===pe?void 0:pe.createPolicy("diffReview",{createHTML:Ye=>Ye}),lt=function(Ye,Te,Ae,ht){var ln,Mt=arguments.length,Ge=Mt<3?Te:null===ht?ht=Object.getOwnPropertyDescriptor(Te,Ae):ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ge=Reflect.decorate(Ye,Te,Ae,ht);else for(var jn=Ye.length-1;jn>=0;jn--)(ln=Ye[jn])&&(Ge=(Mt<3?ln(Ge):Mt>3?ln(Te,Ae,Ge):ln(Te,Ae))||Ge);return Mt>3&&Ge&&Object.defineProperty(Te,Ae,Ge),Ge}([(1,Te=Ie.O,function(Ae,ht){Te(Ae,ht,1)})],lt),(0,ye.Ic)((Ye,Te)=>{const Ae=Ye.getColor(M.hw);Ae&&Te.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Ae}; }`);const ht=Ye.getColor(he._wn);ht&&Te.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${ht} 0 -6px 6px -6px inset; }`)}),(0,I.Qr)(class ut extends I.R6{constructor(){super({id:"editor.action.diffReview.next",label:h.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:J.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(Te,Ae){const ht=ct(Te);ht&&ht.diffReviewNext()}}),(0,I.Qr)(class Ve extends I.R6{constructor(){super({id:"editor.action.diffReview.prev",label:h.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:J.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(Te,Ae){const ht=ct(Te);ht&&ht.diffReviewPrev()}});var Nt=m(8451),un=m(8511),Jt=m(2651),St=m(4412),en=m(4084),pn=m(3772),Xt=m(4500),ze=m(4725),At=m(2281),Kt=m(8782),nn=m(4394),Mn=function(Ye,Te,Ae,ht){return new(Ae||(Ae=Promise))(function(Ge,ln){function jn(Qn){try{qn(ht.next(Qn))}catch(ii){ln(ii)}}function Jn(Qn){try{qn(ht.throw(Qn))}catch(ii){ln(ii)}}function qn(Qn){Qn.done?Ge(Qn.value):function Mt(Ge){return Ge instanceof Ae?Ge:new Ae(function(ln){ln(Ge)})}(Qn.value).then(jn,Jn)}qn((ht=ht.apply(Ye,Te||[])).next())})};class Nn extends Y.JT{constructor(Te,Ae,ht,Mt,Ge,ln){super(),this._viewZoneId=Te,this._marginDomNode=Ae,this.editor=ht,this.diff=Mt,this._contextMenuService=Ge,this._clipboardService=ln,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=fe.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const jn=ht.getOption(59),Jn=ht.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${jn}px`,this._diffActions.style.lineHeight=`${jn}px`,this._marginDomNode.appendChild(this._diffActions);const qn=[],Qn=0===Mt.modifiedEndLineNumber;qn.push(new z.aU("diff.clipboard.copyDeletedContent",Qn?Mt.originalEndLineNumber>Mt.modifiedStartLineNumber?h.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):h.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Mt.originalEndLineNumber>Mt.modifiedStartLineNumber?h.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):h.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Mn(this,void 0,void 0,function*(){const yi=new Nt.e(Mt.originalStartLineNumber,1,Mt.originalEndLineNumber+1,1),Ni=Mt.originalModel.getValueInRange(yi);yield this._clipboardService.writeText(Ni)})));let gi,ii=0;Mt.originalEndLineNumber>Mt.modifiedStartLineNumber&&(gi=new z.aU("diff.clipboard.copyDeletedLineContent",Qn?h.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Mt.originalStartLineNumber):h.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Mt.originalStartLineNumber),void 0,!0,()=>Mn(this,void 0,void 0,function*(){const yi=Mt.originalModel.getLineContent(Mt.originalStartLineNumber+ii);if(""===yi){const Ni=Mt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===Ni?"\n":"\r\n")}else yield this._clipboardService.writeText(yi)})),qn.push(gi)),ht.getOption(81)||qn.push(new z.aU("diff.inline.revertChange",h.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Mn(this,void 0,void 0,function*(){const yi=new Nt.e(Mt.originalStartLineNumber,1,Mt.originalEndLineNumber,Mt.originalModel.getLineMaxColumn(Mt.originalEndLineNumber)),Ni=Mt.originalModel.getValueInRange(yi);if(0===Mt.modifiedEndLineNumber){const Ai=ht.getModel().getLineMaxColumn(Mt.modifiedStartLineNumber);ht.executeEdits("diffEditor",[{range:new Nt.e(Mt.modifiedStartLineNumber,Ai,Mt.modifiedStartLineNumber,Ai),text:Jn+Ni}])}else{const Ai=ht.getModel().getLineMaxColumn(Mt.modifiedEndLineNumber);ht.executeEdits("diffEditor",[{range:new Nt.e(Mt.modifiedStartLineNumber,1,Mt.modifiedEndLineNumber,Ai),text:Ni}])}})));const Ti=(yi,Ni)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:yi,y:Ni}),getActions:()=>(gi&&(gi.label=Qn?h.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Mt.originalStartLineNumber+ii):h.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Mt.originalStartLineNumber+ii)),qn),autoSelectFirstItem:!0})};this._register(Q.mu(this._diffActions,"mousedown",yi=>{const{top:Ni,height:Ai}=Q.i(this._diffActions),to=Math.floor(jn/3);yi.preventDefault(),Ti(yi.posx,Ni+Ai+to)})),this._register(ht.onMouseMove(yi=>{8!==yi.target.type&&5!==yi.target.type||yi.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,ii=this._updateLightBulbPosition(this._marginDomNode,yi.event.browserEvent.y,jn))})),this._register(ht.onMouseDown(yi=>{!yi.event.rightButton||(8===yi.target.type||5===yi.target.type)&&yi.target.detail.viewZoneId===this._viewZoneId&&(yi.event.preventDefault(),ii=this._updateLightBulbPosition(this._marginDomNode,yi.event.browserEvent.y,jn),Ti(yi.event.posx,yi.event.posy+jn))}))}get visibility(){return this._visibility}set visibility(Te){this._visibility!==Te&&(this._visibility=Te,this._diffActions.style.visibility=Te?"visible":"hidden")}_updateLightBulbPosition(Te,Ae,ht){const{top:Mt}=Q.i(Te),ln=Math.floor((Ae-Mt)/ht);if(this._diffActions.style.top=ln*ht+"px",this.diff.viewLineCounts){let Jn=0;for(let qn=0;qn<this.diff.viewLineCounts.length;qn++)if(Jn+=this.diff.viewLineCounts[qn],ln<Jn)return qn}return ln}}var bt,yt=m(777),Ht=m(3663),jt=m(2534),_n=m(2052),In=m(1382),$t=function(Ye,Te){return function(Ae,ht){Te(Ae,ht,Ye)}};class Zt{constructor(Te,Ae){this._contextMenuService=Te,this._clipboardService=Ae,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Te){return Te.filter(Ae=>!this._zonesMap[String(Ae.id)])}clean(Te){this._zones.length>0&&Te.changeViewZones(Ae=>{for(const ht of this._zones)Ae.removeZone(ht)}),this._zones=[],this._zonesMap={},this._decorations=Te.deltaDecorations(this._decorations,[])}apply(Te,Ae,ht,Mt){const Ge=Mt?x.Z.capture(Te):null;Te.changeViewZones(ln=>{var jn;for(const Jn of this._zones)ln.removeZone(Jn);for(const Jn of this._inlineDiffMargins)Jn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Jn=0,qn=ht.zones.length;Jn<qn;Jn++){const Qn=ht.zones[Jn];Qn.suppressMouseDown=!0;const ii=ln.addZone(Qn);this._zones.push(ii),this._zonesMap[String(ii)]=!0,ht.zones[Jn].diff&&Qn.marginDomNode&&(Qn.suppressMouseDown=!1,0!==(null===(jn=ht.zones[Jn].diff)||void 0===jn?void 0:jn.originalModel.getValueLength())&&this._inlineDiffMargins.push(new Nn(ii,Qn.marginDomNode,Te,ht.zones[Jn].diff,this._contextMenuService,this._clipboardService)))}}),Ge&&Ge.restore(Te),this._decorations=Te.deltaDecorations(this._decorations,ht.decorations),Ae&&Ae.setZones(ht.overviewZones)}}let Rn=0;const vn=(0,Se.q5)("diff-insert",fe.lA.add,h.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Wn=(0,Se.q5)("diff-remove",fe.lA.remove,h.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),pt=null===(bt=window.trustedTypes)||void 0===bt?void 0:bt.createPolicy("diffEditorWidget",{createHTML:Ye=>Ye});let ei=class pa extends Y.JT{constructor(Te,Ae,ht,Mt,Ge,ln,jn,Jn,qn,Qn,ii,gi){super(),this._editorProgressService=gi,this._onDidDispose=this._register(new j.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new j.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new j.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Ge,this._codeEditorService=Jn,this._contextKeyService=this._register(ln.createScoped(Te)),this._instantiationService=jn.createChild(new At.y([J.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=qn,this._notificationService=Qn,this._id=++Rn,this._state=0,this._updatingDiffProgress=null,this._domElement=Te,this._options=Dn(Ae=Ae||{},{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",void 0!==Ae.isInEmbeddedEditor&&Ae.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new se.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=pa._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Q.mu(this._overviewDomElement,"mousedown",Ti=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Ti)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Zt(ii,Mt),this._modifiedEditorState=new Zt(ii,Mt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new _n.I(this._containerDomElement,Ae.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ae.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ae,ht.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ae,ht.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=jn.createInstance(lt,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new on(this._createDataSource(),this._options.enableSplitViewResizing):new Mi(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(qn.onDidColorThemeChange(Ti=>{this._strategy&&this._strategy.applyColors(Ti)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=pa._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const ui=I.Uc.getDiffEditorContributions();for(const Ti of ui)try{this._register(jn.createInstance(Ti.ctor,this))}catch(yi){(0,Ht.dL)(yi)}this._codeEditorService.addDiffEditor(this)}_setState(Te){this._state!==Te&&(this._state=Te,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Te,Ae){let ht="monaco-diff-editor monaco-editor-background ";return Ae&&(ht+="side-by-side "),ht+=(0,ye.m6)(Te.type),ht}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Te,Ae){const ht=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Te),Ae);this._register(ht.onDidScrollChange(Ge=>{this._isHandlingScrollEvent||!Ge.scrollTopChanged&&!Ge.scrollLeftChanged&&!Ge.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Ge.scrollLeft,scrollTop:Ge.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ht.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ht.onDidChangeConfiguration(Ge=>{!ht.getModel()||(Ge.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Ge.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ht.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ht.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Mt=this._contextKeyService.createKey("isInDiffLeftEditor",ht.hasWidgetFocus());return this._register(ht.onDidFocusEditorWidget(()=>Mt.set(!0))),this._register(ht.onDidBlurEditorWidget(()=>Mt.set(!1))),this._register(ht.onDidContentSizeChange(Ge=>{const ln=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+pa.ONE_OVERVIEW_WIDTH,jn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:jn,contentWidth:ln,contentHeightChanged:Ge.contentHeightChanged,contentWidthChanged:Ge.contentWidthChanged})})),ht}_createRightHandSideEditor(Te,Ae){const ht=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Te),Ae);this._register(ht.onDidScrollChange(Ge=>{this._isHandlingScrollEvent||!Ge.scrollTopChanged&&!Ge.scrollLeftChanged&&!Ge.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Ge.scrollLeft,scrollTop:Ge.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ht.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ht.onDidChangeConfiguration(Ge=>{!ht.getModel()||(Ge.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Ge.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ht.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ht.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ht.onDidChangeModelOptions(Ge=>{Ge.tabSize&&this._updateDecorationsRunner.schedule()}));const Mt=this._contextKeyService.createKey("isInDiffRightEditor",ht.hasWidgetFocus());return this._register(ht.onDidFocusEditorWidget(()=>Mt.set(!0))),this._register(ht.onDidBlurEditorWidget(()=>Mt.set(!1))),this._register(ht.onDidContentSizeChange(Ge=>{const ln=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+pa.ONE_OVERVIEW_WIDTH,jn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:jn,contentWidth:ln,contentHeightChanged:Ge.contentHeightChanged,contentWidthChanged:Ge.contentWidthChanged})})),ht}_createInnerEditor(Te,Ae,ht,Mt){return Te.createInstance(D.Gm,Ae,ht,Mt)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Jt.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Te){const Ae=Dn(Te,this._options),ht=function An(Ye,Te){return{enableSplitViewResizing:Ye.enableSplitViewResizing!==Te.enableSplitViewResizing,renderSideBySide:Ye.renderSideBySide!==Te.renderSideBySide,maxComputationTime:Ye.maxComputationTime!==Te.maxComputationTime,maxFileSize:Ye.maxFileSize!==Te.maxFileSize,ignoreTrimWhitespace:Ye.ignoreTrimWhitespace!==Te.ignoreTrimWhitespace,renderIndicators:Ye.renderIndicators!==Te.renderIndicators,originalEditable:Ye.originalEditable!==Te.originalEditable,diffCodeLens:Ye.diffCodeLens!==Te.diffCodeLens,renderOverviewRuler:Ye.renderOverviewRuler!==Te.renderOverviewRuler,diffWordWrap:Ye.diffWordWrap!==Te.diffWordWrap}}(this._options,Ae);this._options=Ae;const Ge=this._isVisible&&(ht.maxComputationTime||ht.maxFileSize);ht.ignoreTrimWhitespace||ht.renderIndicators?this._beginUpdateDecorations():Ge&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Te)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Te)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),ht.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new on(this._createDataSource(),this._options.enableSplitViewResizing):new Mi(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=pa._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),ht.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Te){if(Te&&(!Te.original||!Te.modified))throw new Error(Te.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Te?Te.original:null),this._modifiedEditor.setModel(Te?Te.modified:null),this._updateDecorationsRunner.cancel(),Te&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Te&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(Te){return this._modifiedEditor.getVisibleColumnFromPosition(Te)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Te){this._modifiedEditor.setPosition(Te)}revealLine(Te,Ae=0){this._modifiedEditor.revealLine(Te,Ae)}revealLineInCenter(Te,Ae=0){this._modifiedEditor.revealLineInCenter(Te,Ae)}revealLineInCenterIfOutsideViewport(Te,Ae=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Te,Ae)}revealLineNearTop(Te,Ae=0){this._modifiedEditor.revealLineNearTop(Te,Ae)}revealPosition(Te,Ae=0){this._modifiedEditor.revealPosition(Te,Ae)}revealPositionInCenter(Te,Ae=0){this._modifiedEditor.revealPositionInCenter(Te,Ae)}revealPositionInCenterIfOutsideViewport(Te,Ae=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Te,Ae)}revealPositionNearTop(Te,Ae=0){this._modifiedEditor.revealPositionNearTop(Te,Ae)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Te){this._modifiedEditor.setSelection(Te)}setSelections(Te){this._modifiedEditor.setSelections(Te)}revealLines(Te,Ae,ht=0){this._modifiedEditor.revealLines(Te,Ae,ht)}revealLinesInCenter(Te,Ae,ht=0){this._modifiedEditor.revealLinesInCenter(Te,Ae,ht)}revealLinesInCenterIfOutsideViewport(Te,Ae,ht=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Te,Ae,ht)}revealLinesNearTop(Te,Ae,ht=0){this._modifiedEditor.revealLinesNearTop(Te,Ae,ht)}revealRange(Te,Ae=0,ht=!1,Mt=!0){this._modifiedEditor.revealRange(Te,Ae,ht,Mt)}revealRangeInCenter(Te,Ae=0){this._modifiedEditor.revealRangeInCenter(Te,Ae)}revealRangeInCenterIfOutsideViewport(Te,Ae=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Te,Ae)}revealRangeNearTop(Te,Ae=0){this._modifiedEditor.revealRangeNearTop(Te,Ae)}revealRangeNearTopIfOutsideViewport(Te,Ae=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Te,Ae)}revealRangeAtTop(Te,Ae=0){this._modifiedEditor.revealRangeAtTop(Te,Ae)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(Te){if(Te&&Te.original&&Te.modified){const Ae=Te;this._originalEditor.restoreViewState(Ae.original),this._modifiedEditor.restoreViewState(Ae.modified)}}layout(Te){this._elementSizeObserver.observe(Te)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Te,Ae,ht){this._modifiedEditor.trigger(Te,Ae,ht)}changeDecorations(Te){return this._modifiedEditor.changeDecorations(Te)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Te=this._elementSizeObserver.getHeight(),Ae=this._getReviewHeight(),ht=pa.ENTIRE_DIFF_OVERVIEW_WIDTH-2*pa.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:pa.ONE_OVERVIEW_WIDTH,right:ht+pa.ONE_OVERVIEW_WIDTH,height:Te-Ae}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:pa.ONE_OVERVIEW_WIDTH,height:Te-Ae}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),pa.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Te,Ae){return!Te&&!Ae||!(!Te||!Ae)&&Te.toString()===Ae.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Te=this._originalEditor.getModel(),Ae=this._modifiedEditor.getModel();if(!Te||!Ae)return;this._diffComputationToken++;const ht=this._diffComputationToken,Mt=1024*this._options.maxFileSize*1024,Ge=ln=>{const jn=ln.getValueLength();return 0===Mt||jn<=Mt};Ge(Te)&&Ge(Ae)?(this._setState(1),this._editorWorkerService.computeDiff(Te.uri,Ae.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(ln=>{ht===this._diffComputationToken&&Te===this._originalEditor.getModel()&&Ae===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ln,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ln=>{ht===this._diffComputationToken&&Te===this._originalEditor.getModel()&&Ae===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!pa._equals(Te.uri,this._lastOriginalWarning)||!pa._equals(Ae.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Te.uri,this._lastModifiedWarning=Ae.uri,this._notificationService.warn(h.N("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Te=this._diffComputationResult?this._diffComputationResult.changes:[],Ae=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ht=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Mt=this._strategy.getEditorsDiffDecorations(Te,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ae,ht);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Mt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Mt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Te){const Ae=Object.assign({},Te);return Ae.inDiffEditor=!0,Ae.automaticLayout=!1,Ae.scrollbar=Object.assign({},Ae.scrollbar||{}),Ae.scrollbar.vertical="visible",Ae.folding=!1,Ae.codeLens=this._options.diffCodeLens,Ae.fixedOverflowWidgets=!0,Ae.minimap=Object.assign({},Ae.minimap||{}),Ae.minimap.enabled=!1,Ae}_adjustOptionsForLeftHandSide(Te){const Ae=this._adjustOptionsForSubEditor(Te);return Ae.wordWrapOverride1=this._options.renderSideBySide?this._options.diffWordWrap:"off",Te.originalAriaLabel&&(Ae.ariaLabel=Te.originalAriaLabel),Ae.readOnly=!this._options.originalEditable,Ae.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ae),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Te){const Ae=this._adjustOptionsForSubEditor(Te);return Te.modifiedAriaLabel&&(Ae.ariaLabel=Te.modifiedAriaLabel),Ae.wordWrapOverride1=this._options.diffWordWrap,Ae.revealHorizontalRightPadding=H.BH.revealHorizontalRightPadding.defaultValue+pa.ENTIRE_DIFF_OVERVIEW_WIDTH,Ae.scrollbar.verticalHasArrows=!1,Ae.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ae),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Te=this._elementSizeObserver.getWidth(),Ae=this._elementSizeObserver.getHeight(),ht=this._getReviewHeight(),Mt=this._strategy.layout();this._originalDomNode.style.width=Mt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Te-Mt+"px",this._modifiedDomNode.style.left=Mt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ae-ht+"px",this._overviewDomElement.style.width=pa.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Te-pa.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(pa.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Mt,height:Ae-ht}),this._modifiedEditor.layout({width:Te-Mt-(this._options.renderOverviewRuler?pa.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ae-ht}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ae-ht,Te,ht),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Te=this._computeOverviewViewport();Te?(this._overviewViewportDomElement.setTop(Te.top),this._overviewViewportDomElement.setHeight(Te.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Te=this._modifiedEditor.getLayoutInfo();if(!Te)return null;const Ae=this._modifiedEditor.getScrollTop(),ht=this._modifiedEditor.getScrollHeight(),Mt=Math.max(0,Te.height),Ge=Math.max(0,Mt-0),ln=ht>0?Ge/ht:0;return{height:Math.max(0,Math.floor(Te.height*ln)),top:Math.floor(Ae*ln)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Te){this._strategy&&this._strategy.dispose(),this._strategy=Te,Te.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Te,Ae){const ht=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===ht.length||Te<Ae(ht[0]))return null;let Mt=0,Ge=ht.length-1;for(;Mt<Ge;){const ln=Math.floor((Mt+Ge)/2),jn=Ae(ht[ln]),Jn=ln+1<=Ge?Ae(ht[ln+1]):1073741824;Te<jn?Ge=ln-1:Te>=Jn?Mt=ln+1:(Mt=ln,Ge=ln)}return ht[Mt]}_getEquivalentLineForOriginalLineNumber(Te){const Ae=this._getLineChangeAtOrBeforeLineNumber(Te,Jn=>Jn.originalStartLineNumber);if(!Ae)return Te;const Mt=Ae.modifiedStartLineNumber+(Ae.modifiedEndLineNumber>0?-1:0),Ge=Ae.originalEndLineNumber>0?Ae.originalEndLineNumber-Ae.originalStartLineNumber+1:0,ln=Ae.modifiedEndLineNumber>0?Ae.modifiedEndLineNumber-Ae.modifiedStartLineNumber+1:0,jn=Te-(Ae.originalStartLineNumber+(Ae.originalEndLineNumber>0?-1:0));return jn<=Ge?Mt+Math.min(jn,ln):Mt+ln-Ge+jn}_getEquivalentLineForModifiedLineNumber(Te){const Ae=this._getLineChangeAtOrBeforeLineNumber(Te,Jn=>Jn.modifiedStartLineNumber);if(!Ae)return Te;const ht=Ae.originalStartLineNumber+(Ae.originalEndLineNumber>0?-1:0),Ge=Ae.originalEndLineNumber>0?Ae.originalEndLineNumber-Ae.originalStartLineNumber+1:0,ln=Ae.modifiedEndLineNumber>0?Ae.modifiedEndLineNumber-Ae.modifiedStartLineNumber+1:0,jn=Te-(Ae.modifiedStartLineNumber+(Ae.modifiedEndLineNumber>0?-1:0));return jn<=ln?ht+Math.min(jn,Ge):ht+Ge-ln+jn}getDiffLineInformationForOriginal(Te){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Te)}:null}getDiffLineInformationForModified(Te){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Te)}:null}};ei.ONE_OVERVIEW_WIDTH=15,ei.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ei.UPDATE_DIFF_DECORATIONS_DELAY=200,ei=function(Ye,Te,Ae,ht){var ln,Mt=arguments.length,Ge=Mt<3?Te:null===ht?ht=Object.getOwnPropertyDescriptor(Te,Ae):ht;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ge=Reflect.decorate(Ye,Te,Ae,ht);else for(var jn=Ye.length-1;jn>=0;jn--)(ln=Ye[jn])&&(Ge=(Mt<3?ln(Ge):Mt>3?ln(Te,Ae,Ge):ln(Te,Ae))||Ge);return Mt>3&&Ge&&Object.defineProperty(Te,Ae,Ge),Ge}([$t(3,yt.p),$t(4,en.p),$t(5,J.i6),$t(6,ze.TG),$t(7,w.$),$t(8,ye.XE),$t(9,Kt.lT),$t(10,nn.i),$t(11,jt.ek)],ei);class dt extends Y.JT{constructor(Te){super(),this._dataSource=Te,this._insertColor=null,this._removeColor=null}applyColors(Te){const Ae=(Te.getColor(he.ypS)||he.CzK).transparent(2),ht=(Te.getColor(he.P4M)||he.keg).transparent(2),Mt=!Ae.equals(this._insertColor)||!ht.equals(this._removeColor);return this._insertColor=Ae,this._removeColor=ht,Mt}getEditorsDiffDecorations(Te,Ae,ht,Mt,Ge){Ge=Ge.sort((qn,Qn)=>qn.afterLineNumber-Qn.afterLineNumber),Mt=Mt.sort((qn,Qn)=>qn.afterLineNumber-Qn.afterLineNumber);const ln=this._getViewZones(Te,Mt,Ge,ht),jn=this._getOriginalEditorDecorations(Te,Ae,ht),Jn=this._getModifiedEditorDecorations(Te,Ae,ht);return{original:{decorations:jn.decorations,overviewZones:jn.overviewZones,zones:ln.original},modified:{decorations:Jn.decorations,overviewZones:Jn.overviewZones,zones:ln.modified}}}}class ke{constructor(Te){this._source=Te,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class ft{constructor(Te,Ae,ht,Mt,Ge){this._lineChanges=Te,this._originalForeignVZ=Ae,this._modifiedForeignVZ=ht,this._originalEditor=Mt,this._modifiedEditor=Ge}static _getViewLineCount(Te,Ae,ht){const Mt=Te.getModel(),Ge=Te._getViewModel();if(Mt&&Ge){const ln=Xe(Mt,Ge,Ae,ht);return ln.endLineNumber-ln.startLineNumber+1}return ht-Ae+1}getViewZones(){const Te=this._originalEditor.getOption(59),Ae=this._modifiedEditor.getOption(59),ht=-1!==this._originalEditor.getOption(132).wrappingColumn,Mt=-1!==this._modifiedEditor.getOption(132).wrappingColumn,Ge=ht||Mt,ln=this._originalEditor.getModel(),jn=this._originalEditor._getViewModel().coordinatesConverter,Jn=this._modifiedEditor._getViewModel().coordinatesConverter,qn_original=[],qn_modified=[];let Qn=0,ii=0,gi=0,ui=0,Ti=0,yi=0;const Ni=(vi,Wi)=>vi.afterLineNumber-Wi.afterLineNumber,Ai=(vi,Wi)=>{if(null===Wi.domNode&&vi.length>0){const Ci=vi[vi.length-1];if(Ci.afterLineNumber===Wi.afterLineNumber&&null===Ci.domNode)return void(Ci.heightInLines+=Wi.heightInLines)}vi.push(Wi)},to=new ke(this._modifiedForeignVZ),Kn=new ke(this._originalForeignVZ);let Pn=1,Ei=1;for(let vi=0,Wi=this._lineChanges.length;vi<=Wi;vi++){const Ci=vi<Wi?this._lineChanges[vi]:null;null!==Ci?(gi=Ci.originalStartLineNumber+(Ci.originalEndLineNumber>0?-1:0),ui=Ci.modifiedStartLineNumber+(Ci.modifiedEndLineNumber>0?-1:0),ii=Ci.originalEndLineNumber>0?ft._getViewLineCount(this._originalEditor,Ci.originalStartLineNumber,Ci.originalEndLineNumber):0,Qn=Ci.modifiedEndLineNumber>0?ft._getViewLineCount(this._modifiedEditor,Ci.modifiedStartLineNumber,Ci.modifiedEndLineNumber):0,Ti=Math.max(Ci.originalStartLineNumber,Ci.originalEndLineNumber),yi=Math.max(Ci.modifiedStartLineNumber,Ci.modifiedEndLineNumber)):(gi+=1e7+ii,ui+=1e7+Qn,Ti=gi,yi=ui);let Ri=[],co=[];if(Ge){let Li;Li=Ci?Ci.originalEndLineNumber>0?Ci.originalStartLineNumber-Pn:Ci.modifiedStartLineNumber-Ei:ln.getLineCount()-Pn;for(let Di=0;Di<Li;Di++){const Mo=Pn+Di,Yi=Ei+Di,Bo=jn.getModelLineViewLineCount(Mo),Oo=Jn.getModelLineViewLineCount(Yi);Bo<Oo?Ri.push({afterLineNumber:Mo,heightInLines:Oo-Bo,domNode:null,marginDomNode:null}):Bo>Oo&&co.push({afterLineNumber:Yi,heightInLines:Bo-Oo,domNode:null,marginDomNode:null})}Ci&&(Pn=(Ci.originalEndLineNumber>0?Ci.originalEndLineNumber:Ci.originalStartLineNumber)+1,Ei=(Ci.modifiedEndLineNumber>0?Ci.modifiedEndLineNumber:Ci.modifiedStartLineNumber)+1)}for(;to.current&&to.current.afterLineNumber<=yi;){let Li;Li=to.current.afterLineNumber<=ui?gi-ui+to.current.afterLineNumber:Ti;let Di=null;Ci&&Ci.modifiedStartLineNumber<=to.current.afterLineNumber&&to.current.afterLineNumber<=Ci.modifiedEndLineNumber&&(Di=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Ri.push({afterLineNumber:Li,heightInLines:to.current.height/Ae,domNode:null,marginDomNode:Di}),to.advance()}for(;Kn.current&&Kn.current.afterLineNumber<=Ti;){let Li;Li=Kn.current.afterLineNumber<=gi?ui-gi+Kn.current.afterLineNumber:yi,co.push({afterLineNumber:Li,heightInLines:Kn.current.height/Te,domNode:null}),Kn.advance()}if(null!==Ci&&tn(Ci)){const Li=this._produceOriginalFromDiff(Ci,ii,Qn);Li&&Ri.push(Li)}if(null!==Ci&&bn(Ci)){const Li=this._produceModifiedFromDiff(Ci,ii,Qn);Li&&co.push(Li)}let Pi=0,vo=0;for(Ri=Ri.sort(Ni),co=co.sort(Ni);Pi<Ri.length&&vo<co.length;){const Li=Ri[Pi],Di=co[vo],Mo=Li.afterLineNumber-gi,Yi=Di.afterLineNumber-ui;Mo<Yi?(Ai(qn_original,Li),Pi++):Yi<Mo?(Ai(qn_modified,Di),vo++):Li.shouldNotShrink?(Ai(qn_original,Li),Pi++):Di.shouldNotShrink?(Ai(qn_modified,Di),vo++):Li.heightInLines>=Di.heightInLines?(Li.heightInLines-=Di.heightInLines,vo++):(Di.heightInLines-=Li.heightInLines,Pi++)}for(;Pi<Ri.length;)Ai(qn_original,Ri[Pi]),Pi++;for(;vo<co.length;)Ai(qn_modified,co[vo]),vo++}return{original:ft._ensureDomNodes(qn_original),modified:ft._ensureDomNodes(qn_modified)}}static _ensureDomNodes(Te){return Te.map(Ae=>(Ae.domNode||(Ae.domNode=mt()),Ae))}}function Me(Ye,Te,Ae,ht,Mt){return{range:new Nt.e(Ye,Te,Ae,ht),options:Mt}}const ot={charDelete:St.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:St.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:St.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:St.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:St.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:St.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+ye.kS.asClassName(vn),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:St.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:St.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+ye.kS.asClassName(Wn),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:St.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};let on=(()=>{class Ye extends dt{constructor(Ae,ht){super(Ae),this._disableSash=!1===ht,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new R.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Mt=>this._onSashDrag(Mt)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Ae){const ht=!1===Ae;this._disableSash!==ht&&(this._disableSash=ht,this._sash.state=this._disableSash?0:3)}layout(Ae=this._sashRatio){const Mt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ei.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Ge=Math.floor((Ae||.5)*Mt);const ln=Math.floor(.5*Mt);return Ge=this._disableSash?ln:Ge||ln,Mt>2*Ye.MINIMUM_EDITOR_WIDTH?(Ge<Ye.MINIMUM_EDITOR_WIDTH&&(Ge=Ye.MINIMUM_EDITOR_WIDTH),Ge>Mt-Ye.MINIMUM_EDITOR_WIDTH&&(Ge=Mt-Ye.MINIMUM_EDITOR_WIDTH)):Ge=ln,this._sashPosition!==Ge&&(this._sashPosition=Ge,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Ae){const Mt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ei.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Ge=this.layout((this._startSashPosition+(Ae.currentX-Ae.startX))/Mt);this._sashRatio=Ge/Mt,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Ae){return 0}getVerticalSashLeft(Ae){return this._sashPosition}getVerticalSashHeight(Ae){return this._dataSource.getHeight()}_getViewZones(Ae,ht,Mt){const Ge=this._dataSource.getOriginalEditor(),ln=this._dataSource.getModifiedEditor();return new Tn(Ae,ht,Mt,Ge,ln).getViewZones()}_getOriginalEditorDecorations(Ae,ht,Mt){const Ge=this._dataSource.getOriginalEditor(),ln=String(this._removeColor),jn={decorations:[],overviewZones:[]},Jn=Ge.getModel(),qn=Ge._getViewModel();for(const Qn of Ae)if(bn(Qn)){jn.decorations.push({range:new Nt.e(Qn.originalStartLineNumber,1,Qn.originalEndLineNumber,1073741824),options:Mt?ot.lineDeleteWithSign:ot.lineDelete}),(!tn(Qn)||!Qn.charChanges)&&jn.decorations.push(Me(Qn.originalStartLineNumber,1,Qn.originalEndLineNumber,1073741824,ot.charDeleteWholeLine));const ii=Xe(Jn,qn,Qn.originalStartLineNumber,Qn.originalEndLineNumber);if(jn.overviewZones.push(new pn.EY(ii.startLineNumber,ii.endLineNumber,ln)),Qn.charChanges)for(const gi of Qn.charChanges)if(bn(gi))if(ht)for(let ui=gi.originalStartLineNumber;ui<=gi.originalEndLineNumber;ui++){let Ti,yi;Ti=ui===gi.originalStartLineNumber?gi.originalStartColumn:Jn.getLineFirstNonWhitespaceColumn(ui),yi=ui===gi.originalEndLineNumber?gi.originalEndColumn:Jn.getLineLastNonWhitespaceColumn(ui),jn.decorations.push(Me(ui,Ti,ui,yi,ot.charDelete))}else jn.decorations.push(Me(gi.originalStartLineNumber,gi.originalStartColumn,gi.originalEndLineNumber,gi.originalEndColumn,ot.charDelete))}return jn}_getModifiedEditorDecorations(Ae,ht,Mt){const Ge=this._dataSource.getModifiedEditor(),ln=String(this._insertColor),jn={decorations:[],overviewZones:[]},Jn=Ge.getModel(),qn=Ge._getViewModel();for(const Qn of Ae)if(tn(Qn)){jn.decorations.push({range:new Nt.e(Qn.modifiedStartLineNumber,1,Qn.modifiedEndLineNumber,1073741824),options:Mt?ot.lineInsertWithSign:ot.lineInsert}),(!bn(Qn)||!Qn.charChanges)&&jn.decorations.push(Me(Qn.modifiedStartLineNumber,1,Qn.modifiedEndLineNumber,1073741824,ot.charInsertWholeLine));const ii=Xe(Jn,qn,Qn.modifiedStartLineNumber,Qn.modifiedEndLineNumber);if(jn.overviewZones.push(new pn.EY(ii.startLineNumber,ii.endLineNumber,ln)),Qn.charChanges)for(const gi of Qn.charChanges)if(tn(gi))if(ht)for(let ui=gi.modifiedStartLineNumber;ui<=gi.modifiedEndLineNumber;ui++){let Ti,yi;Ti=ui===gi.modifiedStartLineNumber?gi.modifiedStartColumn:Jn.getLineFirstNonWhitespaceColumn(ui),yi=ui===gi.modifiedEndLineNumber?gi.modifiedEndColumn:Jn.getLineLastNonWhitespaceColumn(ui),jn.decorations.push(Me(ui,Ti,ui,yi,ot.charInsert))}else jn.decorations.push(Me(gi.modifiedStartLineNumber,gi.modifiedStartColumn,gi.modifiedEndLineNumber,gi.modifiedEndColumn,ot.charInsert))}return jn}}return Ye.MINIMUM_EDITOR_WIDTH=100,Ye})();class Tn extends ft{constructor(Te,Ae,ht,Mt,Ge){super(Te,Ae,ht,Mt,Ge)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Te,Ae,ht){return ht>Ae?{afterLineNumber:Math.max(Te.originalStartLineNumber,Te.originalEndLineNumber),heightInLines:ht-Ae,domNode:null}:null}_produceModifiedFromDiff(Te,Ae,ht){return Ae>ht?{afterLineNumber:Math.max(Te.modifiedStartLineNumber,Te.modifiedEndLineNumber),heightInLines:Ae-ht,domNode:null}:null}}class Mi extends dt{constructor(Te,Ae){super(Te),this._decorationsLeft=Te.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Te.getOriginalEditor().onDidLayoutChange(ht=>{this._decorationsLeft!==ht.decorationsLeft&&(this._decorationsLeft=ht.decorationsLeft,Te.relayoutEditors())}))}setEnableSplitViewResizing(Te){}_getViewZones(Te,Ae,ht,Mt){const Ge=this._dataSource.getOriginalEditor(),ln=this._dataSource.getModifiedEditor();return new xn(Te,Ae,ht,Ge,ln,Mt).getViewZones()}_getOriginalEditorDecorations(Te,Ae,ht){const Mt=String(this._removeColor),Ge={decorations:[],overviewZones:[]},ln=this._dataSource.getOriginalEditor(),jn=ln.getModel(),Jn=ln._getViewModel();for(const qn of Te)if(bn(qn)){Ge.decorations.push({range:new Nt.e(qn.originalStartLineNumber,1,qn.originalEndLineNumber,1073741824),options:ot.lineDeleteMargin});const Qn=Xe(jn,Jn,qn.originalStartLineNumber,qn.originalEndLineNumber);Ge.overviewZones.push(new pn.EY(Qn.startLineNumber,Qn.endLineNumber,Mt))}return Ge}_getModifiedEditorDecorations(Te,Ae,ht){const Mt=this._dataSource.getModifiedEditor(),Ge=String(this._insertColor),ln={decorations:[],overviewZones:[]},jn=Mt.getModel(),Jn=Mt._getViewModel();for(const qn of Te)if(tn(qn)){ln.decorations.push({range:new Nt.e(qn.modifiedStartLineNumber,1,qn.modifiedEndLineNumber,1073741824),options:ht?ot.lineInsertWithSign:ot.lineInsert});const Qn=Xe(jn,Jn,qn.modifiedStartLineNumber,qn.modifiedEndLineNumber);if(ln.overviewZones.push(new pn.EY(Qn.startLineNumber,Qn.endLineNumber,Ge)),qn.charChanges){for(const ii of qn.charChanges)if(tn(ii))if(Ae)for(let gi=ii.modifiedStartLineNumber;gi<=ii.modifiedEndLineNumber;gi++){let ui,Ti;ui=gi===ii.modifiedStartLineNumber?ii.modifiedStartColumn:jn.getLineFirstNonWhitespaceColumn(gi),Ti=gi===ii.modifiedEndLineNumber?ii.modifiedEndColumn:jn.getLineLastNonWhitespaceColumn(gi),ln.decorations.push(Me(gi,ui,gi,Ti,ot.charInsert))}else ln.decorations.push(Me(ii.modifiedStartLineNumber,ii.modifiedStartColumn,ii.modifiedEndLineNumber,ii.modifiedEndColumn,ot.charInsert))}else ln.decorations.push(Me(qn.modifiedStartLineNumber,1,qn.modifiedEndLineNumber,1073741824,ot.charInsertWholeLine))}return ln}layout(){return Math.max(5,this._decorationsLeft)}}class xn extends ft{constructor(Te,Ae,ht,Mt,Ge,ln){super(Te,Ae,ht,Mt,Ge),this._originalModel=Mt.getModel(),this._renderIndicators=ln,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Te=super.getViewZones();return this._finalize(Te),Te}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Te=document.createElement("div");return Te.className="inline-added-margin-view-zone",Te}_produceOriginalFromDiff(Te,Ae,ht){const Mt=document.createElement("div");return Mt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Te.originalStartLineNumber,Te.originalEndLineNumber),heightInLines:ht,domNode:document.createElement("div"),marginDomNode:Mt}}_produceModifiedFromDiff(Te,Ae,ht){const Mt=document.createElement("div");Mt.className=`view-lines line-delete ${In.S}`;const Ge=document.createElement("div");Ge.className="inline-deleted-margin-view-zone";const ln={shouldNotShrink:!0,afterLineNumber:0===Te.modifiedEndLineNumber?Te.modifiedStartLineNumber:Te.modifiedStartLineNumber-1,heightInLines:Ae,minWidthInPx:0,domNode:Mt,marginDomNode:Ge,diff:{originalStartLineNumber:Te.originalStartLineNumber,originalEndLineNumber:Te.originalEndLineNumber,modifiedStartLineNumber:Te.modifiedStartLineNumber,modifiedEndLineNumber:Te.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let jn=Te.originalStartLineNumber;jn<=Te.originalEndLineNumber;jn++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(jn),null,null);return this._pendingLineChange.push(Te),this._pendingViewZones.push(ln),ln}_finalize(Te){const Ae=this._modifiedEditor.getOptions(),ht=this._modifiedEditor.getModel().getOptions().tabSize,Mt=Ae.get(44),Ge=Ae.get(29),ln=Mt.typicalHalfwidthCharacterWidth,jn=Ae.get(93),Jn=this._originalModel.mightContainNonBasicASCII(),qn=this._originalModel.mightContainRTL(),Qn=Ae.get(59),gi=Ae.get(131).decorationsWidth,ui=Ae.get(105),Ti=Ae.get(88),yi=Ae.get(83),Ni=Ae.get(45),Ai=this._lineBreaksComputer.finalize();let to=0;for(let Kn=0;Kn<this._pendingLineChange.length;Kn++){const Pn=this._pendingLineChange[Kn],Ei=this._pendingViewZones[Kn],vi=Ei.domNode;(0,V.N)(vi,Mt);const Wi=Ei.marginDomNode;(0,V.N)(Wi,Mt);const Ci=[];if(Pn.charChanges)for(const Yi of Pn.charChanges)bn(Yi)&&Ci.push(new W.$t(new Nt.e(Yi.originalStartLineNumber,Yi.originalStartColumn,Yi.originalEndLineNumber,Yi.originalEndColumn),"char-delete",0));const Ri=Ci.length>0,co=(0,un.l$)(1e4);let Pi=0,vo=0,Li=null;for(let Yi=Pn.originalStartLineNumber;Yi<=Pn.originalEndLineNumber;Yi++){const Bo=Yi-Pn.originalStartLineNumber,Oo=this._originalModel.getLineTokens(Yi),wi=Oo.getLineContent(),$o=Ai[to++],fi=Xt.Kp.filter(Ci,Yi,1,wi.length+1);if($o){let ss=0;for(const Ii of $o.breakOffsets){const xo=Oo.sliceAndInflate(ss,Ii,0),Zo=wi.substring(ss,Ii);Pi=Math.max(Pi,this._renderOriginalLine(vo++,Zo,xo,Xt.Kp.extractWrapped(fi,ss,Ii),Ri,Jn,qn,Mt,Ge,Qn,gi,ui,Ti,yi,Ni,ht,co,Wi)),ss=Ii}for(Li||(Li=[]);Li.length<Bo;)Li[Li.length]=1;Li[Bo]=$o.breakOffsets.length,Ei.heightInLines+=$o.breakOffsets.length-1;const xi=document.createElement("div");xi.className="line-delete",Te.original.push({afterLineNumber:Yi,afterColumn:0,heightInLines:$o.breakOffsets.length-1,domNode:mt(),marginDomNode:xi})}else Pi=Math.max(Pi,this._renderOriginalLine(vo++,wi,Oo,fi,Ri,Jn,qn,Mt,Ge,Qn,gi,ui,Ti,yi,Ni,ht,co,Wi))}Pi+=jn;const Di=co.build(),Mo=pt?pt.createHTML(Di):Di;if(vi.innerHTML=Mo,Ei.minWidthInPx=Pi*ln,Li){const Yi=Pn.originalEndLineNumber-Pn.originalStartLineNumber;for(;Li.length<=Yi;)Li[Li.length]=1}Ei.diff.viewLineCounts=Li}Te.original.sort((Kn,Pn)=>Kn.afterLineNumber-Pn.afterLineNumber)}_renderOriginalLine(Te,Ae,ht,Mt,Ge,ln,jn,Jn,qn,Qn,ii,gi,ui,Ti,yi,Ni,Ai,to){Ai.appendASCIIString('<div class="view-line'),Ge||Ai.appendASCIIString(" char-delete"),Ai.appendASCIIString('" style="top:'),Ai.appendASCIIString(String(Te*Qn)),Ai.appendASCIIString('px;width:1000000px;">');const Kn=W.wA.isBasicASCII(Ae,ln),Pn=W.wA.containsRTL(Ae,Kn,jn),Ei=(0,P.d1)(new P.IJ(Jn.isMonospace&&!qn,Jn.canUseHalfwidthRightwardsArrow,Ae,!1,Kn,Pn,0,ht,Mt,Ni,0,Jn.spaceWidth,Jn.middotWidth,Jn.wsmiddotWidth,gi,ui,Ti,yi!==H.n0.OFF,null),Ai);if(Ai.appendASCIIString("</div>"),this._renderIndicators){const vi=document.createElement("div");vi.className=`delete-sign ${ye.kS.asClassName(Wn)}`,vi.setAttribute("style",`position:absolute;top:${Te*Qn}px;width:${ii}px;height:${Qn}px;right:0;`),to.appendChild(vi)}return Ei.characterMapping.getAbsoluteOffset(Ei.characterMapping.length)}}function rn(Ye,Te){return(0,H.NY)(Ye,Te,["off","on","inherit"])}function tn(Ye){return Ye.modifiedEndLineNumber>0}function bn(Ye){return Ye.originalEndLineNumber>0}function mt(){const Ye=document.createElement("div");return Ye.className="diagonal-fill",Ye}function Xe(Ye,Te,Ae,ht){const Mt=Ye.getLineCount();return Ae=Math.min(Mt,Math.max(1,Ae)),ht=Math.min(Mt,Math.max(1,ht)),Te.coordinatesConverter.convertModelRangeToViewRange(new Nt.e(Ae,Ye.getLineMinColumn(Ae),ht,Ye.getLineMaxColumn(ht)))}function Dn(Ye,Te){return{enableSplitViewResizing:(0,H.O7)(Ye.enableSplitViewResizing,Te.enableSplitViewResizing),renderSideBySide:(0,H.O7)(Ye.renderSideBySide,Te.renderSideBySide),maxComputationTime:(0,H.Zc)(Ye.maxComputationTime,Te.maxComputationTime,0,1073741824),maxFileSize:(0,H.Zc)(Ye.maxFileSize,Te.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,H.O7)(Ye.ignoreTrimWhitespace,Te.ignoreTrimWhitespace),renderIndicators:(0,H.O7)(Ye.renderIndicators,Te.renderIndicators),originalEditable:(0,H.O7)(Ye.originalEditable,Te.originalEditable),diffCodeLens:(0,H.O7)(Ye.diffCodeLens,Te.diffCodeLens),renderOverviewRuler:(0,H.O7)(Ye.renderOverviewRuler,Te.renderOverviewRuler),diffWordWrap:rn(Ye.diffWordWrap,Te.diffWordWrap)}}(0,ye.Ic)((Ye,Te)=>{const Ae=Ye.getColor(he.ypS);Ae&&(Te.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${Ae}; }`),Te.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${Ae}; }`),Te.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Ae}; }`));const ht=Ye.getColor(he.P4M);ht&&(Te.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${ht}; }`),Te.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${ht}; }`),Te.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ht}; }`));const Mt=Ye.getColor(he.XL$);Mt&&Te.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===Ye.type?"dashed":"solid"} ${Mt}; }`);const Ge=Ye.getColor(he.mHy);Ge&&Te.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===Ye.type?"dashed":"solid"} ${Ge}; }`);const ln=Ye.getColor(he._wn);ln&&Te.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ln}; }`);const jn=Ye.getColor(he.LLc);jn&&Te.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${jn}; }`);const Jn=Ye.getColor(he.etL);Jn&&Te.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${Jn};\n\t\t\t}\n\t\t`);const qn=Ye.getColor(he.ABB);qn&&Te.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${qn};\n\t\t\t}\n\t\t`);const Qn=Ye.getColor(he.ynu);Qn&&Te.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${Qn};\n\t\t\t}\n\t\t`);const ii=Ye.getColor(he.L_t);Te.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${ii} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${ii} 50%, ${ii} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},3817:(vt,Ke,m)=>{m.d(Ke,{F:()=>j});var v=m(8797),h=m(2787),Q=m(2425),k=m(5271),R=m(8451);const se={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class j extends Q.JT{constructor(V,x={}){super(),this._onDidUpdate=this._register(new h.Q5),this._editor=V,this._options=k.jB(x,se,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(w=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(w=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(V){this.ranges=[],V&&V.forEach(x=>{!this._options.ignoreCharChanges&&x.charChanges?x.charChanges.forEach(w=>{this.ranges.push({rhs:!0,range:new R.e(w.modifiedStartLineNumber,w.modifiedStartColumn,w.modifiedEndLineNumber,w.modifiedEndColumn)})}):this.ranges.push(0===x.modifiedEndLineNumber?{rhs:!0,range:new R.e(x.modifiedStartLineNumber,1,x.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new R.e(x.modifiedStartLineNumber,1,x.modifiedEndLineNumber+1,1)})}),this.ranges.sort((x,w)=>R.e.compareRangesUsingStarts(x.range,w.range)),this._onDidUpdate.fire(this)}_initIdx(V){let x=!1;const w=this._editor.getPosition();if(w){for(let D=0,F=this.ranges.length;D<F&&!x;D++)w.isBeforeOrEqual(this.ranges[D].range.getStartPosition())&&(this.nextIdx=D+(V?0:-1),x=!0);x||(this.nextIdx=V?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(V,x){if(v.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(V):V?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const w=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const D=w.range.getStartPosition();this._editor.setPosition(D),this._editor.revealRangeInCenter(w.range,x)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(V=0){this._move(!0,V)}previous(V=0){this._move(!1,V)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},5753:(vt,Ke,m)=>{m.d(Ke,{T4:()=>h,OY:()=>Q,Sj:()=>k,Uo:()=>R,hP:()=>se});var v=m(3210);class h{constructor(Y,V,x=!1){this._range=Y,this._text=V,this.insertsAutoWhitespace=x}getEditOperations(Y,V){V.addTrackedEditOperation(this._range,this._text)}computeCursorState(Y,V){const w=V.getInverseEditOperations()[0].range;return v.Y.fromPositions(w.getEndPosition())}}class Q{constructor(Y,V){this._range=Y,this._text=V}getEditOperations(Y,V){V.addTrackedEditOperation(this._range,this._text)}computeCursorState(Y,V){const w=V.getInverseEditOperations()[0].range;return v.Y.fromRange(w,0)}}class k{constructor(Y,V,x=!1){this._range=Y,this._text=V,this.insertsAutoWhitespace=x}getEditOperations(Y,V){V.addTrackedEditOperation(this._range,this._text)}computeCursorState(Y,V){const w=V.getInverseEditOperations()[0].range;return v.Y.fromPositions(w.getStartPosition())}}class R{constructor(Y,V,x,w,D=!1){this._range=Y,this._text=V,this._columnDeltaOffset=w,this._lineNumberDeltaOffset=x,this.insertsAutoWhitespace=D}getEditOperations(Y,V){V.addTrackedEditOperation(this._range,this._text)}computeCursorState(Y,V){const w=V.getInverseEditOperations()[0].range;return v.Y.fromPositions(w.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class se{constructor(Y,V,x,w=!1){this._range=Y,this._text=V,this._initialSelection=x,this._forceMoveMarkers=w,this._selectionId=null}getEditOperations(Y,V){V.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=V.trackSelection(this._initialSelection)}computeCursorState(Y,V){return V.getTrackedSelection(this._selectionId)}}},1050:(vt,Ke,m)=>{m.d(Ke,{U:()=>Y});var v=m(4705),h=m(4826),Q=m(8451),k=m(3210),R=m(7372);const se=Object.create(null);function j(V,x){if(x<=0)return"";se[V]||(se[V]=["",V]);const w=se[V];for(let D=w.length;D<=x;D++)w[D]=w[D-1]+V;return w[x]}class Y{constructor(x,w){this._opts=w,this._selection=x,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(x,w,D,F,f){const T=h.i.visibleColumnFromColumn(x,w,D);if(f){const z=j(" ",F);return j(z,h.i.prevIndentTabStop(T,F)/F)}return j("\t",h.i.prevRenderTabStop(T,D)/D)}static shiftIndent(x,w,D,F,f){const T=h.i.visibleColumnFromColumn(x,w,D);if(f){const z=j(" ",F);return j(z,h.i.nextIndentTabStop(T,F)/F)}return j("\t",h.i.nextRenderTabStop(T,D)/D)}_addEditOperation(x,w,D){this._useLastEditRangeForCursorEndPosition?x.addTrackedEditOperation(w,D):x.addEditOperation(w,D)}getEditOperations(x,w){const D=this._selection.startLineNumber;let F=this._selection.endLineNumber;1===this._selection.endColumn&&D!==F&&(F-=1);const{tabSize:f,indentSize:T,insertSpaces:z}=this._opts,I=D===F;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(x.getLineContent(D))&&(this._useLastEditRangeForCursorEndPosition=!0);let H=0,K=0;for(let N=D;N<=F;N++,H=K){K=0;const M=x.getLineContent(N);let W,P=v.LC(M);if((!this._opts.isUnshift||0!==M.length&&0!==P)&&(I||this._opts.isUnshift||0!==M.length)){if(-1===P&&(P=M.length),N>1&&h.i.visibleColumnFromColumn(M,P+1,f)%T!=0&&x.isCheapToTokenize(N-1)){const he=R.zu.getEnterAction(this._opts.autoIndent,x,new Q.e(N-1,x.getLineMaxColumn(N-1),N-1,x.getLineMaxColumn(N-1)));if(he){if(K=H,he.appendText)for(let ye=0,fe=he.appendText.length;ye<fe&&K<T&&32===he.appendText.charCodeAt(ye);ye++)K++;he.removeText&&(K=Math.max(0,K-he.removeText));for(let ye=0;ye<K&&0!==P&&32===M.charCodeAt(P-1);ye++)P--}}this._opts.isUnshift&&0===P||(W=this._opts.isUnshift?Y.unshiftIndent(M,P+1,f,T,z):Y.shiftIndent(M,P+1,f,T,z),this._addEditOperation(w,new Q.e(N,1,N,P+1),W),N===D&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=P+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===x.getLineLength(D)&&(this._useLastEditRangeForCursorEndPosition=!0);const H=z?j(" ",T):"\t";for(let K=D;K<=F;K++){const N=x.getLineContent(K);let M=v.LC(N);if((!this._opts.isUnshift||0!==N.length&&0!==M)&&(I||this._opts.isUnshift||0!==N.length)&&(-1===M&&(M=N.length),!this._opts.isUnshift||0!==M))if(this._opts.isUnshift){M=Math.min(M,T);for(let P=0;P<M;P++)if(9===N.charCodeAt(P)){M=P+1;break}this._addEditOperation(w,new Q.e(K,1,K,M+1),"")}else this._addEditOperation(w,new Q.e(K,1,K,1),H),K===D&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=w.trackSelection(this._selection)}computeCursorState(x,w){if(this._useLastEditRangeForCursorEndPosition){const F=w.getInverseEditOperations()[0];return new k.Y(F.range.endLineNumber,F.range.endColumn,F.range.endLineNumber,F.range.endColumn)}const D=w.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const F=this._selection.startColumn;return D.startColumn<=F?D:0===D.getDirection()?new k.Y(D.startLineNumber,F,D.endLineNumber,D.endColumn):new k.Y(D.endLineNumber,D.endColumn,D.startLineNumber,F)}return D}}},6367:(vt,Ke,m)=>{m.d(Ke,{y0:()=>j,Bb:()=>Y,LJ:()=>V,rk:()=>w,O7:()=>T,Zc:()=>I,NY:()=>M,d2:()=>Se,n0:()=>pe,gk:()=>He,$J:()=>Xt,Av:()=>nn,qt:()=>Mn,hL:()=>pt,Bc:()=>ei,BH:()=>ke});var v=m(402),h=m(8972),Q=m(5519),k=m(8337),R=m(5271),se=m(2931);const j=8;class Y{constructor(Me){this._values=Me}hasChanged(Me){return this._values[Me]}}class V{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class x{constructor(Me,ot,on,Tn){this.id=Me,this.name=ot,this.defaultValue=on,this.schema=Tn}applyUpdate(Me,ot){return D(Me,ot)}compute(Me,ot,on){return on}}class w{constructor(Me,ot){this.newValue=Me,this.didChange=ot}}function D(ft,Me){if("object"!=typeof ft||"object"!=typeof Me||!ft||!Me)return new w(Me,ft!==Me);if(Array.isArray(ft)||Array.isArray(Me)){const on=Array.isArray(ft)&&Array.isArray(Me)&&k.fS(ft,Me);return new w(Me,on)}let ot=!1;for(const on in Me)if(Me.hasOwnProperty(on)){const Tn=D(ft[on],Me[on]);Tn.didChange&&(ft[on]=Tn.newValue,ot=!0)}return new w(ft,ot)}class F{constructor(Me){this.schema=void 0,this.id=Me,this.name="_never_",this.defaultValue=void 0}applyUpdate(Me,ot){return D(Me,ot)}validate(Me){return this.defaultValue}}class f{constructor(Me,ot,on,Tn){this.id=Me,this.name=ot,this.defaultValue=on,this.schema=Tn}applyUpdate(Me,ot){return D(Me,ot)}validate(Me){return void 0===Me?this.defaultValue:Me}compute(Me,ot,on){return on}}function T(ft,Me){return void 0===ft?Me:"false"!==ft&&Boolean(ft)}class z extends f{constructor(Me,ot,on,Tn){void 0!==Tn&&(Tn.type="boolean",Tn.default=on),super(Me,ot,on,Tn)}validate(Me){return T(Me,this.defaultValue)}}function I(ft,Me,ot,on){if(void 0===ft)return Me;let Tn=parseInt(ft,10);return isNaN(Tn)?Me:(Tn=Math.max(ot,Tn),Tn=Math.min(on,Tn),0|Tn)}class H extends f{constructor(Me,ot,on,Tn,Mi,xn){void 0!==xn&&(xn.type="integer",xn.default=on,xn.minimum=Tn,xn.maximum=Mi),super(Me,ot,on,xn),this.minimum=Tn,this.maximum=Mi}static clampedInt(Me,ot,on,Tn){return I(Me,ot,on,Tn)}validate(Me){return H.clampedInt(Me,this.defaultValue,this.minimum,this.maximum)}}class K extends f{constructor(Me,ot,on,Tn,Mi){void 0!==Mi&&(Mi.type="number",Mi.default=on),super(Me,ot,on,Mi),this.validationFn=Tn}static clamp(Me,ot,on){return Me<ot?ot:Me>on?on:Me}static float(Me,ot){if("number"==typeof Me)return Me;if(void 0===Me)return ot;const on=parseFloat(Me);return isNaN(on)?ot:on}validate(Me){return this.validationFn(K.float(Me,this.defaultValue))}}class N extends f{static string(Me,ot){return"string"!=typeof Me?ot:Me}constructor(Me,ot,on,Tn){void 0!==Tn&&(Tn.type="string",Tn.default=on),super(Me,ot,on,Tn)}validate(Me){return N.string(Me,this.defaultValue)}}function M(ft,Me,ot){return"string"!=typeof ft||-1===ot.indexOf(ft)?Me:ft}class P extends f{constructor(Me,ot,on,Tn,Mi){void 0!==Mi&&(Mi.type="string",Mi.enum=Tn,Mi.default=on),super(Me,ot,on,Mi),this._allowedValues=Tn}validate(Me){return M(Me,this.defaultValue,this._allowedValues)}}class W extends x{constructor(Me,ot,on,Tn,Mi,xn,rn){void 0!==rn&&(rn.type="string",rn.enum=Mi,rn.default=Tn),super(Me,ot,on,rn),this._allowedValues=Mi,this._convert=xn}validate(Me){return"string"!=typeof Me||-1===this._allowedValues.indexOf(Me)?this.defaultValue:this._convert(Me)}}var Se=(()=>{return(ft=Se||(Se={}))[ft.Line=1]="Line",ft[ft.Block=2]="Block",ft[ft.Underline=3]="Underline",ft[ft.LineThin=4]="LineThin",ft[ft.BlockOutline=5]="BlockOutline",ft[ft.UnderlineThin=6]="UnderlineThin",Se;var ft})();let pe=(()=>{class ft extends x{constructor(){super(45,"fontLigatures",ft.OFF,{anyOf:[{type:"boolean",description:v.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:v.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:v.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(ot){return void 0===ot?this.defaultValue:"string"==typeof ot?"false"===ot?ft.OFF:"true"===ot?ft.ON:ot:Boolean(ot)?ft.ON:ft.OFF}}return ft.OFF='"liga" off, "calt" off',ft.ON='"liga" on, "calt" on',ft})(),ce=(()=>{class ft extends x{constructor(){super(47,"fontWeight",pt.fontWeight,{anyOf:[{type:"number",minimum:ft.MINIMUM_VALUE,maximum:ft.MAXIMUM_VALUE,errorMessage:v.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:ft.SUGGESTION_VALUES}],default:pt.fontWeight,description:v.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(ot){return"normal"===ot||"bold"===ot?ot:String(H.clampedInt(ot,pt.fontWeight,ft.MINIMUM_VALUE,ft.MAXIMUM_VALUE))}}return ft.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],ft.MINIMUM_VALUE=1,ft.MAXIMUM_VALUE=1e3,ft})();class He extends F{constructor(){super(131)}compute(Me,ot,on){return He.computeLayout(ot,{memory:Me.memory,outerWidth:Me.outerWidth,outerHeight:Me.outerHeight,isDominatedByLongLines:Me.isDominatedByLongLines,lineHeight:Me.fontInfo.lineHeight,viewLineCount:Me.viewLineCount,lineNumbersDigitCount:Me.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Me.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Me.fontInfo.maxDigitWidth,pixelRatio:Me.pixelRatio})}static computeContainedMinimapLineCount(Me){const ot=Me.height/Me.lineHeight,on=Me.scrollBeyondLastLine?ot-1:0,Tn=(Me.viewLineCount+on)/(Me.pixelRatio*Me.height);return{typicalViewportLineCount:ot,extraLinesBeyondLastLine:on,desiredRatio:Tn,minimapLineCount:Math.floor(Me.viewLineCount/Tn)}}static _computeMinimapLayout(Me,ot){const on=Me.outerWidth,Tn=Me.outerHeight,Mi=Me.pixelRatio;if(!Me.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Mi*Tn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Tn};const xn=ot.stableMinimapLayoutInput,rn=xn&&Me.outerHeight===xn.outerHeight&&Me.lineHeight===xn.lineHeight&&Me.typicalHalfwidthCharacterWidth===xn.typicalHalfwidthCharacterWidth&&Me.pixelRatio===xn.pixelRatio&&Me.scrollBeyondLastLine===xn.scrollBeyondLastLine&&Me.minimap.enabled===xn.minimap.enabled&&Me.minimap.side===xn.minimap.side&&Me.minimap.size===xn.minimap.size&&Me.minimap.showSlider===xn.minimap.showSlider&&Me.minimap.renderCharacters===xn.minimap.renderCharacters&&Me.minimap.maxColumn===xn.minimap.maxColumn&&Me.minimap.scale===xn.minimap.scale&&Me.verticalScrollbarWidth===xn.verticalScrollbarWidth&&Me.isViewportWrapping===xn.isViewportWrapping,tn=Me.lineHeight,bn=Me.typicalHalfwidthCharacterWidth,mt=Me.scrollBeyondLastLine,Xe=Me.minimap.renderCharacters;let Dn=Mi>=2?Math.round(2*Me.minimap.scale):Me.minimap.scale;const An=Me.minimap.maxColumn,Ye=Me.minimap.size,Te=Me.minimap.side,Ae=Me.verticalScrollbarWidth,ht=Me.viewLineCount,Mt=Me.remainingWidth,Ge=Me.isViewportWrapping,ln=Xe?2:3;let jn=Math.floor(Mi*Tn);const Jn=jn/Mi;let qn=!1,Qn=!1,ii=ln*Dn,gi=Dn/Mi,ui=1;if("fill"===Ye||"fit"===Ye){const{typicalViewportLineCount:Pn,extraLinesBeyondLastLine:Ei,desiredRatio:vi,minimapLineCount:Wi}=He.computeContainedMinimapLineCount({viewLineCount:ht,scrollBeyondLastLine:mt,height:Tn,lineHeight:tn,pixelRatio:Mi});if(ht/Wi>1)qn=!0,Qn=!0,Dn=1,ii=1,gi=Dn/Mi;else{let Ri=!1,co=Dn+1;if("fit"===Ye){const Pi=Math.ceil((ht+Ei)*ii);Ge&&rn&&Mt<=ot.stableFitRemainingWidth?(Ri=!0,co=ot.stableFitMaxMinimapScale):Ri=Pi>jn}if("fill"===Ye||Ri){qn=!0;const Pi=Dn;ii=Math.min(tn*Mi,Math.max(1,Math.floor(1/vi))),Ge&&rn&&Mt<=ot.stableFitRemainingWidth&&(co=ot.stableFitMaxMinimapScale),Dn=Math.min(co,Math.max(1,Math.floor(ii/ln))),Dn>Pi&&(ui=Math.min(2,Dn/Pi)),gi=Dn/Mi/ui,jn=Math.ceil(Math.max(Pn,ht+Ei)*ii),Ge?(ot.stableMinimapLayoutInput=Me,ot.stableFitRemainingWidth=Mt,ot.stableFitMaxMinimapScale=Dn):(ot.stableMinimapLayoutInput=null,ot.stableFitRemainingWidth=0)}}}const Ti=Math.floor(An*gi),yi=Math.min(Ti,Math.max(0,Math.floor((Mt-Ae-2)*gi/(bn+gi)))+j);let Ni=Math.floor(Mi*yi);const Ai=Ni/Mi;return Ni=Math.floor(Ni*ui),{renderMinimap:Xe?1:2,minimapLeft:"left"===Te?0:on-yi-Ae,minimapWidth:yi,minimapHeightIsEditorHeight:qn,minimapIsSampling:Qn,minimapScale:Dn,minimapLineHeight:ii,minimapCanvasInnerWidth:Ni,minimapCanvasInnerHeight:jn,minimapCanvasOuterWidth:Ai,minimapCanvasOuterHeight:Jn}}static computeLayout(Me,ot){const on=0|ot.outerWidth,Tn=0|ot.outerHeight,Mi=0|ot.lineHeight,xn=0|ot.lineNumbersDigitCount,rn=ot.typicalHalfwidthCharacterWidth,tn=ot.maxDigitWidth,bn=ot.pixelRatio,mt=ot.viewLineCount,Xe=Me.get(123),Dn="inherit"===Xe?Me.get(122):Xe,An="inherit"===Dn?Me.get(118):Dn,Ye=Me.get(121),Te=Me.get(2),Ae=ot.isDominatedByLongLines,ht=Me.get(50),Mt=0!==Me.get(60).renderType,Ge=Me.get(61),ln=Me.get(94),jn=Me.get(65),Jn=Me.get(92),qn=Jn.verticalScrollbarSize,Qn=Jn.verticalHasArrows,ii=Jn.arrowSize,gi=Jn.horizontalScrollbarSize,ui=Me.get(58),Ti=Me.get(37);let yi;if("string"==typeof ui&&/^\d+(\.\d+)?ch$/.test(ui)){const Di=parseFloat(ui.substr(0,ui.length-2));yi=H.clampedInt(Di*rn,0,0,1e3)}else yi=H.clampedInt(ui,0,0,1e3);Ti&&(yi+=16);let Ni=0;if(Mt){const Di=Math.max(xn,Ge);Ni=Math.round(Di*tn)}let Ai=0;ht&&(Ai=Mi);let to=0,Kn=to+Ai,Pn=Kn+Ni,Ei=Pn+yi;const vi=on-Ai-Ni-yi;let Wi=!1,Ci=!1,Ri=-1;2!==Te&&("inherit"===Dn&&Ae?(Wi=!0,Ci=!0):"on"===An||"bounded"===An?Ci=!0:"wordWrapColumn"===An&&(Ri=Ye));const co=He._computeMinimapLayout({outerWidth:on,outerHeight:Tn,lineHeight:Mi,typicalHalfwidthCharacterWidth:rn,pixelRatio:bn,scrollBeyondLastLine:ln,minimap:jn,verticalScrollbarWidth:qn,viewLineCount:mt,remainingWidth:vi,isViewportWrapping:Ci},ot.memory||new V);0!==co.renderMinimap&&0===co.minimapLeft&&(to+=co.minimapWidth,Kn+=co.minimapWidth,Pn+=co.minimapWidth,Ei+=co.minimapWidth);const Pi=vi-co.minimapWidth,vo=Math.max(1,Math.floor((Pi-qn-2)/rn)),Li=Qn?ii:0;return Ci&&(Ri=Math.max(1,vo),"bounded"===An&&(Ri=Math.min(Ri,Ye))),{width:on,height:Tn,glyphMarginLeft:to,glyphMarginWidth:Ai,lineNumbersLeft:Kn,lineNumbersWidth:Ni,decorationsLeft:Pn,decorationsWidth:yi,contentLeft:Ei,contentWidth:Pi,minimap:co,viewportColumn:vo,isWordWrapMinified:Wi,isViewportWrapping:Ci,wrappingColumn:Ri,verticalScrollbarWidth:qn,horizontalScrollbarHeight:gi,overviewRuler:{top:Li,width:qn,height:Tn-2*Li,right:0}}}}function Xt(ft){const Me=ft.get(87);return"editable"===Me?ft.get(81):"on"!==Me}function At(ft,Me){if("string"!=typeof ft)return Me;switch(ft){case"hidden":return 2;case"visible":return 3;default:return 1}}const nn="inUntrustedWorkspace",Mn={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function _n(ft,Me,ot){const on=ot.indexOf(ft);return-1===on?Me:ot[on]}const pt={fontFamily:h.dz?"Menlo, Monaco, 'Courier New', monospace":h.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:h.dz?12:14,lineHeight:0,letterSpacing:0},ei=[];function dt(ft){return ei[ft.id]=ft,ft}const ke={acceptSuggestionOnCommitCharacter:dt(new z(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:v.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:dt(new P(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",v.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:v.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:dt(new class he extends x{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[v.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),v.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),v.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:v.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Me){switch(Me){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Me,ot,on){return 0===on?Me.accessibilitySupport:on}}),accessibilityPageSize:dt(new H(3,"accessibilityPageSize",10,1,1073741824,{description:v.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:dt(new N(4,"ariaLabel",v.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:dt(new P(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),v.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:v.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:dt(new P(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",v.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:v.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:dt(new P(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",v.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:v.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:dt(new P(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),v.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:v.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:dt(new W(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function J(ft){switch(ft){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[v.N("editor.autoIndent.none","The editor will not insert indentation automatically."),v.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),v.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),v.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),v.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:v.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:dt(new z(10,"automaticLayout",!1)),autoSurround:dt(new P(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[v.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),v.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),v.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:v.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:dt(new class Ht extends x{constructor(){const Me={enabled:se.D.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",Me,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Me.enabled,description:v.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(Me){return Me&&"object"==typeof Me?{enabled:T(Me.enabled,this.defaultValue.enabled)}:this.defaultValue}}),bracketPairGuides:dt(new class jt extends x{constructor(){const Me={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Me,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[v.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),v.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),v.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Me.bracketPairs,description:v.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[v.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),v.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),v.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Me.bracketPairsHorizontal,description:v.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Me.highlightActiveBracketPair,description:v.N("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:Me.indentation,description:v.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:Me.highlightActiveIndentation,description:v.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{bracketPairs:_n(ot.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:_n(ot.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:T(ot.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:T(ot.indentation,this.defaultValue.indentation),highlightActiveIndentation:T(ot.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:dt(new z(104,"stickyTabStops",!1,{description:v.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:dt(new z(14,"codeLens",!0,{description:v.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:dt(new N(15,"codeLensFontFamily","",{description:v.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:dt(new H(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:v.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:dt(new z(17,"colorDecorators",!0,{description:v.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:dt(new z(18,"columnSelection",!1,{description:v.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:dt(new class ye extends x{constructor(){const Me={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Me,{"editor.comments.insertSpace":{type:"boolean",default:Me.insertSpace,description:v.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Me.ignoreEmptyLines,description:v.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{insertSpace:T(ot.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:T(ot.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:dt(new z(20,"contextmenu",!0)),copyWithSyntaxHighlighting:dt(new z(21,"copyWithSyntaxHighlighting",!0,{description:v.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:dt(new W(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function fe(ft){switch(ft){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:v.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:dt(new z(23,"cursorSmoothCaretAnimation",!1,{description:v.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:dt(new W(24,"cursorStyle",Se.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function Ie(ft){switch(ft){case"line":return Se.Line;case"block":return Se.Block;case"underline":return Se.Underline;case"line-thin":return Se.LineThin;case"block-outline":return Se.BlockOutline;case"underline-thin":return Se.UnderlineThin}},{description:v.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:dt(new H(25,"cursorSurroundingLines",0,0,1073741824,{description:v.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:dt(new P(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[v.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),v.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:v.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:dt(new H(27,"cursorWidth",0,0,1073741824,{markdownDescription:v.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:dt(new z(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:dt(new z(29,"disableMonospaceOptimizations",!1)),domReadOnly:dt(new z(30,"domReadOnly",!1)),dragAndDrop:dt(new z(31,"dragAndDrop",!0,{description:v.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:dt(new class $ extends z{constructor(){super(32,"emptySelectionClipboard",!0,{description:v.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Me,ot,on){return on&&Me.emptySelectionClipboard}}),extraEditorClassName:dt(new N(33,"extraEditorClassName","")),fastScrollSensitivity:dt(new K(34,"fastScrollSensitivity",5,ft=>ft<=0?5:ft,{markdownDescription:v.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:dt(new class X extends x{constructor(){const Me={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",Me,{"editor.find.cursorMoveOnType":{type:"boolean",default:Me.cursorMoveOnType,description:v.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Me.seedSearchStringFromSelection,enumDescriptions:[v.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),v.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),v.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:v.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Me.autoFindInSelection,enumDescriptions:[v.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),v.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),v.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:v.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Me.globalFindClipboard,description:v.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:h.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Me.addExtraSpaceOnTop,description:v.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Me.loop,description:v.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{cursorMoveOnType:T(ot.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof Me.seedSearchStringFromSelection?Me.seedSearchStringFromSelection?"always":"never":M(ot.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof Me.autoFindInSelection?Me.autoFindInSelection?"always":"never":M(ot.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:T(ot.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:T(ot.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:T(ot.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:dt(new z(36,"fixedOverflowWidgets",!1)),folding:dt(new z(37,"folding",!0,{description:v.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:dt(new P(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[v.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),v.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:v.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:dt(new z(39,"foldingHighlight",!0,{description:v.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:dt(new z(40,"foldingImportsByDefault",!1,{description:v.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:dt(new H(41,"foldingMaximumRegions",5e3,10,65e3,{description:v.N("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:dt(new z(42,"unfoldOnClickAfterEndOfLine",!1,{description:v.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:dt(new N(43,"fontFamily",pt.fontFamily,{description:v.N("fontFamily","Controls the font family.")})),fontInfo:dt(new class re extends F{constructor(){super(44)}compute(Me,ot,on){return Me.fontInfo}}),fontLigatures2:dt(new pe),fontSize:dt(new class ne extends f{constructor(){super(46,"fontSize",pt.fontSize,{type:"number",minimum:6,maximum:100,default:pt.fontSize,description:v.N("fontSize","Controls the font size in pixels.")})}validate(Me){const ot=K.float(Me,this.defaultValue);return 0===ot?pt.fontSize:K.clamp(ot,6,100)}compute(Me,ot,on){return Me.fontInfo.fontSize}}),fontWeight:dt(new ce),formatOnPaste:dt(new z(48,"formatOnPaste",!1,{description:v.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:dt(new z(49,"formatOnType",!1,{description:v.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:dt(new z(50,"glyphMargin",!0,{description:v.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:dt(new class ue extends x{constructor(){const Me={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ot={type:"string",enum:["peek","gotoAndPeek","goto"],default:Me.multiple,enumDescriptions:[v.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),v.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),v.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},on=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",Me,{"editor.gotoLocation.multiple":{deprecationMessage:v.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:v.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},ot),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:v.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},ot),"editor.gotoLocation.multipleDeclarations":Object.assign({description:v.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},ot),"editor.gotoLocation.multipleImplementations":Object.assign({description:v.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},ot),"editor.gotoLocation.multipleReferences":Object.assign({description:v.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},ot),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Me.alternativeDefinitionCommand,enum:on,description:v.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Me.alternativeTypeDefinitionCommand,enum:on,description:v.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Me.alternativeDeclarationCommand,enum:on,description:v.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Me.alternativeImplementationCommand,enum:on,description:v.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Me.alternativeReferenceCommand,enum:on,description:v.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Me){var ot,on,Tn,Mi,xn;if(!Me||"object"!=typeof Me)return this.defaultValue;const rn=Me;return{multiple:M(rn.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(ot=rn.multipleDefinitions)&&void 0!==ot?ot:M(rn.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(on=rn.multipleTypeDefinitions)&&void 0!==on?on:M(rn.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(Tn=rn.multipleDeclarations)&&void 0!==Tn?Tn:M(rn.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(Mi=rn.multipleImplementations)&&void 0!==Mi?Mi:M(rn.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(xn=rn.multipleReferences)&&void 0!==xn?xn:M(rn.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:N.string(rn.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:N.string(rn.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:N.string(rn.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:N.string(rn.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:N.string(rn.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:dt(new z(52,"hideCursorInOverviewRuler",!1,{description:v.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:dt(new class we extends x{constructor(){const Me={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",Me,{"editor.hover.enabled":{type:"boolean",default:Me.enabled,description:v.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Me.delay,minimum:0,maximum:1e4,description:v.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Me.sticky,description:v.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Me.above,description:v.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{enabled:T(ot.enabled,this.defaultValue.enabled),delay:H.clampedInt(ot.delay,this.defaultValue.delay,0,1e4),sticky:T(ot.sticky,this.defaultValue.sticky),above:T(ot.above,this.defaultValue.above)}}}),inDiffEditor:dt(new z(54,"inDiffEditor",!1)),letterSpacing:dt(new K(56,"letterSpacing",pt.letterSpacing,ft=>K.clamp(ft,-5,20),{description:v.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:dt(new class lt extends x{constructor(){const Me={enabled:!0};super(57,"lightbulb",Me,{"editor.lightbulb.enabled":{type:"boolean",default:Me.enabled,description:v.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Me){return Me&&"object"==typeof Me?{enabled:T(Me.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:dt(new f(58,"lineDecorationsWidth",10)),lineHeight:dt(new class Ve extends K{constructor(){super(59,"lineHeight",pt.lineHeight,Me=>K.clamp(Me,0,150),{markdownDescription:v.N("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(Me,ot,on){return Me.fontInfo.lineHeight}}),lineNumbers:dt(new class pn extends x{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[v.N("lineNumbers.off","Line numbers are not rendered."),v.N("lineNumbers.on","Line numbers are rendered as absolute number."),v.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),v.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:v.N("lineNumbers","Controls the display of line numbers.")})}validate(Me){let ot=this.defaultValue.renderType,on=this.defaultValue.renderFn;return void 0!==Me&&("function"==typeof Me?(ot=4,on=Me):ot="interval"===Me?3:"relative"===Me?2:"on"===Me?1:0),{renderType:ot,renderFn:on}}}),lineNumbersMinChars:dt(new H(61,"lineNumbersMinChars",5,1,300)),linkedEditing:dt(new z(62,"linkedEditing",!1,{description:v.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:dt(new z(63,"links",!0,{description:v.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:dt(new P(64,"matchBrackets","always",["always","near","never"],{description:v.N("matchBrackets","Highlight matching brackets.")})),minimap:dt(new class ct extends x{constructor(){const Me={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",Me,{"editor.minimap.enabled":{type:"boolean",default:Me.enabled,description:v.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[v.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),v.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),v.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Me.size,description:v.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Me.side,description:v.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Me.showSlider,description:v.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Me.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Me.renderCharacters,description:v.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Me.maxColumn,description:v.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{enabled:T(ot.enabled,this.defaultValue.enabled),size:M(ot.size,this.defaultValue.size,["proportional","fill","fit"]),side:M(ot.side,this.defaultValue.side,["right","left"]),showSlider:M(ot.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:T(ot.renderCharacters,this.defaultValue.renderCharacters),scale:H.clampedInt(ot.scale,1,1,3),maxColumn:H.clampedInt(ot.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:dt(new P(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:dt(new K(67,"mouseWheelScrollSensitivity",1,ft=>0===ft?1:ft,{markdownDescription:v.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:dt(new z(68,"mouseWheelZoom",!1,{markdownDescription:v.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:dt(new z(69,"multiCursorMergeOverlapping",!0,{description:v.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:dt(new W(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function Nt(ft){return"ctrlCmd"===ft?h.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[v.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),v.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:v.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:dt(new P(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[v.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),v.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:v.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:dt(new z(72,"occurrencesHighlight",!0,{description:v.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:dt(new z(73,"overviewRulerBorder",!0,{description:v.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:dt(new H(74,"overviewRulerLanes",3,0,3)),padding:dt(new class un extends x{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:v.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:v.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{top:H.clampedInt(ot.top,0,0,1e3),bottom:H.clampedInt(ot.bottom,0,0,1e3)}}}),parameterHints:dt(new class Jt extends x{constructor(){const Me={enabled:!0,cycle:!1};super(76,"parameterHints",Me,{"editor.parameterHints.enabled":{type:"boolean",default:Me.enabled,description:v.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Me.cycle,description:v.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{enabled:T(ot.enabled,this.defaultValue.enabled),cycle:T(ot.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:dt(new P(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[v.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),v.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:v.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:dt(new z(78,"definitionLinkOpensInPeek",!1,{description:v.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:dt(new class en extends x{constructor(){const Me={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",Me,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:Me.strings,description:v.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:Me.comments,description:v.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:Me.other,description:v.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:Me,description:v.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=Me}validate(Me){if("boolean"==typeof Me)return Me;if(Me&&"object"==typeof Me){const ot=Me,on={other:T(ot.other,this.defaultValue.other),comments:T(ot.comments,this.defaultValue.comments),strings:T(ot.strings,this.defaultValue.strings)};return!!(on.other&&on.comments&&on.strings)||!!(on.other||on.comments||on.strings)&&on}return this.defaultValue}}),quickSuggestionsDelay:dt(new H(80,"quickSuggestionsDelay",10,0,1073741824,{description:v.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:dt(new z(81,"readOnly",!1)),renameOnType:dt(new z(82,"renameOnType",!1,{description:v.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:v.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:dt(new z(83,"renderControlCharacters",!0,{description:v.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:dt(new z(84,"renderFinalNewline",!0,{description:v.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:dt(new P(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",v.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:v.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:dt(new z(86,"renderLineHighlightOnlyWhenFocus",!1,{description:v.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:dt(new P(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:dt(new P(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",v.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),v.N("renderWhitespace.selection","Render whitespace characters only on selected text."),v.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:v.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:dt(new H(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:dt(new z(90,"roundedSelection",!0,{description:v.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:dt(new class ze extends x{constructor(){const Me=[],ot={type:"number",description:v.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",Me,{type:"array",items:{anyOf:[ot,{type:["object"],properties:{column:ot,color:{type:"string",description:v.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Me,description:v.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Me){if(Array.isArray(Me)){const ot=[];for(let on of Me)if("number"==typeof on)ot.push({column:H.clampedInt(on,0,0,1e4),color:null});else if(on&&"object"==typeof on){const Tn=on;ot.push({column:H.clampedInt(Tn.column,0,0,1e4),color:Tn.color})}return ot.sort((on,Tn)=>on.column-Tn.column),ot}return this.defaultValue}}),scrollbar:dt(new class Kt extends x{constructor(){const Me={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",Me,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[v.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),v.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),v.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:v.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[v.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),v.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),v.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:v.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Me.verticalScrollbarSize,description:v.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Me.horizontalScrollbarSize,description:v.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Me.scrollByPage,description:v.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me,on=H.clampedInt(ot.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Tn=H.clampedInt(ot.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:H.clampedInt(ot.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:At(ot.vertical,this.defaultValue.vertical),horizontal:At(ot.horizontal,this.defaultValue.horizontal),useShadows:T(ot.useShadows,this.defaultValue.useShadows),verticalHasArrows:T(ot.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:T(ot.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:T(ot.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:T(ot.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:on,horizontalSliderSize:H.clampedInt(ot.horizontalSliderSize,on,0,1e3),verticalScrollbarSize:Tn,verticalSliderSize:H.clampedInt(ot.verticalSliderSize,Tn,0,1e3),scrollByPage:T(ot.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:dt(new H(93,"scrollBeyondLastColumn",5,0,1073741824,{description:v.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:dt(new z(94,"scrollBeyondLastLine",!0,{description:v.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:dt(new z(95,"scrollPredominantAxis",!0,{description:v.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:dt(new z(96,"selectionClipboard",!0,{description:v.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:h.IJ})),selectionHighlight:dt(new z(97,"selectionHighlight",!0,{description:v.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:dt(new z(98,"selectOnLineNumbers",!0)),showFoldingControls:dt(new P(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[v.N("showFoldingControls.always","Always show the folding controls."),v.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:v.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:dt(new z(100,"showUnused",!0,{description:v.N("showUnused","Controls fading out of unused code.")})),showDeprecated:dt(new z(126,"showDeprecated",!0,{description:v.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:dt(new class ut extends x{constructor(){const Me={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",Me,{"editor.inlayHints.enabled":{type:"boolean",default:Me.enabled,description:v.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:Me.fontSize,markdownDescription:v.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:Me.fontFamily,markdownDescription:v.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{enabled:T(ot.enabled,this.defaultValue.enabled),fontSize:H.clampedInt(ot.fontSize,this.defaultValue.fontSize,0,100),fontFamily:N.string(ot.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:dt(new P(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[v.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),v.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),v.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),v.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:v.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:dt(new class it extends x{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:v.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Me){return Me&&"object"==typeof Me?{selectLeadingAndTrailingWhitespace:T(Me.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:dt(new z(103,"smoothScrolling",!1,{description:v.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:dt(new H(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:dt(new class In extends x{constructor(){const Me={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",Me,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[v.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),v.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Me.insertMode,description:v.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Me.filterGraceful,description:v.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Me.localityBonus,description:v.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Me.shareSuggestSelections,markdownDescription:v.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Me.snippetsPreventQuickSuggestions,description:v.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Me.showIcons,description:v.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Me.showStatusBar,description:v.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Me.preview,description:v.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Me.showInlineDetails,description:v.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:v.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:v.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:v.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{insertMode:M(ot.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:T(ot.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:T(ot.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:T(ot.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:T(ot.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:T(ot.showIcons,this.defaultValue.showIcons),showStatusBar:T(ot.showStatusBar,this.defaultValue.showStatusBar),preview:T(ot.preview,this.defaultValue.preview),previewMode:M(ot.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:T(ot.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:T(ot.showMethods,this.defaultValue.showMethods),showFunctions:T(ot.showFunctions,this.defaultValue.showFunctions),showConstructors:T(ot.showConstructors,this.defaultValue.showConstructors),showDeprecated:T(ot.showDeprecated,this.defaultValue.showDeprecated),showFields:T(ot.showFields,this.defaultValue.showFields),showVariables:T(ot.showVariables,this.defaultValue.showVariables),showClasses:T(ot.showClasses,this.defaultValue.showClasses),showStructs:T(ot.showStructs,this.defaultValue.showStructs),showInterfaces:T(ot.showInterfaces,this.defaultValue.showInterfaces),showModules:T(ot.showModules,this.defaultValue.showModules),showProperties:T(ot.showProperties,this.defaultValue.showProperties),showEvents:T(ot.showEvents,this.defaultValue.showEvents),showOperators:T(ot.showOperators,this.defaultValue.showOperators),showUnits:T(ot.showUnits,this.defaultValue.showUnits),showValues:T(ot.showValues,this.defaultValue.showValues),showConstants:T(ot.showConstants,this.defaultValue.showConstants),showEnums:T(ot.showEnums,this.defaultValue.showEnums),showEnumMembers:T(ot.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:T(ot.showKeywords,this.defaultValue.showKeywords),showWords:T(ot.showWords,this.defaultValue.showWords),showColors:T(ot.showColors,this.defaultValue.showColors),showFiles:T(ot.showFiles,this.defaultValue.showFiles),showReferences:T(ot.showReferences,this.defaultValue.showReferences),showFolders:T(ot.showFolders,this.defaultValue.showFolders),showTypeParameters:T(ot.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:T(ot.showSnippets,this.defaultValue.showSnippets),showUsers:T(ot.showUsers,this.defaultValue.showUsers),showIssues:T(ot.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:dt(new class yt extends x{constructor(){const Me={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",Me,{"editor.inlineSuggest.enabled":{type:"boolean",default:Me.enabled,description:v.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{enabled:T(ot.enabled,this.defaultValue.enabled),mode:M(ot.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:dt(new H(107,"suggestFontSize",0,0,1e3,{markdownDescription:v.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:dt(new H(108,"suggestLineHeight",0,0,1e3,{markdownDescription:v.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:dt(new z(109,"suggestOnTriggerCharacters",!0,{description:v.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:dt(new P(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[v.N("suggestSelection.first","Always select the first suggestion."),v.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),v.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:v.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:dt(new P(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[v.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),v.N("tabCompletion.off","Disable tab completions."),v.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:v.N("tabCompletion","Enables tab completions.")})),tabIndex:dt(new H(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:dt(new class Nn extends x{constructor(){const Me={nonBasicASCII:nn,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:nn,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",Me,{[Mn.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,nn],default:Me.nonBasicASCII,description:v.N("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Mn.invisibleCharacters]:{restricted:!0,type:"boolean",default:Me.invisibleCharacters,description:v.N("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Mn.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Me.ambiguousCharacters,description:v.N("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Mn.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,nn],default:Me.includeComments,description:v.N("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Mn.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,nn],default:Me.includeStrings,description:v.N("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Mn.allowedCharacters]:{restricted:!0,type:"object",default:Me.allowedCharacters,description:v.N("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Mn.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Me.allowedLocales,description:v.N("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Me,ot){let on=!1;ot.allowedCharacters&&(R.fS(Me.allowedCharacters,ot.allowedCharacters)||(Me=Object.assign(Object.assign({},Me),{allowedCharacters:ot.allowedCharacters}),on=!0)),ot.allowedLocales&&(R.fS(Me.allowedLocales,ot.allowedLocales)||(Me=Object.assign(Object.assign({},Me),{allowedLocales:ot.allowedLocales}),on=!0));const Tn=super.applyUpdate(Me,ot);return on?new w(Tn.newValue,!0):Tn}validate(Me){if(!Me||"object"!=typeof Me)return this.defaultValue;const ot=Me;return{nonBasicASCII:_n(ot.nonBasicASCII,nn,[!0,!1,nn]),invisibleCharacters:T(ot.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:T(ot.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:_n(ot.includeComments,nn,[!0,!1,nn]),includeStrings:_n(ot.includeStrings,nn,[!0,!1,nn]),allowedCharacters:this.validateBooleanMap(Me.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Me.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Me,ot){if("object"!=typeof Me||!Me)return ot;const on={};for(const[Tn,Mi]of Object.entries(Me))!0===Mi&&(on[Tn]=!0);return on}}),unusualLineTerminators:dt(new P(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[v.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),v.N("unusualLineTerminators.off","Unusual line terminators are ignored."),v.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:v.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:dt(new z(115,"useShadowDOM",!0)),useTabStops:dt(new z(116,"useTabStops",!0,{description:v.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:dt(new N(117,"wordSeparators",Q.vu,{description:v.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:dt(new P(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[v.N("wordWrap.off","Lines will never wrap."),v.N("wordWrap.on","Lines will wrap at the viewport width."),v.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),v.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:v.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:dt(new N(119,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:dt(new N(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:dt(new H(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:v.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:dt(new P(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:dt(new P(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:dt(new W(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function bt(ft){switch(ft){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[v.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),v.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),v.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),v.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:v.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:dt(new P(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[v.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),v.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:v.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:dt(new class _e extends F{constructor(){super(128)}compute(Me,ot,on){const Tn=["monaco-editor"];return ot.get(33)&&Tn.push(ot.get(33)),Me.extraEditorClassName&&Tn.push(Me.extraEditorClassName),"default"===ot.get(66)?Tn.push("mouse-default"):"copy"===ot.get(66)&&Tn.push("mouse-copy"),ot.get(100)&&Tn.push("showUnused"),ot.get(126)&&Tn.push("showDeprecated"),Tn.join(" ")}}),pixelRatio:dt(new class St extends F{constructor(){super(129)}compute(Me,ot,on){return Me.pixelRatio}}),tabFocusMode:dt(new class $t extends F{constructor(){super(130)}compute(Me,ot,on){return!!ot.get(81)||Me.tabFocusMode}}),layoutInfo:dt(new He),wrappingInfo:dt(new class Zt extends F{constructor(){super(132)}compute(Me,ot,on){const Tn=ot.get(131);return{isDominatedByLongLines:Me.isDominatedByLongLines,isWordWrapMinified:Tn.isWordWrapMinified,isViewportWrapping:Tn.isViewportWrapping,wrappingColumn:Tn.wrappingColumn}}})}},2929:(vt,Ke,m)=>{m.d(Ke,{C:()=>h});var v=m(2787);const h=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new v.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(Q){Q=Math.min(Math.max(-5,Q),20),this._zoomLevel!==Q&&(this._zoomLevel=Q,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},5462:(vt,Ke,m)=>{m.d(Ke,{E4:()=>R,pR:()=>j});var v=m(8972),h=m(2929);const Q=v.dz?1.5:1.35;class R{constructor(V){this._bareFontInfoBrand=void 0,this.pixelRatio=V.pixelRatio,this.fontFamily=String(V.fontFamily),this.fontWeight=String(V.fontWeight),this.fontSize=V.fontSize,this.fontFeatureSettings=V.fontFeatureSettings,this.lineHeight=0|V.lineHeight,this.letterSpacing=V.letterSpacing}static createFromValidatedSettings(V,x,w){const D=V.get(43),F=V.get(47),f=V.get(46),T=V.get(45),z=V.get(59),I=V.get(56);return R._create(D,F,f,T,z,I,x,w)}static _create(V,x,w,D,F,f,T,z){0===F?F=Q*w:F<8&&(F*=w),(F=Math.round(F))<8&&(F=8);const I=1+(z?0:.1*h.C.getZoomLevel());return new R({pixelRatio:T,fontFamily:V,fontWeight:x,fontSize:w*=I,fontFeatureSettings:D,lineHeight:F*=I,letterSpacing:f})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(V){const x=R._wrapInQuotes(this.fontFamily);return V&&this.fontFamily!==V?`${x}, ${V}`:x}static _wrapInQuotes(V){return/[,"']/.test(V)?V:/[+ ]/.test(V)?`"${V}"`:V}}class j extends R{constructor(V,x){super(V),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=x,this.isMonospace=V.isMonospace,this.typicalHalfwidthCharacterWidth=V.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=V.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=V.canUseHalfwidthRightwardsArrow,this.spaceWidth=V.spaceWidth,this.middotWidth=V.middotWidth,this.wsmiddotWidth=V.wsmiddotWidth,this.maxDigitWidth=V.maxDigitWidth}equals(V){return this.fontFamily===V.fontFamily&&this.fontWeight===V.fontWeight&&this.fontSize===V.fontSize&&this.fontFeatureSettings===V.fontFeatureSettings&&this.lineHeight===V.lineHeight&&this.letterSpacing===V.letterSpacing&&this.typicalHalfwidthCharacterWidth===V.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===V.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===V.canUseHalfwidthRightwardsArrow&&this.spaceWidth===V.spaceWidth&&this.middotWidth===V.middotWidth&&this.wsmiddotWidth===V.wsmiddotWidth&&this.maxDigitWidth===V.maxDigitWidth}}},7686:(vt,Ke,m)=>{m.d(Ke,{N:()=>h,q:()=>Q});var v=m(5129);class h{constructor(R){const se=(0,v.K)(R);this._defaultValue=se,this._asciiMap=h._createAsciiMap(se),this._map=new Map}static _createAsciiMap(R){const se=new Uint8Array(256);for(let j=0;j<256;j++)se[j]=R;return se}set(R,se){const j=(0,v.K)(se);R>=0&&R<256?this._asciiMap[R]=j:this._map.set(R,j)}get(R){return R>=0&&R<256?this._asciiMap[R]:this._map.get(R)||this._defaultValue}}class Q{constructor(){this._actual=new h(0)}add(R){this._actual.set(R,1)}has(R){return 1===this._actual.get(R)}}},4826:(vt,Ke,m)=>{m.d(Ke,{i:()=>h});var v=m(4705);class h{static _nextVisibleColumn(k,R,se){return 9===k?h.nextRenderTabStop(R,se):v.K7(k)||v.C8(k)?R+2:R+1}static visibleColumnFromColumn(k,R,se){const j=Math.min(R-1,k.length),Y=k.substring(0,j),V=new v.W1(Y);let x=0;for(;!V.eol();){const w=v.ZH(Y,j,V.offset);V.nextGraphemeLength(),x=this._nextVisibleColumn(w,x,se)}return x}static columnFromVisibleColumn(k,R,se){if(R<=0)return 1;const j=k.length,Y=new v.W1(k);let V=0,x=1;for(;!Y.eol();){const w=v.ZH(k,j,Y.offset);Y.nextGraphemeLength();const D=this._nextVisibleColumn(w,V,se),F=Y.offset+1;if(D>=R)return D-R<R-V?F:x;V=D,x=F}return j+1}static nextRenderTabStop(k,R){return k+R-k%R}static nextIndentTabStop(k,R){return k+R-k%R}static prevRenderTabStop(k,R){return Math.max(0,k-1-(k-1)%R)}static prevIndentTabStop(k,R){return Math.max(0,k-1-(k-1)%R)}}},2033:(vt,Ke,m)=>{m.d(Ke,{h:()=>h});var v=m(8451);class h{static insert(k,R){return{range:new v.e(k.lineNumber,k.column,k.lineNumber,k.column),text:R,forceMoveMarkers:!0}}static delete(k){return{range:k,text:null}}static replace(k,R){return{range:k,text:R}}static replaceMove(k,R){return{range:k,text:R,forceMoveMarkers:!0}}}},3448:(vt,Ke,m)=>{m.d(Ke,{Kh:()=>R,Mm:()=>se,n0:()=>w,fY:()=>D,tR:()=>f,Ym:()=>T,hw:()=>z,DD:()=>H,zk:()=>K,TC:()=>M,Dl:()=>P,zw:()=>W,e_:()=>J,kp:()=>ye,zu:()=>fe,x3:()=>Se,N5:()=>Ie,IO:()=>_e,m9:()=>X,lK:()=>pe,Re:()=>re,eS:()=>ne,zJ:()=>ce,Vs:()=>ue,CE:()=>we,UP:()=>He,r0:()=>lt,m1:()=>ut,ts:()=>Ve,oV:()=>ct,m$:()=>Nt,DS:()=>un,lS:()=>Jt,Jn:()=>St,YF:()=>en,Qb:()=>pn,m3:()=>Xt,To:()=>ze,L7:()=>At,HV:()=>Kt,f9:()=>nn});var v=m(402),h=m(8927),Q=m(8708),k=m(3024);const R=(0,Q.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},v.N("lineHighlight","Background color for the highlight of line at the cursor position.")),se=(0,Q.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},v.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),j=(0,Q.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},v.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),Y=(0,Q.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Q.xL1},v.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),V=(0,Q.P6G)("editor.symbolHighlightBackground",{dark:Q.MUv,light:Q.MUv,hc:null},v.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),x=(0,Q.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Q.xL1},v.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),w=(0,Q.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:h.Il.black,hc:h.Il.white},v.N("caret","Color of the editor cursor.")),D=(0,Q.P6G)("editorCursor.background",null,v.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),F=(0,Q.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},v.N("editorWhitespaces","Color of whitespace characters in the editor.")),f=(0,Q.P6G)("editorIndentGuide.background",{dark:F,light:F,hc:F},v.N("editorIndentGuides","Color of the editor indentation guides.")),T=(0,Q.P6G)("editorIndentGuide.activeBackground",{dark:F,light:F,hc:F},v.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),z=(0,Q.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:h.Il.white},v.N("editorLineNumbers","Color of editor line numbers.")),I=(0,Q.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Q.xL1},v.N("editorActiveLineNumber","Color of editor active line number"),!1,v.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),H=(0,Q.P6G)("editorLineNumber.activeForeground",{dark:I,light:I,hc:I},v.N("editorActiveLineNumber","Color of editor active line number")),K=(0,Q.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:h.Il.lightgrey,hc:h.Il.white},v.N("editorRuler","Color of the editor rulers.")),M=((0,Q.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},v.N("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,Q.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},v.N("editorBracketMatchBackground","Background color behind matching brackets"))),P=(0,Q.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Q.lRK},v.N("editorBracketMatchBorder","Color for matching brackets boxes")),W=(0,Q.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},v.N("editorOverviewRulerBorder","Color of the overview ruler border.")),J=(0,Q.P6G)("editorOverviewRuler.background",null,v.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),he=(0,Q.P6G)("editorGutter.background",{dark:Q.cvW,light:Q.cvW,hc:Q.cvW},v.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ye=(0,Q.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hc:h.Il.fromHex("#fff").transparent(.8)},v.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),fe=(0,Q.P6G)("editorUnnecessaryCode.opacity",{dark:h.Il.fromHex("#000a"),light:h.Il.fromHex("#0007"),hc:null},v.N("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),Se=(0,Q.P6G)("editorGhostText.border",{dark:null,light:null,hc:h.Il.fromHex("#fff").transparent(.8)},v.N("editorGhostTextBorder","Border color of ghost text in the editor.")),Ie=(0,Q.P6G)("editorGhostText.foreground",{dark:h.Il.fromHex("#ffffff56"),light:h.Il.fromHex("#0007"),hc:null},v.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),_e=(0,Q.P6G)("editorGhostText.background",{dark:null,light:null,hc:null},v.N("editorGhostTextBackground","Background color of the ghost text in the editor.")),$=new h.Il(new h.VS(0,122,204,.6)),X=(0,Q.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:$,light:$,hc:$},v.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),pe=(0,Q.P6G)("editorOverviewRuler.errorForeground",{dark:new h.Il(new h.VS(255,18,18,.7)),light:new h.Il(new h.VS(255,18,18,.7)),hc:new h.Il(new h.VS(255,50,50,1))},v.N("overviewRuleError","Overview ruler marker color for errors.")),re=(0,Q.P6G)("editorOverviewRuler.warningForeground",{dark:Q.uoC,light:Q.uoC,hc:Q.pW3},v.N("overviewRuleWarning","Overview ruler marker color for warnings.")),ne=(0,Q.P6G)("editorOverviewRuler.infoForeground",{dark:Q.c63,light:Q.c63,hc:Q.T83},v.N("overviewRuleInfo","Overview ruler marker color for infos.")),ce=(0,Q.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},v.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ue=(0,Q.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},v.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),we=(0,Q.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},v.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),He=(0,Q.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),lt=(0,Q.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),ut=(0,Q.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Ve=(0,Q.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new h.Il(new h.VS(255,18,18,.8)),light:new h.Il(new h.VS(255,18,18,.8)),hc:new h.Il(new h.VS(255,50,50,1))},v.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ct=(0,Q.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Nt=(0,Q.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),un=(0,Q.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Jt=(0,Q.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),St=(0,Q.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),en=(0,Q.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),pn=(0,Q.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Xt=(0,Q.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ze=(0,Q.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),At=(0,Q.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Kt=(0,Q.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),nn=(0,Q.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},v.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,Q.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},v.N("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,k.Ic)((Nn,yt)=>{const Ht=Nn.getColor(Q.cvW);Ht&&yt.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Ht}; }`);const jt=Nn.getColor(Q.NOs);jt&&yt.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${jt}; }`);const _n=Nn.getColor(he);_n&&yt.addRule(`.monaco-editor .margin { background-color: ${_n}; }`);const In=Nn.getColor(j);In&&yt.addRule(`.monaco-editor .rangeHighlight { background-color: ${In}; }`);const it=Nn.getColor(Y);it&&yt.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===Nn.type?"dotted":"solid"} ${it}; }`);const $t=Nn.getColor(V);$t&&yt.addRule(`.monaco-editor .symbolHighlight { background-color: ${$t}; }`);const bt=Nn.getColor(x);bt&&yt.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===Nn.type?"dotted":"solid"} ${bt}; }`);const Zt=Nn.getColor(F);Zt&&(yt.addRule(`.monaco-editor .mtkw { color: ${Zt} !important; }`),yt.addRule(`.monaco-editor .mtkz { color: ${Zt} !important; }`))})},7846:(vt,Ke,m)=>{function v(h){let Q=0,k=0,R=0,se=0;for(let j=0,Y=h.length;j<Y;j++){const V=h.charCodeAt(j);13===V?(0===Q&&(k=j),Q++,j+1<Y&&10===h.charCodeAt(j+1)?(se|=2,j++):se|=3,R=j+1):10===V&&(se|=1,0===Q&&(k=j),Q++,R=j+1)}return 0===Q&&(k=h.length),[Q,k,h.length-R,se]}m.d(Ke,{Q:()=>v})},4220:(vt,Ke,m)=>{m.d(Ke,{L:()=>v});class v{constructor(Q,k){this.lineNumber=Q,this.column=k}with(Q=this.lineNumber,k=this.column){return Q===this.lineNumber&&k===this.column?this:new v(Q,k)}delta(Q=0,k=0){return this.with(this.lineNumber+Q,this.column+k)}equals(Q){return v.equals(this,Q)}static equals(Q,k){return!Q&&!k||!!Q&&!!k&&Q.lineNumber===k.lineNumber&&Q.column===k.column}isBefore(Q){return v.isBefore(this,Q)}static isBefore(Q,k){return Q.lineNumber<k.lineNumber||!(k.lineNumber<Q.lineNumber)&&Q.column<k.column}isBeforeOrEqual(Q){return v.isBeforeOrEqual(this,Q)}static isBeforeOrEqual(Q,k){return Q.lineNumber<k.lineNumber||!(k.lineNumber<Q.lineNumber)&&Q.column<=k.column}static compare(Q,k){const R=0|Q.lineNumber,se=0|k.lineNumber;return R===se?(0|Q.column)-(0|k.column):R-se}clone(){return new v(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Q){return new v(Q.lineNumber,Q.column)}static isIPosition(Q){return Q&&"number"==typeof Q.lineNumber&&"number"==typeof Q.column}}},8451:(vt,Ke,m)=>{m.d(Ke,{e:()=>h});var v=m(4220);class h{constructor(k,R,se,j){k>se||k===se&&R>j?(this.startLineNumber=se,this.startColumn=j,this.endLineNumber=k,this.endColumn=R):(this.startLineNumber=k,this.startColumn=R,this.endLineNumber=se,this.endColumn=j)}isEmpty(){return h.isEmpty(this)}static isEmpty(k){return k.startLineNumber===k.endLineNumber&&k.startColumn===k.endColumn}containsPosition(k){return h.containsPosition(this,k)}static containsPosition(k,R){return!(R.lineNumber<k.startLineNumber||R.lineNumber>k.endLineNumber||R.lineNumber===k.startLineNumber&&R.column<k.startColumn||R.lineNumber===k.endLineNumber&&R.column>k.endColumn)}static strictContainsPosition(k,R){return!(R.lineNumber<k.startLineNumber||R.lineNumber>k.endLineNumber||R.lineNumber===k.startLineNumber&&R.column<=k.startColumn||R.lineNumber===k.endLineNumber&&R.column>=k.endColumn)}containsRange(k){return h.containsRange(this,k)}static containsRange(k,R){return!(R.startLineNumber<k.startLineNumber||R.endLineNumber<k.startLineNumber||R.startLineNumber>k.endLineNumber||R.endLineNumber>k.endLineNumber||R.startLineNumber===k.startLineNumber&&R.startColumn<k.startColumn||R.endLineNumber===k.endLineNumber&&R.endColumn>k.endColumn)}strictContainsRange(k){return h.strictContainsRange(this,k)}static strictContainsRange(k,R){return!(R.startLineNumber<k.startLineNumber||R.endLineNumber<k.startLineNumber||R.startLineNumber>k.endLineNumber||R.endLineNumber>k.endLineNumber||R.startLineNumber===k.startLineNumber&&R.startColumn<=k.startColumn||R.endLineNumber===k.endLineNumber&&R.endColumn>=k.endColumn)}plusRange(k){return h.plusRange(this,k)}static plusRange(k,R){let se,j,Y,V;return R.startLineNumber<k.startLineNumber?(se=R.startLineNumber,j=R.startColumn):R.startLineNumber===k.startLineNumber?(se=R.startLineNumber,j=Math.min(R.startColumn,k.startColumn)):(se=k.startLineNumber,j=k.startColumn),R.endLineNumber>k.endLineNumber?(Y=R.endLineNumber,V=R.endColumn):R.endLineNumber===k.endLineNumber?(Y=R.endLineNumber,V=Math.max(R.endColumn,k.endColumn)):(Y=k.endLineNumber,V=k.endColumn),new h(se,j,Y,V)}intersectRanges(k){return h.intersectRanges(this,k)}static intersectRanges(k,R){let se=k.startLineNumber,j=k.startColumn,Y=k.endLineNumber,V=k.endColumn,x=R.startLineNumber,w=R.startColumn,D=R.endLineNumber,F=R.endColumn;return se<x?(se=x,j=w):se===x&&(j=Math.max(j,w)),Y>D?(Y=D,V=F):Y===D&&(V=Math.min(V,F)),se>Y||se===Y&&j>V?null:new h(se,j,Y,V)}equalsRange(k){return h.equalsRange(this,k)}static equalsRange(k,R){return!!k&&!!R&&k.startLineNumber===R.startLineNumber&&k.startColumn===R.startColumn&&k.endLineNumber===R.endLineNumber&&k.endColumn===R.endColumn}getEndPosition(){return h.getEndPosition(this)}static getEndPosition(k){return new v.L(k.endLineNumber,k.endColumn)}getStartPosition(){return h.getStartPosition(this)}static getStartPosition(k){return new v.L(k.startLineNumber,k.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(k,R){return new h(this.startLineNumber,this.startColumn,k,R)}setStartPosition(k,R){return new h(k,R,this.endLineNumber,this.endColumn)}collapseToStart(){return h.collapseToStart(this)}static collapseToStart(k){return new h(k.startLineNumber,k.startColumn,k.startLineNumber,k.startColumn)}static fromPositions(k,R=k){return new h(k.lineNumber,k.column,R.lineNumber,R.column)}static lift(k){return k?new h(k.startLineNumber,k.startColumn,k.endLineNumber,k.endColumn):null}static isIRange(k){return k&&"number"==typeof k.startLineNumber&&"number"==typeof k.startColumn&&"number"==typeof k.endLineNumber&&"number"==typeof k.endColumn}static areIntersectingOrTouching(k,R){return!(k.endLineNumber<R.startLineNumber||k.endLineNumber===R.startLineNumber&&k.endColumn<R.startColumn||R.endLineNumber<k.startLineNumber||R.endLineNumber===k.startLineNumber&&R.endColumn<k.startColumn)}static areIntersecting(k,R){return!(k.endLineNumber<R.startLineNumber||k.endLineNumber===R.startLineNumber&&k.endColumn<=R.startColumn||R.endLineNumber<k.startLineNumber||R.endLineNumber===k.startLineNumber&&R.endColumn<=k.startColumn)}static compareRangesUsingStarts(k,R){if(k&&R){const Y=0|k.startLineNumber,V=0|R.startLineNumber;if(Y===V){const x=0|k.startColumn,w=0|R.startColumn;if(x===w){const D=0|k.endLineNumber,F=0|R.endLineNumber;return D===F?(0|k.endColumn)-(0|R.endColumn):D-F}return x-w}return Y-V}return(k?1:0)-(R?1:0)}static compareRangesUsingEnds(k,R){return k.endLineNumber===R.endLineNumber?k.endColumn===R.endColumn?k.startLineNumber===R.startLineNumber?k.startColumn-R.startColumn:k.startLineNumber-R.startLineNumber:k.endColumn-R.endColumn:k.endLineNumber-R.endLineNumber}static spansMultipleLines(k){return k.endLineNumber>k.startLineNumber}}},3210:(vt,Ke,m)=>{m.d(Ke,{Y:()=>Q});var v=m(4220),h=m(8451);class Q extends h.e{constructor(R,se,j,Y){super(R,se,j,Y),this.selectionStartLineNumber=R,this.selectionStartColumn=se,this.positionLineNumber=j,this.positionColumn=Y}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(R){return Q.selectionsEqual(this,R)}static selectionsEqual(R,se){return R.selectionStartLineNumber===se.selectionStartLineNumber&&R.selectionStartColumn===se.selectionStartColumn&&R.positionLineNumber===se.positionLineNumber&&R.positionColumn===se.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(R,se){return 0===this.getDirection()?new Q(this.startLineNumber,this.startColumn,R,se):new Q(R,se,this.startLineNumber,this.startColumn)}getPosition(){return new v.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new v.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(R,se){return 0===this.getDirection()?new Q(R,se,this.endLineNumber,this.endColumn):new Q(this.endLineNumber,this.endColumn,R,se)}static fromPositions(R,se=R){return new Q(R.lineNumber,R.column,se.lineNumber,se.column)}static fromRange(R,se){return 0===se?new Q(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new Q(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}static liftSelection(R){return new Q(R.selectionStartLineNumber,R.selectionStartColumn,R.positionLineNumber,R.positionColumn)}static selectionsArrEqual(R,se){if(R&&!se||!R&&se)return!1;if(!R&&!se)return!0;if(R.length!==se.length)return!1;for(let j=0,Y=R.length;j<Y;j++)if(!this.selectionsEqual(R[j],se[j]))return!1;return!0}static isISelection(R){return R&&"number"==typeof R.selectionStartLineNumber&&"number"==typeof R.selectionStartColumn&&"number"==typeof R.positionLineNumber&&"number"==typeof R.positionColumn}static createWithDirection(R,se,j,Y,V){return 0===V?new Q(R,se,j,Y):new Q(j,Y,R,se)}}},8511:(vt,Ke,m)=>{m.d(Ke,{oe:()=>V,lZ:()=>x,l$:()=>w,kH:()=>D});var v=m(4705),h=m(8972),Q=m(8923);let k,se,Y;function R(){return k||(k=new TextDecoder("UTF-16LE")),k}function V(){return Y||(Y=h.r()?R():function j(){return se||(se=new TextDecoder("UTF-16BE")),se}()),Y}const x="undefined"!=typeof TextDecoder;let w,D;function f(I,H,K){const N=[];let M=0;for(let P=0;P<K;P++){const W=Q.mP(I,H);H+=2,N[M++]=String.fromCharCode(W)}return N.join("")}x?(w=I=>new T(I),D=function F(I,H,K){const N=new Uint16Array(I.buffer,H,K);return K>0&&(65279===N[0]||65534===N[0])?f(I,H,K):R().decode(N)}):(w=I=>new z,D=f);class T{constructor(H){this._capacity=0|H,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const H=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return V().decode(H)}_flushBuffer(){const H=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[H]:this._completedStrings[this._completedStrings.length]=H}write1(H){const K=this._capacity-this._bufferLength;K<=1&&(0===K||v.ZG(H))&&this._flushBuffer(),this._buffer[this._bufferLength++]=H}appendASCII(H){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=H}appendASCIIString(H){const K=H.length;if(this._bufferLength+K>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=H);for(let N=0;N<K;N++)this._buffer[this._bufferLength++]=H.charCodeAt(N)}}class z{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(H){this._pieces[this._piecesLen++]=String.fromCharCode(H)}appendASCII(H){this._pieces[this._piecesLen++]=String.fromCharCode(H)}appendASCIIString(H){this._pieces[this._piecesLen++]=H}}},7614:(vt,Ke,m)=>{m.d(Ke,{q:()=>k,b:()=>R});var v=m(8923),h=m(8511);function Q(j){return j.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class k{constructor(Y,V,x,w){this.oldPosition=Y,this.oldText=V,this.newPosition=x,this.newText=w}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${Q(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${Q(this.oldText)}")`:`(replace@${this.oldPosition} "${Q(this.oldText)}" with "${Q(this.newText)}")`}static _writeStringSize(Y){return 4+2*Y.length}static _writeString(Y,V,x){const w=V.length;v.T4(Y,w,x),x+=4;for(let D=0;D<w;D++)v.oq(Y,V.charCodeAt(D),x),x+=2;return x}static _readString(Y,V){const x=v.Ag(Y,V);return(0,h.kH)(Y,V+=4,x)}writeSize(){return 8+k._writeStringSize(this.oldText)+k._writeStringSize(this.newText)}write(Y,V){return v.T4(Y,this.oldPosition,V),v.T4(Y,this.newPosition,V+=4),V=k._writeString(Y,this.oldText,V+=4),k._writeString(Y,this.newText,V)}static read(Y,V,x){const w=v.Ag(Y,V),D=v.Ag(Y,V+=4),F=k._readString(Y,V+=4);V+=k._writeStringSize(F);const f=k._readString(Y,V);return V+=k._writeStringSize(f),x.push(new k(w,F,D,f)),V}}function R(j,Y){return null===j||0===j.length?Y:new se(j,Y).compress()}class se{constructor(Y,V){this._prevEdits=Y,this._currEdits=V,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let Y=0,V=0,x=this._getPrev(Y),w=this._getCurr(V);for(;Y<this._prevLen||V<this._currLen;){if(null===x){this._acceptCurr(w),w=this._getCurr(++V);continue}if(null===w){this._acceptPrev(x),x=this._getPrev(++Y);continue}if(w.oldEnd<=x.newPosition){this._acceptCurr(w),w=this._getCurr(++V);continue}if(x.newEnd<=w.oldPosition){this._acceptPrev(x),x=this._getPrev(++Y);continue}if(w.oldPosition<x.newPosition){const[z,I]=se._splitCurr(w,x.newPosition-w.oldPosition);this._acceptCurr(z),w=I;continue}if(x.newPosition<w.oldPosition){const[z,I]=se._splitPrev(x,w.oldPosition-x.newPosition);this._acceptPrev(z),x=I;continue}let f,T;if(w.oldEnd===x.newEnd)f=x,T=w,x=this._getPrev(++Y),w=this._getCurr(++V);else if(w.oldEnd<x.newEnd){const[z,I]=se._splitPrev(x,w.oldLength);f=z,T=w,x=I,w=this._getCurr(++V)}else{const[z,I]=se._splitCurr(w,x.newLength);f=x,T=z,x=this._getPrev(++Y),w=I}this._result[this._resultLen++]=new k(f.oldPosition,f.oldText,T.newPosition,T.newText),this._prevDeltaOffset+=f.newLength-f.oldLength,this._currDeltaOffset+=T.newLength-T.oldLength}const D=se._merge(this._result);return se._removeNoOps(D)}_acceptCurr(Y){this._result[this._resultLen++]=se._rebaseCurr(this._prevDeltaOffset,Y),this._currDeltaOffset+=Y.newLength-Y.oldLength}_getCurr(Y){return Y<this._currLen?this._currEdits[Y]:null}_acceptPrev(Y){this._result[this._resultLen++]=se._rebasePrev(this._currDeltaOffset,Y),this._prevDeltaOffset+=Y.newLength-Y.oldLength}_getPrev(Y){return Y<this._prevLen?this._prevEdits[Y]:null}static _rebaseCurr(Y,V){return new k(V.oldPosition-Y,V.oldText,V.newPosition,V.newText)}static _rebasePrev(Y,V){return new k(V.oldPosition,V.oldText,V.newPosition+Y,V.newText)}static _splitPrev(Y,V){const x=Y.newText.substr(0,V),w=Y.newText.substr(V);return[new k(Y.oldPosition,Y.oldText,Y.newPosition,x),new k(Y.oldEnd,"",Y.newPosition+V,w)]}static _splitCurr(Y,V){const x=Y.oldText.substr(0,V),w=Y.oldText.substr(V);return[new k(Y.oldPosition,x,Y.newPosition,Y.newText),new k(Y.oldPosition+V,w,Y.newEnd,"")]}static _merge(Y){if(0===Y.length)return Y;const V=[];let x=0,w=Y[0];for(let D=1;D<Y.length;D++){const F=Y[D];w.oldEnd===F.oldPosition?w=new k(w.oldPosition,w.oldText+F.oldText,w.newPosition,w.newText+F.newText):(V[x++]=w,w=F)}return V[x++]=w,V}static _removeNoOps(Y){if(0===Y.length)return Y;const V=[];let x=0;for(let w=0;w<Y.length;w++){const D=Y[w];D.oldText!==D.newText&&(V[x++]=D)}return V}}},2931:(vt,Ke,m)=>{m.d(Ke,{D:()=>v});const v={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}},681:(vt,Ke,m)=>{m.d(Ke,{u:()=>k});var v=m(7686);class h extends v.N{constructor(se){super(0);for(let j=0,Y=se.length;j<Y;j++)this.set(se.charCodeAt(j),2);this.set(32,1),this.set(9,1)}}const k=function Q(R){const se={};return j=>(se.hasOwnProperty(j)||(se[j]=R(j)),se[j])}(R=>new h(R))},5519:(vt,Ke,m)=>{m.d(Ke,{vu:()=>v,Af:()=>Q,eq:()=>k,t2:()=>se});const v="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",Q=function h(Y=""){let V="(-?\\d*\\.\\d\\w*)|([^";for(const x of v)Y.indexOf(x)>=0||(V+="\\"+x);return V+="\\s]+)",new RegExp(V,"g")}();function k(Y){let V=Q;if(Y&&Y instanceof RegExp)if(Y.global)V=Y;else{let x="g";Y.ignoreCase&&(x+="i"),Y.multiline&&(x+="m"),Y.unicode&&(x+="u"),V=new RegExp(Y.source,x)}return V.lastIndex=0,V}const R={maxLen:1e3,windowSize:15,timeBudget:150};function se(Y,V,x,w,D=R){if(x.length>D.maxLen){let I=Y-D.maxLen/2;return I<0?I=0:w+=I,se(Y,V,x=x.substring(I,Y+D.maxLen/2),w,D)}const F=Date.now(),f=Y-1-w;let T=-1,z=null;for(let I=1;!(Date.now()-F>=D.timeBudget);I++){const H=f-D.windowSize*I;V.lastIndex=Math.max(0,H);const K=j(V,x,f,T);if(!K&&z||(z=K,H<=0))break;T=H}if(z){const I={word:z[0],startColumn:w+1+z.index,endColumn:w+1+z.index+z[0].length};return V.lastIndex=0,I}return null}function j(Y,V,x,w){let D;for(;D=Y.exec(V);){const F=D.index||0;if(F<=x&&Y.lastIndex>=x)return D;if(w>0&&F>w)return null}return null}},7078:(vt,Ke,m)=>{m.d(Ke,{l:()=>h});var v=m(4826);class h{static whitespaceVisibleColumn(k,R,se){const j=k.length;let Y=0,V=-1,x=-1;for(let w=0;w<j;w++){if(w===R)return[V,x,Y];switch(Y%se==0&&(V=w,x=Y),k.charCodeAt(w)){case 32:Y+=1;break;case 9:Y=v.i.nextRenderTabStop(Y,se);break;default:return[-1,-1,-1]}}return R===j?[V,x,Y]:[-1,-1,-1]}static atomicPosition(k,R,se,j){const Y=k.length,[V,x,w]=h.whitespaceVisibleColumn(k,R,se);if(-1===w)return-1;let D;switch(j){case 0:D=!0;break;case 1:D=!1;break;case 2:if(w%se==0)return R;D=w%se<=se/2}if(D){if(-1===V)return-1;let T=x;for(let z=V;z<Y;++z){if(T===x+se)return V;switch(k.charCodeAt(z)){case 32:T+=1;break;case 9:T=v.i.nextRenderTabStop(T,se);break;default:return-1}}return T===x+se?V:-1}const F=v.i.nextRenderTabStop(w,se);let f=w;for(let T=R;T<Y;T++){if(f===F)return T;switch(k.charCodeAt(T)){case 32:f+=1;break;case 9:f=v.i.nextRenderTabStop(f,se);break;default:return-1}}return f===F?Y:-1}}},1181:(vt,Ke,m)=>{m.d(Ke,{LM:()=>x,zp:()=>w,Vi:()=>D,rS:()=>T,Tp:()=>z,LN:()=>I});var v=m(4220),h=m(8451),Q=m(3210),k=m(4412),R=m(8555),se=m(4826);const j=()=>!0,Y=()=>!1,V=H=>" "===H||"\t"===H;class x{constructor(K,N,M,P){this.languageConfigurationService=P,this._cursorMoveConfigurationBrand=void 0,this._languageId=K;const W=M.options,J=W.get(131);this.readOnly=W.get(81),this.tabSize=N.tabSize,this.indentSize=N.indentSize,this.insertSpaces=N.insertSpaces,this.stickyTabStops=W.get(104),this.lineHeight=W.get(59),this.pageSize=Math.max(1,Math.floor(J.height/this.lineHeight)-2),this.useTabStops=W.get(116),this.wordSeparators=W.get(117),this.emptySelectionClipboard=W.get(32),this.copyWithSyntaxHighlighting=W.get(21),this.multiCursorMergeOverlapping=W.get(69),this.multiCursorPaste=W.get(71),this.autoClosingBrackets=W.get(5),this.autoClosingQuotes=W.get(8),this.autoClosingDelete=W.get(6),this.autoClosingOvertype=W.get(7),this.autoSurround=W.get(11),this.autoIndent=W.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(K,this.autoClosingQuotes),bracket:this._getShouldAutoClose(K,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(K).getAutoClosingPairs();const he=this.languageConfigurationService.getLanguageConfiguration(K).getSurroundingPairs();if(he)for(const ye of he)this.surroundingPairs[ye.open]=ye.close}static shouldRecreate(K){return K.hasChanged(131)||K.hasChanged(117)||K.hasChanged(32)||K.hasChanged(69)||K.hasChanged(71)||K.hasChanged(5)||K.hasChanged(8)||K.hasChanged(6)||K.hasChanged(7)||K.hasChanged(11)||K.hasChanged(116)||K.hasChanged(59)||K.hasChanged(81)}get electricChars(){var K;if(!this._electricChars){this._electricChars={};const N=null===(K=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===K?void 0:K.getElectricCharacters();if(N)for(const M of N)this._electricChars[M]=!0}return this._electricChars}onElectricCharacter(K,N,M){const P=(0,R.wH)(N,M-1),W=this.languageConfigurationService.getLanguageConfiguration(P.languageId).electricCharacter;return W?W.onElectricCharacter(K,P,M-P.firstCharOffset):null}normalizeIndentation(K){return k.yO.normalizeIndentation(K,this.indentSize,this.insertSpaces)}_getShouldAutoClose(K,N){switch(N){case"beforeWhitespace":return V;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(K);case"always":return j;case"never":return Y}}_getLanguageDefinedShouldAutoClose(K){const N=this.languageConfigurationService.getLanguageConfiguration(K).getAutoCloseBeforeSet();return M=>-1!==N.indexOf(M)}visibleColumnFromColumn(K,N){return se.i.visibleColumnFromColumn(K.getLineContent(N.lineNumber),N.column,this.tabSize)}columnFromVisibleColumn(K,N,M){const P=se.i.columnFromVisibleColumn(K.getLineContent(N),M,this.tabSize),W=K.getLineMinColumn(N);if(P<W)return W;const J=K.getLineMaxColumn(N);return P>J?J:P}}class w{constructor(K,N,M,P){this._cursorContextBrand=void 0,this.model=K,this.viewModel=N,this.coordinatesConverter=M,this.cursorConfig=P}}class D{constructor(K,N){this._cursorStateBrand=void 0,this.modelState=K,this.viewState=N}static fromModelState(K){return new F(K)}static fromViewState(K){return new f(K)}static fromModelSelection(K){const N=Q.Y.liftSelection(K),M=new T(h.e.fromPositions(N.getSelectionStart()),0,N.getPosition(),0);return D.fromModelState(M)}static fromModelSelections(K){const N=[];for(let M=0,P=K.length;M<P;M++)N[M]=this.fromModelSelection(K[M]);return N}equals(K){return this.viewState.equals(K.viewState)&&this.modelState.equals(K.modelState)}}class F{constructor(K){this.modelState=K,this.viewState=null}}class f{constructor(K){this.modelState=null,this.viewState=K}}class T{constructor(K,N,M,P){this._singleCursorStateBrand=void 0,this.selectionStart=K,this.selectionStartLeftoverVisibleColumns=N,this.position=M,this.leftoverVisibleColumns=P,this.selection=T._computeSelection(this.selectionStart,this.position)}equals(K){return this.selectionStartLeftoverVisibleColumns===K.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===K.leftoverVisibleColumns&&this.position.equals(K.position)&&this.selectionStart.equalsRange(K.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(K,N,M,P){return K?new T(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new v.L(N,M),P):new T(new h.e(N,M,N,M),P,new v.L(N,M),P)}static _computeSelection(K,N){return K.isEmpty()||!N.isBeforeOrEqual(K.getStartPosition())?Q.Y.fromPositions(K.getStartPosition(),N):Q.Y.fromPositions(K.getEndPosition(),N)}}class z{constructor(K,N,M){this._editOperationResultBrand=void 0,this.type=K,this.commands=N,this.shouldPushStackElementBefore=M.shouldPushStackElementBefore,this.shouldPushStackElementAfter=M.shouldPushStackElementAfter}}function I(H){return"'"===H||'"'===H||"`"===H}},2525:(vt,Ke,m)=>{m.d(Ke,{A:()=>Y});var v=m(4705),h=m(5753),Q=m(1181),k=m(4826),R=m(6696),se=m(8451),j=m(4220);class Y{static deleteRight(x,w,D,F){const f=[];let T=3!==x;for(let z=0,I=F.length;z<I;z++){const H=F[z];let K=H;if(K.isEmpty()){const N=H.getPosition(),M=R.o.right(w,D,N);K=new se.e(M.lineNumber,M.column,N.lineNumber,N.column)}K.isEmpty()?f[z]=null:(K.startLineNumber!==K.endLineNumber&&(T=!0),f[z]=new h.T4(K,""))}return[T,f]}static isAutoClosingPairDelete(x,w,D,F,f,T,z){if("never"===w&&"never"===D||"never"===x)return!1;for(let I=0,H=T.length;I<H;I++){const K=T[I],N=K.getPosition();if(!K.isEmpty())return!1;const M=f.getLineContent(N.lineNumber);if(N.column<2||N.column>=M.length+1)return!1;const P=M.charAt(N.column-2),W=F.get(P);if(!W)return!1;if((0,Q.LN)(P)){if("never"===D)return!1}else if("never"===w)return!1;const J=M.charAt(N.column-1);let he=!1;for(const ye of W)ye.open===P&&ye.close===J&&(he=!0);if(!he)return!1;if("auto"===x){let ye=!1;for(let fe=0,Se=z.length;fe<Se;fe++){const Ie=z[fe];if(N.lineNumber===Ie.startLineNumber&&N.column===Ie.startColumn){ye=!0;break}}if(!ye)return!1}}return!0}static _runAutoClosingPairDelete(x,w,D){const F=[];for(let f=0,T=D.length;f<T;f++){const z=D[f].getPosition(),I=new se.e(z.lineNumber,z.column-1,z.lineNumber,z.column+1);F[f]=new h.T4(I,"")}return[!0,F]}static deleteLeft(x,w,D,F,f){if(this.isAutoClosingPairDelete(w.autoClosingDelete,w.autoClosingBrackets,w.autoClosingQuotes,w.autoClosingPairs.autoClosingPairsOpenByEnd,D,F,f))return this._runAutoClosingPairDelete(w,D,F);const T=[];let z=2!==x;for(let I=0,H=F.length;I<H;I++){const K=Y.getDeleteRange(F[I],D,w);K.isEmpty()?T[I]=null:(K.startLineNumber!==K.endLineNumber&&(z=!0),T[I]=new h.T4(K,""))}return[z,T]}static getDeleteRange(x,w,D){if(!x.isEmpty())return x;const F=x.getPosition();if(D.useTabStops&&F.column>1){const f=w.getLineContent(F.lineNumber),T=v.LC(f);if(F.column<=(-1===T?f.length+1:T+1)){const I=D.visibleColumnFromColumn(w,F),H=k.i.prevIndentTabStop(I,D.indentSize),K=D.columnFromVisibleColumn(w,F.lineNumber,H);return new se.e(F.lineNumber,K,F.lineNumber,F.column)}}return se.e.fromPositions(Y.getPositionAfterDeleteLeft(F,w),F)}static getPositionAfterDeleteLeft(x,w){if(x.column>1){const D=v.oH(x.column-1,w.getLineContent(x.lineNumber));return x.with(void 0,D+1)}if(x.lineNumber>1){const D=x.lineNumber-1;return new j.L(D,w.getLineMaxColumn(D))}return x}static cut(x,w,D){const F=[];let f=null;D.sort((T,z)=>j.L.compare(T.getStartPosition(),z.getEndPosition()));for(let T=0,z=D.length;T<z;T++){const I=D[T];if(I.isEmpty())if(x.emptySelectionClipboard){const H=I.getPosition();let K,N,M,P;H.lineNumber<w.getLineCount()?(K=H.lineNumber,N=1,M=H.lineNumber+1,P=1):H.lineNumber>1&&(null==f?void 0:f.endLineNumber)!==H.lineNumber?(K=H.lineNumber-1,N=w.getLineMaxColumn(H.lineNumber-1),M=H.lineNumber,P=w.getLineMaxColumn(H.lineNumber)):(K=H.lineNumber,N=1,M=H.lineNumber,P=w.getLineMaxColumn(H.lineNumber));const W=new se.e(K,N,M,P);f=W,F[T]=W.isEmpty()?null:new h.T4(W,"")}else F[T]=null;else F[T]=new h.T4(I,"")}return new Q.Tp(0,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},6396:(vt,Ke,m)=>{m.d(Ke,{P:()=>j,N:()=>Y});var Y,V,v=m(4435),h=m(1181),Q=m(6696),k=m(7616),R=m(4220),se=m(8451);class j{static addCursorDown(x,w,D){const F=[];let f=0;for(let T=0,z=w.length;T<z;T++){const I=w[T];F[f++]=new h.Vi(I.modelState,I.viewState),F[f++]=D?h.Vi.fromModelState(Q.o.translateDown(x.cursorConfig,x.model,I.modelState)):h.Vi.fromViewState(Q.o.translateDown(x.cursorConfig,x,I.viewState))}return F}static addCursorUp(x,w,D){const F=[];let f=0;for(let T=0,z=w.length;T<z;T++){const I=w[T];F[f++]=new h.Vi(I.modelState,I.viewState),F[f++]=D?h.Vi.fromModelState(Q.o.translateUp(x.cursorConfig,x.model,I.modelState)):h.Vi.fromViewState(Q.o.translateUp(x.cursorConfig,x,I.viewState))}return F}static moveToBeginningOfLine(x,w,D){let F=[];for(let f=0,T=w.length;f<T;f++)F[f]=this._moveToLineStart(x,w[f],D);return F}static _moveToLineStart(x,w,D){const F=w.viewState.position.column,T=F===w.modelState.position.column,I=x.getLineFirstNonWhitespaceColumn(w.viewState.position.lineNumber);return T||F===I?this._moveToLineStartByModel(x,w,D):this._moveToLineStartByView(x,w,D)}static _moveToLineStartByView(x,w,D){return h.Vi.fromViewState(Q.o.moveToBeginningOfLine(x.cursorConfig,x,w.viewState,D))}static _moveToLineStartByModel(x,w,D){return h.Vi.fromModelState(Q.o.moveToBeginningOfLine(x.cursorConfig,x.model,w.modelState,D))}static moveToEndOfLine(x,w,D,F){const f=[];for(let T=0,z=w.length;T<z;T++)f[T]=this._moveToLineEnd(x,w[T],D,F);return f}static _moveToLineEnd(x,w,D,F){const f=w.viewState.position,T=x.getLineMaxColumn(f.lineNumber),z=f.column===T,I=w.modelState.position,H=x.model.getLineMaxColumn(I.lineNumber);return z||T-f.column==H-I.column?this._moveToLineEndByModel(x,w,D,F):this._moveToLineEndByView(x,w,D,F)}static _moveToLineEndByView(x,w,D,F){return h.Vi.fromViewState(Q.o.moveToEndOfLine(x.cursorConfig,x,w.viewState,D,F))}static _moveToLineEndByModel(x,w,D,F){return h.Vi.fromModelState(Q.o.moveToEndOfLine(x.cursorConfig,x.model,w.modelState,D,F))}static expandLineSelection(x,w){const D=[];for(let F=0,f=w.length;F<f;F++){const T=w[F],z=T.modelState.selection.startLineNumber,I=x.model.getLineCount();let K,H=T.modelState.selection.endLineNumber;H===I?K=x.model.getLineMaxColumn(I):(H++,K=1),D[F]=h.Vi.fromModelState(new h.rS(new se.e(z,1,z,1),0,new R.L(H,K),0))}return D}static moveToBeginningOfBuffer(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++)F[f]=h.Vi.fromModelState(Q.o.moveToBeginningOfBuffer(x.cursorConfig,x.model,w[f].modelState,D));return F}static moveToEndOfBuffer(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++)F[f]=h.Vi.fromModelState(Q.o.moveToEndOfBuffer(x.cursorConfig,x.model,w[f].modelState,D));return F}static selectAll(x,w){const D=x.model.getLineCount(),F=x.model.getLineMaxColumn(D);return h.Vi.fromModelState(new h.rS(new se.e(1,1,1,1),0,new R.L(D,F),0))}static line(x,w,D,F,f){const T=x.model.validatePosition(F),z=f?x.coordinatesConverter.validateViewPosition(new R.L(f.lineNumber,f.column),T):x.coordinatesConverter.convertModelPositionToViewPosition(T);if(!D||!w.modelState.hasSelection()){const H=x.model.getLineCount();let K=T.lineNumber+1,N=1;return K>H&&(K=H,N=x.model.getLineMaxColumn(K)),h.Vi.fromModelState(new h.rS(new se.e(T.lineNumber,1,K,N),0,new R.L(K,N),0))}const I=w.modelState.selectionStart.getStartPosition().lineNumber;if(T.lineNumber<I)return h.Vi.fromViewState(w.viewState.move(w.modelState.hasSelection(),z.lineNumber,1,0));if(T.lineNumber>I){const H=x.getLineCount();let K=z.lineNumber+1,N=1;return K>H&&(K=H,N=x.getLineMaxColumn(K)),h.Vi.fromViewState(w.viewState.move(w.modelState.hasSelection(),K,N,0))}{const H=w.modelState.selectionStart.getEndPosition();return h.Vi.fromModelState(w.modelState.move(w.modelState.hasSelection(),H.lineNumber,H.column,0))}}static word(x,w,D,F){const f=x.model.validatePosition(F);return h.Vi.fromModelState(k.w.word(x.cursorConfig,x.model,w.modelState,D,f))}static cancelSelection(x,w){if(!w.modelState.hasSelection())return new h.Vi(w.modelState,w.viewState);const D=w.viewState.position.lineNumber,F=w.viewState.position.column;return h.Vi.fromViewState(new h.rS(new se.e(D,F,D,F),0,new R.L(D,F),0))}static moveTo(x,w,D,F,f){const T=x.model.validatePosition(F),z=f?x.coordinatesConverter.validateViewPosition(new R.L(f.lineNumber,f.column),T):x.coordinatesConverter.convertModelPositionToViewPosition(T);return h.Vi.fromViewState(w.viewState.move(D,z.lineNumber,z.column,0))}static simpleMove(x,w,D,F,f,T){switch(D){case 0:return 4===T?this._moveHalfLineLeft(x,w,F):this._moveLeft(x,w,F,f);case 1:return 4===T?this._moveHalfLineRight(x,w,F):this._moveRight(x,w,F,f);case 2:return 2===T?this._moveUpByViewLines(x,w,F,f):this._moveUpByModelLines(x,w,F,f);case 3:return 2===T?this._moveDownByViewLines(x,w,F,f):this._moveDownByModelLines(x,w,F,f);case 4:return w.map(2===T?z=>h.Vi.fromViewState(Q.o.moveToPrevBlankLine(x.cursorConfig,x,z.viewState,F)):z=>h.Vi.fromModelState(Q.o.moveToPrevBlankLine(x.cursorConfig,x.model,z.modelState,F)));case 5:return w.map(2===T?z=>h.Vi.fromViewState(Q.o.moveToNextBlankLine(x.cursorConfig,x,z.viewState,F)):z=>h.Vi.fromModelState(Q.o.moveToNextBlankLine(x.cursorConfig,x.model,z.modelState,F)));case 6:return this._moveToViewMinColumn(x,w,F);case 7:return this._moveToViewFirstNonWhitespaceColumn(x,w,F);case 8:return this._moveToViewCenterColumn(x,w,F);case 9:return this._moveToViewMaxColumn(x,w,F);case 10:return this._moveToViewLastNonWhitespaceColumn(x,w,F);default:return null}}static viewportMove(x,w,D,F,f){const T=x.getCompletelyVisibleViewRange(),z=x.coordinatesConverter.convertViewRangeToModelRange(T);switch(D){case 11:{const I=this._firstLineNumberInRange(x.model,z,f),H=x.model.getLineFirstNonWhitespaceColumn(I);return[this._moveToModelPosition(x,w[0],F,I,H)]}case 13:{const I=this._lastLineNumberInRange(x.model,z,f),H=x.model.getLineFirstNonWhitespaceColumn(I);return[this._moveToModelPosition(x,w[0],F,I,H)]}case 12:{const I=Math.round((z.startLineNumber+z.endLineNumber)/2),H=x.model.getLineFirstNonWhitespaceColumn(I);return[this._moveToModelPosition(x,w[0],F,I,H)]}case 14:{const I=[];for(let H=0,K=w.length;H<K;H++)I[H]=this.findPositionInViewportIfOutside(x,w[H],T,F);return I}default:return null}}static findPositionInViewportIfOutside(x,w,D,F){const f=w.viewState.position.lineNumber;if(D.startLineNumber<=f&&f<=D.endLineNumber-1)return new h.Vi(w.modelState,w.viewState);{let T;T=f>D.endLineNumber-1?D.endLineNumber-1:f<D.startLineNumber?D.startLineNumber:f;const z=Q.o.vertical(x.cursorConfig,x,f,w.viewState.position.column,w.viewState.leftoverVisibleColumns,T,!1);return h.Vi.fromViewState(w.viewState.move(F,z.lineNumber,z.column,z.leftoverVisibleColumns))}}static _firstLineNumberInRange(x,w,D){let F=w.startLineNumber;return w.startColumn!==x.getLineMinColumn(F)&&F++,Math.min(w.endLineNumber,F+D-1)}static _lastLineNumberInRange(x,w,D){let F=w.startLineNumber;return w.startColumn!==x.getLineMinColumn(F)&&F++,Math.max(F,w.endLineNumber-D+1)}static _moveLeft(x,w,D,F){return w.map(f=>h.Vi.fromViewState(Q.o.moveLeft(x.cursorConfig,x,f.viewState,D,F)))}static _moveHalfLineLeft(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++){const z=w[f],H=Math.round(x.getLineContent(z.viewState.position.lineNumber).length/2);F[f]=h.Vi.fromViewState(Q.o.moveLeft(x.cursorConfig,x,z.viewState,D,H))}return F}static _moveRight(x,w,D,F){return w.map(f=>h.Vi.fromViewState(Q.o.moveRight(x.cursorConfig,x,f.viewState,D,F)))}static _moveHalfLineRight(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++){const z=w[f],H=Math.round(x.getLineContent(z.viewState.position.lineNumber).length/2);F[f]=h.Vi.fromViewState(Q.o.moveRight(x.cursorConfig,x,z.viewState,D,H))}return F}static _moveDownByViewLines(x,w,D,F){const f=[];for(let T=0,z=w.length;T<z;T++)f[T]=h.Vi.fromViewState(Q.o.moveDown(x.cursorConfig,x,w[T].viewState,D,F));return f}static _moveDownByModelLines(x,w,D,F){const f=[];for(let T=0,z=w.length;T<z;T++)f[T]=h.Vi.fromModelState(Q.o.moveDown(x.cursorConfig,x.model,w[T].modelState,D,F));return f}static _moveUpByViewLines(x,w,D,F){const f=[];for(let T=0,z=w.length;T<z;T++)f[T]=h.Vi.fromViewState(Q.o.moveUp(x.cursorConfig,x,w[T].viewState,D,F));return f}static _moveUpByModelLines(x,w,D,F){const f=[];for(let T=0,z=w.length;T<z;T++)f[T]=h.Vi.fromModelState(Q.o.moveUp(x.cursorConfig,x.model,w[T].modelState,D,F));return f}static _moveToViewPosition(x,w,D,F,f){return h.Vi.fromViewState(w.viewState.move(D,F,f,0))}static _moveToModelPosition(x,w,D,F,f){return h.Vi.fromModelState(w.modelState.move(D,F,f,0))}static _moveToViewMinColumn(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++){const z=w[f],I=z.viewState.position.lineNumber,H=x.getLineMinColumn(I);F[f]=this._moveToViewPosition(x,z,D,I,H)}return F}static _moveToViewFirstNonWhitespaceColumn(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++){const z=w[f],I=z.viewState.position.lineNumber,H=x.getLineFirstNonWhitespaceColumn(I);F[f]=this._moveToViewPosition(x,z,D,I,H)}return F}static _moveToViewCenterColumn(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++){const z=w[f],I=z.viewState.position.lineNumber,H=Math.round((x.getLineMaxColumn(I)+x.getLineMinColumn(I))/2);F[f]=this._moveToViewPosition(x,z,D,I,H)}return F}static _moveToViewMaxColumn(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++){const z=w[f],I=z.viewState.position.lineNumber,H=x.getLineMaxColumn(I);F[f]=this._moveToViewPosition(x,z,D,I,H)}return F}static _moveToViewLastNonWhitespaceColumn(x,w,D){const F=[];for(let f=0,T=w.length;f<T;f++){const z=w[f],I=z.viewState.position.lineNumber,H=x.getLineLastNonWhitespaceColumn(I);F[f]=this._moveToViewPosition(x,z,D,I,H)}return F}}(V=Y||(Y={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(D){if(!v.Kn(D))return!1;const F=D;return!(!v.HD(F.to)||!v.o8(F.select)&&!v.jn(F.select)||!v.o8(F.by)&&!v.HD(F.by)||!v.o8(F.value)&&!v.hj(F.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},V.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},V.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},V.parse=function w(D){if(!D.to)return null;let F;switch(D.to){case V.RawDirection.Left:F=0;break;case V.RawDirection.Right:F=1;break;case V.RawDirection.Up:F=2;break;case V.RawDirection.Down:F=3;break;case V.RawDirection.PrevBlankLine:F=4;break;case V.RawDirection.NextBlankLine:F=5;break;case V.RawDirection.WrappedLineStart:F=6;break;case V.RawDirection.WrappedLineFirstNonWhitespaceCharacter:F=7;break;case V.RawDirection.WrappedLineColumnCenter:F=8;break;case V.RawDirection.WrappedLineEnd:F=9;break;case V.RawDirection.WrappedLineLastNonWhitespaceCharacter:F=10;break;case V.RawDirection.ViewPortTop:F=11;break;case V.RawDirection.ViewPortBottom:F=13;break;case V.RawDirection.ViewPortCenter:F=12;break;case V.RawDirection.ViewPortIfOutside:F=14;break;default:return null}let f=0;switch(D.by){case V.RawUnit.Line:f=1;break;case V.RawUnit.WrappedLine:f=2;break;case V.RawUnit.Character:f=3;break;case V.RawUnit.HalfLine:f=4}return{direction:F,unit:f,select:!!D.select,value:D.value||1}}},6696:(vt,Ke,m)=>{m.d(Ke,{o:()=>Y});var v=m(1181),h=m(4826),Q=m(4220),k=m(8451),R=m(4705),se=m(7078);class j{constructor(x,w,D){this._cursorPositionBrand=void 0,this.lineNumber=x,this.column=w,this.leftoverVisibleColumns=D}}class Y{static leftPosition(x,w){if(w.column>x.getLineMinColumn(w.lineNumber))return w.delta(void 0,-R.HO(x.getLineContent(w.lineNumber),w.column-1));if(w.lineNumber>1){const D=w.lineNumber-1;return new Q.L(D,x.getLineMaxColumn(D))}return w}static leftPositionAtomicSoftTabs(x,w,D){if(w.column<=x.getLineIndentColumn(w.lineNumber)){const F=x.getLineMinColumn(w.lineNumber),f=x.getLineContent(w.lineNumber),T=se.l.atomicPosition(f,w.column-1,D,0);if(-1!==T&&T+1>=F)return new Q.L(w.lineNumber,T+1)}return this.leftPosition(x,w)}static left(x,w,D){const F=x.stickyTabStops?Y.leftPositionAtomicSoftTabs(w,D,x.tabSize):Y.leftPosition(w,D);return new j(F.lineNumber,F.column,0)}static moveLeft(x,w,D,F,f){let T,z;if(D.hasSelection()&&!F)T=D.selection.startLineNumber,z=D.selection.startColumn;else{const I=D.position.delta(void 0,-(f-1)),H=w.normalizePosition(Y.clipPositionColumn(I,w),0),K=Y.left(x,w,H);T=K.lineNumber,z=K.column}return D.move(F,T,z,0)}static clipPositionColumn(x,w){return new Q.L(x.lineNumber,Y.clipRange(x.column,w.getLineMinColumn(x.lineNumber),w.getLineMaxColumn(x.lineNumber)))}static clipRange(x,w,D){return x<w?w:x>D?D:x}static rightPosition(x,w,D){return D<x.getLineMaxColumn(w)?D+=R.vH(x.getLineContent(w),D-1):w<x.getLineCount()&&(D=x.getLineMinColumn(w+=1)),new Q.L(w,D)}static rightPositionAtomicSoftTabs(x,w,D,F,f){if(D<x.getLineIndentColumn(w)){const T=x.getLineContent(w),z=se.l.atomicPosition(T,D-1,F,1);if(-1!==z)return new Q.L(w,z+1)}return this.rightPosition(x,w,D)}static right(x,w,D){const F=x.stickyTabStops?Y.rightPositionAtomicSoftTabs(w,D.lineNumber,D.column,x.tabSize,x.indentSize):Y.rightPosition(w,D.lineNumber,D.column);return new j(F.lineNumber,F.column,0)}static moveRight(x,w,D,F,f){let T,z;if(D.hasSelection()&&!F)T=D.selection.endLineNumber,z=D.selection.endColumn;else{const I=D.position.delta(void 0,f-1),H=w.normalizePosition(Y.clipPositionColumn(I,w),1),K=Y.right(x,w,H);T=K.lineNumber,z=K.column}return D.move(F,T,z,0)}static vertical(x,w,D,F,f,T,z,I){const H=h.i.visibleColumnFromColumn(w.getLineContent(D),F,x.tabSize)+f,K=w.getLineCount(),N=1===D&&1===F,M=D===K&&F===w.getLineMaxColumn(D),P=T<D?N:M;if((D=T)<1?(D=1,F=z?w.getLineMinColumn(D):Math.min(w.getLineMaxColumn(D),F)):D>K?(D=K,F=z?w.getLineMaxColumn(D):Math.min(w.getLineMaxColumn(D),F)):F=x.columnFromVisibleColumn(w,D,H),f=P?0:H-h.i.visibleColumnFromColumn(w.getLineContent(D),F,x.tabSize),void 0!==I){const W=new Q.L(D,F),J=w.normalizePosition(W,I);f+=F-J.column,D=J.lineNumber,F=J.column}return new j(D,F,f)}static down(x,w,D,F,f,T,z){return this.vertical(x,w,D,F,f,D+T,z,1)}static moveDown(x,w,D,F,f){let T,z;D.hasSelection()&&!F?(T=D.selection.endLineNumber,z=D.selection.endColumn):(T=D.position.lineNumber,z=D.position.column);const I=Y.down(x,w,T,z,D.leftoverVisibleColumns,f,!0);return D.move(F,I.lineNumber,I.column,I.leftoverVisibleColumns)}static translateDown(x,w,D){const F=D.selection,f=Y.down(x,w,F.selectionStartLineNumber,F.selectionStartColumn,D.selectionStartLeftoverVisibleColumns,1,!1),T=Y.down(x,w,F.positionLineNumber,F.positionColumn,D.leftoverVisibleColumns,1,!1);return new v.rS(new k.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Q.L(T.lineNumber,T.column),T.leftoverVisibleColumns)}static up(x,w,D,F,f,T,z){return this.vertical(x,w,D,F,f,D-T,z,0)}static moveUp(x,w,D,F,f){let T,z;D.hasSelection()&&!F?(T=D.selection.startLineNumber,z=D.selection.startColumn):(T=D.position.lineNumber,z=D.position.column);const I=Y.up(x,w,T,z,D.leftoverVisibleColumns,f,!0);return D.move(F,I.lineNumber,I.column,I.leftoverVisibleColumns)}static translateUp(x,w,D){const F=D.selection,f=Y.up(x,w,F.selectionStartLineNumber,F.selectionStartColumn,D.selectionStartLeftoverVisibleColumns,1,!1),T=Y.up(x,w,F.positionLineNumber,F.positionColumn,D.leftoverVisibleColumns,1,!1);return new v.rS(new k.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Q.L(T.lineNumber,T.column),T.leftoverVisibleColumns)}static _isBlankLine(x,w){return 0===x.getLineFirstNonWhitespaceColumn(w)}static moveToPrevBlankLine(x,w,D,F){let f=D.position.lineNumber;for(;f>1&&this._isBlankLine(w,f);)f--;for(;f>1&&!this._isBlankLine(w,f);)f--;return D.move(F,f,w.getLineMinColumn(f),0)}static moveToNextBlankLine(x,w,D,F){const f=w.getLineCount();let T=D.position.lineNumber;for(;T<f&&this._isBlankLine(w,T);)T++;for(;T<f&&!this._isBlankLine(w,T);)T++;return D.move(F,T,w.getLineMinColumn(T),0)}static moveToBeginningOfLine(x,w,D,F){const f=D.position.lineNumber,T=w.getLineMinColumn(f),z=w.getLineFirstNonWhitespaceColumn(f)||T;let I;return I=D.position.column===z?T:z,D.move(F,f,I,0)}static moveToEndOfLine(x,w,D,F,f){const T=D.position.lineNumber,z=w.getLineMaxColumn(T);return D.move(F,T,z,f?1073741824-z:0)}static moveToBeginningOfBuffer(x,w,D,F){return D.move(F,1,1,0)}static moveToEndOfBuffer(x,w,D,F){const f=w.getLineCount(),T=w.getLineMaxColumn(f);return D.move(F,f,T,0)}}},6786:(vt,Ke,m)=>{m.d(Ke,{u:()=>f,g:()=>T});var v=m(3663),h=m(4705),Q=m(5753),k=m(1050),R=m(8451),se=m(3210);class j{constructor(M,P,W){this._range=M,this._charBeforeSelection=P,this._charAfterSelection=W}getEditOperations(M,P){P.addTrackedEditOperation(new R.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),P.addTrackedEditOperation(new R.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(M,P){const W=P.getInverseEditOperations(),J=W[0].range,he=W[1].range;return new se.Y(J.endLineNumber,J.endColumn,he.endLineNumber,he.endColumn-this._charAfterSelection.length)}}var Y=m(1181),V=m(681),x=m(4220),w=m(5526),D=m(7372),F=m(8555);class f{static indent(M,P,W){if(null===P||null===W)return[];const J=[];for(let he=0,ye=W.length;he<ye;he++)J[he]=new k.U(W[he],{isUnshift:!1,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent});return J}static outdent(M,P,W){const J=[];for(let he=0,ye=W.length;he<ye;he++)J[he]=new k.U(W[he],{isUnshift:!0,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent});return J}static shiftIndent(M,P,W){return k.U.shiftIndent(P,P.length+(W=W||1),M.tabSize,M.indentSize,M.insertSpaces)}static unshiftIndent(M,P,W){return k.U.unshiftIndent(P,P.length+(W=W||1),M.tabSize,M.indentSize,M.insertSpaces)}static _distributedPaste(M,P,W,J){const he=[];for(let ye=0,fe=W.length;ye<fe;ye++)he[ye]=new Q.T4(W[ye],J[ye]);return new Y.Tp(0,he,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(M,P,W,J,he){const ye=[];for(let fe=0,Se=W.length;fe<Se;fe++){const Ie=W[fe],_e=Ie.getPosition();if(he&&!Ie.isEmpty()&&(he=!1),he&&J.indexOf("\n")!==J.length-1&&(he=!1),he){const $=new R.e(_e.lineNumber,1,_e.lineNumber,1);ye[fe]=new Q.hP($,J,Ie,!0)}else ye[fe]=new Q.T4(Ie,J)}return new Y.Tp(0,ye,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(M,P,W,J,he){if(J||1===P.length)return null;if(he&&he.length===P.length)return he;if("spread"===M.multiCursorPaste){10===W.charCodeAt(W.length-1)&&(W=W.substr(0,W.length-1)),13===W.charCodeAt(W.length-1)&&(W=W.substr(0,W.length-1));const ye=h.uq(W);if(ye.length===P.length)return ye}return null}static paste(M,P,W,J,he,ye){const fe=this._distributePasteToCursors(M,W,J,he,ye);return fe?(W=W.sort(R.e.compareRangesUsingStarts),this._distributedPaste(M,P,W,fe)):this._simplePaste(M,P,W,J,he)}static _goodIndentForLine(M,P,W){let J=null,he="";const ye=D.zu.getInheritIndentForLine(M.autoIndent,P,W,!1);if(ye)J=ye.action,he=ye.indentation;else if(W>1){let fe;for(fe=W-1;fe>=1;fe--){const _e=P.getLineContent(fe);if(h.ow(_e)>=0)break}if(fe<1)return null;const Se=P.getLineMaxColumn(fe),Ie=D.zu.getEnterAction(M.autoIndent,P,new R.e(fe,Se,fe,Se));Ie&&(he=Ie.indentation+Ie.appendText)}return J&&(J===w.wU.Indent&&(he=f.shiftIndent(M,he)),J===w.wU.Outdent&&(he=f.unshiftIndent(M,he)),he=M.normalizeIndentation(he)),he||null}static _replaceJumpToNextIndent(M,P,W,J){let he="";const ye=W.getStartPosition();if(M.insertSpaces){const fe=M.visibleColumnFromColumn(P,ye),Se=M.indentSize,Ie=Se-fe%Se;for(let _e=0;_e<Ie;_e++)he+=" "}else he="\t";return new Q.T4(W,he,J)}static tab(M,P,W){const J=[];for(let he=0,ye=W.length;he<ye;he++){const fe=W[he];if(fe.isEmpty()){const Se=P.getLineContent(fe.startLineNumber);if(/^\s*$/.test(Se)&&P.isCheapToTokenize(fe.startLineNumber)){let Ie=this._goodIndentForLine(M,P,fe.startLineNumber);Ie=Ie||"\t";const _e=M.normalizeIndentation(Ie);if(!Se.startsWith(_e)){J[he]=new Q.T4(new R.e(fe.startLineNumber,1,fe.startLineNumber,Se.length+1),_e,!0);continue}}J[he]=this._replaceJumpToNextIndent(M,P,fe,!0)}else{if(fe.startLineNumber===fe.endLineNumber){const Se=P.getLineMaxColumn(fe.startLineNumber);if(1!==fe.startColumn||fe.endColumn!==Se){J[he]=this._replaceJumpToNextIndent(M,P,fe,!1);continue}}J[he]=new k.U(fe,{isUnshift:!1,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent})}}return J}static compositionType(M,P,W,J,he,ye,fe,Se){const Ie=J.map(_e=>this._compositionType(W,_e,he,ye,fe,Se));return new Y.Tp(4,Ie,{shouldPushStackElementBefore:I(M,4),shouldPushStackElementAfter:!1})}static _compositionType(M,P,W,J,he,ye){if(!P.isEmpty())return null;const fe=P.getPosition(),Se=Math.max(1,fe.column-J),Ie=Math.min(M.getLineMaxColumn(fe.lineNumber),fe.column+he),_e=new R.e(fe.lineNumber,Se,fe.lineNumber,Ie);return M.getValueInRange(_e)===W&&0===ye?null:new Q.Uo(_e,W,0,ye)}static _typeCommand(M,P,W){return W?new Q.Sj(M,P,!0):new Q.T4(M,P,!0)}static _enter(M,P,W,J){if(0===M.autoIndent)return f._typeCommand(J,"\n",W);if(!P.isCheapToTokenize(J.getStartPosition().lineNumber)||1===M.autoIndent){const Se=P.getLineContent(J.startLineNumber),Ie=h.V8(Se).substring(0,J.startColumn-1);return f._typeCommand(J,"\n"+M.normalizeIndentation(Ie),W)}const he=D.zu.getEnterAction(M.autoIndent,P,J);if(he){if(he.indentAction===w.wU.None)return f._typeCommand(J,"\n"+M.normalizeIndentation(he.indentation+he.appendText),W);if(he.indentAction===w.wU.Indent)return f._typeCommand(J,"\n"+M.normalizeIndentation(he.indentation+he.appendText),W);if(he.indentAction===w.wU.IndentOutdent){const Se=M.normalizeIndentation(he.indentation),Ie=M.normalizeIndentation(he.indentation+he.appendText),_e="\n"+Ie+"\n"+Se;return W?new Q.Sj(J,_e,!0):new Q.Uo(J,_e,-1,Ie.length-Se.length,!0)}if(he.indentAction===w.wU.Outdent){const Se=f.unshiftIndent(M,he.indentation);return f._typeCommand(J,"\n"+M.normalizeIndentation(Se+he.appendText),W)}}const ye=P.getLineContent(J.startLineNumber),fe=h.V8(ye).substring(0,J.startColumn-1);if(M.autoIndent>=4){const Se=D.zu.getIndentForEnter(M.autoIndent,P,J,{unshiftIndent:Ie=>f.unshiftIndent(M,Ie),shiftIndent:Ie=>f.shiftIndent(M,Ie),normalizeIndentation:Ie=>M.normalizeIndentation(Ie)});if(Se){let Ie=M.visibleColumnFromColumn(P,J.getEndPosition());const _e=J.endColumn,$=P.getLineContent(J.endLineNumber),X=h.LC($);if(J=J.setEndPosition(J.endLineNumber,X>=0?Math.max(J.endColumn,X+1):P.getLineMaxColumn(J.endLineNumber)),W)return new Q.Sj(J,"\n"+M.normalizeIndentation(Se.afterEnter),!0);{let pe=0;return _e<=X+1&&(M.insertSpaces||(Ie=Math.ceil(Ie/M.indentSize)),pe=Math.min(Ie+1-M.normalizeIndentation(Se.afterEnter).length-1,0)),new Q.Uo(J,"\n"+M.normalizeIndentation(Se.afterEnter),0,pe,!0)}}}return f._typeCommand(J,"\n"+M.normalizeIndentation(fe),W)}static _isAutoIndentType(M,P,W){if(M.autoIndent<4)return!1;for(let J=0,he=W.length;J<he;J++)if(!P.isCheapToTokenize(W[J].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(M,P,W,J){const he=D.zu.getIndentationAtPosition(P,W.startLineNumber,W.startColumn),ye=D.zu.getIndentActionForType(M.autoIndent,P,W,J,{shiftIndent:fe=>f.shiftIndent(M,fe),unshiftIndent:fe=>f.unshiftIndent(M,fe)});if(null===ye)return null;if(ye!==M.normalizeIndentation(he)){const fe=P.getLineFirstNonWhitespaceColumn(W.startLineNumber);return f._typeCommand(new R.e(W.startLineNumber,1,W.endLineNumber,W.endColumn),0===fe?M.normalizeIndentation(ye)+J:M.normalizeIndentation(ye)+P.getLineContent(W.startLineNumber).substring(fe-1,W.startColumn-1)+J,!1)}return null}static _isAutoClosingOvertype(M,P,W,J,he){if("never"===M.autoClosingOvertype||!M.autoClosingPairs.autoClosingPairsCloseSingleChar.has(he))return!1;for(let ye=0,fe=W.length;ye<fe;ye++){const Se=W[ye];if(!Se.isEmpty())return!1;const Ie=Se.getPosition(),_e=P.getLineContent(Ie.lineNumber);if(_e.charAt(Ie.column-1)!==he)return!1;const X=(0,Y.LN)(he);if(92===(Ie.column>2?_e.charCodeAt(Ie.column-2):0)&&X)return!1;if("auto"===M.autoClosingOvertype){let re=!1;for(let ne=0,ce=J.length;ne<ce;ne++){const ue=J[ne];if(Ie.lineNumber===ue.startLineNumber&&Ie.column===ue.startColumn){re=!0;break}}if(!re)return!1}}return!0}static _runAutoClosingOvertype(M,P,W,J,he){const ye=[];for(let fe=0,Se=J.length;fe<Se;fe++){const _e=J[fe].getPosition(),$=new R.e(_e.lineNumber,_e.column,_e.lineNumber,_e.column+1);ye[fe]=new Q.T4($,he)}return new Y.Tp(4,ye,{shouldPushStackElementBefore:I(M,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(M,P){const W=P.charAt(0),J=M.autoClosingPairs.autoClosingPairsOpenByStart.get(W)||[],he=M.autoClosingPairs.autoClosingPairsCloseByStart.get(W)||[],ye=J.some(Se=>P.startsWith(Se.open)),fe=he.some(Se=>P.startsWith(Se.close));return!ye&&fe}static _findAutoClosingPairOpen(M,P,W,J){const he=M.autoClosingPairs.autoClosingPairsOpenByEnd.get(J);if(!he)return null;let ye=null;for(const fe of he)if(null===ye||fe.open.length>ye.open.length){let Se=!0;for(const Ie of W)if(P.getValueInRange(new R.e(Ie.lineNumber,Ie.column-fe.open.length+1,Ie.lineNumber,Ie.column))+J!==fe.open){Se=!1;break}Se&&(ye=fe)}return ye}static _findContainedAutoClosingPair(M,P){if(P.open.length<=1)return null;const W=P.close.charAt(P.close.length-1),J=M.autoClosingPairs.autoClosingPairsCloseByEnd.get(W)||[];let he=null;for(const ye of J)ye.open!==P.open&&P.open.includes(ye.open)&&P.close.endsWith(ye.close)&&(!he||ye.open.length>he.open.length)&&(he=ye);return he}static _getAutoClosingPairClose(M,P,W,J,he){const ye=(0,Y.LN)(J),fe=ye?M.autoClosingQuotes:M.autoClosingBrackets,Se=ye?M.shouldAutoCloseBefore.quote:M.shouldAutoCloseBefore.bracket;if("never"===fe)return null;for(const re of W)if(!re.isEmpty())return null;const Ie=W.map(re=>{const ne=re.getPosition();return he?{lineNumber:ne.lineNumber,beforeColumn:ne.column-J.length,afterColumn:ne.column}:{lineNumber:ne.lineNumber,beforeColumn:ne.column,afterColumn:ne.column}}),_e=this._findAutoClosingPairOpen(M,P,Ie.map(re=>new x.L(re.lineNumber,re.beforeColumn)),J);if(!_e)return null;const $=this._findContainedAutoClosingPair(M,_e),X=$?$.close:"";let pe=!0;for(const re of Ie){const{lineNumber:ne,beforeColumn:ce,afterColumn:ue}=re,we=P.getLineContent(ne),He=we.substring(0,ce-1),lt=we.substring(ue-1);if(lt.startsWith(X)||(pe=!1),lt.length>0){const Nt=lt.charAt(0);if(!f._isBeforeClosingBrace(M,lt)&&!Se(Nt))return null}if(1===_e.open.length&&("'"===J||'"'===J)&&"always"!==fe){const Nt=(0,V.u)(M.wordSeparators);if(He.length>0){const un=He.charCodeAt(He.length-1);if(0===Nt.get(un))return null}}if(!P.isCheapToTokenize(ne))return null;P.forceTokenization(ne);const ut=P.getLineTokens(ne),Ve=(0,F.wH)(ut,ce-1);if(!_e.shouldAutoClose(Ve,ce-Ve.firstCharOffset))return null;const ct=_e.findNeutralCharacter();if(ct){const Nt=P.getTokenTypeIfInsertingCharacter(ne,ce,ct);if(!_e.isOK(Nt))return null}}return pe?_e.close.substring(0,_e.close.length-X.length):_e.close}static _runAutoClosingOpenCharType(M,P,W,J,he,ye,fe){const Se=[];for(let Ie=0,_e=J.length;Ie<_e;Ie++)Se[Ie]=new T(J[Ie],he,!ye,fe);return new Y.Tp(4,Se,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(M,P){return(0,Y.LN)(P)?"quotes"===M.autoSurround||"languageDefined"===M.autoSurround:"brackets"===M.autoSurround||"languageDefined"===M.autoSurround}static _isSurroundSelectionType(M,P,W,J){if(!f._shouldSurroundChar(M,J)||!M.surroundingPairs.hasOwnProperty(J))return!1;const he=(0,Y.LN)(J);for(let ye=0,fe=W.length;ye<fe;ye++){const Se=W[ye];if(Se.isEmpty())return!1;let Ie=!0;for(let _e=Se.startLineNumber;_e<=Se.endLineNumber;_e++){const $=P.getLineContent(_e),re=$.substring(_e===Se.startLineNumber?Se.startColumn-1:0,_e===Se.endLineNumber?Se.endColumn-1:$.length);if(/[^ \t]/.test(re)){Ie=!1;break}}if(Ie)return!1;if(he&&Se.startLineNumber===Se.endLineNumber&&Se.startColumn+1===Se.endColumn){const _e=P.getValueInRange(Se);if((0,Y.LN)(_e))return!1}}return!0}static _runSurroundSelectionType(M,P,W,J,he){const ye=[];for(let fe=0,Se=J.length;fe<Se;fe++)ye[fe]=new j(J[fe],he,P.surroundingPairs[he]);return new Y.Tp(0,ye,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(M,P,W){return!(1!==W.length||!P.isCheapToTokenize(W[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(M,P,W,J,he){if(!P.electricChars.hasOwnProperty(he)||!J.isEmpty())return null;const ye=J.getPosition();W.forceTokenization(ye.lineNumber);const fe=W.getLineTokens(ye.lineNumber);let Se;try{Se=P.onElectricCharacter(he,fe,ye.column)}catch(Ie){return(0,v.dL)(Ie),null}if(!Se)return null;if(Se.matchOpenBracket){const Ie=(fe.getLineContent()+he).lastIndexOf(Se.matchOpenBracket)+1,_e=W.bracketPairs.findMatchingBracketUp(Se.matchOpenBracket,{lineNumber:ye.lineNumber,column:Ie});if(_e){if(_e.startLineNumber===ye.lineNumber)return null;const $=W.getLineContent(_e.startLineNumber),X=h.V8($),pe=P.normalizeIndentation(X),re=W.getLineContent(ye.lineNumber),ne=W.getLineFirstNonWhitespaceColumn(ye.lineNumber)||ye.column,ue=pe+re.substring(ne-1,ye.column-1)+he,we=new R.e(ye.lineNumber,1,ye.lineNumber,ye.column),He=new Q.T4(we,ue);return new Y.Tp(z(ue,M),[He],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(M,P,W,J,he,ye){if(!J||se.Y.selectionsArrEqual(J,he))return null;let fe=null;for(const Ie of he){if(!Ie.isEmpty())return null;const _e=Ie.getPosition(),$=W.getValueInRange(new R.e(_e.lineNumber,_e.column-1,_e.lineNumber,_e.column));if(null===fe)fe=$;else if(fe!==$)return null}if(!fe)return null;if(this._isAutoClosingOvertype(P,W,he,ye,fe)){const Ie=he.map(_e=>new Q.T4(new R.e(_e.positionLineNumber,_e.positionColumn,_e.positionLineNumber,_e.positionColumn+1),"",!1));return new Y.Tp(4,Ie,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const Se=this._getAutoClosingPairClose(P,W,he,fe,!0);return null!==Se?this._runAutoClosingOpenCharType(M,P,W,he,fe,!0,Se):null}static typeWithInterceptors(M,P,W,J,he,ye,fe){if(!M&&"\n"===fe){const _e=[];for(let $=0,X=he.length;$<X;$++)_e[$]=f._enter(W,J,!1,he[$]);return new Y.Tp(4,_e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!M&&this._isAutoIndentType(W,J,he)){const _e=[];let $=!1;for(let X=0,pe=he.length;X<pe;X++)if(_e[X]=this._runAutoIndentType(W,J,he[X],fe),!_e[X]){$=!0;break}if(!$)return new Y.Tp(4,_e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!M&&this._isAutoClosingOvertype(W,J,he,ye,fe))return this._runAutoClosingOvertype(P,W,J,he,fe);if(!M){const _e=this._getAutoClosingPairClose(W,J,he,fe,!1);if(_e)return this._runAutoClosingOpenCharType(P,W,J,he,fe,!1,_e)}if(this._isSurroundSelectionType(W,J,he,fe))return this._runSurroundSelectionType(P,W,J,he,fe);if(!M&&this._isTypeInterceptorElectricChar(W,J,he)){const _e=this._typeInterceptorElectricChar(P,W,J,he[0],fe);if(_e)return _e}const Se=[];for(let _e=0,$=he.length;_e<$;_e++)Se[_e]=new Q.T4(he[_e],fe);const Ie=z(fe,P);return new Y.Tp(Ie,Se,{shouldPushStackElementBefore:I(P,Ie),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(M,P,W,J,he){const ye=[];for(let Se=0,Ie=J.length;Se<Ie;Se++)ye[Se]=new Q.T4(J[Se],he);const fe=z(he,M);return new Y.Tp(fe,ye,{shouldPushStackElementBefore:I(M,fe),shouldPushStackElementAfter:!1})}static lineInsertBefore(M,P,W){if(null===P||null===W)return[];const J=[];for(let he=0,ye=W.length;he<ye;he++){let fe=W[he].positionLineNumber;if(1===fe)J[he]=new Q.Sj(new R.e(1,1,1,1),"\n");else{fe--;const Se=P.getLineMaxColumn(fe);J[he]=this._enter(M,P,!1,new R.e(fe,Se,fe,Se))}}return J}static lineInsertAfter(M,P,W){if(null===P||null===W)return[];const J=[];for(let he=0,ye=W.length;he<ye;he++){const fe=W[he].positionLineNumber,Se=P.getLineMaxColumn(fe);J[he]=this._enter(M,P,!1,new R.e(fe,Se,fe,Se))}return J}static lineBreakInsert(M,P,W){const J=[];for(let he=0,ye=W.length;he<ye;he++)J[he]=this._enter(M,P,!0,W[he]);return J}}class T extends Q.Uo{constructor(M,P,W,J){super(M,(W?P:"")+J,0,-J.length),this._openCharacter=P,this._closeCharacter=J,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(M,P){const J=P.getInverseEditOperations()[0].range;return this.closeCharacterRange=new R.e(J.startLineNumber,J.endColumn-this._closeCharacter.length,J.endLineNumber,J.endColumn),this.enclosingRange=new R.e(J.startLineNumber,J.endColumn-this._openCharacter.length-this._closeCharacter.length,J.endLineNumber,J.endColumn),super.computeCursorState(M,P)}}function z(N,M){return" "===N?5===M||6===M?6:5:4}function I(N,M){return!(!K(N)||K(M))||5!==N&&H(N)!==H(M)}function H(N){return 6===N||5===N?"space":N}function K(N){return 4===N||5===N||6===N}},7616:(vt,Ke,m)=>{m.d(Ke,{w:()=>j,L:()=>Y});var v=m(4705),h=m(1181),Q=m(2525),k=m(681),R=m(4220),se=m(8451);class j{static _createWord(w,D,F,f,T){return{start:f,end:T,wordType:D,nextCharClass:F}}static _findPreviousWordOnLine(w,D,F){const f=D.getLineContent(F.lineNumber);return this._doFindPreviousWordOnLine(f,w,F)}static _doFindPreviousWordOnLine(w,D,F){let f=0;for(let T=F.column-2;T>=0;T--){const z=w.charCodeAt(T),I=D.get(z);if(0===I){if(2===f)return this._createWord(w,f,I,T+1,this._findEndOfWord(w,D,f,T+1));f=1}else if(2===I){if(1===f)return this._createWord(w,f,I,T+1,this._findEndOfWord(w,D,f,T+1));f=2}else if(1===I&&0!==f)return this._createWord(w,f,I,T+1,this._findEndOfWord(w,D,f,T+1))}return 0!==f?this._createWord(w,f,1,0,this._findEndOfWord(w,D,f,0)):null}static _findEndOfWord(w,D,F,f){const T=w.length;for(let z=f;z<T;z++){const I=w.charCodeAt(z),H=D.get(I);if(1===H||1===F&&2===H||2===F&&0===H)return z}return T}static _findNextWordOnLine(w,D,F){const f=D.getLineContent(F.lineNumber);return this._doFindNextWordOnLine(f,w,F)}static _doFindNextWordOnLine(w,D,F){let f=0;const T=w.length;for(let z=F.column-1;z<T;z++){const I=w.charCodeAt(z),H=D.get(I);if(0===H){if(2===f)return this._createWord(w,f,H,this._findStartOfWord(w,D,f,z-1),z);f=1}else if(2===H){if(1===f)return this._createWord(w,f,H,this._findStartOfWord(w,D,f,z-1),z);f=2}else if(1===H&&0!==f)return this._createWord(w,f,H,this._findStartOfWord(w,D,f,z-1),z)}return 0!==f?this._createWord(w,f,1,this._findStartOfWord(w,D,f,T-1),T):null}static _findStartOfWord(w,D,F,f){for(let T=f;T>=0;T--){const z=w.charCodeAt(T),I=D.get(z);if(1===I||1===F&&2===I||2===F&&0===I)return T+1}return 0}static moveWordLeft(w,D,F,f){let T=F.lineNumber,z=F.column;1===z&&T>1&&(T-=1,z=D.getLineMaxColumn(T));let I=j._findPreviousWordOnLine(w,D,new R.L(T,z));if(0===f)return new R.L(T,I?I.start+1:1);if(1===f)return I&&2===I.wordType&&I.end-I.start==1&&0===I.nextCharClass&&(I=j._findPreviousWordOnLine(w,D,new R.L(T,I.start+1))),new R.L(T,I?I.start+1:1);if(3===f){for(;I&&2===I.wordType;)I=j._findPreviousWordOnLine(w,D,new R.L(T,I.start+1));return new R.L(T,I?I.start+1:1)}return I&&z<=I.end+1&&(I=j._findPreviousWordOnLine(w,D,new R.L(T,I.start+1))),new R.L(T,I?I.end+1:1)}static _moveWordPartLeft(w,D){const F=D.lineNumber,f=w.getLineMaxColumn(F);if(1===D.column)return F>1?new R.L(F-1,w.getLineMaxColumn(F-1)):D;const T=w.getLineContent(F);for(let z=D.column-1;z>1;z--){const I=T.charCodeAt(z-2),H=T.charCodeAt(z-1);if(95===I&&95!==H)return new R.L(F,z);if(v.mK(I)&&v.df(H))return new R.L(F,z);if(v.df(I)&&v.df(H)&&z+1<f){const K=T.charCodeAt(z);if(v.mK(K))return new R.L(F,z)}}return new R.L(F,1)}static moveWordRight(w,D,F,f){let T=F.lineNumber,z=F.column,I=!1;z===D.getLineMaxColumn(T)&&T<D.getLineCount()&&(I=!0,T+=1,z=1);let H=j._findNextWordOnLine(w,D,new R.L(T,z));if(2===f)H&&2===H.wordType&&H.end-H.start==1&&0===H.nextCharClass&&(H=j._findNextWordOnLine(w,D,new R.L(T,H.end+1))),z=H?H.end+1:D.getLineMaxColumn(T);else if(3===f){for(I&&(z=0);H&&(2===H.wordType||H.start+1<=z);)H=j._findNextWordOnLine(w,D,new R.L(T,H.end+1));z=H?H.start+1:D.getLineMaxColumn(T)}else H&&!I&&z>=H.start+1&&(H=j._findNextWordOnLine(w,D,new R.L(T,H.end+1))),z=H?H.start+1:D.getLineMaxColumn(T);return new R.L(T,z)}static _moveWordPartRight(w,D){const F=D.lineNumber,f=w.getLineMaxColumn(F);if(D.column===f)return F<w.getLineCount()?new R.L(F+1,1):D;const T=w.getLineContent(F);for(let z=D.column+1;z<f;z++){const I=T.charCodeAt(z-2),H=T.charCodeAt(z-1);if(95!==I&&95===H)return new R.L(F,z);if(v.mK(I)&&v.df(H))return new R.L(F,z);if(v.df(I)&&v.df(H)&&z+1<f){const K=T.charCodeAt(z);if(v.mK(K))return new R.L(F,z)}}return new R.L(F,f)}static _deleteWordLeftWhitespace(w,D){const F=w.getLineContent(D.lineNumber),f=D.column-2,T=v.ow(F,f);return T+1<f?new se.e(D.lineNumber,T+2,D.lineNumber,D.column):null}static deleteWordLeft(w,D){const F=w.wordSeparators,f=w.model,T=w.selection,z=w.whitespaceHeuristics;if(!T.isEmpty())return T;if(Q.A.isAutoClosingPairDelete(w.autoClosingDelete,w.autoClosingBrackets,w.autoClosingQuotes,w.autoClosingPairs.autoClosingPairsOpenByEnd,w.model,[w.selection],w.autoClosedCharacters)){const M=w.selection.getPosition();return new se.e(M.lineNumber,M.column-1,M.lineNumber,M.column+1)}const I=new R.L(T.positionLineNumber,T.positionColumn);let H=I.lineNumber,K=I.column;if(1===H&&1===K)return null;if(z){const M=this._deleteWordLeftWhitespace(f,I);if(M)return M}let N=j._findPreviousWordOnLine(F,f,I);return 0===D?N?K=N.start+1:K>1?K=1:(H--,K=f.getLineMaxColumn(H)):(N&&K<=N.end+1&&(N=j._findPreviousWordOnLine(F,f,new R.L(H,N.start+1))),N?K=N.end+1:K>1?K=1:(H--,K=f.getLineMaxColumn(H))),new se.e(H,K,I.lineNumber,I.column)}static deleteInsideWord(w,D,F){if(!F.isEmpty())return F;const f=new R.L(F.positionLineNumber,F.positionColumn);return this._deleteInsideWordWhitespace(D,f)||this._deleteInsideWordDetermineDeleteRange(w,D,f)}static _charAtIsWhitespace(w,D){const F=w.charCodeAt(D);return 32===F||9===F}static _deleteInsideWordWhitespace(w,D){const F=w.getLineContent(D.lineNumber),f=F.length;if(0===f)return null;let T=Math.max(D.column-2,0);if(!this._charAtIsWhitespace(F,T))return null;let z=Math.min(D.column-1,f-1);if(!this._charAtIsWhitespace(F,z))return null;for(;T>0&&this._charAtIsWhitespace(F,T-1);)T--;for(;z+1<f&&this._charAtIsWhitespace(F,z+1);)z++;return new se.e(D.lineNumber,T+1,D.lineNumber,z+2)}static _deleteInsideWordDetermineDeleteRange(w,D,F){const f=D.getLineContent(F.lineNumber),T=f.length;if(0===T)return F.lineNumber>1?new se.e(F.lineNumber-1,D.getLineMaxColumn(F.lineNumber-1),F.lineNumber,1):F.lineNumber<D.getLineCount()?new se.e(F.lineNumber,1,F.lineNumber+1,1):new se.e(F.lineNumber,1,F.lineNumber,1);const z=M=>M.start+1<=F.column&&F.column<=M.end+1,I=(M,P)=>(M=Math.min(M,F.column),P=Math.max(P,F.column),new se.e(F.lineNumber,M,F.lineNumber,P)),H=M=>{let P=M.start+1,W=M.end+1,J=!1;for(;W-1<T&&this._charAtIsWhitespace(f,W-1);)J=!0,W++;if(!J)for(;P>1&&this._charAtIsWhitespace(f,P-2);)P--;return I(P,W)},K=j._findPreviousWordOnLine(w,D,F);if(K&&z(K))return H(K);const N=j._findNextWordOnLine(w,D,F);return N&&z(N)?H(N):K&&N?I(K.end+1,N.start+1):K?I(K.start+1,K.end+1):N?I(N.start+1,N.end+1):I(1,T+1)}static _deleteWordPartLeft(w,D){if(!D.isEmpty())return D;const F=D.getPosition(),f=j._moveWordPartLeft(w,F);return new se.e(F.lineNumber,F.column,f.lineNumber,f.column)}static _findFirstNonWhitespaceChar(w,D){const F=w.length;for(let f=D;f<F;f++){const T=w.charAt(f);if(" "!==T&&"\t"!==T)return f}return F}static _deleteWordRightWhitespace(w,D){const F=w.getLineContent(D.lineNumber),f=D.column-1,T=this._findFirstNonWhitespaceChar(F,f);return f+1<T?new se.e(D.lineNumber,D.column,D.lineNumber,T+1):null}static deleteWordRight(w,D){const F=w.wordSeparators,f=w.model,T=w.selection,z=w.whitespaceHeuristics;if(!T.isEmpty())return T;const I=new R.L(T.positionLineNumber,T.positionColumn);let H=I.lineNumber,K=I.column;const N=f.getLineCount(),M=f.getLineMaxColumn(H);if(H===N&&K===M)return null;if(z){const W=this._deleteWordRightWhitespace(f,I);if(W)return W}let P=j._findNextWordOnLine(F,f,I);return 2===D?P?K=P.end+1:K<M||H===N?K=M:(H++,P=j._findNextWordOnLine(F,f,new R.L(H,1)),K=P?P.start+1:f.getLineMaxColumn(H)):(P&&K>=P.start+1&&(P=j._findNextWordOnLine(F,f,new R.L(H,P.end+1))),P?K=P.start+1:K<M||H===N?K=M:(H++,P=j._findNextWordOnLine(F,f,new R.L(H,1)),K=P?P.start+1:f.getLineMaxColumn(H))),new se.e(H,K,I.lineNumber,I.column)}static _deleteWordPartRight(w,D){if(!D.isEmpty())return D;const F=D.getPosition(),f=j._moveWordPartRight(w,F);return new se.e(F.lineNumber,F.column,f.lineNumber,f.column)}static _createWordAtPosition(w,D,F){const f=new se.e(D,F.start+1,D,F.end+1);return{word:w.getValueInRange(f),startColumn:f.startColumn,endColumn:f.endColumn}}static getWordAtPosition(w,D,F){const f=(0,k.u)(D),T=j._findPreviousWordOnLine(f,w,F);if(T&&1===T.wordType&&T.start<=F.column-1&&F.column-1<=T.end)return j._createWordAtPosition(w,F.lineNumber,T);const z=j._findNextWordOnLine(f,w,F);return z&&1===z.wordType&&z.start<=F.column-1&&F.column-1<=z.end?j._createWordAtPosition(w,F.lineNumber,z):null}static word(w,D,F,f,T){const z=(0,k.u)(w.wordSeparators),I=j._findPreviousWordOnLine(z,D,T),H=j._findNextWordOnLine(z,D,T);if(!f){let W,J;return I&&1===I.wordType&&I.start<=T.column-1&&T.column-1<=I.end?(W=I.start+1,J=I.end+1):H&&1===H.wordType&&H.start<=T.column-1&&T.column-1<=H.end?(W=H.start+1,J=H.end+1):(W=I?I.end+1:1,J=H?H.start+1:D.getLineMaxColumn(T.lineNumber)),new h.rS(new se.e(T.lineNumber,W,T.lineNumber,J),0,new R.L(T.lineNumber,J),0)}let K,N;I&&1===I.wordType&&I.start<T.column-1&&T.column-1<I.end?(K=I.start+1,N=I.end+1):H&&1===H.wordType&&H.start<T.column-1&&T.column-1<H.end?(K=H.start+1,N=H.end+1):(K=T.column,N=T.column);const M=T.lineNumber;let P;if(F.selectionStart.containsPosition(T))P=F.selectionStart.endColumn;else if(T.isBeforeOrEqual(F.selectionStart.getStartPosition())){P=K;const W=new R.L(M,P);F.selectionStart.containsPosition(W)&&(P=F.selectionStart.endColumn)}else{P=N;const W=new R.L(M,P);F.selectionStart.containsPosition(W)&&(P=F.selectionStart.startColumn)}return F.move(!0,M,P,0)}}class Y extends j{static deleteWordPartLeft(w){const D=V([j.deleteWordLeft(w,0),j.deleteWordLeft(w,2),j._deleteWordPartLeft(w.model,w.selection)]);return D.sort(se.e.compareRangesUsingEnds),D[2]}static deleteWordPartRight(w){const D=V([j.deleteWordRight(w,0),j.deleteWordRight(w,2),j._deleteWordPartRight(w.model,w.selection)]);return D.sort(se.e.compareRangesUsingStarts),D[0]}static moveWordPartLeft(w,D,F){const f=V([j.moveWordLeft(w,D,F,0),j.moveWordLeft(w,D,F,2),j._moveWordPartLeft(D,F)]);return f.sort(R.L.compare),f[2]}static moveWordPartRight(w,D,F){const f=V([j.moveWordRight(w,D,F,0),j.moveWordRight(w,D,F,2),j._moveWordPartRight(D,F)]);return f.sort(R.L.compare),f[0]}}function V(x){return x.filter(w=>Boolean(w))}},658:(vt,Ke,m)=>{m.d(Ke,{p:()=>v});class v{constructor(Q,k,R,se,j,Y){this.id=Q,this.label=k,this.alias=R,this._precondition=se,this._run=j,this._contextKeyService=Y}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},2651:(vt,Ke,m)=>{m.d(Ke,{g:()=>v});const v={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},9584:(vt,Ke,m)=>{m.d(Ke,{u:()=>Q});var Q,k,v=m(402),h=m(9776);(k=Q||(Q={})).editorSimpleInput=new h.uy("editorSimpleInput",!1,!0),k.editorTextFocus=new h.uy("editorTextFocus",!1,v.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),k.focus=new h.uy("editorFocus",!1,v.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),k.textInputFocus=new h.uy("textInputFocus",!1,v.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),k.readOnly=new h.uy("editorReadonly",!1,v.N("editorReadonly","Whether the editor is read only")),k.inDiffEditor=new h.uy("inDiffEditor",!1,v.N("inDiffEditor","Whether the context is a diff editor")),k.columnSelection=new h.uy("editorColumnSelection",!1,v.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),k.writable=k.readOnly.toNegated(),k.hasNonEmptySelection=new h.uy("editorHasSelection",!1,v.N("editorHasSelection","Whether the editor has text selected")),k.hasOnlyEmptySelection=k.hasNonEmptySelection.toNegated(),k.hasMultipleSelections=new h.uy("editorHasMultipleSelections",!1,v.N("editorHasMultipleSelections","Whether the editor has multiple selections")),k.hasSingleSelection=k.hasMultipleSelections.toNegated(),k.tabMovesFocus=new h.uy("editorTabMovesFocus",!1,v.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),k.tabDoesNotMoveFocus=k.tabMovesFocus.toNegated(),k.isInWalkThroughSnippet=new h.uy("isInEmbeddedEditor",!1,!0),k.canUndo=new h.uy("canUndo",!1,!0),k.canRedo=new h.uy("canRedo",!1,!0),k.hoverVisible=new h.uy("editorHoverVisible",!1,v.N("editorHoverVisible","Whether the editor hover is visible")),k.inCompositeEditor=new h.uy("inCompositeEditor",void 0,v.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),k.notInCompositeEditor=k.inCompositeEditor.toNegated(),k.languageId=new h.uy("editorLangId","",v.N("editorLangId","The language identifier of the editor")),k.hasCompletionItemProvider=new h.uy("editorHasCompletionItemProvider",!1,v.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),k.hasCodeActionsProvider=new h.uy("editorHasCodeActionsProvider",!1,v.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),k.hasCodeLensProvider=new h.uy("editorHasCodeLensProvider",!1,v.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),k.hasDefinitionProvider=new h.uy("editorHasDefinitionProvider",!1,v.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),k.hasDeclarationProvider=new h.uy("editorHasDeclarationProvider",!1,v.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),k.hasImplementationProvider=new h.uy("editorHasImplementationProvider",!1,v.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),k.hasTypeDefinitionProvider=new h.uy("editorHasTypeDefinitionProvider",!1,v.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),k.hasHoverProvider=new h.uy("editorHasHoverProvider",!1,v.N("editorHasHoverProvider","Whether the editor has a hover provider")),k.hasDocumentHighlightProvider=new h.uy("editorHasDocumentHighlightProvider",!1,v.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),k.hasDocumentSymbolProvider=new h.uy("editorHasDocumentSymbolProvider",!1,v.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),k.hasReferenceProvider=new h.uy("editorHasReferenceProvider",!1,v.N("editorHasReferenceProvider","Whether the editor has a reference provider")),k.hasRenameProvider=new h.uy("editorHasRenameProvider",!1,v.N("editorHasRenameProvider","Whether the editor has a rename provider")),k.hasSignatureHelpProvider=new h.uy("editorHasSignatureHelpProvider",!1,v.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),k.hasInlayHintsProvider=new h.uy("editorHasInlayHintsProvider",!1,v.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),k.hasDocumentFormattingProvider=new h.uy("editorHasDocumentFormattingProvider",!1,v.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),k.hasDocumentSelectionFormattingProvider=new h.uy("editorHasDocumentSelectionFormattingProvider",!1,v.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),k.hasMultipleDocumentFormattingProvider=new h.uy("editorHasMultipleDocumentFormattingProvider",!1,v.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),k.hasMultipleDocumentSelectionFormattingProvider=new h.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,v.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},5283:(vt,Ke,m)=>{m.d(Ke,{H9:()=>un,He:()=>ct,OH:()=>Xt,mY:()=>ye,gX:()=>K,KZ:()=>_e,RN:()=>lt,Ct:()=>He,Az:()=>Jt,MY:()=>P,vH:()=>ue,vN:()=>St,K7:()=>nn,wT:()=>Kt,vJ:()=>ce,DI:()=>H,AD:()=>he,aC:()=>At,xp:()=>pe,vI:()=>ut,gl:()=>fe,mX:()=>Nt,bw:()=>N,zu:()=>$,pM:()=>pn,id:()=>we,ln:()=>en,FL:()=>Se,G0:()=>Ie,AC:()=>ze,nD:()=>X,WW:()=>M,uZ:()=>J,WU:()=>z,NX:()=>T,RW:()=>Mn,hG:()=>I,tA:()=>Ve,vx:()=>W});var v=m(4672),h=m(8451),Q=m(2787),k=m(2425),R=m(2213),se=m(1383),j=m(4163);function Y(Nn,yt,Ht,jt){if(Array.isArray(Nn)){let _n=0;for(const In of Nn){const it=Y(In,yt,Ht,jt);if(10===it)return it;it>_n&&(_n=it)}return _n}if("string"==typeof Nn)return jt?"*"===Nn?5:Nn===Ht?10:0:0;if(Nn){const{language:_n,pattern:In,scheme:it,hasAccessToAllModels:$t}=Nn;if(!jt&&!$t)return 0;let bt=0;if(it)if(it===yt.scheme)bt=10;else{if("*"!==it)return 0;bt=5}if(_n)if(_n===Ht)bt=10;else{if("*"!==_n)return 0;bt=Math.max(bt,5)}if(In){let Zt;if(Zt="string"==typeof In?In:Object.assign(Object.assign({},In),{base:(0,j.Fv)(In.base)}),Zt!==yt.fsPath&&!(0,se.EQ)(Zt,yt.fsPath))return 0;bt=10}return bt}return 0}function V(Nn){return"string"!=typeof Nn&&(Array.isArray(Nn)?Nn.every(V):!!Nn.exclusive)}class x{constructor(){this._clock=0,this._entries=[],this._onDidChange=new Q.Q5}get onDidChange(){return this._onDidChange.event}register(yt,Ht){let jt={selector:yt,provider:Ht,_score:-1,_time:this._clock++};return this._entries.push(jt),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.OF)(()=>{if(jt){const _n=this._entries.indexOf(jt);_n>=0&&(this._entries.splice(_n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),jt=void 0)}})}has(yt){return this.all(yt).length>0}all(yt){if(!yt)return[];this._updateScores(yt);const Ht=[];for(let jt of this._entries)jt._score>0&&Ht.push(jt.provider);return Ht}ordered(yt){const Ht=[];return this._orderedForEach(yt,jt=>Ht.push(jt.provider)),Ht}orderedGroups(yt){const Ht=[];let jt,_n;return this._orderedForEach(yt,In=>{jt&&_n===In._score?jt.push(In.provider):(_n=In._score,jt=[In.provider],Ht.push(jt))}),Ht}_orderedForEach(yt,Ht){if(yt){this._updateScores(yt);for(const jt of this._entries)jt._score>0&&Ht(jt)}}_updateScores(yt){const Ht={uri:yt.uri.toString(),language:yt.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==Ht.language||this._lastCandidate.uri!==Ht.uri){this._lastCandidate=Ht;for(let jt of this._entries)if(jt._score=Y(jt.selector,yt.uri,yt.getLanguageId(),(0,R.pt)(yt)),V(jt.selector)&&jt._score>0){for(let _n of this._entries)_n._score=0;jt._score=1e3;break}this._entries.sort(x._compareByScoreAndTime)}}static _compareByScoreAndTime(yt,Ht){return yt._score<Ht._score?1:yt._score>Ht._score?-1:yt._time<Ht._time?1:yt._time>Ht._time?-1:0}}var w=function(Nn,yt,Ht,jt){return new(Ht||(Ht=Promise))(function(In,it){function $t(Rn){try{Zt(jt.next(Rn))}catch(vn){it(vn)}}function bt(Rn){try{Zt(jt.throw(Rn))}catch(vn){it(vn)}}function Zt(Rn){Rn.done?In(Rn.value):function _n(In){return In instanceof Ht?In:new Ht(function(it){it(In)})}(Rn.value).then($t,bt)}Zt((jt=jt.apply(Nn,yt||[])).next())})};class F extends k.JT{constructor(yt,Ht,jt){super(),this._registry=yt,this._languageId=Ht,this._factory=jt,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return w(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return w(this,void 0,void 0,function*(){const yt=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,yt&&!this._isDisposed&&this._register(this._registry.register(this._languageId,yt))})}}var K,f=m(2450);class T{static getLanguageId(yt){return(255&yt)>>>0}static getTokenType(yt){return(768&yt)>>>8}static getFontStyle(yt){return(15360&yt)>>>10}static getForeground(yt){return(8372224&yt)>>>14}static getBackground(yt){return(4286578688&yt)>>>23}static getClassNameFromMetadata(yt){let jt="mtk"+this.getForeground(yt);const _n=this.getFontStyle(yt);return 1&_n&&(jt+=" mtki"),2&_n&&(jt+=" mtkb"),4&_n&&(jt+=" mtku"),8&_n&&(jt+=" mtks"),jt}static getInlineStyleFromMetadata(yt,Ht){const jt=this.getForeground(yt),_n=this.getFontStyle(yt);let In=`color: ${Ht[jt]};`;1&_n&&(In+="font-style: italic;"),2&_n&&(In+="font-weight: bold;");let it="";return 4&_n&&(it+=" underline"),8&_n&&(it+=" line-through"),it&&(In+=`text-decoration:${it};`),In}static getPresentationFromMetadata(yt){const Ht=this.getForeground(yt),jt=this.getFontStyle(yt);return{foreground:Ht,italic:Boolean(1&jt),bold:Boolean(2&jt),underline:Boolean(4&jt),strikethrough:Boolean(8&jt)}}}class z{constructor(yt,Ht,jt){this._tokenBrand=void 0,this.offset=yt,this.type=Ht,this.language=jt}toString(){return"("+this.offset+", "+this.type+")"}}class I{constructor(yt,Ht){this._tokenizationResultBrand=void 0,this.tokens=yt,this.endState=Ht}}class H{constructor(yt,Ht){this._encodedTokenizationResultBrand=void 0,this.tokens=yt,this.endState=Ht}}!function(Nn){const yt=new Map;yt.set(0,f.lA.symbolMethod),yt.set(1,f.lA.symbolFunction),yt.set(2,f.lA.symbolConstructor),yt.set(3,f.lA.symbolField),yt.set(4,f.lA.symbolVariable),yt.set(5,f.lA.symbolClass),yt.set(6,f.lA.symbolStruct),yt.set(7,f.lA.symbolInterface),yt.set(8,f.lA.symbolModule),yt.set(9,f.lA.symbolProperty),yt.set(10,f.lA.symbolEvent),yt.set(11,f.lA.symbolOperator),yt.set(12,f.lA.symbolUnit),yt.set(13,f.lA.symbolValue),yt.set(15,f.lA.symbolEnum),yt.set(14,f.lA.symbolConstant),yt.set(15,f.lA.symbolEnum),yt.set(16,f.lA.symbolEnumMember),yt.set(17,f.lA.symbolKeyword),yt.set(27,f.lA.symbolSnippet),yt.set(18,f.lA.symbolText),yt.set(19,f.lA.symbolColor),yt.set(20,f.lA.symbolFile),yt.set(21,f.lA.symbolReference),yt.set(22,f.lA.symbolCustomColor),yt.set(23,f.lA.symbolFolder),yt.set(24,f.lA.symbolTypeParameter),yt.set(25,f.lA.account),yt.set(26,f.lA.issues),Nn.toIcon=function Ht(In){let it=yt.get(In);return it||(console.info("No codicon found for CompletionItemKind "+In),it=f.lA.symbolProperty),it};const jt=new Map;jt.set("method",0),jt.set("function",1),jt.set("constructor",2),jt.set("field",3),jt.set("variable",4),jt.set("class",5),jt.set("struct",6),jt.set("interface",7),jt.set("module",8),jt.set("property",9),jt.set("event",10),jt.set("operator",11),jt.set("unit",12),jt.set("value",13),jt.set("constant",14),jt.set("enum",15),jt.set("enum-member",16),jt.set("enumMember",16),jt.set("keyword",17),jt.set("snippet",27),jt.set("text",18),jt.set("color",19),jt.set("file",20),jt.set("reference",21),jt.set("customcolor",22),jt.set("folder",23),jt.set("type-parameter",24),jt.set("typeParameter",24),jt.set("account",25),jt.set("issue",26),Nn.fromString=function _n(In,it){let $t=jt.get(In);return void 0===$t&&!it&&($t=9),$t}}(K||(K={}));var J,ye,N=(()=>{return(Nn=N||(N={}))[Nn.Automatic=0]="Automatic",Nn[Nn.Explicit=1]="Explicit",N;var Nn})(),M=(()=>{return(Nn=M||(M={}))[Nn.Invoke=1]="Invoke",Nn[Nn.TriggerCharacter=2]="TriggerCharacter",Nn[Nn.ContentChange=3]="ContentChange",M;var Nn})(),P=(()=>{return(Nn=P||(P={}))[Nn.Text=0]="Text",Nn[Nn.Read=1]="Read",Nn[Nn.Write=2]="Write",P;var Nn})();function W(Nn){return Nn&&v.o.isUri(Nn.uri)&&h.e.isIRange(Nn.range)&&(h.e.isIRange(Nn.originSelectionRange)||h.e.isIRange(Nn.targetSelectionRange))}!function(Nn){const yt=new Map;yt.set(0,f.lA.symbolFile),yt.set(1,f.lA.symbolModule),yt.set(2,f.lA.symbolNamespace),yt.set(3,f.lA.symbolPackage),yt.set(4,f.lA.symbolClass),yt.set(5,f.lA.symbolMethod),yt.set(6,f.lA.symbolProperty),yt.set(7,f.lA.symbolField),yt.set(8,f.lA.symbolConstructor),yt.set(9,f.lA.symbolEnum),yt.set(10,f.lA.symbolInterface),yt.set(11,f.lA.symbolFunction),yt.set(12,f.lA.symbolVariable),yt.set(13,f.lA.symbolConstant),yt.set(14,f.lA.symbolString),yt.set(15,f.lA.symbolNumber),yt.set(16,f.lA.symbolBoolean),yt.set(17,f.lA.symbolArray),yt.set(18,f.lA.symbolObject),yt.set(19,f.lA.symbolKey),yt.set(20,f.lA.symbolNull),yt.set(21,f.lA.symbolEnumMember),yt.set(22,f.lA.symbolStruct),yt.set(23,f.lA.symbolEvent),yt.set(24,f.lA.symbolOperator),yt.set(25,f.lA.symbolTypeParameter),Nn.toIcon=function Ht(jt){let _n=yt.get(jt);return _n||(console.info("No codicon found for SymbolKind "+jt),_n=f.lA.symbolProperty),_n}}(J||(J={}));class he{constructor(yt){this.value=yt}}he.Comment=new he("comment"),he.Imports=new he("imports"),he.Region=new he("region"),(ye||(ye={})).is=function yt(Ht){return!(!Ht||"object"!=typeof Ht)&&"string"==typeof Ht.id&&"string"==typeof Ht.title};var fe=(()=>{return(Nn=fe||(fe={}))[Nn.Other=0]="Other",Nn[Nn.Type=1]="Type",Nn[Nn.Parameter=2]="Parameter",fe;var Nn})();const Se=new x,Ie=new x,_e=new x,$=new x,X=new x,pe=new x,ce=(new x,new x,new x),ue=new x,we=new x,He=new x,lt=new x,ut=new x,Ve=new x,ct=new x,Nt=new x,un=new x,Jt=new x,St=new x,en=new x,pn=new x,Xt=new x,ze=new x,At=new x,Kt=new x,nn=new x,Mn=new class D{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(yt){this._onDidChange.fire({changedLanguages:yt,changedColorMap:!1})}register(yt,Ht){return this._map.set(yt,Ht),this.fire([yt]),(0,k.OF)(()=>{this._map.get(yt)===Ht&&(this._map.delete(yt),this.fire([yt]))})}registerFactory(yt,Ht){var jt;null===(jt=this._factories.get(yt))||void 0===jt||jt.dispose();const _n=new F(this,yt,Ht);return this._factories.set(yt,_n),(0,k.OF)(()=>{const In=this._factories.get(yt);!In||In!==_n||(this._factories.delete(yt),In.dispose())})}getOrCreate(yt){return w(this,void 0,void 0,function*(){const Ht=this.get(yt);if(Ht)return Ht;const jt=this._factories.get(yt);return!jt||jt.isResolved?null:(yield jt.resolve(),this.get(yt))})}get(yt){return this._map.get(yt)||null}isResolved(yt){if(this.get(yt))return!0;const jt=this._factories.get(yt);return!(jt&&!jt.isResolved)}setColorMap(yt){this._colorMap=yt,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},5526:(vt,Ke,m)=>{m.d(Ke,{wU:()=>v,V6:()=>h,c$:()=>Q});var v=(()=>{return(R=v||(v={}))[R.None=0]="None",R[R.Indent=1]="Indent",R[R.IndentOutdent=2]="IndentOutdent",R[R.Outdent=3]="Outdent",v;var R})();class h{constructor(se){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=se.open,this.close=se.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(se.notIn))for(let j=0,Y=se.notIn.length;j<Y;j++)switch(se.notIn[j]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(se){switch(se){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(se,j){if(0===se.getTokenCount())return!0;const Y=se.findTokenIndexAtOffset(j-2),V=se.getStandardTokenType(Y);return this.isOK(V)}_findNeutralCharacterInRange(se,j){for(let Y=se;Y<=j;Y++){const V=String.fromCharCode(Y);if(!this.open.includes(V)&&!this.close.includes(V))return V}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Q{constructor(se){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const j of se)k(this.autoClosingPairsOpenByStart,j.open.charAt(0),j),k(this.autoClosingPairsOpenByEnd,j.open.charAt(j.open.length-1),j),k(this.autoClosingPairsCloseByStart,j.close.charAt(0),j),k(this.autoClosingPairsCloseByEnd,j.close.charAt(j.close.length-1),j),1===j.close.length&&1===j.open.length&&k(this.autoClosingPairsCloseSingleChar,j.close,j)}}function k(R,se,j){R.has(se)?R.get(se).push(j):R.set(se,[j])}},7372:(vt,Ke,m)=>{m.d(Ke,{c_:()=>W,zu:()=>$});var v=m(2787),h=m(2425),Q=m(4705),k=m(5519),R=m(5526),se=m(8555);let j=(()=>{class ce{constructor(we){if(this._autoClosingPairs=we.autoClosingPairs?we.autoClosingPairs.map(He=>new R.V6(He)):we.brackets?we.brackets.map(He=>new R.V6({open:He[0],close:He[1]})):[],this._colorizedBracketPairs=we.colorizedBracketPairs?Y(we.colorizedBracketPairs.map(He=>[He[0],He[1]])):we.brackets?Y(we.brackets.map(He=>[He[0],He[1]]).filter(He=>!("<"===He[0]&&">"===He[1]))):[],we.__electricCharacterSupport&&we.__electricCharacterSupport.docComment){const He=we.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new R.V6({open:He.open,close:He.close||""}))}this._autoCloseBefore="string"==typeof we.autoCloseBefore?we.autoCloseBefore:ce.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=we.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}return ce.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",ce})();function Y(ce){return ce.filter(([ue,we])=>""!==ue&&""!==we)}var V=m(8337),x=m(3404);class w{constructor(ue){this._richEditBrackets=ue}getElectricCharacters(){const ue=[];if(this._richEditBrackets)for(const we of this._richEditBrackets.brackets)for(const He of we.close){const lt=He.charAt(He.length-1);ue.push(lt)}return(0,V.EB)(ue)}onElectricCharacter(ue,we,He){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const lt=we.findTokenIndexAtOffset(He-1);if((0,se.Bu)(we.getStandardTokenType(lt)))return null;const ut=this._richEditBrackets.reversedRegex,Ve=we.getLineContent().substring(0,He-1)+ue,ct=x.Vr.findPrevBracketInRange(ut,1,Ve,0,Ve.length);if(!ct)return null;const Nt=Ve.substring(ct.startColumn-1,ct.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Nt])return null;const Jt=we.getActualLineContentBefore(ct.startColumn-1);return/^\s*$/.test(Jt)?{matchOpenBracket:Nt}:null}}function D(ce){return ce.global&&(ce.lastIndex=0),!0}class F{constructor(ue){this._indentationRules=ue}shouldIncrease(ue){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&D(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ue))}shouldDecrease(ue){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&D(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ue))}shouldIndentNextLine(ue){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&D(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ue))}shouldIgnore(ue){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&D(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ue))}getIndentMetadata(ue){let we=0;return this.shouldIncrease(ue)&&(we+=1),this.shouldDecrease(ue)&&(we+=2),this.shouldIndentNextLine(ue)&&(we+=4),this.shouldIgnore(ue)&&(we+=8),we}}var f=m(3663);class T{constructor(ue){(ue=ue||{}).brackets=ue.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ue.brackets.forEach(we=>{const He=T._createOpenBracketRegExp(we[0]),lt=T._createCloseBracketRegExp(we[1]);He&&lt&&this._brackets.push({open:we[0],openRegExp:He,close:we[1],closeRegExp:lt})}),this._regExpRules=ue.onEnterRules||[]}onEnter(ue,we,He,lt){if(ue>=3)for(let ut=0,Ve=this._regExpRules.length;ut<Ve;ut++){const ct=this._regExpRules[ut];if([{reg:ct.beforeText,text:He},{reg:ct.afterText,text:lt},{reg:ct.previousLineText,text:we}].every(un=>!un.reg||(un.reg.lastIndex=0,un.reg.test(un.text))))return ct.action}if(ue>=2&&He.length>0&&lt.length>0)for(let ut=0,Ve=this._brackets.length;ut<Ve;ut++){const ct=this._brackets[ut];if(ct.openRegExp.test(He)&&ct.closeRegExp.test(lt))return{indentAction:R.wU.IndentOutdent}}if(ue>=2&&He.length>0)for(let ut=0,Ve=this._brackets.length;ut<Ve;ut++)if(this._brackets[ut].openRegExp.test(He))return{indentAction:R.wU.Indent};return null}static _createOpenBracketRegExp(ue){let we=Q.ec(ue);return/\B/.test(we.charAt(0))||(we="\\b"+we),we+="\\s*$",T._safeRegExp(we)}static _createCloseBracketRegExp(ue){let we=Q.ec(ue);return/\B/.test(we.charAt(we.length-1))||(we+="\\b"),we="^\\s*"+we,T._safeRegExp(we)}static _safeRegExp(ue){try{return new RegExp(ue)}catch(we){return(0,f.dL)(we),null}}}var z=m(4725),I=m(9869),H=m(7675),K=m(7918),M=function(ce,ue){return function(we,He){ue(we,He,ce)}};class P{constructor(ue){this.languageId=ue}affects(ue){return!this.languageId||this.languageId===ue}}const W=(0,z.yh)("languageConfigurationService");let J=class extends h.JT{constructor(ue,we){super(),this.configurationService=ue,this.languageService=we,this.onDidChangeEmitter=this._register(new v.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const He=new Set(Object.values(ye));this._register(this.configurationService.onDidChangeConfiguration(lt=>{const ut=lt.change.keys.some(ct=>He.has(ct)),Ve=lt.change.overrides.filter(([ct,Nt])=>Nt.some(un=>He.has(un))).map(([ct])=>ct);if(ut)this.configurations.clear(),this.onDidChangeEmitter.fire(new P(void 0));else for(const ct of Ve)this.languageService.isRegisteredLanguageId(ct)&&(this.configurations.delete(ct),this.onDidChangeEmitter.fire(new P(ct)))})),this._register($.onDidChange(lt=>{this.configurations.delete(lt.languageId),this.onDidChangeEmitter.fire(new P(lt.languageId))}))}getLanguageConfiguration(ue){let we=this.configurations.get(ue);return we||(we=function he(ce,ue,we){let He=$.getLanguageConfiguration(ce);if(!He){if(!we.isRegisteredLanguageId(ce))throw new Error("Unexpected languageId");He=new ne(ce,{})}const lt=function fe(ce,ue){const we=ue.getValue(ye.brackets,{overrideIdentifier:ce}),He=ue.getValue(ye.colorizedBracketPairs,{overrideIdentifier:ce});return{brackets:Se(we),colorizedBracketPairs:Se(He)}}(He.languageId,ue),ut=pe([He.underlyingConfig,lt]);return new ne(He.languageId,ut)}(ue,this.configurationService,this.languageService),this.configurations.set(ue,we)),we}};J=function(ce,ue,we,He){var Ve,lt=arguments.length,ut=lt<3?ue:null===He?He=Object.getOwnPropertyDescriptor(ue,we):He;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ut=Reflect.decorate(ce,ue,we,He);else for(var ct=ce.length-1;ct>=0;ct--)(Ve=ce[ct])&&(ut=(lt<3?Ve(ut):lt>3?Ve(ue,we,ut):Ve(ue,we))||ut);return lt>3&&ut&&Object.defineProperty(ue,we,ut),ut}([M(0,I.Ui),M(1,H.O)],J);const ye={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Se(ce){if(Array.isArray(ce))return ce.map(ue=>{if(Array.isArray(ue)&&2===ue.length)return[ue[0],ue[1]]}).filter(ue=>!!ue)}class Ie{constructor(ue){this.languageId=ue}}const $=new class _e{constructor(){this._entries=new Map,this._onDidChange=new v.Q5,this.onDidChange=this._onDidChange.event}register(ue,we,He=0){let lt=this._entries.get(ue);lt||(lt=new X(ue),this._entries.set(ue,lt));const ut=lt.register(we,He);return this._onDidChange.fire(new Ie(ue)),(0,h.OF)(()=>{ut.dispose(),this._onDidChange.fire(new Ie(ue))})}getLanguageConfiguration(ue){const we=this._entries.get(ue);return(null==we?void 0:we.getResolvedConfiguration())||null}getComments(ue){const we=this.getLanguageConfiguration(ue);return we&&we.comments||null}getIndentRulesSupport(ue){const we=this.getLanguageConfiguration(ue);return we&&we.indentRulesSupport||null}getPrecedingValidLine(ue,we,He){const lt=ue.getLanguageIdAtPosition(we,0);if(we>1){let ut,Ve=-1;for(ut=we-1;ut>=1;ut--){if(ue.getLanguageIdAtPosition(ut,0)!==lt)return Ve;const ct=ue.getLineContent(ut);if(!He.shouldIgnore(ct)&&!/^\s+$/.test(ct)&&""!==ct)return ut;Ve=ut}}return-1}getInheritIndentForLine(ue,we,He,lt=!0){if(ue<4)return null;const ut=this.getIndentRulesSupport(we.getLanguageId());if(!ut)return null;if(He<=1)return{indentation:"",action:null};const Ve=this.getPrecedingValidLine(we,He,ut);if(Ve<0)return null;if(Ve<1)return{indentation:"",action:null};const ct=we.getLineContent(Ve);if(ut.shouldIncrease(ct)||ut.shouldIndentNextLine(ct))return{indentation:Q.V8(ct),action:R.wU.Indent,line:Ve};if(ut.shouldDecrease(ct))return{indentation:Q.V8(ct),action:null,line:Ve};{if(1===Ve)return{indentation:Q.V8(we.getLineContent(Ve)),action:null,line:Ve};const Nt=Ve-1,un=ut.getIndentMetadata(we.getLineContent(Nt));if(!(3&un)&&4&un){let Jt=0;for(let St=Nt-1;St>0;St--)if(!ut.shouldIndentNextLine(we.getLineContent(St))){Jt=St;break}return{indentation:Q.V8(we.getLineContent(Jt+1)),action:null,line:Jt+1}}if(lt)return{indentation:Q.V8(we.getLineContent(Ve)),action:null,line:Ve};for(let Jt=Ve;Jt>0;Jt--){const St=we.getLineContent(Jt);if(ut.shouldIncrease(St))return{indentation:Q.V8(St),action:R.wU.Indent,line:Jt};if(ut.shouldIndentNextLine(St)){let en=0;for(let pn=Jt-1;pn>0;pn--)if(!ut.shouldIndentNextLine(we.getLineContent(Jt))){en=pn;break}return{indentation:Q.V8(we.getLineContent(en+1)),action:null,line:en+1}}if(ut.shouldDecrease(St))return{indentation:Q.V8(St),action:null,line:Jt}}return{indentation:Q.V8(we.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(ue,we,He,lt,ut){if(ue<4)return null;const Ve=this.getLanguageConfiguration(He);if(!Ve)return null;const ct=this.getIndentRulesSupport(He);if(!ct)return null;const Nt=this.getInheritIndentForLine(ue,we,lt),un=we.getLineContent(lt);if(Nt){const Jt=Nt.line;if(void 0!==Jt){const St=Ve.onEnter(ue,"",we.getLineContent(Jt),"");if(St){let en=Q.V8(we.getLineContent(Jt));return St.removeText&&(en=en.substring(0,en.length-St.removeText)),St.indentAction===R.wU.Indent||St.indentAction===R.wU.IndentOutdent?en=ut.shiftIndent(en):St.indentAction===R.wU.Outdent&&(en=ut.unshiftIndent(en)),ct.shouldDecrease(un)&&(en=ut.unshiftIndent(en)),St.appendText&&(en+=St.appendText),Q.V8(en)}}return ct.shouldDecrease(un)?Nt.action===R.wU.Indent?Nt.indentation:ut.unshiftIndent(Nt.indentation):Nt.action===R.wU.Indent?ut.shiftIndent(Nt.indentation):Nt.indentation}return null}getIndentForEnter(ue,we,He,lt){if(ue<4)return null;we.forceTokenization(He.startLineNumber);const ut=we.getLineTokens(He.startLineNumber),Ve=(0,se.wH)(ut,He.startColumn-1),ct=Ve.getLineContent();let un,Jt,Nt=!1;Ve.firstCharOffset>0&&ut.getLanguageId(0)!==Ve.languageId?(Nt=!0,un=ct.substr(0,He.startColumn-1-Ve.firstCharOffset)):un=ut.getLineContent().substring(0,He.startColumn-1),Jt=He.isEmpty()?ct.substr(He.startColumn-1-Ve.firstCharOffset):this.getScopedLineTokens(we,He.endLineNumber,He.endColumn).getLineContent().substr(He.endColumn-1-Ve.firstCharOffset);const St=this.getIndentRulesSupport(Ve.languageId);if(!St)return null;const en=un,pn=Q.V8(un),Xt={getLineTokens:nn=>we.getLineTokens(nn),getLanguageId:()=>we.getLanguageId(),getLanguageIdAtPosition:(nn,Mn)=>we.getLanguageIdAtPosition(nn,Mn),getLineContent:nn=>nn===He.startLineNumber?en:we.getLineContent(nn)},ze=Q.V8(ut.getLineContent()),At=this.getInheritIndentForLine(ue,Xt,He.startLineNumber+1);if(!At){const nn=Nt?ze:pn;return{beforeEnter:nn,afterEnter:nn}}let Kt=Nt?ze:At.indentation;return At.action===R.wU.Indent&&(Kt=lt.shiftIndent(Kt)),St.shouldDecrease(Jt)&&(Kt=lt.unshiftIndent(Kt)),{beforeEnter:Nt?ze:pn,afterEnter:Kt}}getIndentActionForType(ue,we,He,lt,ut){if(ue<4)return null;const Ve=this.getScopedLineTokens(we,He.startLineNumber,He.startColumn);if(Ve.firstCharOffset)return null;const ct=this.getIndentRulesSupport(Ve.languageId);if(!ct)return null;const Nt=Ve.getLineContent(),un=Nt.substr(0,He.startColumn-1-Ve.firstCharOffset);let Jt;if(Jt=He.isEmpty()?Nt.substr(He.startColumn-1-Ve.firstCharOffset):this.getScopedLineTokens(we,He.endLineNumber,He.endColumn).getLineContent().substr(He.endColumn-1-Ve.firstCharOffset),!ct.shouldDecrease(un+Jt)&&ct.shouldDecrease(un+lt+Jt)){const St=this.getInheritIndentForLine(ue,we,He.startLineNumber,!1);if(!St)return null;let en=St.indentation;return St.action!==R.wU.Indent&&(en=ut.unshiftIndent(en)),en}return null}getIndentMetadata(ue,we){const He=this.getIndentRulesSupport(ue.getLanguageId());return!He||we<1||we>ue.getLineCount()?null:He.getIndentMetadata(ue.getLineContent(we))}getEnterAction(ue,we,He){const lt=this.getScopedLineTokens(we,He.startLineNumber,He.startColumn),ut=this.getLanguageConfiguration(lt.languageId);if(!ut)return null;const Ve=lt.getLineContent(),ct=Ve.substr(0,He.startColumn-1-lt.firstCharOffset);let Nt;Nt=He.isEmpty()?Ve.substr(He.startColumn-1-lt.firstCharOffset):this.getScopedLineTokens(we,He.endLineNumber,He.endColumn).getLineContent().substr(He.endColumn-1-lt.firstCharOffset);let un="";if(He.startLineNumber>1&&0===lt.firstCharOffset){const ze=this.getScopedLineTokens(we,He.startLineNumber-1);ze.languageId===lt.languageId&&(un=ze.getLineContent())}const Jt=ut.onEnter(ue,un,ct,Nt);if(!Jt)return null;const St=Jt.indentAction;let en=Jt.appendText;const pn=Jt.removeText||0;en?St===R.wU.Indent&&(en="\t"+en):en=St===R.wU.Indent||St===R.wU.IndentOutdent?"\t":"";let Xt=this.getIndentationAtPosition(we,He.startLineNumber,He.startColumn);return pn&&(Xt=Xt.substring(0,Xt.length-pn)),{indentAction:St,appendText:en,removeText:pn,indentation:Xt}}getIndentationAtPosition(ue,we,He){const lt=ue.getLineContent(we);let ut=Q.V8(lt);return ut.length>He-1&&(ut=ut.substring(0,He-1)),ut}getScopedLineTokens(ue,we,He){ue.forceTokenization(we);const lt=ue.getLineTokens(we),ut=void 0===He?ue.getLineMaxColumn(we)-1:He-1;return(0,se.wH)(lt,ut)}};class X{constructor(ue){this.languageId=ue,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ue,we){const He=new re(ue,we,++this._order);return this._entries.push(He),this._resolved=null,(0,h.OF)(()=>{for(let lt=0;lt<this._entries.length;lt++)if(this._entries[lt]===He){this._entries.splice(lt,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ue=this._resolve();ue&&(this._resolved=new ne(this.languageId,ue))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(re.cmp),pe(this._entries.map(ue=>ue.configuration)))}}function pe(ce){let ue={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const we of ce)ue={comments:we.comments||ue.comments,brackets:we.brackets||ue.brackets,wordPattern:we.wordPattern||ue.wordPattern,indentationRules:we.indentationRules||ue.indentationRules,onEnterRules:we.onEnterRules||ue.onEnterRules,autoClosingPairs:we.autoClosingPairs||ue.autoClosingPairs,surroundingPairs:we.surroundingPairs||ue.surroundingPairs,autoCloseBefore:we.autoCloseBefore||ue.autoCloseBefore,folding:we.folding||ue.folding,colorizedBracketPairs:we.colorizedBracketPairs||ue.colorizedBracketPairs,__electricCharacterSupport:we.__electricCharacterSupport||ue.__electricCharacterSupport};return ue}class re{constructor(ue,we,He){this.configuration=ue,this.priority=we,this.order=He}static cmp(ue,we){return ue.priority===we.priority?ue.order-we.order:ue.priority-we.priority}}class ne{constructor(ue,we){this.languageId=ue,this.underlyingConfig=we,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new T(this.underlyingConfig):null,this.comments=ne._handleComments(this.underlyingConfig),this.characterPair=new j(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||k.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new F(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,k.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new x.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new w(this.brackets)),this._electricCharacter}onEnter(ue,we,He,lt){return this._onEnterSupport?this._onEnterSupport.onEnter(ue,we,He,lt):null}getAutoClosingPairs(){return new R.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ue){const we=ue.comments;if(!we)return null;const He={};if(we.lineComment&&(He.lineCommentToken=we.lineComment),we.blockComment){const[lt,ut]=we.blockComment;He.blockCommentStartToken=lt,He.blockCommentEndToken=ut}return He}}(0,K.z)(W,J)},4669:(vt,Ke,m)=>{m.d(Ke,{dQ:()=>V,bd:()=>x});var v=m(402),h=m(2787),Q=m(7372),k=m(9537),R=m(9341),se=m(7732);const V=new class Y{constructor(){this._onDidChangeLanguages=new h.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(F){return this._languages.push(F),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let f=0,T=this._languages.length;f<T;f++)if(this._languages[f]===F)return void this._languages.splice(f,1)}}}getLanguages(){return this._languages}};k.B.add("editor.modesRegistry",V);const x="plaintext";V.registerLanguage({id:x,extensions:[".txt"],aliases:[v.N("plainText.alias","Plain Text"),"text"],mimetypes:[R.v.text]}),Q.zu.register(x,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),k.B.as(se.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},5052:(vt,Ke,m)=>{m.d(Ke,{TJ:()=>h,Ri:()=>Q,Dy:()=>k});var v=m(5283);const h=new class{clone(){return this}equals(R){return this===R}};function Q(R,se){return new v.hG([new v.WU(0,"",R)],se)}function k(R,se){const j=new Uint32Array(2);return j[0]=0,j[1]=(16384|R<<0|2<<23)>>>0,new v.DI(j,null===se?h:se)}},8555:(vt,Ke,m)=>{function v(k,R){const se=k.getCount(),j=k.findTokenIndexAtOffset(R),Y=k.getLanguageId(j);let V=j;for(;V+1<se&&k.getLanguageId(V+1)===Y;)V++;let x=j;for(;x>0&&k.getLanguageId(x-1)===Y;)x--;return new h(k,Y,x,V+1,k.getStartOffset(x),k.getEndOffset(V))}m.d(Ke,{wH:()=>v,Bu:()=>Q});class h{constructor(R,se,j,Y,V,x){this._scopedLineTokensBrand=void 0,this._actual=R,this.languageId=se,this._firstTokenIndex=j,this._lastTokenIndex=Y,this.firstCharOffset=V,this._lastCharOffset=x}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(R){return this._actual.getLineContent().substring(0,this.firstCharOffset+R)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(R){return this._actual.findTokenIndexAtOffset(R+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(R){return this._actual.getStandardTokenType(R+this._firstTokenIndex)}}function Q(k){return 0!=(3&k)}},3404:(vt,Ke,m)=>{m.d(Ke,{EA:()=>se,Vr:()=>I});var v=m(4705),h=m(8511),Q=m(8451);class k{constructor(K,N,M,P,W,J){this._richEditBracketBrand=void 0,this.languageId=K,this.index=N,this.open=M,this.close=P,this.forwardRegex=W,this.reversedRegex=J,this._openSet=k._toSet(this.open),this._closeSet=k._toSet(this.close)}isOpen(K){return this._openSet.has(K)}isClose(K){return this._closeSet.has(K)}static _toSet(K){const N=new Set;for(const M of K)N.add(M);return N}}class se{constructor(K,N){this._richEditBracketsBrand=void 0;const M=function R(H){const K=H.length;H=H.map(J=>[J[0].toLowerCase(),J[1].toLowerCase()]);const N=[];for(let J=0;J<K;J++)N[J]=J;const M=(J,he)=>{const[ye,fe]=J,[Se,Ie]=he;return ye===Se||ye===Ie||fe===Se||fe===Ie},P=(J,he)=>{const ye=Math.min(J,he),fe=Math.max(J,he);for(let Se=0;Se<K;Se++)N[Se]===fe&&(N[Se]=ye)};for(let J=0;J<K;J++){const he=H[J];for(let ye=J+1;ye<K;ye++)M(he,H[ye])&&P(N[J],N[ye])}const W=[];for(let J=0;J<K;J++){const he=[],ye=[];for(let fe=0;fe<K;fe++)if(N[fe]===J){const[Se,Ie]=H[fe];he.push(Se),ye.push(Ie)}he.length>0&&W.push({open:he,close:ye})}return W}(N);this.brackets=M.map((P,W)=>new k(K,W,P.open,P.close,function x(H,K,N,M){let P=[];P=P.concat(H),P=P.concat(K);for(let W=0,J=P.length;W<J;W++)j(P[W],N,M,P);return P=V(P),P.sort(Y),P.reverse(),T(P)}(P.open,P.close,M,W),function w(H,K,N,M){let P=[];P=P.concat(H),P=P.concat(K);for(let W=0,J=P.length;W<J;W++)j(P[W],N,M,P);return P=V(P),P.sort(Y),P.reverse(),T(P.map(z))}(P.open,P.close,M,W))),this.forwardRegex=function D(H){let K=[];for(const N of H){for(const M of N.open)K.push(M);for(const M of N.close)K.push(M)}return K=V(K),T(K)}(this.brackets),this.reversedRegex=function F(H){let K=[];for(const N of H){for(const M of N.open)K.push(M);for(const M of N.close)K.push(M)}return K=V(K),T(K.map(z))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const P of this.brackets){for(const W of P.open)this.textIsBracket[W]=P,this.textIsOpenBracket[W]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,W.length);for(const W of P.close)this.textIsBracket[W]=P,this.textIsOpenBracket[W]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,W.length)}}}function j(H,K,N,M){for(let P=0,W=K.length;P<W;P++){if(P===N)continue;const J=K[P];for(const he of J.open)he.indexOf(H)>=0&&M.push(he);for(const he of J.close)he.indexOf(H)>=0&&M.push(he)}}function Y(H,K){return H.length-K.length}function V(H){if(H.length<=1)return H;const K=[],N=new Set;for(const M of H)N.has(M)||(K.push(M),N.add(M));return K}function f(H){const K=/^[\w ]+$/.test(H);return H=v.ec(H),K?`\\b${H}\\b`:H}function T(H){const K=`(${H.map(f).join(")|(")})`;return v.GF(K,!0)}const z=function(){let K=null,N=null;return function(P){return K!==P&&(K=P,N=function H(M){if(h.lZ){const P=new Uint16Array(M.length);let W=0;for(let J=M.length-1;J>=0;J--)P[W++]=M.charCodeAt(J);return h.oe().decode(P)}{const P=[];let W=0;for(let J=M.length-1;J>=0;J--)P[W++]=M.charAt(J);return P.join("")}}(K)),N}}();class I{static _findPrevBracketInText(K,N,M,P){const W=M.match(K);if(!W)return null;const ye=P+(M.length-(W.index||0));return new Q.e(N,ye-W[0].length+1,N,ye+1)}static findPrevBracketInRange(K,N,M,P,W){const he=z(M).substring(M.length-W,M.length-P);return this._findPrevBracketInText(K,N,he,P)}static findNextBracketInText(K,N,M,P){const W=M.match(K);if(!W)return null;const he=W[0].length;if(0===he)return null;const ye=P+(W.index||0);return new Q.e(N,ye+1,N,ye+1+he)}static findNextBracketInRange(K,N,M,P,W){const J=M.substring(P,W);return this.findNextBracketInText(K,N,J,P)}}},6689:(vt,Ke,m)=>{m.d(Ke,{C2:()=>j,Fq:()=>Y});var v=m(4705),h=m(8028),Q=m(5283),k=m(5052);const se={getInitialState:()=>k.TJ,tokenizeEncoded:(x,w,D)=>(0,k.Dy)(0,D)};function j(x,w,D){return function(x,w,D,F){return new(D||(D=Promise))(function(T,z){function I(N){try{K(F.next(N))}catch(M){z(M)}}function H(N){try{K(F.throw(N))}catch(M){z(M)}}function K(N){N.done?T(N.value):function f(T){return T instanceof D?T:new D(function(z){z(T)})}(N.value).then(I,H)}K((F=F.apply(x,w||[])).next())})}(this,void 0,void 0,function*(){if(!D)return V(w,x.languageIdCodec,se);const F=yield Q.RW.getOrCreate(D);return V(w,x.languageIdCodec,F||se)})}function Y(x,w,D,F,f,T,z){let I="<div>",H=F,K=0,N=!0;for(let M=0,P=w.getCount();M<P;M++){const W=w.getEndOffset(M);if(W<=F)continue;let J="";for(;H<W&&H<f;H++){const he=x.charCodeAt(H);switch(he){case 9:{let ye=T-(H+K)%T;for(K+=ye-1;ye>0;)z&&N?(J+="&#160;",N=!1):(J+=" ",N=!0),ye--;break}case 60:J+="&lt;",N=!1;break;case 62:J+="&gt;",N=!1;break;case 38:J+="&amp;",N=!1;break;case 0:J+="&#00;",N=!1;break;case 65279:case 8232:case 8233:case 133:J+="\ufffd",N=!1;break;case 13:J+="&#8203",N=!1;break;case 32:z&&N?(J+="&#160;",N=!1):(J+=" ",N=!0);break;default:J+=String.fromCharCode(he),N=!1}}if(I+=`<span style="${w.getInlineStyle(M,D)}">${J}</span>`,W>f||H>=f)break}return I+="</div>",I}function V(x,w,D){let F='<div class="monaco-tokenized-source">';const f=v.uq(x);let T=D.getInitialState();for(let z=0,I=f.length;z<I;z++){const H=f[z];z>0&&(F+="<br/>");const K=D.tokenizeEncoded(H,!0,T);h.A.convertToEndOffset(K.tokens,H.length);const M=new h.A(K.tokens,H,w).inflate();let P=0;for(let W=0,J=M.getCount();W<J;W++){const he=M.getClassName(W),ye=M.getEndOffset(W);F+=`<span class="${he}">${v.YU(H.substring(P,ye))}</span>`,P=ye}T=K.endState}return F+="</div>",F}},5234:(vt,Ke,m)=>{m.d(Ke,{a:()=>R});var v=m(8451),h=m(1154),Q=m(4705),k=m(4435);class R{static computeUnicodeHighlights(V,x,w){const D=w?w.startLineNumber:1,F=w?w.endLineNumber:V.getLineCount(),f=new j(x),T=f.getCandidateCodePoints();let z;z="allNonBasicAscii"===T?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function se(Y,V){return`[${Q.ec(Y.map(w=>String.fromCodePoint(w)).join(""))}]`}(Array.from(T))}`,"g");const I=new h.sz(null,z),H=[];let N,K=!1,M=0,P=0,W=0;e:for(let J=D,he=F;J<=he;J++){const ye=V.getLineContent(J),fe=ye.length;I.reset(0);do{if(N=I.next(ye),N){let Se=N.index,Ie=N.index+N[0].length;if(Se>0){const X=ye.charCodeAt(Se-1);Q.ZG(X)&&Se--}if(Ie+1<fe){const X=ye.charCodeAt(Ie-1);Q.ZG(X)&&Ie++}const _e=ye.substring(Se,Ie),$=f.shouldHighlightNonBasicASCII(_e);if(0!==$){if(3===$?M++:2===$?P++:1===$?W++:(0,k.vE)($),H.length>=1e3){K=!0;break e}H.push(new v.e(J,Se+1,J,Ie+1))}}}while(N)}return{ranges:H,hasMore:K,ambiguousCharacterCount:M,invisibleCharacterCount:P,nonBasicAsciiCharacterCount:W}}static computeUnicodeHighlightReason(V,x){const w=new j(x);switch(w.shouldHighlightNonBasicASCII(V)){case 0:return null;case 2:return{kind:1};case 3:{const F=V.codePointAt(0),f=w.ambiguousCharacters.getPrimaryConfusable(F),T=Q.ZK.getLocales().filter(z=>!Q.ZK.getInstance(new Set([...x.allowedLocales,z])).isAmbiguous(F));return{kind:0,confusableWith:String.fromCodePoint(f),notAmbiguousInLocales:T}}case 1:return{kind:2}}}}class j{constructor(V){this.options=V,this.allowedCodePoints=new Set(V.allowedCodePoints),this.ambiguousCharacters=Q.ZK.getInstance(new Set(V.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const V=new Set;if(this.options.invisibleCharacters)for(const x of Q.vU.codePoints)V.add(x);if(this.options.ambiguousCharacters)for(const x of this.ambiguousCharacters.getConfusableCodePoints())V.add(x);for(const x of this.allowedCodePoints)V.delete(x);return V}shouldHighlightNonBasicASCII(V){const x=V.codePointAt(0);return this.allowedCodePoints.has(x)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&" "!==V&&"\n"!==V&&"\t"!==V&&Q.vU.isInvisibleCharacter(x)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(x)?3:0}}},2213:(vt,Ke,m)=>{m.d(Ke,{sh:()=>h,F5:()=>Q,RM:()=>k,dJ:()=>R,tk:()=>se,Qi:()=>j,Tx:()=>Y,je:()=>V,pt:()=>x});var v=m(5271),h=(()=>{return(w=h||(h={}))[w.Left=1]="Left",w[w.Center=2]="Center",w[w.Right=4]="Right",w[w.Full=7]="Full",h;var w})(),Q=(()=>{return(w=Q||(Q={}))[w.Inline=1]="Inline",w[w.Gutter=2]="Gutter",Q;var w})(),k=(()=>{return(w=k||(k={}))[w.Both=0]="Both",w[w.Right=1]="Right",w[w.Left=2]="Left",w[w.None=3]="None",k;var w})();class R{constructor(D){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|D.tabSize),this.indentSize=0|D.tabSize,this.insertSpaces=Boolean(D.insertSpaces),this.defaultEOL=0|D.defaultEOL,this.trimAutoWhitespace=Boolean(D.trimAutoWhitespace),this.bracketPairColorizationOptions=D.bracketPairColorizationOptions}equals(D){return this.tabSize===D.tabSize&&this.indentSize===D.indentSize&&this.insertSpaces===D.insertSpaces&&this.defaultEOL===D.defaultEOL&&this.trimAutoWhitespace===D.trimAutoWhitespace&&(0,v.fS)(this.bracketPairColorizationOptions,D.bracketPairColorizationOptions)}createChangeEvent(D){return{tabSize:this.tabSize!==D.tabSize,indentSize:this.indentSize!==D.indentSize,insertSpaces:this.insertSpaces!==D.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==D.trimAutoWhitespace}}}class se{constructor(D,F){this._findMatchBrand=void 0,this.range=D,this.matches=F}}class j{constructor(D,F,f,T,z,I){this.identifier=D,this.range=F,this.text=f,this.forceMoveMarkers=T,this.isAutoWhitespaceEdit=z,this._isTracked=I}}class Y{constructor(D,F,f){this.regex=D,this.wordSeparators=F,this.simpleSearch=f}}class V{constructor(D,F,f){this.reverseEdits=D,this.changes=F,this.trimAutoWhitespaceLineNumbers=f}}function x(w){return!w.isTooLargeForSyncing()&&!w.isForSimpleWidget}},5673:(vt,Ke,m)=>{m.d(Ke,{Kd:()=>R,Y0:()=>se,BH:()=>F,n2:()=>f,Dm:()=>T});var v=m(4826),h=m(9329),Q=m(830);class k{constructor(I){this._length=I}get length(){return this._length}}class R extends k{constructor(I,H,K,N,M){super(I),this.openingBracket=H,this.child=K,this.closingBracket=N,this.missingOpeningBracketIds=M}static create(I,H,K){let N=I.length;return H&&(N=(0,h.Ii)(N,H.length)),K&&(N=(0,h.Ii)(N,K.length)),new R(N,I,H,K,H?H.missingOpeningBracketIds:Q.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(I){switch(I){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const I=new Array;return I.push(this.openingBracket),this.child&&I.push(this.child),this.closingBracket&&I.push(this.closingBracket),I}canBeReused(I){return!(null===this.closingBracket||I.intersects(this.missingOpeningBracketIds))}deepClone(){return new R(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(I,H){return this.child?this.child.computeMinIndentation((0,h.Ii)(I,this.openingBracket.length),H):Number.MAX_SAFE_INTEGER}}class se extends k{constructor(I,H,K){super(I),this.listHeight=H,this._missingOpeningBracketIds=K,this.cachedMinIndentation=-1}static create23(I,H,K,N=!1){let M=I.length,P=I.missingOpeningBracketIds;if(I.listHeight!==H.listHeight)throw new Error("Invalid list heights");if(M=(0,h.Ii)(M,H.length),P=P.merge(H.missingOpeningBracketIds),K){if(I.listHeight!==K.listHeight)throw new Error("Invalid list heights");M=(0,h.Ii)(M,K.length),P=P.merge(K.missingOpeningBracketIds)}return N?new Y(M,I.listHeight+1,I,H,K,P):new j(M,I.listHeight+1,I,H,K,P)}static getEmpty(){return new x(h.xl,0,[],Q.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const I=this.childrenLength;if(0===I)return;const H=this.getChild(I-1),K=4===H.kind?H.toMutable():H;return H!==K&&this.setChild(I-1,K),K}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const H=this.getChild(0),K=4===H.kind?H.toMutable():H;return H!==K&&this.setChild(0,K),K}canBeReused(I){if(I.intersects(this.missingOpeningBracketIds))return!1;let K,H=this;for(;4===H.kind&&(K=H.childrenLength)>0;)H=H.getChild(K-1);return H.canBeReused(I)}handleChildrenChanged(){this.throwIfImmutable();const I=this.childrenLength;let H=this.getChild(0).length,K=this.getChild(0).missingOpeningBracketIds;for(let N=1;N<I;N++){const M=this.getChild(N);H=(0,h.Ii)(H,M.length),K=K.merge(M.missingOpeningBracketIds)}this._length=H,this._missingOpeningBracketIds=K,this.cachedMinIndentation=-1}computeMinIndentation(I,H){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let K=Number.MAX_SAFE_INTEGER,N=I;for(let M=0;M<this.childrenLength;M++){const P=this.getChild(M);P&&(K=Math.min(K,P.computeMinIndentation(N,H)),N=(0,h.Ii)(N,P.length))}return this.cachedMinIndentation=K,K}}class j extends se{constructor(I,H,K,N,M,P){super(I,H,P),this._item1=K,this._item2=N,this._item3=M}get childrenLength(){return null!==this._item3?3:2}getChild(I){switch(I){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(I,H){switch(I){case 0:return void(this._item1=H);case 1:return void(this._item2=H);case 2:return void(this._item3=H)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new j(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(I){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=I,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const I=this._item3;return this._item3=null,this.handleChildrenChanged(),I}prependChildOfSameHeight(I){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=I,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const I=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),I}toMutable(){return this}}class Y extends j{toMutable(){return new j(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class V extends se{constructor(I,H,K,N){super(I,H,N),this._children=K}get childrenLength(){return this._children.length}getChild(I){return this._children[I]}setChild(I,H){this._children[I]=H}get children(){return this._children}deepClone(){const I=new Array(this._children.length);for(let H=0;H<this._children.length;H++)I[H]=this._children[H].deepClone();return new V(this.length,this.listHeight,I,this.missingOpeningBracketIds)}appendChildOfSameHeight(I){this.throwIfImmutable(),this._children.push(I),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const I=this._children.pop();return this.handleChildrenChanged(),I}prependChildOfSameHeight(I){this.throwIfImmutable(),this._children.unshift(I),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const I=this._children.shift();return this.handleChildrenChanged(),I}toMutable(){return this}}class x extends V{toMutable(){return new V(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const w=[];class D extends k{get listHeight(){return 0}get childrenLength(){return 0}getChild(I){return null}get children(){return w}deepClone(){return this}}class F extends D{get kind(){return 0}get missingOpeningBracketIds(){return Q.tS.getEmpty()}canBeReused(I){return!0}computeMinIndentation(I,H){const K=(0,h.Hw)(I),N=(0===K.columnCount?K.lineCount:K.lineCount+1)+1,M=(0,h.W9)((0,h.Ii)(I,this.length))+1;let P=Number.MAX_SAFE_INTEGER;for(let W=N;W<=M;W++){const J=H.getLineFirstNonWhitespaceColumn(W),he=H.getLineContent(W);if(0===J)continue;const ye=v.i.visibleColumnFromColumn(he,J,H.getOptions().tabSize);P=Math.min(P,ye)}return P}}class f extends D{constructor(I,H,K){super(I),this.languageId=H,this.bracketIds=K}static create(I,H,K){return new f(I,H,K)}get kind(){return 1}get missingOpeningBracketIds(){return Q.tS.getEmpty()}canBeReused(I){return!1}computeMinIndentation(I,H){return Number.MAX_SAFE_INTEGER}}class T extends D{constructor(I,H){super(H),this.missingOpeningBracketIds=I}get kind(){return 3}canBeReused(I){return!I.intersects(this.missingOpeningBracketIds)}computeMinIndentation(I,H){return Number.MAX_SAFE_INTEGER}}},6155:(vt,Ke,m)=>{m.d(Ke,{Q:()=>h,Y:()=>Q});var v=m(9329);class h{constructor(se,j,Y){this.startOffset=se,this.endOffset=j,this.newLength=Y}}class Q{constructor(se,j){this.documentLength=j,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=se.map(Y=>k.from(Y))}getOffsetBeforeChange(se){return this.adjustNextEdit(se),this.translateCurToOld(se)}getDistanceToNextChange(se){this.adjustNextEdit(se);const j=this.edits[this.nextEditIdx],Y=j?this.translateOldToCur(j.offsetObj):this.documentLength;return(0,v.BE)(se,Y)}translateOldToCur(se){return(0,v.Hg)(se.lineCount+this.deltaOldToNewLineCount,se.lineCount===this.deltaLineIdxInOld?se.columnCount+this.deltaOldToNewColumnCount:se.columnCount)}translateCurToOld(se){const j=(0,v.Hw)(se);return(0,v.Hg)(j.lineCount-this.deltaOldToNewLineCount,j.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?j.columnCount-this.deltaOldToNewColumnCount:j.columnCount)}adjustNextEdit(se){for(;this.nextEditIdx<this.edits.length;){const j=this.edits[this.nextEditIdx],Y=this.translateOldToCur(j.endOffsetAfterObj);if(!(0,v.By)(Y,se))break;{this.nextEditIdx++;const V=(0,v.Hw)(Y),x=(0,v.Hw)(this.translateOldToCur(j.endOffsetBeforeObj));this.deltaOldToNewLineCount+=V.lineCount-x.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===j.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(V.columnCount-x.columnCount),this.deltaLineIdxInOld=j.endOffsetBeforeObj.lineCount}}}}class k{constructor(se,j,Y){this.endOffsetBeforeObj=(0,v.Hw)(j),this.endOffsetAfterObj=(0,v.Hw)((0,v.Ii)(se,Y)),this.offsetObj=(0,v.Hw)(se)}static from(se){return new k(se.startOffset,se.endOffset,se.newLength)}}},3087:(vt,Ke,m)=>{m.d(Ke,{Z:()=>Y});var v=m(4705),h=m(5673),Q=m(9329),k=m(830),R=m(9462);class se{constructor(x){this.map=x,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(x,w){function D(I,H){return w.getKey(`${I}:::${H}`)}const F=x.characterPair.getColorizedBrackets(),f=new Map,T=new Set;for(const[I,H]of F){T.add(I);let K=f.get(H);const N=D(x.languageId,I);K||(K={openingBrackets:k.tS.getEmpty(),first:N},f.set(H,K)),K.openingBrackets=K.openingBrackets.add(N,k.Qw)}const z=new Map;for(const[I,H]of f){const K=(0,Q.Hg)(0,I.length);z.set(I,new R.WU(K,2,H.first,H.openingBrackets,h.n2.create(K,x.languageId,H.openingBrackets)))}for(const I of T){const H=(0,Q.Hg)(0,I.length),K=D(x.languageId,I),N=k.tS.getEmpty().add(K,k.Qw);z.set(I,new R.WU(H,1,K,N,h.n2.create(H,x.languageId,N)))}return new se(z)}getRegExpStr(){if(this.isEmpty)return null;{const x=[...this.map.keys()];return x.sort(),x.reverse(),x.map(w=>function j(V){const x=(0,v.ec)(V);return/^[\w ]+$/.test(V)?`\\b${x}\\b`:x}(w)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const x=this.getRegExpStr();this._regExpGlobal=x?new RegExp(x,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(x){return this.map.get(x)}findClosingTokenText(x){for(const[w,D]of this.map)if(D.bracketIds.intersects(x))return w}get isEmpty(){return 0===this.map.size}}class Y{constructor(x,w){this.denseKeyProvider=x,this.getLanguageConfiguration=w,this.languageIdToBracketTokens=new Map}didLanguageChange(x){const w=this.languageIdToBracketTokens.get(x);if(!w)return!1;const D=se.createFromLanguage(this.getLanguageConfiguration(x),this.denseKeyProvider).getRegExpStr();return w.getRegExpStr()!==D}getSingleLanguageBracketTokens(x){let w=this.languageIdToBracketTokens.get(x);return w||(w=se.createFromLanguage(this.getLanguageConfiguration(x),this.denseKeyProvider),this.languageIdToBracketTokens.set(x,w)),w}}},9329:(vt,Ke,m)=>{m.d(Ke,{av:()=>k,xl:()=>R,xd:()=>se,Hg:()=>Y,Hw:()=>V,W9:()=>x,F_:()=>w,Ii:()=>D,BE:()=>F,VR:()=>f,By:()=>T,Zq:()=>z,PZ:()=>I,Qw:()=>H,oR:()=>K});var v=m(4705),h=m(8451);class Q{constructor(M,P){this.lineCount=M,this.columnCount=P}toString(){return`${this.lineCount},${this.columnCount}`}}function k(N,M,P,W){return N!==P?Y(P-N,W):Y(0,W-M)}Q.zero=new Q(0,0);const R=0;function se(N){return 0===N}const j=Math.pow(2,26);function Y(N,M){return N*j+M}function V(N){const M=N,P=Math.floor(M/j);return new Q(P,M-P*j)}function x(N){return Math.floor(N/j)}function w(N){return N}function D(N,M){return M<j?N+M:N-N%j+M}function F(N,M){const P=N,W=M;if(W-P<=0)return R;const he=Math.floor(P/j),ye=Math.floor(W/j),fe=W-ye*j;return he===ye?Y(0,fe-(P-he*j)):Y(ye-he,fe)}function f(N,M){return N<M}function T(N,M){return N<=M}function z(N,M){return N>=M}function I(N){return Y(N.lineNumber-1,N.column-1)}function H(N,M){const P=N,W=Math.floor(P/j),J=P-W*j,he=M,ye=Math.floor(he/j);return new h.e(W+1,J+1,ye+1,he-ye*j+1)}function K(N){const M=(0,v.uq)(N);return Y(M.length-1,M[M.length-1].length)}},4778:(vt,Ke,m)=>{m.d(Ke,{w:()=>f});var v=m(5673),h=m(6155),Q=m(830),k=m(9329);function se(z,I=!1){if(0===z.length)return null;if(1===z.length)return z[0];let H=z.length;for(;H>3;){const K=H>>1;for(let N=0;N<K;N++){const M=N<<1;z[N]=v.Y0.create23(z[M],z[M+1],M+3===H?z[M+2]:null,I)}H=K}return v.Y0.create23(z[0],z[1],H>=3?z[2]:null,I)}function j(z,I){return Math.abs(z.listHeight-I.listHeight)}function Y(z,I){return z.listHeight===I.listHeight?v.Y0.create23(z,I,null,!1):z.listHeight>I.listHeight?function V(z,I){let H=z=z.toMutable();const K=new Array;let N;for(;;){if(I.listHeight===H.listHeight){N=I;break}if(4!==H.kind)throw new Error("unexpected");K.push(H),H=H.makeLastElementMutable()}for(let M=K.length-1;M>=0;M--){const P=K[M];N?P.childrenLength>=3?N=v.Y0.create23(P.unappendChild(),N,null,!1):(P.appendChildOfSameHeight(N),N=void 0):P.handleChildrenChanged()}return N?v.Y0.create23(z,N,null,!1):z}(z,I):function x(z,I){let H=z=z.toMutable();const K=new Array;for(;I.listHeight!==H.listHeight;){if(4!==H.kind)throw new Error("unexpected");K.push(H),H=H.makeFirstElementMutable()}let N=I;for(let M=K.length-1;M>=0;M--){const P=K[M];N?P.childrenLength>=3?N=v.Y0.create23(N,P.unprependChild(),null,!1):(P.prependChildOfSameHeight(N),N=void 0):P.handleChildrenChanged()}return N?v.Y0.create23(N,z,null,!1):z}(I,z)}class w{constructor(I){this.lastOffset=k.xl,this.nextNodes=[I],this.offsets=[k.xl],this.idxs=[]}readLongestNodeAt(I,H){if((0,k.VR)(I,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=I;;){const K=F(this.nextNodes);if(!K)return;const N=F(this.offsets);if((0,k.VR)(I,N))return;if((0,k.VR)(N,I))if((0,k.Ii)(N,K.length)<=I)this.nextNodeAfterCurrent();else{const M=D(K);-1!==M?(this.nextNodes.push(K.getChild(M)),this.offsets.push(N),this.idxs.push(M)):this.nextNodeAfterCurrent()}else{if(H(K))return this.nextNodeAfterCurrent(),K;{const M=D(K);if(-1===M)return void this.nextNodeAfterCurrent();this.nextNodes.push(K.getChild(M)),this.offsets.push(N),this.idxs.push(M)}}}}nextNodeAfterCurrent(){for(;;){const I=F(this.offsets),H=F(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const K=F(this.nextNodes),N=D(K,this.idxs[this.idxs.length-1]);if(-1!==N){this.nextNodes.push(K.getChild(N)),this.offsets.push((0,k.Ii)(I,H.length)),this.idxs[this.idxs.length-1]=N;break}this.idxs.pop()}}}function D(z,I=-1){for(;;){if(++I>=z.childrenLength)return-1;if(z.getChild(I))return I}}function F(z){return z.length>0?z[z.length-1]:void 0}function f(z,I,H,K){return new T(z,I,H,K).parseDocument()}class T{constructor(I,H,K,N){if(this.tokenizer=I,this.createImmutableLists=N,this._itemsConstructed=0,this._itemsFromCache=0,K&&N)throw new Error("Not supported");this.oldNodeReader=K?new w(K):void 0,this.positionMapper=new h.Y(H,I.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let I=this.parseList(Q.tS.getEmpty());return I||(I=v.Y0.getEmpty()),I}parseList(I){const H=new Array;for(;;){const N=this.tokenizer.peek();if(!N||2===N.kind&&N.bracketIds.intersects(I))break;const M=this.parseChild(I);4===M.kind&&0===M.childrenLength||H.push(M)}return this.oldNodeReader?function R(z){if(0===z.length)return null;if(1===z.length)return z[0];let I=0;function H(){if(I>=z.length)return null;const P=I,W=z[P].listHeight;for(I++;I<z.length&&z[I].listHeight===W;)I++;return I-P>=2?se(0===P&&I===z.length?z:z.slice(P,I),!1):z[P]}let K=H(),N=H();if(!N)return K;for(let P=H();P;P=H())j(K,N)<=j(N,P)?(K=Y(K,N),N=P):N=Y(N,P);return Y(K,N)}(H):se(H,this.createImmutableLists)}parseChild(I){if(this.oldNodeReader){const K=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,k.xd)(K)){const N=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),M=>!!(0,k.VR)(M.length,K)&&M.canBeReused(I));if(N)return this._itemsFromCache++,this.tokenizer.skip(N.length),N}}this._itemsConstructed++;const H=this.tokenizer.read();switch(H.kind){case 2:return new v.Dm(H.bracketIds,H.length);case 0:return H.astNode;case 1:{const K=I.merge(H.bracketIds),N=this.parseList(K),M=this.tokenizer.peek();return M&&2===M.kind&&(M.bracketId===H.bracketId||M.bracketIds.intersects(H.bracketIds))?(this.tokenizer.read(),v.Kd.create(H.astNode,N,M.astNode)):v.Kd.create(H.astNode,N,null)}default:throw new Error("unexpected")}}}},830:(vt,Ke,m)=>{m.d(Ke,{tS:()=>h,Qw:()=>Q,FE:()=>k});const v=new Array;class h{constructor(se,j){this.items=se,this.additionalItems=j}static create(se,j){if(se<=128&&0===j.length){let Y=h.cache[se];return Y||(Y=new h(se,j),h.cache[se]=Y),Y}return new h(se,j)}static getEmpty(){return this.empty}add(se,j){const Y=j.getKey(se);let V=Y>>5;if(0===V){const w=1<<Y|this.items;return w===this.items?this:h.create(w,this.additionalItems)}V--;const x=this.additionalItems.slice(0);for(;x.length<V;)x.push(0);return x[V]|=1<<(31&Y),h.create(this.items,x)}merge(se){const j=this.items|se.items;if(this.additionalItems===v&&se.additionalItems===v)return j===this.items?this:j===se.items?se:h.create(j,v);const Y=new Array;for(let V=0;V<Math.max(this.additionalItems.length,se.additionalItems.length);V++)Y.push((this.additionalItems[V]||0)|(se.additionalItems[V]||0));return h.create(j,Y)}intersects(se){if(0!=(this.items&se.items))return!0;for(let j=0;j<Math.min(this.additionalItems.length,se.additionalItems.length);j++)if(0!=(this.additionalItems[j]&se.additionalItems[j]))return!0;return!1}}h.cache=new Array(129),h.empty=h.create(0,v);const Q={getKey:R=>R};class k{constructor(){this.items=new Map}getKey(se){let j=this.items.get(se);return void 0===j&&(j=this.items.size,this.items.set(se,j)),j}}},9462:(vt,Ke,m)=>{m.d(Ke,{WU:()=>se,xH:()=>j,g:()=>V});var v=m(3663),h=m(5283),Q=m(5673),k=m(9329),R=m(830);class se{constructor(w,D,F,f,T){this.length=w,this.kind=D,this.bracketId=F,this.bracketIds=f,this.astNode=T}}class j{constructor(w,D){this.textModel=w,this.bracketTokens=D,this.reader=new Y(this.textModel,this.bracketTokens),this._offset=k.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=w.getLineCount(),this.textBufferLastLineLength=w.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,k.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(w){this.didPeek=!1,this._offset=(0,k.Ii)(this._offset,w);const D=(0,k.Hw)(this._offset);this.reader.setPosition(D.lineCount,D.columnCount)}read(){let w;return this.peeked?(this.didPeek=!1,w=this.peeked):w=this.reader.read(),w&&(this._offset=(0,k.Ii)(this._offset,w.length)),w}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Y{constructor(w,D){this.textModel=w,this.bracketTokens=D,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=w.getLineCount(),this.textBufferLastLineLength=w.getLineLength(this.textBufferLineCount)}setPosition(w,D){w===this.lineIdx?(this.lineCharOffset=D,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=w,this.lineCharOffset=D,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const T=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,k.F_)(T.length),T}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const w=this.lineIdx,D=this.lineCharOffset;let F=0;for(;;){const T=this.lineTokens,z=T.getCount();let I=null;if(this.lineTokenOffset<z){const H=T.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<z&&H===T.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const K=0===h.NX.getTokenType(H),N=T.getEndOffset(this.lineTokenOffset);if(K&&N!==this.lineCharOffset){const M=T.getLanguageId(this.lineTokenOffset),P=this.line.substring(this.lineCharOffset,N),W=this.bracketTokens.getSingleLanguageBracketTokens(M),J=W.regExpGlobal;if(J){J.lastIndex=0;const he=J.exec(P);he&&(I=W.getToken(he[0]),I&&(this.lineCharOffset+=he.index))}}if(F+=N-this.lineCharOffset,I){if(w!==this.lineIdx||D!==this.lineCharOffset){this.peekedToken=I;break}return this.lineCharOffset+=(0,k.F_)(I.length),I}this.lineTokenOffset++,this.lineCharOffset=N}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,F+=33,F>1e3))break;if(F>1500)break}const f=(0,k.av)(w,D,this.lineIdx,this.lineCharOffset);return new se(f,0,-1,R.tS.getEmpty(),new Q.BH(f))}}class V{constructor(w,D){this.text=w,this._offset=k.xl,this.idx=0;const f=D.getRegExpStr()?new RegExp(D.getRegExpStr()+"|\n","g"):null,T=[];let z,I=0,H=0,K=0,N=0;const M=new Array;for(let J=0;J<60;J++)M.push(new se((0,k.Hg)(0,J),0,-1,R.tS.getEmpty(),new Q.BH((0,k.Hg)(0,J))));const P=new Array;for(let J=0;J<60;J++)P.push(new se((0,k.Hg)(1,J),0,-1,R.tS.getEmpty(),new Q.BH((0,k.Hg)(1,J))));if(f)for(f.lastIndex=0;null!==(z=f.exec(w));){const J=z.index,he=z[0];if("\n"===he)I++,H=J+1;else{if(K!==J){let ye;if(N===I){const fe=J-K;if(fe<M.length)ye=M[fe];else{const Se=(0,k.Hg)(0,fe);ye=new se(Se,0,-1,R.tS.getEmpty(),new Q.BH(Se))}}else{const fe=I-N,Se=J-H;if(1===fe&&Se<P.length)ye=P[Se];else{const Ie=(0,k.Hg)(fe,Se);ye=new se(Ie,0,-1,R.tS.getEmpty(),new Q.BH(Ie))}}T.push(ye)}T.push(D.getToken(he)),K=J+he.length,N=I}}const W=w.length;if(K!==W){const J=N===I?(0,k.Hg)(0,W-K):(0,k.Hg)(I-N,W-H);T.push(new se(J,0,-1,R.tS.getEmpty(),new Q.BH(J)))}this.length=(0,k.Hg)(I,W-H),this.tokens=T}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(w){throw new v.B8}}},4898:(vt,Ke,m)=>{m.d(Ke,{e9:()=>F,NL:()=>f});var v=m(402),h=m(3663),Q=m(3210),k=m(4672),R=m(7614),se=m(8923),j=m(5151);function Y(T){return T.toString()}class V{constructor(z,I,H,K,N,M,P){this.beforeVersionId=z,this.afterVersionId=I,this.beforeEOL=H,this.afterEOL=K,this.beforeCursorState=N,this.afterCursorState=M,this.changes=P}static create(z,I){const H=z.getAlternativeVersionId(),K=D(z);return new V(H,H,K,K,I,I,[])}append(z,I,H,K,N){I.length>0&&(this.changes=(0,R.b)(this.changes,I)),this.afterEOL=H,this.afterVersionId=K,this.afterCursorState=N}static _writeSelectionsSize(z){return 4+16*(z?z.length:0)}static _writeSelections(z,I,H){if(se.T4(z,I?I.length:0,H),H+=4,I)for(const K of I)se.T4(z,K.selectionStartLineNumber,H),se.T4(z,K.selectionStartColumn,H+=4),se.T4(z,K.positionLineNumber,H+=4),se.T4(z,K.positionColumn,H+=4),H+=4;return H}static _readSelections(z,I,H){const K=se.Ag(z,I);I+=4;for(let N=0;N<K;N++){const M=se.Ag(z,I),P=se.Ag(z,I+=4),W=se.Ag(z,I+=4),J=se.Ag(z,I+=4);I+=4,H.push(new Q.Y(M,P,W,J))}return I}serialize(){let z=10+V._writeSelectionsSize(this.beforeCursorState)+V._writeSelectionsSize(this.afterCursorState)+4;for(const K of this.changes)z+=K.writeSize();const I=new Uint8Array(z);let H=0;se.T4(I,this.beforeVersionId,H),H+=4,se.T4(I,this.afterVersionId,H),H+=4,se.Cg(I,this.beforeEOL,H),H+=1,se.Cg(I,this.afterEOL,H),H+=1,H=V._writeSelections(I,this.beforeCursorState,H),H=V._writeSelections(I,this.afterCursorState,H),se.T4(I,this.changes.length,H),H+=4;for(const K of this.changes)H=K.write(I,H);return I.buffer}static deserialize(z){const I=new Uint8Array(z);let H=0;const K=se.Ag(I,H);H+=4;const N=se.Ag(I,H);H+=4;const M=se.Q$(I,H);H+=1;const P=se.Q$(I,H);H+=1;const W=[];H=V._readSelections(I,H,W);const J=[];H=V._readSelections(I,H,J);const he=se.Ag(I,H);H+=4;const ye=[];for(let fe=0;fe<he;fe++)H=R.q.read(I,H,ye);return new V(K,N,M,P,W,J,ye)}}class x{constructor(z,I){this.model=z,this._data=V.create(z,I)}get type(){return 0}get resource(){return k.o.isUri(this.model)?this.model:this.model.uri}get label(){return v.N("edit","Typing")}toString(){return(this._data instanceof V?this._data:V.deserialize(this._data)).changes.map(I=>I.toString()).join(", ")}matchesResource(z){return(k.o.isUri(this.model)?this.model:this.model.uri).toString()===z.toString()}setModel(z){this.model=z}canAppend(z){return this.model===z&&this._data instanceof V}append(z,I,H,K,N){this._data instanceof V&&this._data.append(z,I,H,K,N)}close(){this._data instanceof V&&(this._data=this._data.serialize())}open(){this._data instanceof V||(this._data=V.deserialize(this._data))}undo(){if(k.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof V&&(this._data=this._data.serialize());const z=V.deserialize(this._data);this.model._applyUndo(z.changes,z.beforeEOL,z.beforeVersionId,z.beforeCursorState)}redo(){if(k.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof V&&(this._data=this._data.serialize());const z=V.deserialize(this._data);this.model._applyRedo(z.changes,z.afterEOL,z.afterVersionId,z.afterCursorState)}heapSize(){return this._data instanceof V&&(this._data=this._data.serialize()),this._data.byteLength+168}}function D(T){return"\n"===T.getEOL()?0:1}function F(T){return!!T&&(T instanceof x||T instanceof class w{constructor(z,I){this.type=1,this.label=z,this._isOpen=!0,this._editStackElementsArr=I.slice(0),this._editStackElementsMap=new Map;for(const H of this._editStackElementsArr){const K=Y(H.resource);this._editStackElementsMap.set(K,H)}this._delegate=null}get resources(){return this._editStackElementsArr.map(z=>z.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(z){const I=Y(z);return this._editStackElementsMap.has(I)}setModel(z){const I=Y(k.o.isUri(z)?z:z.uri);this._editStackElementsMap.has(I)&&this._editStackElementsMap.get(I).setModel(z)}canAppend(z){if(!this._isOpen)return!1;const I=Y(z.uri);return!!this._editStackElementsMap.has(I)&&this._editStackElementsMap.get(I).canAppend(z)}append(z,I,H,K,N){const M=Y(z.uri);this._editStackElementsMap.get(M).append(z,I,H,K,N)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const z of this._editStackElementsArr)z.undo()}redo(){for(const z of this._editStackElementsArr)z.redo()}heapSize(z){const I=Y(z);return this._editStackElementsMap.has(I)?this._editStackElementsMap.get(I).heapSize():0}split(){return this._editStackElementsArr}toString(){let z=[];for(const I of this._editStackElementsArr)z.push(`${(0,j.EZ)(I.resource)}: ${I}`);return`{${z.join(", ")}}`}})}class f{constructor(z,I){this._model=z,this._undoRedoService=I}pushStackElement(){const z=this._undoRedoService.getLastElement(this._model.uri);F(z)&&z.close()}popStackElement(){const z=this._undoRedoService.getLastElement(this._model.uri);F(z)&&z.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(z){const I=this._undoRedoService.getLastElement(this._model.uri);if(F(I)&&I.canAppend(this._model))return I;const H=new x(this._model,z);return this._undoRedoService.pushElement(H),H}pushEOL(z){const I=this._getOrCreateEditStackElement(null);this._model.setEOL(z),I.append(this._model,[],D(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(z,I,H){const K=this._getOrCreateEditStackElement(z),N=this._model.applyEdits(I,!0),M=f._computeCursorState(H,N),P=N.map((W,J)=>({index:J,textChange:W.textChange}));return P.sort((W,J)=>W.textChange.oldPosition===J.textChange.oldPosition?W.index-J.index:W.textChange.oldPosition-J.textChange.oldPosition),K.append(this._model,P.map(W=>W.textChange),D(this._model),this._model.getAlternativeVersionId(),M),M}static _computeCursorState(z,I){try{return z?z(I):null}catch(H){return(0,h.dL)(H),null}}}},7225:(vt,Ke,m)=>{m.d(Ke,{W:()=>V,l:()=>Y});var v=m(8337),h=m(4705),Q=m(4826),k=m(8451),se=m(6589),j=m(2904);class Y extends class R{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}{constructor(w,D){super(),this.textModel=w,this.languageConfigurationService=D}getLanguageConfiguration(w){return this.languageConfigurationService.getLanguageConfiguration(w)}_computeIndentLevel(w){return(0,se.q)(this.textModel.getLineContent(w+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(w,D,F){this.assertNotDisposed();const f=this.textModel.getLineCount();if(w<1||w>f)throw new Error("Illegal value for lineNumber");const T=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(T&&T.offSide);let I=-2,H=-1,K=-2,N=-1;const M=pe=>{if(-1!==I&&(-2===I||I>pe-1)){I=-1,H=-1;for(let re=pe-2;re>=0;re--){const ne=this._computeIndentLevel(re);if(ne>=0){I=re,H=ne;break}}}if(-2===K){K=-1,N=-1;for(let re=pe;re<f;re++){const ne=this._computeIndentLevel(re);if(ne>=0){K=re,N=ne;break}}}};let P=-2,W=-1,J=-2,he=-1;const ye=pe=>{if(-2===P){P=-1,W=-1;for(let re=pe-2;re>=0;re--){const ne=this._computeIndentLevel(re);if(ne>=0){P=re,W=ne;break}}}if(-1!==J&&(-2===J||J<pe-1)){J=-1,he=-1;for(let re=pe;re<f;re++){const ne=this._computeIndentLevel(re);if(ne>=0){J=re,he=ne;break}}}};let fe=0,Se=!0,Ie=0,_e=!0,$=0,X=0;for(let pe=0;Se||_e;pe++){const re=w-pe,ne=w+pe;pe>1&&(re<1||re<D)&&(Se=!1),pe>1&&(ne>f||ne>F)&&(_e=!1),pe>5e4&&(Se=!1,_e=!1);let ce=-1;if(Se&&re>=1){const we=this._computeIndentLevel(re-1);we>=0?(K=re-1,N=we,ce=Math.ceil(we/this.textModel.getOptions().indentSize)):(M(re),ce=this._getIndentLevelForWhitespaceLine(z,H,N))}let ue=-1;if(_e&&ne<=f){const we=this._computeIndentLevel(ne-1);we>=0?(P=ne-1,W=we,ue=Math.ceil(we/this.textModel.getOptions().indentSize)):(ye(ne),ue=this._getIndentLevelForWhitespaceLine(z,W,he))}if(0!==pe){if(1===pe){if(ne<=f&&ue>=0&&X+1===ue){Se=!1,fe=ne,Ie=ne,$=ue;continue}if(re>=1&&ce>=0&&ce-1===X){_e=!1,fe=re,Ie=re,$=ce;continue}if(fe=w,Ie=w,$=X,0===$)return{startLineNumber:fe,endLineNumber:Ie,indent:$}}Se&&(ce>=$?fe=re:Se=!1),_e&&(ue>=$?Ie=ne:_e=!1)}else X=ce}return{startLineNumber:fe,endLineNumber:Ie,indent:$}}getLinesBracketGuides(w,D,F,f){var T,z,I,H,K;const N=[],M=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new k.e(w,1,D,this.textModel.getLineMaxColumn(D)));let P;if(F&&M.length>0){const fe=w<=F.lineNumber&&F.lineNumber<=D?M.filter(Se=>k.e.strictContainsPosition(Se.range,F)):this.textModel.bracketPairs.getBracketPairsInRange(k.e.fromPositions(F));P=null===(T=(0,v.dF)(fe,Se=>Se.range.startLineNumber!==Se.range.endLineNumber))||void 0===T?void 0:T.range}const W=new v.H9(M),J=new Array,he=new Array,ye=new V;for(let fe=w;fe<=D;fe++){let Se=new Array;he.length>0&&(Se=Se.concat(he),he.length=0),N.push(Se);for(const _e of W.takeWhile($=>$.openingBracketRange.startLineNumber<=fe)||[]){if(_e.range.startLineNumber===_e.range.endLineNumber)continue;const $=Math.min(this.getVisibleColumnFromPosition(_e.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(I=null===(z=_e.closingBracketRange)||void 0===z?void 0:z.getStartPosition())&&void 0!==I?I:_e.range.getEndPosition()),_e.minVisibleColumnIndentation+1);let X=!1;_e.closingBracketRange&&h.LC(this.textModel.getLineContent(_e.closingBracketRange.startLineNumber))<_e.closingBracketRange.startColumn-1&&(X=!0);const pe=_e.openingBracketRange.getStartPosition(),re=null!==(K=null===(H=_e.closingBracketRange)||void 0===H?void 0:H.getStartPosition())&&void 0!==K?K:_e.range.getEndPosition();J[_e.nestingLevel]=void 0===_e.closingBracketRange?null:{nestingLevel:_e.nestingLevel,guideVisibleColumn:$,start:pe,visibleStartColumn:this.getVisibleColumnFromPosition(pe),end:re,visibleEndColumn:this.getVisibleColumnFromPosition(re),bracketPair:_e,renderHorizontalEndLineAtTheBottom:X}}for(const _e of J){if(!_e)continue;const $=P&&_e.bracketPair.range.equalsRange(P),X=ye.getInlineClassNameOfLevel(_e.nestingLevel)+(f.highlightActive&&$?" "+ye.activeClassName:"");($&&f.horizontalGuides!==j.s6.Disabled||f.includeInactive&&f.horizontalGuides===j.s6.Enabled)&&(_e.start.lineNumber===fe&&_e.guideVisibleColumn<_e.visibleStartColumn&&Se.push(new j.UO(_e.guideVisibleColumn,X,new j.vW(!1,_e.start.column))),_e.end.lineNumber===fe+1&&_e.guideVisibleColumn<_e.visibleEndColumn&&he.push(new j.UO(_e.guideVisibleColumn,X,new j.vW(!_e.renderHorizontalEndLineAtTheBottom,_e.end.column))))}let Ie=Number.MAX_SAFE_INTEGER;for(let _e=J.length-1;_e>=0;_e--){const $=J[_e];if(!$)continue;const X=f.highlightActive&&P&&$.bracketPair.range.equalsRange(P),pe=ye.getInlineClassNameOfLevel($.nestingLevel)+(X?" "+ye.activeClassName:"");(X||f.includeInactive)&&$.renderHorizontalEndLineAtTheBottom&&$.end.lineNumber===fe+1&&he.push(new j.UO($.guideVisibleColumn,pe,null)),!($.end.lineNumber<=fe||$.start.lineNumber>=fe)&&($.guideVisibleColumn>=Ie&&!X||(Ie=$.guideVisibleColumn,(X||f.includeInactive)&&Se.push(new j.UO($.guideVisibleColumn,pe,null))))}Se.sort((_e,$)=>_e.visibleColumn-$.visibleColumn)}return N}getVisibleColumnFromPosition(w){return Q.i.visibleColumnFromColumn(this.textModel.getLineContent(w.lineNumber),w.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(w,D){this.assertNotDisposed();const F=this.textModel.getLineCount();if(w<1||w>F)throw new Error("Illegal value for startLineNumber");if(D<1||D>F)throw new Error("Illegal value for endLineNumber");const f=this.textModel.getOptions(),T=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(T&&T.offSide),I=new Array(D-w+1);let H=-2,K=-1,N=-2,M=-1;for(let P=w;P<=D;P++){const W=P-w,J=this._computeIndentLevel(P-1);if(J>=0)H=P-1,K=J,I[W]=Math.ceil(J/f.indentSize);else{if(-2===H){H=-1,K=-1;for(let he=P-2;he>=0;he--){const ye=this._computeIndentLevel(he);if(ye>=0){H=he,K=ye;break}}}if(-1!==N&&(-2===N||N<P-1)){N=-1,M=-1;for(let he=P;he<F;he++){const ye=this._computeIndentLevel(he);if(ye>=0){N=he,M=ye;break}}}I[W]=this._getIndentLevelForWhitespaceLine(z,K,M)}}return I}_getIndentLevelForWhitespaceLine(w,D,F){const f=this.textModel.getOptions();return-1===D||-1===F?0:D<F?1+Math.floor(D/f.indentSize):D===F||w?Math.ceil(F/f.indentSize):1+Math.floor(F/f.indentSize)}}class V{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(w){return"bracket-indent-guide lvl-"+w%30}}},5589:(vt,Ke,m)=>{m.d(Ke,{oQ:()=>Q,Ck:()=>k});var v=m(8337),h=m(5129);class Q{constructor(j){this.values=j,this.prefixSum=new Uint32Array(j.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(j,Y){j=(0,h.A)(j);const V=this.values,x=this.prefixSum,w=Y.length;return 0!==w&&(this.values=new Uint32Array(V.length+w),this.values.set(V.subarray(0,j),0),this.values.set(V.subarray(j),j+w),this.values.set(Y,j),j-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=j-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(x.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(j,Y){return j=(0,h.A)(j),Y=(0,h.A)(Y),this.values[j]!==Y&&(this.values[j]=Y,j-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=j-1),!0)}removeValues(j,Y){j=(0,h.A)(j),Y=(0,h.A)(Y);const V=this.values,x=this.prefixSum;if(j>=V.length)return!1;const w=V.length-j;return Y>=w&&(Y=w),0!==Y&&(this.values=new Uint32Array(V.length-Y),this.values.set(V.subarray(0,j),0),this.values.set(V.subarray(j+Y),j),this.prefixSum=new Uint32Array(this.values.length),j-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=j-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(x.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(j){return j<0?0:(j=(0,h.A)(j),this._getPrefixSum(j))}_getPrefixSum(j){if(j<=this.prefixSumValidIndex[0])return this.prefixSum[j];let Y=this.prefixSumValidIndex[0]+1;0===Y&&(this.prefixSum[0]=this.values[0],Y++),j>=this.values.length&&(j=this.values.length-1);for(let V=Y;V<=j;V++)this.prefixSum[V]=this.prefixSum[V-1]+this.values[V];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],j),this.prefixSum[j]}getIndexOf(j){j=Math.floor(j),this.getTotalSum();let Y=0,V=this.values.length-1,x=0,w=0,D=0;for(;Y<=V;)if(x=Y+(V-Y)/2|0,w=this.prefixSum[x],D=w-this.values[x],j<D)V=x-1;else{if(!(j>=w))break;Y=x+1}return new R(x,j-D)}}class k{constructor(j){this._values=j,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(j){return this._ensureValid(),0===j?0:this._prefixSum[j-1]}getIndexOf(j){this._ensureValid();const Y=this._indexBySum[j];return new R(Y,j-(Y>0?this._prefixSum[Y-1]:0))}removeValues(j,Y){this._values.splice(j,Y),this._invalidate(j)}insertValues(j,Y){this._values=(0,v.Zv)(this._values,j,Y),this._invalidate(j)}_invalidate(j){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,j-1)}_ensureValid(){if(!this._isValid){for(let j=this._validEndIndex+1,Y=this._values.length;j<Y;j++){const V=this._values[j],x=j>0?this._prefixSum[j-1]:0;this._prefixSum[j]=x+V;for(let w=0;w<V;w++)this._indexBySum[x+w]=j}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(j,Y){this._values[j]!==Y&&(this._values[j]=Y,this._invalidate(j))}}class R{constructor(j,Y){this.index=j,this.remainder=Y,this._prefixSumIndexOfResultBrand=void 0,this.index=j,this.remainder=Y}}},4412:(vt,Ke,m)=>{m.d(Ke,{HS:()=>qs,qx:()=>Co,yO:()=>Is});var v=m(8337),h=m(8927),Q=m(3663),k=m(2787),R=m(2425),se=m(4705),j=m(4672),Y=m(4220),V=m(8451),x=m(3210),w=m(2213);class D{constructor(c,C,O){this.range=c,this.nestingLevel=C,this.isInvalid=O}}class f extends class F{constructor(c,C,O,ee){this.range=c,this.openingBracketRange=C,this.closingBracketRange=O,this.nestingLevel=ee}}{constructor(c,C,O,ee,de){super(c,C,O,ee),this.minVisibleColumnIndentation=de}}var T=m(6155),z=m(3087),I=m(9329),H=m(4778),K=m(830),N=m(9462);class M extends R.JT{constructor(c,C){if(super(),this.textModel=c,this.getLanguageConfiguration=C,this.didChangeEmitter=new k.Q5,this.denseKeyProvider=new K.FE,this.brackets=new z.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(c.onBackgroundTokenizationStateChanged(()=>{if(2===c.backgroundTokenizationState){const O=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,O||this.didChangeEmitter.fire()}})),this._register(c.onDidChangeTokens(({ranges:O})=>{const ee=O.map(de=>new T.Q((0,I.Hg)(de.fromLineNumber-1,0),(0,I.Hg)(de.toLineNumber,0),(0,I.Hg)(de.toLineNumber-de.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(ee,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),0===c.backgroundTokenizationState){const O=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),ee=new N.g(this.textModel.getValue(),O);this.initialAstWithoutTokens=(0,H.w)(ee,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===c.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===c.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(c){return this.brackets.didLanguageChange(c)}handleContentChanged(c){const C=c.changes.map(O=>{const ee=V.e.lift(O.range);return new T.Q((0,I.PZ)(ee.getStartPosition()),(0,I.PZ)(ee.getEndPosition()),(0,I.oR)(O.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(C,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(C,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(c,C,O){const de=C,oe=new N.xH(this.textModel,this.brackets);return(0,H.w)(oe,c,de,O)}getBracketsInRange(c){const C=(0,I.Hg)(c.startLineNumber-1,c.startColumn-1),O=(0,I.Hg)(c.endLineNumber-1,c.endColumn-1),ee=new Array,de=this.initialAstWithoutTokens||this.astWithTokens;return P(de,I.xl,de.length,C,O,ee),ee}getBracketPairsInRange(c,C){const O=new Array,ee=(0,I.PZ)(c.getStartPosition()),de=(0,I.PZ)(c.getEndPosition()),oe=this.initialAstWithoutTokens||this.astWithTokens,Qe=new W(O,C,this.textModel);return J(oe,I.xl,oe.length,ee,de,Qe),O}}function P($e,c,C,O,ee,de,oe=0){if(1===$e.kind){const Qe=(0,I.Qw)(c,C);de.push(new D(Qe,oe-1,!1))}else if(3===$e.kind){const Qe=(0,I.Qw)(c,C);de.push(new D(Qe,oe-1,!0))}else if(4===$e.kind)for(const Qe of $e.children)C=(0,I.Ii)(c,Qe.length),(0,I.By)(c,ee)&&(0,I.Zq)(C,O)&&P(Qe,c,C,O,ee,de,oe),c=C;else if(2===$e.kind){oe++;{const Qe=$e.openingBracket;C=(0,I.Ii)(c,Qe.length),(0,I.By)(c,ee)&&(0,I.Zq)(C,O)&&P(Qe,c,C,O,ee,de,oe),c=C}if($e.child){const Qe=$e.child;C=(0,I.Ii)(c,Qe.length),(0,I.By)(c,ee)&&(0,I.Zq)(C,O)&&P(Qe,c,C,O,ee,de,oe),c=C}if($e.closingBracket){const Qe=$e.closingBracket;C=(0,I.Ii)(c,Qe.length),(0,I.By)(c,ee)&&(0,I.Zq)(C,O)&&P(Qe,c,C,O,ee,de,oe),c=C}}}class W{constructor(c,C,O){this.result=c,this.includeMinIndentation=C,this.textModel=O}}function J($e,c,C,O,ee,de,oe=0){var Qe;if(2===$e.kind){const xt=(0,I.Ii)(c,$e.openingBracket.length);let It=-1;de.includeMinIndentation&&(It=$e.computeMinIndentation(c,de.textModel)),de.result.push(new f((0,I.Qw)(c,C),(0,I.Qw)(c,xt),$e.closingBracket?(0,I.Qw)((0,I.Ii)(xt,(null===(Qe=$e.child)||void 0===Qe?void 0:Qe.length)||I.xl),C):void 0,oe,It)),oe++}let et=c;for(const xt of $e.children){const It=et;et=(0,I.Ii)(et,xt.length),(0,I.By)(It,ee)&&(0,I.By)(O,et)&&J(xt,It,et,O,ee,de,oe)}}var he=m(8555),ye=m(3404);class fe extends R.JT{constructor(c,C){super(),this.textModel=c,this.languageConfigurationService=C,this.bracketPairsTree=this._register(new R.XK),this.onDidChangeEmitter=new k.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(c.onDidChangeOptions(O=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(c.onDidChangeLanguage(O=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(O=>{var ee;(!O.languageId||(null===(ee=this.bracketPairsTree.value)||void 0===ee?void 0:ee.object.didLanguageChange(O.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const c=new R.SL;this.bracketPairsTree.value=function Se($e,c){return{object:$e,dispose:()=>null==c?void 0:c.dispose()}}(c.add(new M(this.textModel,C=>this.languageConfigurationService.getLanguageConfiguration(C))),c),c.add(this.bracketPairsTree.value.object.onDidChange(C=>this.onDidChangeEmitter.fire(C))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(c){var C;null===(C=this.bracketPairsTree.value)||void 0===C||C.object.handleContentChanged(c)}getBracketPairsInRange(c){var C;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(C=this.bracketPairsTree.value)||void 0===C?void 0:C.object.getBracketPairsInRange(c,!1))||[]}getBracketPairsInRangeWithMinIndentation(c){var C;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(C=this.bracketPairsTree.value)||void 0===C?void 0:C.object.getBracketPairsInRange(c,!0))||[]}getBracketsInRange(c){var C;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(C=this.bracketPairsTree.value)||void 0===C?void 0:C.object.getBracketsInRange(c))||[]}findMatchingBracketUp(c,C){const O=c.toLowerCase(),ee=this.textModel.validatePosition(C),de=this.textModel.getLanguageIdAtPosition(ee.lineNumber,ee.column),oe=this.languageConfigurationService.getLanguageConfiguration(de).brackets;if(!oe)return null;const Qe=oe.textIsBracket[O];return Qe?_e(this._findMatchingBracketUp(Qe,ee,null)):null}matchBracket(c){return this._matchBracket(this.textModel.validatePosition(c))}_establishBracketSearchOffsets(c,C,O,ee){const de=C.getCount(),oe=C.getLanguageId(ee);let Qe=Math.max(0,c.column-1-O.maxBracketLength);for(let xt=ee-1;xt>=0;xt--){const It=C.getEndOffset(xt);if(It<=Qe)break;if((0,he.Bu)(C.getStandardTokenType(xt))||C.getLanguageId(xt)!==oe){Qe=It;break}}let et=Math.min(C.getLineContent().length,c.column-1+O.maxBracketLength);for(let xt=ee+1;xt<de;xt++){const It=C.getStartOffset(xt);if(It>=et)break;if((0,he.Bu)(C.getStandardTokenType(xt))||C.getLanguageId(xt)!==oe){et=It;break}}return{searchStartOffset:Qe,searchEndOffset:et}}_matchBracket(c){const C=c.lineNumber,O=this.textModel.getLineTokens(C),ee=this.textModel.getLineContent(C),de=O.findTokenIndexAtOffset(c.column-1);if(de<0)return null;const oe=this.languageConfigurationService.getLanguageConfiguration(O.getLanguageId(de)).brackets;if(oe&&!(0,he.Bu)(O.getStandardTokenType(de))){let{searchStartOffset:Qe,searchEndOffset:et}=this._establishBracketSearchOffsets(c,O,oe,de),xt=null;for(;;){const It=ye.Vr.findNextBracketInRange(oe.forwardRegex,C,ee,Qe,et);if(!It)break;if(It.startColumn<=c.column&&c.column<=It.endColumn){const Ft=ee.substring(It.startColumn-1,It.endColumn-1).toLowerCase(),Yt=this._matchFoundBracket(It,oe.textIsBracket[Ft],oe.textIsOpenBracket[Ft],null);if(Yt){if(Yt instanceof Ie)return null;xt=Yt}}Qe=It.endColumn-1}if(xt)return xt}if(de>0&&O.getStartOffset(de)===c.column-1){const Qe=de-1,et=this.languageConfigurationService.getLanguageConfiguration(O.getLanguageId(Qe)).brackets;if(et&&!(0,he.Bu)(O.getStandardTokenType(Qe))){const{searchStartOffset:xt,searchEndOffset:It}=this._establishBracketSearchOffsets(c,O,et,Qe),Ft=ye.Vr.findPrevBracketInRange(et.reversedRegex,C,ee,xt,It);if(Ft&&Ft.startColumn<=c.column&&c.column<=Ft.endColumn){const Yt=ee.substring(Ft.startColumn-1,Ft.endColumn-1).toLowerCase(),nt=this._matchFoundBracket(Ft,et.textIsBracket[Yt],et.textIsOpenBracket[Yt],null);if(nt)return nt instanceof Ie?null:nt}}}return null}_matchFoundBracket(c,C,O,ee){if(!C)return null;const de=O?this._findMatchingBracketDown(C,c.getEndPosition(),ee):this._findMatchingBracketUp(C,c.getStartPosition(),ee);return de?de instanceof Ie?de:[c,de]:null}_findMatchingBracketUp(c,C,O){const ee=c.languageId,de=c.reversedRegex;let oe=-1,Qe=0;const et=(xt,It,Ft,Yt)=>{for(;;){if(O&&++Qe%100==0&&!O())return Ie.INSTANCE;const nt=ye.Vr.findPrevBracketInRange(de,xt,It,Ft,Yt);if(!nt)break;const Le=It.substring(nt.startColumn-1,nt.endColumn-1).toLowerCase();if(c.isOpen(Le)?oe++:c.isClose(Le)&&oe--,0===oe)return nt;Yt=nt.startColumn-1}return null};for(let xt=C.lineNumber;xt>=1;xt--){const It=this.textModel.getLineTokens(xt),Ft=It.getCount(),Yt=this.textModel.getLineContent(xt);let nt=Ft-1,Le=Yt.length,De=Yt.length;xt===C.lineNumber&&(nt=It.findTokenIndexAtOffset(C.column-1),Le=C.column-1,De=C.column-1);let Fe=!0;for(;nt>=0;nt--){const _t=It.getLanguageId(nt)===ee&&!(0,he.Bu)(It.getStandardTokenType(nt));if(_t)Fe?Le=It.getStartOffset(nt):(Le=It.getStartOffset(nt),De=It.getEndOffset(nt));else if(Fe&&Le!==De){const Gt=et(xt,Yt,Le,De);if(Gt)return Gt}Fe=_t}if(Fe&&Le!==De){const _t=et(xt,Yt,Le,De);if(_t)return _t}}return null}_findMatchingBracketDown(c,C,O){const ee=c.languageId,de=c.forwardRegex;let oe=1,Qe=0;const et=(It,Ft,Yt,nt)=>{for(;;){if(O&&++Qe%100==0&&!O())return Ie.INSTANCE;const Le=ye.Vr.findNextBracketInRange(de,It,Ft,Yt,nt);if(!Le)break;const De=Ft.substring(Le.startColumn-1,Le.endColumn-1).toLowerCase();if(c.isOpen(De)?oe++:c.isClose(De)&&oe--,0===oe)return Le;Yt=Le.endColumn-1}return null},xt=this.textModel.getLineCount();for(let It=C.lineNumber;It<=xt;It++){const Ft=this.textModel.getLineTokens(It),Yt=Ft.getCount(),nt=this.textModel.getLineContent(It);let Le=0,De=0,Fe=0;It===C.lineNumber&&(Le=Ft.findTokenIndexAtOffset(C.column-1),De=C.column-1,Fe=C.column-1);let _t=!0;for(;Le<Yt;Le++){const Gt=Ft.getLanguageId(Le)===ee&&!(0,he.Bu)(Ft.getStandardTokenType(Le));if(Gt)_t||(De=Ft.getStartOffset(Le)),Fe=Ft.getEndOffset(Le);else if(_t&&De!==Fe){const an=et(It,nt,De,Fe);if(an)return an}_t=Gt}if(_t&&De!==Fe){const Gt=et(It,nt,De,Fe);if(Gt)return Gt}}return null}findPrevBracket(c){const C=this.textModel.validatePosition(c);let O=null,ee=null;for(let de=C.lineNumber;de>=1;de--){const oe=this.textModel.getLineTokens(de),Qe=oe.getCount(),et=this.textModel.getLineContent(de);let xt=Qe-1,It=et.length,Ft=et.length;if(de===C.lineNumber){xt=oe.findTokenIndexAtOffset(C.column-1),It=C.column-1,Ft=C.column-1;const nt=oe.getLanguageId(xt);O!==nt&&(O=nt,ee=this.languageConfigurationService.getLanguageConfiguration(O).brackets)}let Yt=!0;for(;xt>=0;xt--){const nt=oe.getLanguageId(xt);if(O!==nt){if(ee&&Yt&&It!==Ft){const De=ye.Vr.findPrevBracketInRange(ee.reversedRegex,de,et,It,Ft);if(De)return this._toFoundBracket(ee,De);Yt=!1}O=nt,ee=this.languageConfigurationService.getLanguageConfiguration(O).brackets}const Le=!!ee&&!(0,he.Bu)(oe.getStandardTokenType(xt));if(Le)Yt?It=oe.getStartOffset(xt):(It=oe.getStartOffset(xt),Ft=oe.getEndOffset(xt));else if(ee&&Yt&&It!==Ft){const De=ye.Vr.findPrevBracketInRange(ee.reversedRegex,de,et,It,Ft);if(De)return this._toFoundBracket(ee,De)}Yt=Le}if(ee&&Yt&&It!==Ft){const nt=ye.Vr.findPrevBracketInRange(ee.reversedRegex,de,et,It,Ft);if(nt)return this._toFoundBracket(ee,nt)}}return null}findNextBracket(c){const C=this.textModel.validatePosition(c),O=this.textModel.getLineCount();let ee=null,de=null;for(let oe=C.lineNumber;oe<=O;oe++){const Qe=this.textModel.getLineTokens(oe),et=Qe.getCount(),xt=this.textModel.getLineContent(oe);let It=0,Ft=0,Yt=0;if(oe===C.lineNumber){It=Qe.findTokenIndexAtOffset(C.column-1),Ft=C.column-1,Yt=C.column-1;const Le=Qe.getLanguageId(It);ee!==Le&&(ee=Le,de=this.languageConfigurationService.getLanguageConfiguration(ee).brackets)}let nt=!0;for(;It<et;It++){const Le=Qe.getLanguageId(It);if(ee!==Le){if(de&&nt&&Ft!==Yt){const Fe=ye.Vr.findNextBracketInRange(de.forwardRegex,oe,xt,Ft,Yt);if(Fe)return this._toFoundBracket(de,Fe);nt=!1}ee=Le,de=this.languageConfigurationService.getLanguageConfiguration(ee).brackets}const De=!!de&&!(0,he.Bu)(Qe.getStandardTokenType(It));if(De)nt||(Ft=Qe.getStartOffset(It)),Yt=Qe.getEndOffset(It);else if(de&&nt&&Ft!==Yt){const Fe=ye.Vr.findNextBracketInRange(de.forwardRegex,oe,xt,Ft,Yt);if(Fe)return this._toFoundBracket(de,Fe)}nt=De}if(de&&nt&&Ft!==Yt){const Le=ye.Vr.findNextBracketInRange(de.forwardRegex,oe,xt,Ft,Yt);if(Le)return this._toFoundBracket(de,Le)}}return null}findEnclosingBrackets(c,C){let O;if(void 0===C)O=null;else{const nt=Date.now();O=()=>Date.now()-nt<=C}const ee=this.textModel.validatePosition(c),de=this.textModel.getLineCount(),oe=new Map;let Qe=[];const et=(nt,Le)=>{if(!oe.has(nt)){const De=[];for(let Fe=0,_t=Le?Le.brackets.length:0;Fe<_t;Fe++)De[Fe]=0;oe.set(nt,De)}Qe=oe.get(nt)};let xt=0;const It=(nt,Le,De,Fe,_t)=>{for(;;){if(O&&++xt%100==0&&!O())return Ie.INSTANCE;const Gt=ye.Vr.findNextBracketInRange(nt.forwardRegex,Le,De,Fe,_t);if(!Gt)break;const an=De.substring(Gt.startColumn-1,Gt.endColumn-1).toLowerCase(),Ln=nt.textIsBracket[an];if(Ln&&(Ln.isOpen(an)?Qe[Ln.index]++:Ln.isClose(an)&&Qe[Ln.index]--,-1===Qe[Ln.index]))return this._matchFoundBracket(Gt,Ln,!1,O);Fe=Gt.endColumn-1}return null};let Ft=null,Yt=null;for(let nt=ee.lineNumber;nt<=de;nt++){const Le=this.textModel.getLineTokens(nt),De=Le.getCount(),Fe=this.textModel.getLineContent(nt);let _t=0,Gt=0,an=0;if(nt===ee.lineNumber){_t=Le.findTokenIndexAtOffset(ee.column-1),Gt=ee.column-1,an=ee.column-1;const zt=Le.getLanguageId(_t);Ft!==zt&&(Ft=zt,Yt=this.languageConfigurationService.getLanguageConfiguration(Ft).brackets,et(Ft,Yt))}let Ln=!0;for(;_t<De;_t++){const zt=Le.getLanguageId(_t);if(Ft!==zt){if(Yt&&Ln&&Gt!==an){const Re=It(Yt,nt,Fe,Gt,an);if(Re)return _e(Re);Ln=!1}Ft=zt,Yt=this.languageConfigurationService.getLanguageConfiguration(Ft).brackets,et(Ft,Yt)}const ci=!!Yt&&!(0,he.Bu)(Le.getStandardTokenType(_t));if(ci)Ln||(Gt=Le.getStartOffset(_t)),an=Le.getEndOffset(_t);else if(Yt&&Ln&&Gt!==an){const Re=It(Yt,nt,Fe,Gt,an);if(Re)return _e(Re)}Ln=ci}if(Yt&&Ln&&Gt!==an){const zt=It(Yt,nt,Fe,Gt,an);if(zt)return _e(zt)}}return null}_toFoundBracket(c,C){if(!C)return null;let O=this.textModel.getValueInRange(C);O=O.toLowerCase();const ee=c.textIsBracket[O];return ee?{range:C,open:ee.open,close:ee.close,isOpen:c.textIsOpenBracket[O]}:null}}class Ie{constructor(){this._searchCanceledBrand=void 0}}function _e($e){return $e instanceof Ie?null:$e}Ie.INSTANCE=new Ie;var $=m(3448),X=m(3024);class pe extends R.JT{constructor(c){super(),this.textModel=c,this.colorProvider=new re,this.onDidChangeEmitter=new k.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=c.getOptions().bracketPairColorizationOptions,this._register(c.onDidChangeOptions(C=>{this.colorizationOptions=c.getOptions().bracketPairColorizationOptions})),this._register(c.bracketPairs.onDidChange(C=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(c,C,O){if(void 0===C)return[];if(!this.colorizationOptions.enabled)return[];const ee=new Array,de=this.textModel.bracketPairs.getBracketsInRange(c);for(const oe of de)ee.push({id:`bracket${oe.range.toString()}-${oe.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(oe)},ownerId:0,range:oe.range});return ee}getAllDecorations(c,C){return void 0===c?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new V.e(1,1,this.textModel.getLineCount(),1),c,C):[]}}class re{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(c){return c.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(c.nestingLevel)}getInlineClassNameOfLevel(c){return"bracket-highlighting-"+c%30}}(0,X.Ic)(($e,c)=>{const C=[$.zJ,$.Vs,$.CE,$.UP,$.r0,$.m1],O=new re;c.addRule(`.monaco-editor .${O.unexpectedClosingBracketClassName} { color: ${$e.getColor($.ts)}; }`);const ee=C.map(de=>$e.getColor(de)).filter(de=>!!de).filter(de=>!de.isTransparent());for(let de=0;de<30;de++){const oe=ee[de%ee.length];c.addRule(`.monaco-editor .${O.getInlineClassNameOfLevel(de)} { color: ${oe}; }`)}});var ne=m(4898),ce=m(7225);class ue{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function we($e,c,C,O,ee){let de;for(ee.spacesDiff=0,ee.looksLikeAlignment=!1,de=0;de<c&&de<O&&$e.charCodeAt(de)===C.charCodeAt(de);de++);let oe=0,Qe=0;for(let Yt=de;Yt<c;Yt++)32===$e.charCodeAt(Yt)?oe++:Qe++;let et=0,xt=0;for(let Yt=de;Yt<O;Yt++)32===C.charCodeAt(Yt)?et++:xt++;if(oe>0&&Qe>0||et>0&&xt>0)return;const It=Math.abs(Qe-xt),Ft=Math.abs(oe-et);if(0===It)return ee.spacesDiff=Ft,void(Ft>0&&0<=et-1&&et-1<$e.length&&et<C.length&&32!==C.charCodeAt(et)&&32===$e.charCodeAt(et-1)&&44===$e.charCodeAt($e.length-1)&&(ee.looksLikeAlignment=!0));Ft%It!=0||(ee.spacesDiff=Ft/It)}function He($e,c,C){const O=Math.min($e.getLineCount(),1e4);let ee=0,de=0,oe="",Qe=0;const et=[2,4,6,8,3,5,7],It=[0,0,0,0,0,0,0,0,0],Ft=new ue;for(let Le=1;Le<=O;Le++){const De=$e.getLineLength(Le),Fe=$e.getLineContent(Le),_t=De<=65536;let Gt=!1,an=0,Ln=0,zt=0;for(let Re=0,wt=De;Re<wt;Re++){const Ze=_t?Fe.charCodeAt(Re):$e.getLineCharCode(Le,Re);if(9===Ze)zt++;else{if(32!==Ze){Gt=!0,an=Re;break}Ln++}}if(!Gt||(zt>0?ee++:Ln>1&&de++,we(oe,Qe,Fe,an,Ft),Ft.looksLikeAlignment&&(!C||c!==Ft.spacesDiff)))continue;const ci=Ft.spacesDiff;ci<=8&&It[ci]++,oe=Fe,Qe=an}let Yt=C;ee!==de&&(Yt=ee<de);let nt=c;if(Yt){let Le=Yt?0:.1*O;et.forEach(De=>{const Fe=It[De];Fe>Le&&(Le=Fe,nt=De)}),4===nt&&It[4]>0&&It[2]>0&&It[2]>=It[4]/2&&(nt=2)}return{insertSpaces:Yt,tabSize:nt}}function lt($e){return(1&$e.metadata)>>>0}function ut($e,c){$e.metadata=254&$e.metadata|c<<0}function Ve($e){return(2&$e.metadata)>>>1==1}function ct($e,c){$e.metadata=253&$e.metadata|(c?1:0)<<1}function Nt($e){return(4&$e.metadata)>>>2==1}function un($e,c){$e.metadata=251&$e.metadata|(c?1:0)<<2}function St($e,c){$e.metadata=231&$e.metadata|c<<3}function pn($e,c){$e.metadata=223&$e.metadata|(c?1:0)<<5}class Xt{constructor(c,C,O){this.metadata=0,this.parent=this,this.left=this,this.right=this,ut(this,1),this.start=C,this.end=O,this.delta=0,this.maxEnd=O,this.id=c,this.ownerId=0,this.options=null,un(this,!1),St(this,1),pn(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=C,this.cachedAbsoluteEnd=O,this.range=null,ct(this,!1)}reset(c,C,O,ee){this.start=C,this.end=O,this.maxEnd=O,this.cachedVersionId=c,this.cachedAbsoluteStart=C,this.cachedAbsoluteEnd=O,this.range=ee}setOptions(c){this.options=c;const C=this.options.className;un(this,"squiggly-error"===C||"squiggly-warning"===C||"squiggly-info"===C),St(this,this.options.stickiness),pn(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(c,C,O){this.cachedVersionId!==O&&(this.range=null),this.cachedVersionId=O,this.cachedAbsoluteStart=c,this.cachedAbsoluteEnd=C}detach(){this.parent=null,this.left=null,this.right=null}}const ze=new Xt(null,0,0);ze.parent=ze,ze.left=ze,ze.right=ze,ut(ze,0);class At{constructor(){this.root=ze,this.requestNormalizeDelta=!1}intervalSearch(c,C,O,ee,de){return this.root===ze?[]:function In($e,c,C,O,ee,de){let oe=$e.root,Qe=0,et=0,xt=0,It=0;const Ft=[];let Yt=0;for(;oe!==ze;)if(Ve(oe))ct(oe.left,!1),ct(oe.right,!1),oe===oe.parent.right&&(Qe-=oe.parent.delta),oe=oe.parent;else{if(!Ve(oe.left)){if(et=Qe+oe.maxEnd,et<c){ct(oe,!0);continue}if(oe.left!==ze){oe=oe.left;continue}}if(xt=Qe+oe.start,xt>C)ct(oe,!0);else{if(It=Qe+oe.end,It>=c){oe.setCachedOffsets(xt,It,de);let nt=!0;O&&oe.ownerId&&oe.ownerId!==O&&(nt=!1),ee&&Nt(oe)&&(nt=!1),nt&&(Ft[Yt++]=oe)}ct(oe,!0),oe.right===ze||Ve(oe.right)||(Qe+=oe.delta,oe=oe.right)}}return ct($e.root,!1),Ft}(this,c,C,O,ee,de)}search(c,C,O){return this.root===ze?[]:function _n($e,c,C,O){let ee=$e.root,de=0,oe=0,Qe=0;const et=[];let xt=0;for(;ee!==ze;){if(Ve(ee)){ct(ee.left,!1),ct(ee.right,!1),ee===ee.parent.right&&(de-=ee.parent.delta),ee=ee.parent;continue}if(ee.left!==ze&&!Ve(ee.left)){ee=ee.left;continue}oe=de+ee.start,Qe=de+ee.end,ee.setCachedOffsets(oe,Qe,O);let It=!0;c&&ee.ownerId&&ee.ownerId!==c&&(It=!1),C&&Nt(ee)&&(It=!1),It&&(et[xt++]=ee),ct(ee,!0),ee.right===ze||Ve(ee.right)||(de+=ee.delta,ee=ee.right)}return ct($e.root,!1),et}(this,c,C,O)}collectNodesFromOwner(c){return function Ht($e,c){let C=$e.root;const O=[];let ee=0;for(;C!==ze;)Ve(C)?(ct(C.left,!1),ct(C.right,!1),C=C.parent):C.left===ze||Ve(C.left)?(C.ownerId===c&&(O[ee++]=C),ct(C,!0),C.right===ze||Ve(C.right)||(C=C.right)):C=C.left;return ct($e.root,!1),O}(this,c)}collectNodesPostOrder(){return function jt($e){let c=$e.root;const C=[];let O=0;for(;c!==ze;)Ve(c)?(ct(c.left,!1),ct(c.right,!1),c=c.parent):c.left===ze||Ve(c.left)?c.right===ze||Ve(c.right)?(C[O++]=c,ct(c,!0)):c=c.right:c=c.left;return ct($e.root,!1),C}(this)}insert(c){it(this,c),this._normalizeDeltaIfNecessary()}delete(c){bt(this,c),this._normalizeDeltaIfNecessary()}resolveNode(c,C){const O=c;let ee=0;for(;c!==this.root;)c===c.parent.right&&(ee+=c.parent.delta),c=c.parent;O.setCachedOffsets(O.start+ee,O.end+ee,C)}acceptReplace(c,C,O,ee){const de=function Nn($e,c,C){let O=$e.root,ee=0,de=0,oe=0,Qe=0;const et=[];let xt=0;for(;O!==ze;)if(Ve(O))ct(O.left,!1),ct(O.right,!1),O===O.parent.right&&(ee-=O.parent.delta),O=O.parent;else{if(!Ve(O.left)){if(de=ee+O.maxEnd,de<c){ct(O,!0);continue}if(O.left!==ze){O=O.left;continue}}oe=ee+O.start,oe>C?ct(O,!0):(Qe=ee+O.end,Qe>=c&&(O.setCachedOffsets(oe,Qe,0),et[xt++]=O),ct(O,!0),O.right===ze||Ve(O.right)||(ee+=O.delta,O=O.right))}return ct($e.root,!1),et}(this,c,c+C);for(let oe=0,Qe=de.length;oe<Qe;oe++)bt(this,de[oe]);this._normalizeDeltaIfNecessary(),function yt($e,c,C,O){let ee=$e.root,de=0,oe=0,Qe=0;const et=O-(C-c);for(;ee!==ze;)if(Ve(ee))ct(ee.left,!1),ct(ee.right,!1),ee===ee.parent.right&&(de-=ee.parent.delta),ei(ee),ee=ee.parent;else{if(!Ve(ee.left)){if(oe=de+ee.maxEnd,oe<c){ct(ee,!0);continue}if(ee.left!==ze){ee=ee.left;continue}}Qe=de+ee.start,Qe>C?(ee.start+=et,ee.end+=et,ee.delta+=et,(ee.delta<-1073741824||ee.delta>1073741824)&&($e.requestNormalizeDelta=!0),ct(ee,!0)):(ct(ee,!0),ee.right===ze||Ve(ee.right)||(de+=ee.delta,ee=ee.right))}ct($e.root,!1)}(this,c,c+C,O),this._normalizeDeltaIfNecessary();for(let oe=0,Qe=de.length;oe<Qe;oe++){const et=de[oe];et.start=et.cachedAbsoluteStart,et.end=et.cachedAbsoluteEnd,Mn(et,c,c+C,O,ee),et.maxEnd=et.end,it(this,et)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function Kt($e){let c=$e.root,C=0;for(;c!==ze;)c.left===ze||Ve(c.left)?c.right===ze||Ve(c.right)?(c.start=C+c.start,c.end=C+c.end,c.delta=0,ei(c),ct(c,!0),ct(c.left,!1),ct(c.right,!1),c===c.parent.right&&(C-=c.parent.delta),c=c.parent):(C+=c.delta,c=c.right):c=c.left;ct($e.root,!1)}(this))}}function nn($e,c,C,O){return $e<C||!($e>C||1===O)&&(2===O||c)}function Mn($e,c,C,O,ee){const de=function Jt($e){return(24&$e.metadata)>>>3}($e),oe=0===de||2===de,Qe=1===de||2===de,et=C-c,xt=O,It=Math.min(et,xt),Ft=$e.start;let Yt=!1;const nt=$e.end;let Le=!1;c<=Ft&&nt<=C&&function en($e){return(32&$e.metadata)>>>5==1}($e)&&($e.start=c,Yt=!0,$e.end=c,Le=!0);{const Fe=ee?1:et>0?2:0;!Yt&&nn(Ft,oe,c,Fe)&&(Yt=!0),!Le&&nn(nt,Qe,c,Fe)&&(Le=!0)}if(It>0&&!ee){const Fe=et>xt?2:0;!Yt&&nn(Ft,oe,c+It,Fe)&&(Yt=!0),!Le&&nn(nt,Qe,c+It,Fe)&&(Le=!0)}{const Fe=ee?1:0;!Yt&&nn(Ft,oe,C,Fe)&&($e.start=c+xt,Yt=!0),!Le&&nn(nt,Qe,C,Fe)&&($e.end=c+xt,Le=!0)}const De=xt-et;Yt||($e.start=Math.max(0,Ft+De)),Le||($e.end=Math.max(0,nt+De)),$e.start>$e.end&&($e.end=$e.start)}function it($e,c){if($e.root===ze)return c.parent=ze,c.left=ze,c.right=ze,ut(c,0),$e.root=c,$e.root;(function $t($e,c){let C=0,O=$e.root;const ee=c.start,de=c.end;for(;;)if(ke(ee,de,O.start+C,O.end+C)<0){if(O.left===ze){c.start-=C,c.end-=C,c.maxEnd-=C,O.left=c;break}O=O.left}else{if(O.right===ze){c.start-=C+O.delta,c.end-=C+O.delta,c.maxEnd-=C+O.delta,O.right=c;break}C+=O.delta,O=O.right}c.parent=O,c.left=ze,c.right=ze,ut(c,1)})($e,c),dt(c.parent);let C=c;for(;C!==$e.root&&1===lt(C.parent);)if(C.parent===C.parent.parent.left){const O=C.parent.parent.right;1===lt(O)?(ut(C.parent,0),ut(O,0),ut(C.parent.parent,1),C=C.parent.parent):(C===C.parent.right&&(C=C.parent,vn($e,C)),ut(C.parent,0),ut(C.parent.parent,1),Wn($e,C.parent.parent))}else{const O=C.parent.parent.left;1===lt(O)?(ut(C.parent,0),ut(O,0),ut(C.parent.parent,1),C=C.parent.parent):(C===C.parent.left&&(C=C.parent,Wn($e,C)),ut(C.parent,0),ut(C.parent.parent,1),vn($e,C.parent.parent))}return ut($e.root,0),c}function bt($e,c){let C,O;if(c.left===ze?(C=c.right,O=c,C.delta+=c.delta,(C.delta<-1073741824||C.delta>1073741824)&&($e.requestNormalizeDelta=!0),C.start+=c.delta,C.end+=c.delta):c.right===ze?(C=c.left,O=c):(O=function Zt($e){for(;$e.left!==ze;)$e=$e.left;return $e}(c.right),C=O.right,C.start+=O.delta,C.end+=O.delta,C.delta+=O.delta,(C.delta<-1073741824||C.delta>1073741824)&&($e.requestNormalizeDelta=!0),O.start+=c.delta,O.end+=c.delta,O.delta=c.delta,(O.delta<-1073741824||O.delta>1073741824)&&($e.requestNormalizeDelta=!0)),O===$e.root)return $e.root=C,ut(C,0),c.detach(),Rn(),ei(C),void($e.root.parent=ze);const ee=1===lt(O);if(O===O.parent.left?O.parent.left=C:O.parent.right=C,O===c?C.parent=O.parent:(C.parent=O.parent===c?O:O.parent,O.left=c.left,O.right=c.right,O.parent=c.parent,ut(O,lt(c)),c===$e.root?$e.root=O:c===c.parent.left?c.parent.left=O:c.parent.right=O,O.left!==ze&&(O.left.parent=O),O.right!==ze&&(O.right.parent=O)),c.detach(),ee)return dt(C.parent),O!==c&&(dt(O),dt(O.parent)),void Rn();let de;for(dt(C),dt(C.parent),O!==c&&(dt(O),dt(O.parent));C!==$e.root&&0===lt(C);)C===C.parent.left?(de=C.parent.right,1===lt(de)&&(ut(de,0),ut(C.parent,1),vn($e,C.parent),de=C.parent.right),0===lt(de.left)&&0===lt(de.right)?(ut(de,1),C=C.parent):(0===lt(de.right)&&(ut(de.left,0),ut(de,1),Wn($e,de),de=C.parent.right),ut(de,lt(C.parent)),ut(C.parent,0),ut(de.right,0),vn($e,C.parent),C=$e.root)):(de=C.parent.left,1===lt(de)&&(ut(de,0),ut(C.parent,1),Wn($e,C.parent),de=C.parent.left),0===lt(de.left)&&0===lt(de.right)?(ut(de,1),C=C.parent):(0===lt(de.left)&&(ut(de.right,0),ut(de,1),vn($e,de),de=C.parent.left),ut(de,lt(C.parent)),ut(C.parent,0),ut(de.left,0),Wn($e,C.parent),C=$e.root));ut(C,0),Rn()}function Rn(){ze.parent=ze,ze.delta=0,ze.start=0,ze.end=0}function vn($e,c){const C=c.right;C.delta+=c.delta,(C.delta<-1073741824||C.delta>1073741824)&&($e.requestNormalizeDelta=!0),C.start+=c.delta,C.end+=c.delta,c.right=C.left,C.left!==ze&&(C.left.parent=c),C.parent=c.parent,c.parent===ze?$e.root=C:c===c.parent.left?c.parent.left=C:c.parent.right=C,C.left=c,c.parent=C,ei(c),ei(C)}function Wn($e,c){const C=c.left;c.delta-=C.delta,(c.delta<-1073741824||c.delta>1073741824)&&($e.requestNormalizeDelta=!0),c.start-=C.delta,c.end-=C.delta,c.left=C.right,C.right!==ze&&(C.right.parent=c),C.parent=c.parent,c.parent===ze?$e.root=C:c===c.parent.right?c.parent.right=C:c.parent.left=C,C.right=c,c.parent=C,ei(c),ei(C)}function pt($e){let c=$e.end;if($e.left!==ze){const C=$e.left.maxEnd;C>c&&(c=C)}if($e.right!==ze){const C=$e.right.maxEnd+$e.delta;C>c&&(c=C)}return c}function ei($e){$e.maxEnd=pt($e)}function dt($e){for(;$e!==ze;){const c=pt($e);if($e.maxEnd===c)return;$e.maxEnd=c,$e=$e.parent}}function ke($e,c,C,O){return $e===C?c-O:$e-C}class ft{constructor(c,C){this.piece=c,this.color=C,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Me)return ot(this.right);let c=this;for(;c.parent!==Me&&c.parent.left!==c;)c=c.parent;return c.parent===Me?Me:c.parent}prev(){if(this.left!==Me)return on(this.left);let c=this;for(;c.parent!==Me&&c.parent.right!==c;)c=c.parent;return c.parent===Me?Me:c.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Me=new ft(null,0);function ot($e){for(;$e.left!==Me;)$e=$e.left;return $e}function on($e){for(;$e.right!==Me;)$e=$e.right;return $e}function Tn($e){return $e===Me?0:$e.size_left+$e.piece.length+Tn($e.right)}function Mi($e){return $e===Me?0:$e.lf_left+$e.piece.lineFeedCnt+Mi($e.right)}function xn(){Me.parent=Me}function rn($e,c){const C=c.right;C.size_left+=c.size_left+(c.piece?c.piece.length:0),C.lf_left+=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),c.right=C.left,C.left!==Me&&(C.left.parent=c),C.parent=c.parent,c.parent===Me?$e.root=C:c.parent.left===c?c.parent.left=C:c.parent.right=C,C.left=c,c.parent=C}function tn($e,c){const C=c.left;c.left=C.right,C.right!==Me&&(C.right.parent=c),C.parent=c.parent,c.size_left-=C.size_left+(C.piece?C.piece.length:0),c.lf_left-=C.lf_left+(C.piece?C.piece.lineFeedCnt:0),c.parent===Me?$e.root=C:c===c.parent.right?c.parent.right=C:c.parent.left=C,C.right=c,c.parent=C}function bn($e,c){let C,O;if(c.left===Me?(O=c,C=O.right):c.right===Me?(O=c,C=O.left):(O=ot(c.right),C=O.right),O===$e.root)return $e.root=C,C.color=0,c.detach(),xn(),void($e.root.parent=Me);const ee=1===O.color;if(O===O.parent.left?O.parent.left=C:O.parent.right=C,O===c?(C.parent=O.parent,Dn($e,C)):(C.parent=O.parent===c?O:O.parent,Dn($e,C),O.left=c.left,O.right=c.right,O.parent=c.parent,O.color=c.color,c===$e.root?$e.root=O:c===c.parent.left?c.parent.left=O:c.parent.right=O,O.left!==Me&&(O.left.parent=O),O.right!==Me&&(O.right.parent=O),O.size_left=c.size_left,O.lf_left=c.lf_left,Dn($e,O)),c.detach(),C.parent.left===C){const oe=Tn(C),Qe=Mi(C);if(oe!==C.parent.size_left||Qe!==C.parent.lf_left){const et=oe-C.parent.size_left,xt=Qe-C.parent.lf_left;C.parent.size_left=oe,C.parent.lf_left=Qe,Xe($e,C.parent,et,xt)}}if(Dn($e,C.parent),ee)return void xn();let de;for(;C!==$e.root&&0===C.color;)C===C.parent.left?(de=C.parent.right,1===de.color&&(de.color=0,C.parent.color=1,rn($e,C.parent),de=C.parent.right),0===de.left.color&&0===de.right.color?(de.color=1,C=C.parent):(0===de.right.color&&(de.left.color=0,de.color=1,tn($e,de),de=C.parent.right),de.color=C.parent.color,C.parent.color=0,de.right.color=0,rn($e,C.parent),C=$e.root)):(de=C.parent.left,1===de.color&&(de.color=0,C.parent.color=1,tn($e,C.parent),de=C.parent.left),0===de.left.color&&0===de.right.color?(de.color=1,C=C.parent):(0===de.left.color&&(de.right.color=0,de.color=1,rn($e,de),de=C.parent.left),de.color=C.parent.color,C.parent.color=0,de.left.color=0,tn($e,C.parent),C=$e.root));C.color=0,xn()}function mt($e,c){for(Dn($e,c);c!==$e.root&&1===c.parent.color;)if(c.parent===c.parent.parent.left){const C=c.parent.parent.right;1===C.color?(c.parent.color=0,C.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.right&&rn($e,c=c.parent),c.parent.color=0,c.parent.parent.color=1,tn($e,c.parent.parent))}else{const C=c.parent.parent.left;1===C.color?(c.parent.color=0,C.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.left&&tn($e,c=c.parent),c.parent.color=0,c.parent.parent.color=1,rn($e,c.parent.parent))}$e.root.color=0}function Xe($e,c,C,O){for(;c!==$e.root&&c!==Me;)c.parent.left===c&&(c.parent.size_left+=C,c.parent.lf_left+=O),c=c.parent}function Dn($e,c){let C=0,O=0;if(c!==$e.root){for(;c!==$e.root&&c===c.parent.right;)c=c.parent;if(c!==$e.root)for(C=Tn((c=c.parent).left)-c.size_left,O=Mi(c.left)-c.lf_left,c.size_left+=C,c.lf_left+=O;c!==$e.root&&(0!==C||0!==O);)c.parent.left===c&&(c.parent.size_left+=C,c.parent.lf_left+=O),c=c.parent}}Me.parent=Me,Me.left=Me,Me.right=Me,Me.color=0;var An=m(1154);const Ye=65535;function Te($e){let c;return c=$e[$e.length-1]<65536?new Uint16Array($e.length):new Uint32Array($e.length),c.set($e,0),c}class Ae{constructor(c,C,O,ee,de){this.lineStarts=c,this.cr=C,this.lf=O,this.crlf=ee,this.isBasicASCII=de}}function ht($e,c=!0){const C=[0];let O=1;for(let ee=0,de=$e.length;ee<de;ee++){const oe=$e.charCodeAt(ee);13===oe?ee+1<de&&10===$e.charCodeAt(ee+1)?(C[O++]=ee+2,ee++):C[O++]=ee+1:10===oe&&(C[O++]=ee+1)}return c?Te(C):C}class Ge{constructor(c,C,O,ee,de){this.bufferIndex=c,this.start=C,this.end=O,this.lineFeedCnt=ee,this.length=de}}class ln{constructor(c,C){this.buffer=c,this.lineStarts=C}}class jn{constructor(c,C){this._pieces=[],this._tree=c,this._BOM=C,this._index=0,c.root!==Me&&c.iterate(c.root,O=>(O!==Me&&this._pieces.push(O.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Jn{constructor(c){this._limit=c,this._cache=[]}get(c){for(let C=this._cache.length-1;C>=0;C--){const O=this._cache[C];if(O.nodeStartOffset<=c&&O.nodeStartOffset+O.node.piece.length>=c)return O}return null}get2(c){for(let C=this._cache.length-1;C>=0;C--){const O=this._cache[C];if(O.nodeStartLineNumber&&O.nodeStartLineNumber<c&&O.nodeStartLineNumber+O.node.piece.lineFeedCnt>=c)return O}return null}set(c){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(c)}validate(c){let C=!1;const O=this._cache;for(let ee=0;ee<O.length;ee++){const de=O[ee];(null===de.node.parent||de.nodeStartOffset>=c)&&(O[ee]=null,C=!0)}if(C){const ee=[];for(const de of O)null!==de&&ee.push(de);this._cache=ee}}}class qn{constructor(c,C,O){this.create(c,C,O)}create(c,C,O){this._buffers=[new ln("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Me,this._lineCnt=1,this._length=0,this._EOL=C,this._EOLLength=C.length,this._EOLNormalized=O;let ee=null;for(let de=0,oe=c.length;de<oe;de++)if(c[de].buffer.length>0){c[de].lineStarts||(c[de].lineStarts=ht(c[de].buffer));const Qe=new Ge(de+1,{line:0,column:0},{line:c[de].lineStarts.length-1,column:c[de].buffer.length-c[de].lineStarts[c[de].lineStarts.length-1]},c[de].lineStarts.length-1,c[de].buffer.length);this._buffers.push(c[de]),ee=this.rbInsertRight(ee,Qe)}this._searchCache=new Jn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(c){const O=65535-Math.floor(21845),ee=2*O;let de="",oe=0;const Qe=[];if(this.iterate(this.root,et=>{const xt=this.getNodeContent(et),It=xt.length;if(oe<=O||oe+It<ee)return de+=xt,oe+=It,!0;const Ft=de.replace(/\r\n|\r|\n/g,c);return Qe.push(new ln(Ft,ht(Ft))),de=xt,oe=It,!0}),oe>0){const et=de.replace(/\r\n|\r|\n/g,c);Qe.push(new ln(et,ht(et)))}this.create(Qe,c,!0)}getEOL(){return this._EOL}setEOL(c){this._EOL=c,this._EOLLength=this._EOL.length,this.normalizeEOL(c)}createSnapshot(c){return new jn(this,c)}getOffsetAt(c,C){let O=0,ee=this.root;for(;ee!==Me;)if(ee.left!==Me&&ee.lf_left+1>=c)ee=ee.left;else{if(ee.lf_left+ee.piece.lineFeedCnt+1>=c)return O+=ee.size_left,O+(this.getAccumulatedValue(ee,c-ee.lf_left-2)+C-1);c-=ee.lf_left+ee.piece.lineFeedCnt,O+=ee.size_left+ee.piece.length,ee=ee.right}return O}getPositionAt(c){c=Math.floor(c),c=Math.max(0,c);let C=this.root,O=0;const ee=c;for(;C!==Me;)if(0!==C.size_left&&C.size_left>=c)C=C.left;else{if(C.size_left+C.piece.length>=c){const de=this.getIndexOf(C,c-C.size_left);if(O+=C.lf_left+de.index,0===de.index){const oe=this.getOffsetAt(O+1,1);return new Y.L(O+1,ee-oe+1)}return new Y.L(O+1,de.remainder+1)}if(c-=C.size_left+C.piece.length,O+=C.lf_left+C.piece.lineFeedCnt,C.right===Me){const de=this.getOffsetAt(O+1,1);return new Y.L(O+1,ee-c-de+1)}C=C.right}return new Y.L(1,1)}getValueInRange(c,C){if(c.startLineNumber===c.endLineNumber&&c.startColumn===c.endColumn)return"";const O=this.nodeAt2(c.startLineNumber,c.startColumn),ee=this.nodeAt2(c.endLineNumber,c.endColumn),de=this.getValueInRange2(O,ee);return C?C===this._EOL&&this._EOLNormalized&&C===this.getEOL()&&this._EOLNormalized?de:de.replace(/\r\n|\r|\n/g,C):de}getValueInRange2(c,C){if(c.node===C.node){const Qe=c.node,et=this._buffers[Qe.piece.bufferIndex].buffer,xt=this.offsetInBuffer(Qe.piece.bufferIndex,Qe.piece.start);return et.substring(xt+c.remainder,xt+C.remainder)}let O=c.node;const ee=this._buffers[O.piece.bufferIndex].buffer,de=this.offsetInBuffer(O.piece.bufferIndex,O.piece.start);let oe=ee.substring(de+c.remainder,de+O.piece.length);for(O=O.next();O!==Me;){const Qe=this._buffers[O.piece.bufferIndex].buffer,et=this.offsetInBuffer(O.piece.bufferIndex,O.piece.start);if(O===C.node){oe+=Qe.substring(et,et+C.remainder);break}oe+=Qe.substr(et,O.piece.length),O=O.next()}return oe}getLinesContent(){const c=[];let C=0,O="",ee=!1;return this.iterate(this.root,de=>{if(de===Me)return!0;const oe=de.piece;let Qe=oe.length;if(0===Qe)return!0;const et=this._buffers[oe.bufferIndex].buffer,xt=this._buffers[oe.bufferIndex].lineStarts,It=oe.start.line,Ft=oe.end.line;let Yt=xt[It]+oe.start.column;if(ee&&(10===et.charCodeAt(Yt)&&(Yt++,Qe--),c[C++]=O,O="",ee=!1,0===Qe))return!0;if(It===Ft)return this._EOLNormalized||13!==et.charCodeAt(Yt+Qe-1)?O+=et.substr(Yt,Qe):(ee=!0,O+=et.substr(Yt,Qe-1)),!0;O+=this._EOLNormalized?et.substring(Yt,Math.max(Yt,xt[It+1]-this._EOLLength)):et.substring(Yt,xt[It+1]).replace(/(\r\n|\r|\n)$/,""),c[C++]=O;for(let nt=It+1;nt<Ft;nt++)O=this._EOLNormalized?et.substring(xt[nt],xt[nt+1]-this._EOLLength):et.substring(xt[nt],xt[nt+1]).replace(/(\r\n|\r|\n)$/,""),c[C++]=O;return this._EOLNormalized||13!==et.charCodeAt(xt[Ft]+oe.end.column-1)?O=et.substr(xt[Ft],oe.end.column):(ee=!0,0===oe.end.column?C--:O=et.substr(xt[Ft],oe.end.column-1)),!0}),ee&&(c[C++]=O,O=""),c[C++]=O,c}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(c){return this._lastVisitedLine.lineNumber===c||(this._lastVisitedLine.lineNumber=c,this._lastVisitedLine.value=c===this._lineCnt?this.getLineRawContent(c):this._EOLNormalized?this.getLineRawContent(c,this._EOLLength):this.getLineRawContent(c).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(c){if(c.remainder===c.node.piece.length){const C=c.node.next();if(!C)return 0;const O=this._buffers[C.piece.bufferIndex],ee=this.offsetInBuffer(C.piece.bufferIndex,C.piece.start);return O.buffer.charCodeAt(ee)}{const C=this._buffers[c.node.piece.bufferIndex],ee=this.offsetInBuffer(c.node.piece.bufferIndex,c.node.piece.start)+c.remainder;return C.buffer.charCodeAt(ee)}}getLineCharCode(c,C){const O=this.nodeAt2(c,C+1);return this._getCharCode(O)}getLineLength(c){if(c===this.getLineCount()){const C=this.getOffsetAt(c,1);return this.getLength()-C}return this.getOffsetAt(c+1,1)-this.getOffsetAt(c,1)-this._EOLLength}findMatchesInNode(c,C,O,ee,de,oe,Qe,et,xt,It,Ft){const Yt=this._buffers[c.piece.bufferIndex],nt=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start),Le=this.offsetInBuffer(c.piece.bufferIndex,de),De=this.offsetInBuffer(c.piece.bufferIndex,oe);let Fe;const _t={line:0,column:0};let Gt,an;C._wordSeparators?(Gt=Yt.buffer.substring(Le,De),an=Ln=>Ln+Le,C.reset(0)):(Gt=Yt.buffer,an=Ln=>Ln,C.reset(Le));do{if(Fe=C.next(Gt),Fe){if(an(Fe.index)>=De)return It;this.positionInBuffer(c,an(Fe.index)-nt,_t);const Ln=this.getLineFeedCnt(c.piece.bufferIndex,de,_t),zt=_t.line===de.line?_t.column-de.column+ee:_t.column+1;if(Ft[It++]=(0,An.iE)(new V.e(O+Ln,zt,O+Ln,zt+Fe[0].length),Fe,et),an(Fe.index)+Fe[0].length>=De||It>=xt)return It}}while(Fe);return It}findMatchesLineByLine(c,C,O,ee){const de=[];let oe=0;const Qe=new An.sz(C.wordSeparators,C.regex);let et=this.nodeAt2(c.startLineNumber,c.startColumn);if(null===et)return[];const xt=this.nodeAt2(c.endLineNumber,c.endColumn);if(null===xt)return[];let It=this.positionInBuffer(et.node,et.remainder);const Ft=this.positionInBuffer(xt.node,xt.remainder);if(et.node===xt.node)return this.findMatchesInNode(et.node,Qe,c.startLineNumber,c.startColumn,It,Ft,C,O,ee,oe,de),de;let Yt=c.startLineNumber,nt=et.node;for(;nt!==xt.node;){const De=this.getLineFeedCnt(nt.piece.bufferIndex,It,nt.piece.end);if(De>=1){const _t=this._buffers[nt.piece.bufferIndex].lineStarts,Gt=this.offsetInBuffer(nt.piece.bufferIndex,nt.piece.start);if(oe=this.findMatchesInNode(nt,Qe,Yt,Yt===c.startLineNumber?c.startColumn:1,It,this.positionInBuffer(nt,_t[It.line+De]-Gt),C,O,ee,oe,de),oe>=ee)return de;Yt+=De}const Fe=Yt===c.startLineNumber?c.startColumn-1:0;if(Yt===c.endLineNumber){const _t=this.getLineContent(Yt).substring(Fe,c.endColumn-1);return oe=this._findMatchesInLine(C,Qe,_t,c.endLineNumber,Fe,oe,de,O,ee),de}if(oe=this._findMatchesInLine(C,Qe,this.getLineContent(Yt).substr(Fe),Yt,Fe,oe,de,O,ee),oe>=ee)return de;Yt++,et=this.nodeAt2(Yt,1),nt=et.node,It=this.positionInBuffer(et.node,et.remainder)}if(Yt===c.endLineNumber){const De=Yt===c.startLineNumber?c.startColumn-1:0,Fe=this.getLineContent(Yt).substring(De,c.endColumn-1);return oe=this._findMatchesInLine(C,Qe,Fe,c.endLineNumber,De,oe,de,O,ee),de}return oe=this.findMatchesInNode(xt.node,Qe,Yt,Yt===c.startLineNumber?c.startColumn:1,It,Ft,C,O,ee,oe,de),de}_findMatchesInLine(c,C,O,ee,de,oe,Qe,et,xt){const It=c.wordSeparators;if(!et&&c.simpleSearch){const Yt=c.simpleSearch,nt=Yt.length,Le=O.length;let De=-nt;for(;-1!==(De=O.indexOf(Yt,De+nt));)if((!It||(0,An.cM)(It,O,Le,De,nt))&&(Qe[oe++]=new w.tk(new V.e(ee,De+1+de,ee,De+1+nt+de),null),oe>=xt))return oe;return oe}let Ft;C.reset(0);do{if(Ft=C.next(O),Ft&&(Qe[oe++]=(0,An.iE)(new V.e(ee,Ft.index+1+de,ee,Ft.index+1+Ft[0].length+de),Ft,et),oe>=xt))return oe}while(Ft);return oe}insert(c,C,O=!1){if(this._EOLNormalized=this._EOLNormalized&&O,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Me){const{node:ee,remainder:de,nodeStartOffset:oe}=this.nodeAt(c),Qe=ee.piece,et=Qe.bufferIndex,xt=this.positionInBuffer(ee,de);if(0===ee.piece.bufferIndex&&Qe.end.line===this._lastChangeBufferPos.line&&Qe.end.column===this._lastChangeBufferPos.column&&oe+Qe.length===c&&C.length<Ye)return this.appendToNode(ee,C),void this.computeBufferMetadata();if(oe===c)this.insertContentToNodeLeft(C,ee),this._searchCache.validate(c);else if(oe+ee.piece.length>c){const It=[];let Ft=new Ge(Qe.bufferIndex,xt,Qe.end,this.getLineFeedCnt(Qe.bufferIndex,xt,Qe.end),this.offsetInBuffer(et,Qe.end)-this.offsetInBuffer(et,xt));if(this.shouldCheckCRLF()&&this.endWithCR(C)&&10===this.nodeCharCodeAt(ee,de)){const De={line:Ft.start.line+1,column:0};Ft=new Ge(Ft.bufferIndex,De,Ft.end,this.getLineFeedCnt(Ft.bufferIndex,De,Ft.end),Ft.length-1),C+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(C))if(13===this.nodeCharCodeAt(ee,de-1)){const De=this.positionInBuffer(ee,de-1);this.deleteNodeTail(ee,De),C="\r"+C,0===ee.piece.length&&It.push(ee)}else this.deleteNodeTail(ee,xt);else this.deleteNodeTail(ee,xt);const Yt=this.createNewPieces(C);Ft.length>0&&this.rbInsertRight(ee,Ft);let nt=ee;for(let Le=0;Le<Yt.length;Le++)nt=this.rbInsertRight(nt,Yt[Le]);this.deleteNodes(It)}else this.insertContentToNodeRight(C,ee)}else{const ee=this.createNewPieces(C);let de=this.rbInsertLeft(null,ee[0]);for(let oe=1;oe<ee.length;oe++)de=this.rbInsertRight(de,ee[oe])}this.computeBufferMetadata()}delete(c,C){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",C<=0||this.root===Me)return;const O=this.nodeAt(c),ee=this.nodeAt(c+C),de=O.node,oe=ee.node;if(de===oe){const Yt=this.positionInBuffer(de,O.remainder),nt=this.positionInBuffer(de,ee.remainder);if(O.nodeStartOffset===c){if(C===de.piece.length){const Le=de.next();return bn(this,de),this.validateCRLFWithPrevNode(Le),void this.computeBufferMetadata()}return this.deleteNodeHead(de,nt),this._searchCache.validate(c),this.validateCRLFWithPrevNode(de),void this.computeBufferMetadata()}return O.nodeStartOffset+de.piece.length===c+C?(this.deleteNodeTail(de,Yt),this.validateCRLFWithNextNode(de),void this.computeBufferMetadata()):(this.shrinkNode(de,Yt,nt),void this.computeBufferMetadata())}const Qe=[],et=this.positionInBuffer(de,O.remainder);this.deleteNodeTail(de,et),this._searchCache.validate(c),0===de.piece.length&&Qe.push(de);const xt=this.positionInBuffer(oe,ee.remainder);this.deleteNodeHead(oe,xt),0===oe.piece.length&&Qe.push(oe);for(let Yt=de.next();Yt!==Me&&Yt!==oe;Yt=Yt.next())Qe.push(Yt);const Ft=0===de.piece.length?de.prev():de;this.deleteNodes(Qe),this.validateCRLFWithNextNode(Ft),this.computeBufferMetadata()}insertContentToNodeLeft(c,C){const O=[];if(this.shouldCheckCRLF()&&this.endWithCR(c)&&this.startWithLF(C)){const oe=C.piece,Qe={line:oe.start.line+1,column:0},et=new Ge(oe.bufferIndex,Qe,oe.end,this.getLineFeedCnt(oe.bufferIndex,Qe,oe.end),oe.length-1);C.piece=et,c+="\n",Xe(this,C,-1,-1),0===C.piece.length&&O.push(C)}const ee=this.createNewPieces(c);let de=this.rbInsertLeft(C,ee[ee.length-1]);for(let oe=ee.length-2;oe>=0;oe--)de=this.rbInsertLeft(de,ee[oe]);this.validateCRLFWithPrevNode(de),this.deleteNodes(O)}insertContentToNodeRight(c,C){this.adjustCarriageReturnFromNext(c,C)&&(c+="\n");const O=this.createNewPieces(c),ee=this.rbInsertRight(C,O[0]);let de=ee;for(let oe=1;oe<O.length;oe++)de=this.rbInsertRight(de,O[oe]);this.validateCRLFWithPrevNode(ee)}positionInBuffer(c,C,O){const ee=c.piece,oe=this._buffers[c.piece.bufferIndex].lineStarts,et=oe[ee.start.line]+ee.start.column+C;let xt=ee.start.line,It=ee.end.line,Ft=0,Yt=0,nt=0;for(;xt<=It&&(Ft=xt+(It-xt)/2|0,nt=oe[Ft],Ft!==It);)if(Yt=oe[Ft+1],et<nt)It=Ft-1;else{if(!(et>=Yt))break;xt=Ft+1}return O?(O.line=Ft,O.column=et-nt,null):{line:Ft,column:et-nt}}getLineFeedCnt(c,C,O){if(0===O.column)return O.line-C.line;const ee=this._buffers[c].lineStarts;if(O.line===ee.length-1)return O.line-C.line;const oe=ee[O.line]+O.column;return ee[O.line+1]>oe+1?O.line-C.line:13===this._buffers[c].buffer.charCodeAt(oe-1)?O.line-C.line+1:O.line-C.line}offsetInBuffer(c,C){return this._buffers[c].lineStarts[C.line]+C.column}deleteNodes(c){for(let C=0;C<c.length;C++)bn(this,c[C])}createNewPieces(c){if(c.length>Ye){const It=[];for(;c.length>Ye;){const Yt=c.charCodeAt(Ye-1);let nt;13===Yt||Yt>=55296&&Yt<=56319?(nt=c.substring(0,Ye-1),c=c.substring(Ye-1)):(nt=c.substring(0,Ye),c=c.substring(Ye));const Le=ht(nt);It.push(new Ge(this._buffers.length,{line:0,column:0},{line:Le.length-1,column:nt.length-Le[Le.length-1]},Le.length-1,nt.length)),this._buffers.push(new ln(nt,Le))}const Ft=ht(c);return It.push(new Ge(this._buffers.length,{line:0,column:0},{line:Ft.length-1,column:c.length-Ft[Ft.length-1]},Ft.length-1,c.length)),this._buffers.push(new ln(c,Ft)),It}let C=this._buffers[0].buffer.length;const O=ht(c,!1);let ee=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===C&&0!==C&&this.startWithLF(c)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},ee=this._lastChangeBufferPos;for(let It=0;It<O.length;It++)O[It]+=C+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(O.slice(1)),this._buffers[0].buffer+="_"+c,C+=1}else{if(0!==C)for(let It=0;It<O.length;It++)O[It]+=C;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(O.slice(1)),this._buffers[0].buffer+=c}const de=this._buffers[0].buffer.length,oe=this._buffers[0].lineStarts.length-1,et={line:oe,column:de-this._buffers[0].lineStarts[oe]},xt=new Ge(0,ee,et,this.getLineFeedCnt(0,ee,et),de-C);return this._lastChangeBufferPos=et,[xt]}getLineRawContent(c,C=0){let O=this.root,ee="";const de=this._searchCache.get2(c);if(de){O=de.node;const oe=this.getAccumulatedValue(O,c-de.nodeStartLineNumber-1),Qe=this._buffers[O.piece.bufferIndex].buffer,et=this.offsetInBuffer(O.piece.bufferIndex,O.piece.start);if(de.nodeStartLineNumber+O.piece.lineFeedCnt!==c){const xt=this.getAccumulatedValue(O,c-de.nodeStartLineNumber);return Qe.substring(et+oe,et+xt-C)}ee=Qe.substring(et+oe,et+O.piece.length)}else{let oe=0;const Qe=c;for(;O!==Me;)if(O.left!==Me&&O.lf_left>=c-1)O=O.left;else{if(O.lf_left+O.piece.lineFeedCnt>c-1){const et=this.getAccumulatedValue(O,c-O.lf_left-2),xt=this.getAccumulatedValue(O,c-O.lf_left-1),It=this._buffers[O.piece.bufferIndex].buffer,Ft=this.offsetInBuffer(O.piece.bufferIndex,O.piece.start);return oe+=O.size_left,this._searchCache.set({node:O,nodeStartOffset:oe,nodeStartLineNumber:Qe-(c-1-O.lf_left)}),It.substring(Ft+et,Ft+xt-C)}if(O.lf_left+O.piece.lineFeedCnt===c-1){const et=this.getAccumulatedValue(O,c-O.lf_left-2),xt=this._buffers[O.piece.bufferIndex].buffer,It=this.offsetInBuffer(O.piece.bufferIndex,O.piece.start);ee=xt.substring(It+et,It+O.piece.length);break}c-=O.lf_left+O.piece.lineFeedCnt,oe+=O.size_left+O.piece.length,O=O.right}}for(O=O.next();O!==Me;){const oe=this._buffers[O.piece.bufferIndex].buffer;if(O.piece.lineFeedCnt>0){const Qe=this.getAccumulatedValue(O,0),et=this.offsetInBuffer(O.piece.bufferIndex,O.piece.start);return ee+=oe.substring(et,et+Qe-C),ee}{const Qe=this.offsetInBuffer(O.piece.bufferIndex,O.piece.start);ee+=oe.substr(Qe,O.piece.length)}O=O.next()}return ee}computeBufferMetadata(){let c=this.root,C=1,O=0;for(;c!==Me;)C+=c.lf_left+c.piece.lineFeedCnt,O+=c.size_left+c.piece.length,c=c.right;this._lineCnt=C,this._length=O,this._searchCache.validate(this._length)}getIndexOf(c,C){const O=c.piece,ee=this.positionInBuffer(c,C),de=ee.line-O.start.line;if(this.offsetInBuffer(O.bufferIndex,O.end)-this.offsetInBuffer(O.bufferIndex,O.start)===C){const oe=this.getLineFeedCnt(c.piece.bufferIndex,O.start,ee);if(oe!==de)return{index:oe,remainder:0}}return{index:de,remainder:ee.column}}getAccumulatedValue(c,C){if(C<0)return 0;const O=c.piece,ee=this._buffers[O.bufferIndex].lineStarts,de=O.start.line+C+1;return de>O.end.line?ee[O.end.line]+O.end.column-ee[O.start.line]-O.start.column:ee[de]-ee[O.start.line]-O.start.column}deleteNodeTail(c,C){const O=c.piece,ee=O.lineFeedCnt,de=this.offsetInBuffer(O.bufferIndex,O.end),oe=C,Qe=this.offsetInBuffer(O.bufferIndex,oe),et=this.getLineFeedCnt(O.bufferIndex,O.start,oe),xt=et-ee,It=Qe-de;c.piece=new Ge(O.bufferIndex,O.start,oe,et,O.length+It),Xe(this,c,It,xt)}deleteNodeHead(c,C){const O=c.piece,ee=O.lineFeedCnt,de=this.offsetInBuffer(O.bufferIndex,O.start),oe=C,Qe=this.getLineFeedCnt(O.bufferIndex,oe,O.end),xt=Qe-ee,It=de-this.offsetInBuffer(O.bufferIndex,oe);c.piece=new Ge(O.bufferIndex,oe,O.end,Qe,O.length+It),Xe(this,c,It,xt)}shrinkNode(c,C,O){const ee=c.piece,de=ee.start,oe=ee.end,Qe=ee.length,et=ee.lineFeedCnt,xt=C,It=this.getLineFeedCnt(ee.bufferIndex,ee.start,xt),Ft=this.offsetInBuffer(ee.bufferIndex,C)-this.offsetInBuffer(ee.bufferIndex,de);c.piece=new Ge(ee.bufferIndex,ee.start,xt,It,Ft),Xe(this,c,Ft-Qe,It-et);const Yt=new Ge(ee.bufferIndex,O,oe,this.getLineFeedCnt(ee.bufferIndex,O,oe),this.offsetInBuffer(ee.bufferIndex,oe)-this.offsetInBuffer(ee.bufferIndex,O)),nt=this.rbInsertRight(c,Yt);this.validateCRLFWithPrevNode(nt)}appendToNode(c,C){this.adjustCarriageReturnFromNext(C,c)&&(C+="\n");const O=this.shouldCheckCRLF()&&this.startWithLF(C)&&this.endWithCR(c),ee=this._buffers[0].buffer.length;this._buffers[0].buffer+=C;const de=ht(C,!1);for(let nt=0;nt<de.length;nt++)de[nt]+=ee;if(O){const nt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:ee-nt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(de.slice(1));const oe=this._buffers[0].lineStarts.length-1,et={line:oe,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[oe]},xt=c.piece.length+C.length,It=c.piece.lineFeedCnt,Ft=this.getLineFeedCnt(0,c.piece.start,et),Yt=Ft-It;c.piece=new Ge(c.piece.bufferIndex,c.piece.start,et,Ft,xt),this._lastChangeBufferPos=et,Xe(this,c,C.length,Yt)}nodeAt(c){let C=this.root;const O=this._searchCache.get(c);if(O)return{node:O.node,nodeStartOffset:O.nodeStartOffset,remainder:c-O.nodeStartOffset};let ee=0;for(;C!==Me;)if(C.size_left>c)C=C.left;else{if(C.size_left+C.piece.length>=c){ee+=C.size_left;const de={node:C,remainder:c-C.size_left,nodeStartOffset:ee};return this._searchCache.set(de),de}c-=C.size_left+C.piece.length,ee+=C.size_left+C.piece.length,C=C.right}return null}nodeAt2(c,C){let O=this.root,ee=0;for(;O!==Me;)if(O.left!==Me&&O.lf_left>=c-1)O=O.left;else{if(O.lf_left+O.piece.lineFeedCnt>c-1){const de=this.getAccumulatedValue(O,c-O.lf_left-2),oe=this.getAccumulatedValue(O,c-O.lf_left-1);return ee+=O.size_left,{node:O,remainder:Math.min(de+C-1,oe),nodeStartOffset:ee}}if(O.lf_left+O.piece.lineFeedCnt===c-1){const de=this.getAccumulatedValue(O,c-O.lf_left-2);if(de+C-1<=O.piece.length)return{node:O,remainder:de+C-1,nodeStartOffset:ee};C-=O.piece.length-de;break}c-=O.lf_left+O.piece.lineFeedCnt,ee+=O.size_left+O.piece.length,O=O.right}for(O=O.next();O!==Me;){if(O.piece.lineFeedCnt>0){const de=this.getAccumulatedValue(O,0),oe=this.offsetOfNode(O);return{node:O,remainder:Math.min(C-1,de),nodeStartOffset:oe}}if(O.piece.length>=C-1)return{node:O,remainder:C-1,nodeStartOffset:this.offsetOfNode(O)};C-=O.piece.length,O=O.next()}return null}nodeCharCodeAt(c,C){if(c.piece.lineFeedCnt<1)return-1;const O=this._buffers[c.piece.bufferIndex],ee=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start)+C;return O.buffer.charCodeAt(ee)}offsetOfNode(c){if(!c)return 0;let C=c.size_left;for(;c!==this.root;)c.parent.right===c&&(C+=c.parent.size_left+c.parent.piece.length),c=c.parent;return C}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(c){if("string"==typeof c)return 10===c.charCodeAt(0);if(c===Me||0===c.piece.lineFeedCnt)return!1;const C=c.piece,O=this._buffers[C.bufferIndex].lineStarts,ee=C.start.line,de=O[ee]+C.start.column;return!(ee===O.length-1||O[ee+1]>de+1)&&10===this._buffers[C.bufferIndex].buffer.charCodeAt(de)}endWithCR(c){return"string"==typeof c?13===c.charCodeAt(c.length-1):c!==Me&&0!==c.piece.lineFeedCnt&&13===this.nodeCharCodeAt(c,c.piece.length-1)}validateCRLFWithPrevNode(c){if(this.shouldCheckCRLF()&&this.startWithLF(c)){const C=c.prev();this.endWithCR(C)&&this.fixCRLF(C,c)}}validateCRLFWithNextNode(c){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const C=c.next();this.startWithLF(C)&&this.fixCRLF(c,C)}}fixCRLF(c,C){const O=[],ee=this._buffers[c.piece.bufferIndex].lineStarts;let de;de=0===c.piece.end.column?{line:c.piece.end.line-1,column:ee[c.piece.end.line]-ee[c.piece.end.line-1]-1}:{line:c.piece.end.line,column:c.piece.end.column-1},c.piece=new Ge(c.piece.bufferIndex,c.piece.start,de,c.piece.lineFeedCnt-1,c.piece.length-1),Xe(this,c,-1,-1),0===c.piece.length&&O.push(c);const et={line:C.piece.start.line+1,column:0},xt=C.piece.length-1,It=this.getLineFeedCnt(C.piece.bufferIndex,et,C.piece.end);C.piece=new Ge(C.piece.bufferIndex,et,C.piece.end,It,xt),Xe(this,C,-1,-1),0===C.piece.length&&O.push(C);const Ft=this.createNewPieces("\r\n");this.rbInsertRight(c,Ft[0]);for(let Yt=0;Yt<O.length;Yt++)bn(this,O[Yt])}adjustCarriageReturnFromNext(c,C){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const O=C.next();if(this.startWithLF(O)){if(c+="\n",1===O.piece.length)bn(this,O);else{const ee=O.piece,de={line:ee.start.line+1,column:0},oe=ee.length-1,Qe=this.getLineFeedCnt(ee.bufferIndex,de,ee.end);O.piece=new Ge(ee.bufferIndex,de,ee.end,Qe,oe),Xe(this,O,-1,-1)}return!0}}return!1}iterate(c,C){return c===Me?C(Me):this.iterate(c.left,C)&&C(c)&&this.iterate(c.right,C)}getNodeContent(c){if(c===Me)return"";const C=this._buffers[c.piece.bufferIndex];let O;const ee=c.piece,de=this.offsetInBuffer(ee.bufferIndex,ee.start),oe=this.offsetInBuffer(ee.bufferIndex,ee.end);return O=C.buffer.substring(de,oe),O}getPieceContent(c){const C=this._buffers[c.bufferIndex],O=this.offsetInBuffer(c.bufferIndex,c.start),ee=this.offsetInBuffer(c.bufferIndex,c.end);return C.buffer.substring(O,ee)}rbInsertRight(c,C){const O=new ft(C,1);if(O.left=Me,O.right=Me,O.parent=Me,O.size_left=0,O.lf_left=0,this.root===Me)this.root=O,O.color=0;else if(c.right===Me)c.right=O,O.parent=c;else{const de=ot(c.right);de.left=O,O.parent=de}return mt(this,O),O}rbInsertLeft(c,C){const O=new ft(C,1);if(O.left=Me,O.right=Me,O.parent=Me,O.size_left=0,O.lf_left=0,this.root===Me)this.root=O,O.color=0;else if(c.left===Me)c.left=O,O.parent=c;else{const ee=on(c.left);ee.right=O,O.parent=ee}return mt(this,O),O}}var Qn=m(7846),ii=m(7614);class gi extends R.JT{constructor(c,C,O,ee,de,oe,Qe){super(),this._onDidChangeContent=this._register(new k.Q5),this._BOM=C,this._mightContainNonBasicASCII=!oe,this._mightContainRTL=ee,this._mightContainUnusualLineTerminators=de,this._pieceTree=new qn(c,O,Qe)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(c){return this._pieceTree.createSnapshot(c?this._BOM:"")}getOffsetAt(c,C){return this._pieceTree.getOffsetAt(c,C)}getPositionAt(c){return this._pieceTree.getPositionAt(c)}getRangeAt(c,C){const O=c+C,ee=this.getPositionAt(c),de=this.getPositionAt(O);return new V.e(ee.lineNumber,ee.column,de.lineNumber,de.column)}getValueInRange(c,C=0){if(c.isEmpty())return"";const O=this._getEndOfLine(C);return this._pieceTree.getValueInRange(c,O)}getValueLengthInRange(c,C=0){if(c.isEmpty())return 0;if(c.startLineNumber===c.endLineNumber)return c.endColumn-c.startColumn;const O=this.getOffsetAt(c.startLineNumber,c.startColumn);return this.getOffsetAt(c.endLineNumber,c.endColumn)-O}getCharacterCountInRange(c,C=0){if(this._mightContainNonBasicASCII){let O=0;const ee=c.startLineNumber,de=c.endLineNumber;for(let oe=ee;oe<=de;oe++){const Qe=this.getLineContent(oe),xt=oe===de?c.endColumn-1:Qe.length;for(let It=oe===ee?c.startColumn-1:0;It<xt;It++)se.ZG(Qe.charCodeAt(It))?(O+=1,It+=1):O+=1}return O+=this._getEndOfLine(C).length*(de-ee),O}return this.getValueLengthInRange(c,C)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(c){return this._pieceTree.getLineContent(c)}getLineCharCode(c,C){return this._pieceTree.getLineCharCode(c,C)}getLineLength(c){return this._pieceTree.getLineLength(c)}getLineFirstNonWhitespaceColumn(c){const C=se.LC(this.getLineContent(c));return-1===C?0:C+1}getLineLastNonWhitespaceColumn(c){const C=se.ow(this.getLineContent(c));return-1===C?0:C+2}_getEndOfLine(c){switch(c){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(c){this._pieceTree.setEOL(c)}applyEdits(c,C,O){let ee=this._mightContainRTL,de=this._mightContainUnusualLineTerminators,oe=this._mightContainNonBasicASCII,Qe=!0,et=[];for(let De=0;De<c.length;De++){const Fe=c[De];Qe&&Fe._isTracked&&(Qe=!1);const _t=Fe.range;if(Fe.text){let ci=!0;oe||(ci=!se.$i(Fe.text),oe=ci),!ee&&ci&&(ee=se.Ut(Fe.text)),!de&&ci&&(de=se.ab(Fe.text))}let Gt="",an=0,Ln=0,zt=0;if(Fe.text){let ci;[an,Ln,zt,ci]=(0,Qn.Q)(Fe.text);const Re=this.getEOL();Gt=0===ci||ci===("\r\n"===Re?2:1)?Fe.text:Fe.text.replace(/\r\n|\r|\n/g,Re)}et[De]={sortIndex:De,identifier:Fe.identifier||null,range:_t,rangeOffset:this.getOffsetAt(_t.startLineNumber,_t.startColumn),rangeLength:this.getValueLengthInRange(_t),text:Gt,eolCount:an,firstLineLength:Ln,lastLineLength:zt,forceMoveMarkers:Boolean(Fe.forceMoveMarkers),isAutoWhitespaceEdit:Fe.isAutoWhitespaceEdit||!1}}et.sort(gi._sortOpsAscending);let xt=!1;for(let De=0,Fe=et.length-1;De<Fe;De++){const _t=et[De].range.getEndPosition(),Gt=et[De+1].range.getStartPosition();if(Gt.isBeforeOrEqual(_t)){if(Gt.isBefore(_t))throw new Error("Overlapping ranges are not allowed!");xt=!0}}Qe&&(et=this._reduceOperations(et));const It=O||C?gi._getInverseEditRanges(et):[],Ft=[];if(C)for(let De=0;De<et.length;De++){const Fe=et[De],_t=It[De];if(Fe.isAutoWhitespaceEdit&&Fe.range.isEmpty())for(let Gt=_t.startLineNumber;Gt<=_t.endLineNumber;Gt++){let an="";Gt===_t.startLineNumber&&(an=this.getLineContent(Fe.range.startLineNumber),-1!==se.LC(an))||Ft.push({lineNumber:Gt,oldContent:an})}}let Yt=null;if(O){let De=0;Yt=[];for(let Fe=0;Fe<et.length;Fe++){const _t=et[Fe],Gt=It[Fe],an=this.getValueInRange(_t.range),Ln=_t.rangeOffset+De;De+=_t.text.length-an.length,Yt[Fe]={sortIndex:_t.sortIndex,identifier:_t.identifier,range:Gt,text:an,textChange:new ii.q(_t.rangeOffset,an,Ln,_t.text)}}xt||Yt.sort((Fe,_t)=>Fe.sortIndex-_t.sortIndex)}this._mightContainRTL=ee,this._mightContainUnusualLineTerminators=de,this._mightContainNonBasicASCII=oe;const nt=this._doApplyEdits(et);let Le=null;if(C&&Ft.length>0){Ft.sort((De,Fe)=>Fe.lineNumber-De.lineNumber),Le=[];for(let De=0,Fe=Ft.length;De<Fe;De++){const _t=Ft[De].lineNumber;if(De>0&&Ft[De-1].lineNumber===_t)continue;const Gt=Ft[De].oldContent,an=this.getLineContent(_t);0===an.length||an===Gt||-1!==se.LC(an)||Le.push(_t)}}return this._onDidChangeContent.fire(),new w.je(Yt,nt,Le)}_reduceOperations(c){return c.length<1e3?c:[this._toSingleEditOperation(c)]}_toSingleEditOperation(c){let C=!1;const O=c[0].range,ee=c[c.length-1].range,de=new V.e(O.startLineNumber,O.startColumn,ee.endLineNumber,ee.endColumn);let oe=O.startLineNumber,Qe=O.startColumn;const et=[];for(let nt=0,Le=c.length;nt<Le;nt++){const De=c[nt],Fe=De.range;C=C||De.forceMoveMarkers,et.push(this.getValueInRange(new V.e(oe,Qe,Fe.startLineNumber,Fe.startColumn))),De.text.length>0&&et.push(De.text),oe=Fe.endLineNumber,Qe=Fe.endColumn}const xt=et.join(""),[It,Ft,Yt]=(0,Qn.Q)(xt);return{sortIndex:0,identifier:c[0].identifier,range:de,rangeOffset:this.getOffsetAt(de.startLineNumber,de.startColumn),rangeLength:this.getValueLengthInRange(de,0),text:xt,eolCount:It,firstLineLength:Ft,lastLineLength:Yt,forceMoveMarkers:C,isAutoWhitespaceEdit:!1}}_doApplyEdits(c){c.sort(gi._sortOpsDescending);const C=[];for(let O=0;O<c.length;O++){const ee=c[O],de=ee.range.startLineNumber,oe=ee.range.startColumn,Qe=ee.range.endLineNumber,et=ee.range.endColumn;if(de===Qe&&oe===et&&0===ee.text.length)continue;ee.text?(this._pieceTree.delete(ee.rangeOffset,ee.rangeLength),this._pieceTree.insert(ee.rangeOffset,ee.text,!0)):this._pieceTree.delete(ee.rangeOffset,ee.rangeLength);const xt=new V.e(de,oe,Qe,et);C.push({range:xt,rangeLength:ee.rangeLength,text:ee.text,rangeOffset:ee.rangeOffset,forceMoveMarkers:ee.forceMoveMarkers})}return C}findMatchesLineByLine(c,C,O,ee){return this._pieceTree.findMatchesLineByLine(c,C,O,ee)}static _getInverseEditRanges(c){const C=[];let O=0,ee=0,de=null;for(let oe=0,Qe=c.length;oe<Qe;oe++){const et=c[oe];let xt,It,Ft;if(de?de.range.endLineNumber===et.range.startLineNumber?(xt=O,It=ee+(et.range.startColumn-de.range.endColumn)):(xt=O+(et.range.startLineNumber-de.range.endLineNumber),It=et.range.startColumn):(xt=et.range.startLineNumber,It=et.range.startColumn),et.text.length>0){const Yt=et.eolCount+1;Ft=1===Yt?new V.e(xt,It,xt,It+et.firstLineLength):new V.e(xt,It,xt+Yt-1,et.lastLineLength+1)}else Ft=new V.e(xt,It,xt,It);O=Ft.endLineNumber,ee=Ft.endColumn,C.push(Ft),de=et}return C}static _sortOpsAscending(c,C){const O=V.e.compareRangesUsingEnds(c.range,C.range);return 0===O?c.sortIndex-C.sortIndex:O}static _sortOpsDescending(c,C){const O=V.e.compareRangesUsingEnds(c.range,C.range);return 0===O?C.sortIndex-c.sortIndex:-O}}class ui{constructor(c,C,O,ee,de,oe,Qe,et,xt){this._chunks=c,this._bom=C,this._cr=O,this._lf=ee,this._crlf=de,this._containsRTL=oe,this._containsUnusualLineTerminators=Qe,this._isBasicASCII=et,this._normalizeEOL=xt}_getEOL(c){const C=this._cr+this._lf+this._crlf;return 0===C?1===c?"\n":"\r\n":this._cr+this._crlf>C/2?"\r\n":"\n"}create(c){const C=this._getEOL(c),O=this._chunks;if(this._normalizeEOL&&("\r\n"===C&&(this._cr>0||this._lf>0)||"\n"===C&&(this._cr>0||this._crlf>0)))for(let de=0,oe=O.length;de<oe;de++){const Qe=O[de].buffer.replace(/\r\n|\r|\n/g,C),et=ht(Qe);O[de]=new ln(Qe,et)}const ee=new gi(O,this._bom,C,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:ee,disposable:ee}}}class Ti{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(c){if(0===c.length)return;0===this.chunks.length&&se.uS(c)&&(this.BOM=se.c1,c=c.substr(1));const C=c.charCodeAt(c.length-1);13===C||C>=55296&&C<=56319?(this._acceptChunk1(c.substr(0,c.length-1),!1),this._hasPreviousChar=!0,this._previousChar=C):(this._acceptChunk1(c,!1),this._hasPreviousChar=!1,this._previousChar=C)}_acceptChunk1(c,C){!C&&0===c.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+c:c)}_acceptChunk2(c){const C=function Mt($e,c){$e.length=0,$e[0]=0;let C=1,O=0,ee=0,de=0,oe=!0;for(let et=0,xt=c.length;et<xt;et++){const It=c.charCodeAt(et);13===It?et+1<xt&&10===c.charCodeAt(et+1)?(de++,$e[C++]=et+2,et++):(O++,$e[C++]=et+1):10===It?(ee++,$e[C++]=et+1):oe&&9!==It&&(It<32||It>126)&&(oe=!1)}const Qe=new Ae(Te($e),O,ee,de,oe);return $e.length=0,Qe}(this._tmpLineStarts,c);this.chunks.push(new ln(c,C.lineStarts)),this.cr+=C.cr,this.lf+=C.lf,this.crlf+=C.crlf,this.isBasicASCII&&(this.isBasicASCII=C.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=se.Ut(c)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=se.ab(c))}finish(c=!0){return this._finish(),new ui(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,c)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const c=this.chunks[this.chunks.length-1];c.buffer+=String.fromCharCode(this._previousChar);const C=ht(c.buffer);c.lineStarts=C,13===this._previousChar&&this.cr++}}}var yi=m(2814),Ni=m(8028),Ai=m(5283),to=m(5052),Kn=m(1724);class Pn{constructor(c,C){this._startLineNumber=c,this._tokens=C}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(c){return this._tokens[c-this._startLineNumber]}appendLineTokens(c){this._tokens.push(c)}}class Ei{constructor(){this._tokens=[]}add(c,C){if(this._tokens.length>0){const O=this._tokens[this._tokens.length-1];if(O.endLineNumber+1===c)return void O.appendLineTokens(C)}this._tokens.push(new Pn(c,[C]))}finalize(){return this._tokens}}var vi=m(3072),Wi=m(8972);class Ci{constructor(c){this._default=c,this._store=[]}get(c){return c<this._store.length?this._store[c]:this._default}set(c,C){for(;c>=this._store.length;)this._store[this._store.length]=this._default;this._store[c]=C}delete(c,C){0===C||c>=this._store.length||this._store.splice(c,C)}insert(c,C){if(0===C||c>=this._store.length)return;const O=[];for(let ee=0;ee<C;ee++)O[ee]=this._default;this._store=v.Zv(this._store,c,O)}}class Ri{constructor(c,C){this.tokenizationSupport=c,this.initialState=C,this._lineBeginState=new Ci(null),this._lineNeedsTokenization=new Ci(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(c){this._lineNeedsTokenization.set(c,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,c)}getBeginState(c){return this._lineBeginState.get(c)}setEndState(c,C,O){if(this._lineNeedsTokenization.set(C,!1),this._firstLineNeedsTokenization=C+1,C===c-1)return;const ee=this._lineBeginState.get(C+1);if(null===ee||!O.equals(ee))return this._lineBeginState.set(C+1,O),void this.markMustBeTokenized(C+1);let de=C+1;for(;de<c&&!this._lineNeedsTokenization.get(de);)de++;this._firstLineNeedsTokenization=de}applyEdits(c,C){this.markMustBeTokenized(c.startLineNumber-1),this._lineBeginState.delete(c.startLineNumber,c.endLineNumber-c.startLineNumber),this._lineNeedsTokenization.delete(c.startLineNumber,c.endLineNumber-c.startLineNumber),this._lineBeginState.insert(c.startLineNumber,C),this._lineNeedsTokenization.insert(c.startLineNumber,C)}}class co extends R.JT{constructor(c,C){super(),this._textModel=c,this._languageIdCodec=C,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Ai.RW.onDidChange(O=>{const ee=this._textModel.getLanguageId();-1!==O.changedLanguages.indexOf(ee)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(O=>{if(O.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let ee=0,de=O.changes.length;ee<de;ee++){const oe=O.changes[ee],[Qe]=(0,Qn.Q)(oe.text);this._tokenizationStateStore.applyEdits(oe.range,Qe)}this._beginBackgroundTokenization()}})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[c,C]=function Pi($e){if($e.isTooLargeForTokenization())return[null,null];const c=Ai.RW.get($e.getLanguageId());if(!c)return[null,null];let C;try{C=c.getInitialState()}catch(O){return(0,Q.dL)(O),[null,null]}return[c,C]}(this._textModel);this._tokenizationStateStore=c&&C?new Ri(c,C):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,vi.To)(c=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(c)}))}_backgroundTokenizeWithDeadline(c){const C=Date.now()+c.timeRemaining(),O=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<C?(0,Wi.fn)(O):this._beginBackgroundTokenization())};O()}_backgroundTokenizeForAtLeast1ms(){const c=this._textModel.getLineCount(),C=new Ei,O=Kn.G.create(!1);do{if(O.elapsed()>1||this._tokenizeOneInvalidLine(C)>=c)break}while(this._hasLinesToTokenize());this._textModel.setTokens(C.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(c,C){const O=new Ei;this._tokenizeViewport(O,c,C),this._textModel.setTokens(O.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(c){const C=new Ei;this._updateTokensUntilLine(C,c),this._textModel.setTokens(C.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(c,C){if(!this._tokenizationStateStore)return 0;this.forceTokenization(c.lineNumber);const O=this._tokenizationStateStore.getBeginState(c.lineNumber-1);if(!O)return 0;const ee=this._textModel.getLanguageId(),de=this._textModel.getLineContent(c.lineNumber),oe=de.substring(0,c.column-1)+C+de.substring(c.column-1),Qe=vo(this._languageIdCodec,ee,this._tokenizationStateStore.tokenizationSupport,oe,!0,O),et=new Ni.A(Qe.tokens,oe,this._languageIdCodec);if(0===et.getCount())return 0;const xt=et.findTokenIndexAtOffset(c.column-1);return et.getStandardTokenType(xt)}tokenizeLineWithEdit(c,C,O){const ee=c.lineNumber,de=c.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(ee);const oe=this._tokenizationStateStore.getBeginState(ee-1);if(!oe)return null;const Qe=this._textModel.getLineContent(ee),et=Qe.substring(0,de-1)+O+Qe.substring(de-1+C),xt=this._textModel.getLanguageIdAtPosition(ee,0),It=vo(this._languageIdCodec,xt,this._tokenizationStateStore.tokenizationSupport,et,!0,oe);return new Ni.A(It.tokens,et,this._languageIdCodec)}isCheapToTokenize(c){if(!this._tokenizationStateStore)return!0;const C=this._tokenizationStateStore.invalidLineStartIndex+1;return!(c>C)&&(c<C||this._textModel.getLineLength(c)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(c){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const C=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(c,C),C}_updateTokensUntilLine(c,C){if(!this._tokenizationStateStore)return;const O=this._textModel.getLanguageId(),ee=this._textModel.getLineCount(),de=C-1;for(let oe=this._tokenizationStateStore.invalidLineStartIndex;oe<=de;oe++){const Qe=this._textModel.getLineContent(oe+1),et=this._tokenizationStateStore.getBeginState(oe),xt=vo(this._languageIdCodec,O,this._tokenizationStateStore.tokenizationSupport,Qe,!0,et);c.add(oe+1,xt.tokens),this._tokenizationStateStore.setEndState(ee,oe,xt.endState),oe=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(c,C,O){if(!this._tokenizationStateStore||O<=this._tokenizationStateStore.invalidLineStartIndex)return;if(C<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(c,O);let ee=this._textModel.getLineFirstNonWhitespaceColumn(C);const de=[];let oe=null;for(let xt=C-1;ee>1&&xt>=1;xt--){const It=this._textModel.getLineFirstNonWhitespaceColumn(xt);if(0!==It&&It<ee){if(oe=this._tokenizationStateStore.getBeginState(xt-1),oe)break;de.push(this._textModel.getLineContent(xt)),ee=It}}oe||(oe=this._tokenizationStateStore.initialState);const Qe=this._textModel.getLanguageId();let et=oe;for(let xt=de.length-1;xt>=0;xt--)et=vo(this._languageIdCodec,Qe,this._tokenizationStateStore.tokenizationSupport,de[xt],!1,et).endState;for(let xt=C;xt<=O;xt++){const It=this._textModel.getLineContent(xt),Ft=vo(this._languageIdCodec,Qe,this._tokenizationStateStore.tokenizationSupport,It,!0,et);c.add(xt,Ft.tokens),this._tokenizationStateStore.markMustBeTokenized(xt-1),et=Ft.endState}}}function vo($e,c,C,O,ee,de){let oe=null;if(C)try{oe=C.tokenizeEncoded(O,ee,de.clone())}catch(Qe){(0,Q.dL)(Qe)}return oe||(oe=(0,to.Dy)($e.encodeLanguageId(c),de)),Ni.A.convertToEndOffset(oe.tokens,O.length),oe}const Li=new Uint32Array(0).buffer;class Di{static deleteBeginning(c,C){return null===c||c===Li?c:Di.delete(c,0,C)}static deleteEnding(c,C){if(null===c||c===Li)return c;const O=Mo(c);return Di.delete(c,C,O[O.length-2])}static delete(c,C,O){if(null===c||c===Li||C===O)return c;const ee=Mo(c),de=ee.length>>>1;if(0===C&&ee[ee.length-2]===O)return Li;const oe=Ni.A.findIndexInTokensArray(ee,C),Qe=oe>0?ee[oe-1<<1]:0;if(O<ee[oe<<1]){const nt=O-C;for(let Le=oe;Le<de;Le++)ee[Le<<1]-=nt;return c}let xt,It;Qe!==C?(ee[oe<<1]=C,xt=oe+1<<1,It=C):(xt=oe<<1,It=Qe);const Ft=O-C;for(let nt=oe+1;nt<de;nt++){const Le=ee[nt<<1]-Ft;Le>It&&(ee[xt++]=Le,ee[xt++]=ee[1+(nt<<1)],It=Le)}if(xt===ee.length)return c;const Yt=new Uint32Array(xt);return Yt.set(ee.subarray(0,xt),0),Yt.buffer}static append(c,C){if(C===Li)return c;if(c===Li)return C;if(null===c)return c;if(null===C)return null;const O=Mo(c),ee=Mo(C),de=ee.length>>>1,oe=new Uint32Array(O.length+ee.length);oe.set(O,0);let Qe=O.length;const et=O[O.length-2];for(let xt=0;xt<de;xt++)oe[Qe++]=ee[xt<<1]+et,oe[Qe++]=ee[1+(xt<<1)];return oe.buffer}static insert(c,C,O){if(null===c||c===Li)return c;const ee=Mo(c),de=ee.length>>>1;let oe=Ni.A.findIndexInTokensArray(ee,C);oe>0&&ee[oe-1<<1]===C&&oe--;for(let Qe=oe;Qe<de;Qe++)ee[Qe<<1]+=O;return c}}function Mo($e){return $e instanceof Uint32Array?$e:new Uint32Array($e)}class Yi{constructor(c){this._lineTokens=[],this._len=0,this._languageIdCodec=c}flush(){this._lineTokens=[],this._len=0}getTokens(c,C,O){let ee=null;if(C<this._len&&(ee=this._lineTokens[C]),null!==ee&&ee!==Li)return new Ni.A(Mo(ee),O,this._languageIdCodec);const de=new Uint32Array(2);return de[0]=O.length,de[1]=Bo(this._languageIdCodec.encodeLanguageId(c)),new Ni.A(de,O,this._languageIdCodec)}static _massageTokens(c,C,O){const ee=O?Mo(O):null;if(0===C){let de=!1;if(ee&&ee.length>1&&(de=Ai.NX.getLanguageId(ee[1])!==c),!de)return Li}if(!ee||0===ee.length){const de=new Uint32Array(2);return de[0]=C,de[1]=Bo(c),de.buffer}return ee[ee.length-2]=C,0===ee.byteOffset&&ee.byteLength===ee.buffer.byteLength?ee.buffer:ee}_ensureLine(c){for(;c>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(c,C){0!==C&&(c+C>this._len&&(C=this._len-c),this._lineTokens.splice(c,C),this._len-=C)}_insertLines(c,C){if(0===C)return;const O=[];for(let ee=0;ee<C;ee++)O[ee]=null;this._lineTokens=v.Zv(this._lineTokens,c,O),this._len+=C}setTokens(c,C,O,ee,de){const oe=Yi._massageTokens(this._languageIdCodec.encodeLanguageId(c),O,ee);this._ensureLine(C);const Qe=this._lineTokens[C];return this._lineTokens[C]=oe,!!de&&!Yi._equals(Qe,oe)}static _equals(c,C){if(!c||!C)return!c&&!C;const O=Mo(c),ee=Mo(C);if(O.length!==ee.length)return!1;for(let de=0,oe=O.length;de<oe;de++)if(O[de]!==ee[de])return!1;return!0}acceptEdit(c,C,O){this._acceptDeleteRange(c),this._acceptInsertText(new Y.L(c.startLineNumber,c.startColumn),C,O)}_acceptDeleteRange(c){const C=c.startLineNumber-1;if(C>=this._len)return;if(c.startLineNumber===c.endLineNumber){if(c.startColumn===c.endColumn)return;return void(this._lineTokens[C]=Di.delete(this._lineTokens[C],c.startColumn-1,c.endColumn-1))}this._lineTokens[C]=Di.deleteEnding(this._lineTokens[C],c.startColumn-1);const O=c.endLineNumber-1;let ee=null;O<this._len&&(ee=Di.deleteBeginning(this._lineTokens[O],c.endColumn-1)),this._lineTokens[C]=Di.append(this._lineTokens[C],ee),this._deleteLines(c.startLineNumber,c.endLineNumber-c.startLineNumber)}_acceptInsertText(c,C,O){if(0===C&&0===O)return;const ee=c.lineNumber-1;if(!(ee>=this._len)){if(0===C)return void(this._lineTokens[ee]=Di.insert(this._lineTokens[ee],c.column-1,O));this._lineTokens[ee]=Di.deleteEnding(this._lineTokens[ee],c.column-1),this._lineTokens[ee]=Di.insert(this._lineTokens[ee],c.column-1,O),this._insertLines(c.lineNumber,C)}}}function Bo($e){return(16384|$e<<0|2<<23)>>>0}class Oo{constructor(c){this._pieces=[],this._isComplete=!1,this._languageIdCodec=c}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(c,C){this._pieces=c||[],this._isComplete=C}setPartial(c,C){let O=c;if(C.length>0){const de=C[0].getRange(),oe=C[C.length-1].getRange();if(!de||!oe)return c;O=c.plusRange(de).plusRange(oe)}let ee=null;for(let de=0,oe=this._pieces.length;de<oe;de++){const Qe=this._pieces[de];if(Qe.endLineNumber<O.startLineNumber)continue;if(Qe.startLineNumber>O.endLineNumber){ee=ee||{index:de};break}if(Qe.removeTokens(O),Qe.isEmpty()){this._pieces.splice(de,1),de--,oe--;continue}if(Qe.endLineNumber<O.startLineNumber)continue;if(Qe.startLineNumber>O.endLineNumber){ee=ee||{index:de};continue}const[et,xt]=Qe.split(O);et.isEmpty()?ee=ee||{index:de}:xt.isEmpty()||(this._pieces.splice(de,1,et,xt),de++,oe++,ee=ee||{index:de})}return ee=ee||{index:this._pieces.length},C.length>0&&(this._pieces=v.Zv(this._pieces,ee.index,C)),O}isComplete(){return this._isComplete}addSparseTokens(c,C){const O=this._pieces;if(0===O.length)return C;const de=O[Oo._findFirstPieceWithLine(O,c)].getLineTokens(c);if(!de)return C;const oe=C.getCount(),Qe=de.getCount();let et=0;const xt=[];let It=0,Ft=0;const Yt=(nt,Le)=>{nt!==Ft&&(Ft=nt,xt[It++]=nt,xt[It++]=Le)};for(let nt=0;nt<Qe;nt++){const Le=de.getStartCharacter(nt),De=de.getEndCharacter(nt),Fe=de.getMetadata(nt),_t=((1&Fe?1024:0)|(2&Fe?2048:0)|(4&Fe?4096:0)|(8&Fe?8192:0)|(16&Fe?8372224:0)|(32&Fe?4286578688:0))>>>0,Gt=~_t>>>0;for(;et<oe&&C.getEndOffset(et)<=Le;)Yt(C.getEndOffset(et),C.getMetadata(et)),et++;for(et<oe&&C.getStartOffset(et)<Le&&Yt(Le,C.getMetadata(et));et<oe&&C.getEndOffset(et)<De;)Yt(C.getEndOffset(et),C.getMetadata(et)&Gt|Fe&_t),et++;if(et<oe)Yt(De,C.getMetadata(et)&Gt|Fe&_t),C.getEndOffset(et)===De&&et++;else{const an=Math.min(Math.max(0,et-1),oe-1);Yt(De,C.getMetadata(an)&Gt|Fe&_t)}}for(;et<oe;)Yt(C.getEndOffset(et),C.getMetadata(et)),et++;return new Ni.A(new Uint32Array(xt),C.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(c,C){let O=0,ee=c.length-1;for(;O<ee;){let de=O+Math.floor((ee-O)/2);if(c[de].endLineNumber<C)O=de+1;else{if(!(c[de].startLineNumber>C)){for(;de>O&&c[de-1].startLineNumber<=C&&C<=c[de-1].endLineNumber;)de--;return de}ee=de-1}}return O}acceptEdit(c,C,O,ee,de){for(const oe of this._pieces)oe.acceptEdit(c,C,O,ee,de)}}var wi=m(5519),$o=m(7372),fi=m(7675),ss=m(8846),xi=m(2931),xo=function($e,c){return function(C,O){c(C,O,$e)}};function ds($e,c){return("string"==typeof $e?function Gn($e){const c=function Zo(){return new Ti}();return c.acceptChunk($e),c.finish()}($e):$e).create(c)}let oo=0;class Wo{constructor(c){this._source=c,this._eos=!1}read(){if(this._eos)return null;const c=[];let C=0,O=0;for(;;){const ee=this._source.read();if(null===ee)return this._eos=!0,0===C?null:c.join("");if(ee.length>0&&(c[C++]=ee,O+=ee.length),O>=65536)return c.join("")}}}const nr=()=>{throw new Error("Invalid change accessor")};let Is=class Zu extends R.JT{constructor(c,C,O,ee=null,de,oe,Qe){super(),this._undoRedoService=de,this._languageService=oe,this._languageConfigurationService=Qe,this._onWillDispose=this._register(new k.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ir(Yt=>this.handleBeforeFireDecorationsChangedEvent(Yt))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new k.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new k.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new k.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new k.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new k.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new k.Q5),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new Sr),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new k.Q5),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(Yt=>{this._onDidChangeContentOrInjectedText.fire(Yt.rawContentChangedEvent)})),oo++,this.id="$model"+oo,this.isForSimpleWidget=O.isForSimpleWidget,this._associatedResource=null==ee?j.o.parse("inmemory://model/"+oo):ee,this._attachedEditorCount=0;const{textBuffer:et,disposable:xt}=ds(c,O.defaultEOL);this._buffer=et,this._bufferDisposable=xt,this._options=Zu.resolveOptions(this._buffer,O);const It=this._buffer.getLineCount(),Ft=this._buffer.getValueLengthInRange(new V.e(1,1,It,this._buffer.getLineLength(It)+1),0);this._isTooLargeForTokenization=!!O.largeFileOptimizations&&(Ft>Zu.LARGE_FILE_SIZE_THRESHOLD||It>Zu.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=Ft>Zu.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=C,this._languageRegistryListener=this._languageConfigurationService.onDidChange(Yt=>{Yt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=se.PJ(oo),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new wr,this._commandManager=new ne.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Yi(this._languageService.languageIdCodec),this._semanticTokens=new Oo(this._languageService.languageIdCodec),this._tokenization=new co(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new fe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ce.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new pe(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(c,C){if(C.detectIndentation){const O=He(c,C.tabSize,C.insertSpaces);return new w.dJ({tabSize:O.tabSize,indentSize:O.tabSize,insertSpaces:O.insertSpaces,trimAutoWhitespace:C.trimAutoWhitespace,defaultEOL:C.defaultEOL,bracketPairColorizationOptions:C.bracketPairColorizationOptions})}return new w.dJ({tabSize:C.tabSize,indentSize:C.indentSize,insertSpaces:C.insertSpaces,trimAutoWhitespace:C.trimAutoWhitespace,defaultEOL:C.defaultEOL,bracketPairColorizationOptions:C.bracketPairColorizationOptions})}onDidChangeContentFast(c){return this._eventEmitter.fastEvent(C=>c(C.contentChangedEvent))}onDidChangeContent(c){return this._eventEmitter.slowEvent(C=>c(C.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(c){if(2===this._backgroundTokenizationState)return;const C=c?2:1;this._backgroundTokenizationState!==C&&(this._backgroundTokenizationState=C,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const c=new gi([],"","\n",!1,!1,!0,!0);c.dispose(),this._buffer=c}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(c,C){this._bracketPairColorizer.handleContentChanged(C),!this._isDisposing&&this._eventEmitter.fire(new yi.fV(c,C))}setValue(c){if(this._assertNotDisposed(),null===c)return;const{textBuffer:C,disposable:O}=ds(c,this._options.defaultEOL);this._setValueFromTextBuffer(C,O)}_createContentChanged2(c,C,O,ee,de,oe,Qe){return{changes:[{range:c,rangeOffset:C,rangeLength:O,text:ee}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:de,isRedoing:oe,isFlush:Qe}}_setValueFromTextBuffer(c,C){this._assertNotDisposed();const O=this.getFullModelRange(),ee=this.getValueLengthInRange(O),de=this.getLineCount(),oe=this.getLineMaxColumn(de);this._buffer=c,this._bufferDisposable.dispose(),this._bufferDisposable=C,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new wr,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new yi.dQ([new yi.Jx],this._versionId,!1,!1),this._createContentChanged2(new V.e(1,1,de,oe),0,ee,this.getValue(),!1,!1,!0))}setEOL(c){this._assertNotDisposed();const C=1===c?"\r\n":"\n";if(this._buffer.getEOL()===C)return;const O=this.getFullModelRange(),ee=this.getValueLengthInRange(O),de=this.getLineCount(),oe=this.getLineMaxColumn(de);this._onBeforeEOLChange(),this._buffer.setEOL(C),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new yi.dQ([new yi.CZ],this._versionId,!1,!1),this._createContentChanged2(new V.e(1,1,de,oe),0,ee,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const c=this.getVersionId(),C=this._decorationsTree.collectNodesPostOrder();for(let O=0,ee=C.length;O<ee;O++){const de=C[O],oe=de.range,Qe=de.cachedAbsoluteStart-de.start,et=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),xt=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);de.cachedAbsoluteStart=et,de.cachedAbsoluteEnd=xt,de.cachedVersionId=c,de.start=et-Qe,de.end=xt-Qe,ei(de)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let c=0,C=0;const O=this._buffer.getLineCount();for(let ee=1;ee<=O;ee++){const de=this._buffer.getLineLength(ee);de>=1e4?C+=de:c+=de}return C>c}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(c){this._assertNotDisposed();const Qe=new w.dJ({tabSize:void 0!==c.tabSize?c.tabSize:this._options.tabSize,indentSize:void 0!==c.indentSize?c.indentSize:this._options.indentSize,insertSpaces:void 0!==c.insertSpaces?c.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:void 0!==c.trimAutoWhitespace?c.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:void 0!==c.bracketColorizationOptions?c.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(Qe))return;const et=this._options.createChangeEvent(Qe);this._options=Qe,this._onDidChangeOptions.fire(et)}detectIndentation(c,C){this._assertNotDisposed();const O=He(this._buffer,C,c);this.updateOptions({insertSpaces:O.insertSpaces,tabSize:O.tabSize,indentSize:O.tabSize})}static _normalizeIndentationFromWhitespace(c,C,O){let ee=0;for(let oe=0;oe<c.length;oe++)"\t"===c.charAt(oe)?ee+=C:ee++;let de="";if(!O){const oe=Math.floor(ee/C);ee%=C;for(let Qe=0;Qe<oe;Qe++)de+="\t"}for(let oe=0;oe<ee;oe++)de+=" ";return de}static normalizeIndentation(c,C,O){let ee=se.LC(c);return-1===ee&&(ee=c.length),Zu._normalizeIndentationFromWhitespace(c.substring(0,ee),C,O)+c.substring(ee)}normalizeIndentation(c){return this._assertNotDisposed(),Zu.normalizeIndentation(c,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(c=null){const C=this.findMatches(se.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(c,C.map(O=>({range:O.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(c){this._assertNotDisposed();const C=this._validatePosition(c.lineNumber,c.column,0);return this._buffer.getOffsetAt(C.lineNumber,C.column)}getPositionAt(c){this._assertNotDisposed();const C=Math.min(this._buffer.getLength(),Math.max(0,c));return this._buffer.getPositionAt(C)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(c){this._versionId=c}_overwriteAlternativeVersionId(c){this._alternativeVersionId=c}_overwriteInitialUndoRedoSnapshot(c){this._initialUndoRedoSnapshot=c}getValue(c,C=!1){this._assertNotDisposed();const O=this.getFullModelRange(),ee=this.getValueInRange(O,c);return C?this._buffer.getBOM()+ee:ee}createSnapshot(c=!1){return new Wo(this._buffer.createSnapshot(c))}getValueLength(c,C=!1){this._assertNotDisposed();const O=this.getFullModelRange(),ee=this.getValueLengthInRange(O,c);return C?this._buffer.getBOM().length+ee:ee}getValueInRange(c,C=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(c),C)}getValueLengthInRange(c,C=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(c),C)}getCharacterCountInRange(c,C=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(c),C)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(c)}getLineLength(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(c)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(c){return this._assertNotDisposed(),1}getLineMaxColumn(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(c)+1}getLineFirstNonWhitespaceColumn(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(c)}getLineLastNonWhitespaceColumn(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(c)}_validateRangeRelaxedNoAllocations(c){const C=this._buffer.getLineCount(),O=c.startLineNumber,ee=c.startColumn;let de=Math.floor("number"!=typeof O||isNaN(O)?1:O),oe=Math.floor("number"!=typeof ee||isNaN(ee)?1:ee);if(de<1)de=1,oe=1;else if(de>C)de=C,oe=this.getLineMaxColumn(de);else if(oe<=1)oe=1;else{const Ft=this.getLineMaxColumn(de);oe>=Ft&&(oe=Ft)}const Qe=c.endLineNumber,et=c.endColumn;let xt=Math.floor("number"!=typeof Qe||isNaN(Qe)?1:Qe),It=Math.floor("number"!=typeof et||isNaN(et)?1:et);if(xt<1)xt=1,It=1;else if(xt>C)xt=C,It=this.getLineMaxColumn(xt);else if(It<=1)It=1;else{const Ft=this.getLineMaxColumn(xt);It>=Ft&&(It=Ft)}return O===de&&ee===oe&&Qe===xt&&et===It&&c instanceof V.e&&!(c instanceof x.Y)?c:new V.e(de,oe,xt,It)}_isValidPosition(c,C,O){if("number"!=typeof c||"number"!=typeof C||isNaN(c)||isNaN(C)||c<1||C<1||(0|c)!==c||(0|C)!==C)return!1;if(c>this._buffer.getLineCount())return!1;if(1===C)return!0;if(C>this.getLineMaxColumn(c))return!1;if(1===O){const oe=this._buffer.getLineCharCode(c,C-2);if(se.ZG(oe))return!1}return!0}_validatePosition(c,C,O){const ee=Math.floor("number"!=typeof c||isNaN(c)?1:c),de=Math.floor("number"!=typeof C||isNaN(C)?1:C),oe=this._buffer.getLineCount();if(ee<1)return new Y.L(1,1);if(ee>oe)return new Y.L(oe,this.getLineMaxColumn(oe));if(de<=1)return new Y.L(ee,1);const Qe=this.getLineMaxColumn(ee);if(de>=Qe)return new Y.L(ee,Qe);if(1===O){const et=this._buffer.getLineCharCode(ee,de-2);if(se.ZG(et))return new Y.L(ee,de-1)}return new Y.L(ee,de)}validatePosition(c){return this._assertNotDisposed(),c instanceof Y.L&&this._isValidPosition(c.lineNumber,c.column,1)?c:this._validatePosition(c.lineNumber,c.column,1)}_isValidRange(c,C){const O=c.startLineNumber,ee=c.startColumn,de=c.endLineNumber,oe=c.endColumn;if(!this._isValidPosition(O,ee,0)||!this._isValidPosition(de,oe,0))return!1;if(1===C){const Qe=ee>1?this._buffer.getLineCharCode(O,ee-2):0,et=oe>1&&oe<=this._buffer.getLineLength(de)?this._buffer.getLineCharCode(de,oe-2):0,xt=se.ZG(Qe),It=se.ZG(et);return!xt&&!It}return!0}validateRange(c){if(this._assertNotDisposed(),c instanceof V.e&&!(c instanceof x.Y)&&this._isValidRange(c,1))return c;const O=this._validatePosition(c.startLineNumber,c.startColumn,0),ee=this._validatePosition(c.endLineNumber,c.endColumn,0),de=O.lineNumber,oe=O.column,Qe=ee.lineNumber,et=ee.column;{const xt=oe>1?this._buffer.getLineCharCode(de,oe-2):0,It=et>1&&et<=this._buffer.getLineLength(Qe)?this._buffer.getLineCharCode(Qe,et-2):0,Ft=se.ZG(xt),Yt=se.ZG(It);return Ft||Yt?de===Qe&&oe===et?new V.e(de,oe-1,Qe,et-1):Ft&&Yt?new V.e(de,oe-1,Qe,et+1):Ft?new V.e(de,oe-1,Qe,et):new V.e(de,oe,Qe,et+1):new V.e(de,oe,Qe,et)}}modifyPosition(c,C){this._assertNotDisposed();const O=this.getOffsetAt(c)+C;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,O)))}getFullModelRange(){this._assertNotDisposed();const c=this.getLineCount();return new V.e(1,1,c,this.getLineMaxColumn(c))}findMatchesLineByLine(c,C,O,ee){return this._buffer.findMatchesLineByLine(c,C,O,ee)}findMatches(c,C,O,ee,de,oe,Qe=999){this._assertNotDisposed();let et=null;null!==C&&(Array.isArray(C)||(C=[C]),C.every(Ft=>V.e.isIRange(Ft))&&(et=C.map(Ft=>this.validateRange(Ft)))),null===et&&(et=[this.getFullModelRange()]),et=et.sort((Ft,Yt)=>Ft.startLineNumber-Yt.startLineNumber||Ft.startColumn-Yt.startColumn);const xt=[];let It;if(xt.push(et.reduce((Ft,Yt)=>V.e.areIntersecting(Ft,Yt)?Ft.plusRange(Yt):(xt.push(Ft),Yt))),!O&&c.indexOf("\n")<0){const Yt=new An.bc(c,O,ee,de).parseSearchRequest();if(!Yt)return[];It=nt=>this.findMatchesLineByLine(nt,Yt,oe,Qe)}else It=Ft=>An.pM.findMatches(this,new An.bc(c,O,ee,de),Ft,oe,Qe);return xt.map(It).reduce((Ft,Yt)=>Ft.concat(Yt),[])}findNextMatch(c,C,O,ee,de,oe){this._assertNotDisposed();const Qe=this.validatePosition(C);if(!O&&c.indexOf("\n")<0){const xt=new An.bc(c,O,ee,de).parseSearchRequest();if(!xt)return null;const It=this.getLineCount();let Ft=new V.e(Qe.lineNumber,Qe.column,It,this.getLineMaxColumn(It)),Yt=this.findMatchesLineByLine(Ft,xt,oe,1);return An.pM.findNextMatch(this,new An.bc(c,O,ee,de),Qe,oe),Yt.length>0||(Ft=new V.e(1,1,Qe.lineNumber,this.getLineMaxColumn(Qe.lineNumber)),Yt=this.findMatchesLineByLine(Ft,xt,oe,1),Yt.length>0)?Yt[0]:null}return An.pM.findNextMatch(this,new An.bc(c,O,ee,de),Qe,oe)}findPreviousMatch(c,C,O,ee,de,oe){this._assertNotDisposed();const Qe=this.validatePosition(C);return An.pM.findPreviousMatch(this,new An.bc(c,O,ee,de),Qe,oe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(c){if(("\n"===this.getEOL()?0:1)!==c)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(c)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(c){return c instanceof w.Qi?c:new w.Qi(c.identifier||null,this.validateRange(c.range),c.text,c.forceMoveMarkers||!1,c.isAutoWhitespaceEdit||!1,c._isTracked||!1)}_validateEditOperations(c){const C=[];for(let O=0,ee=c.length;O<ee;O++)C[O]=this._validateEditOperation(c[O]);return C}pushEditOperations(c,C,O){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(c,this._validateEditOperations(C),O)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(c,C,O){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const ee=C.map(oe=>({range:this.validateRange(oe.range),text:oe.text}));let de=!0;if(c)for(let oe=0,Qe=c.length;oe<Qe;oe++){const et=c[oe];let xt=!1;for(let It=0,Ft=ee.length;It<Ft;It++){const Yt=ee[It].range,Le=et.startLineNumber>Yt.endLineNumber;if(!(Yt.startLineNumber>et.endLineNumber||Le)){xt=!0;break}}if(!xt){de=!1;break}}if(de)for(let oe=0,Qe=this._trimAutoWhitespaceLines.length;oe<Qe;oe++){const et=this._trimAutoWhitespaceLines[oe],xt=this.getLineMaxColumn(et);let It=!0;for(let Ft=0,Yt=ee.length;Ft<Yt;Ft++){const nt=ee[Ft].range,Le=ee[Ft].text;if(!(et<nt.startLineNumber||et>nt.endLineNumber||et===nt.startLineNumber&&nt.startColumn===xt&&nt.isEmpty()&&Le&&Le.length>0&&"\n"===Le.charAt(0)||et===nt.startLineNumber&&1===nt.startColumn&&nt.isEmpty()&&Le&&Le.length>0&&"\n"===Le.charAt(Le.length-1))){It=!1;break}}if(It){const Ft=new V.e(et,1,et,xt);C.push(new w.Qi(null,Ft,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(c,C,O)}_applyUndo(c,C,O,ee){const de=c.map(oe=>{const Qe=this.getPositionAt(oe.newPosition),et=this.getPositionAt(oe.newEnd);return{range:new V.e(Qe.lineNumber,Qe.column,et.lineNumber,et.column),text:oe.oldText}});this._applyUndoRedoEdits(de,C,!0,!1,O,ee)}_applyRedo(c,C,O,ee){const de=c.map(oe=>{const Qe=this.getPositionAt(oe.oldPosition),et=this.getPositionAt(oe.oldEnd);return{range:new V.e(Qe.lineNumber,Qe.column,et.lineNumber,et.column),text:oe.newText}});this._applyUndoRedoEdits(de,C,!1,!0,O,ee)}_applyUndoRedoEdits(c,C,O,ee,de,oe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=O,this._isRedoing=ee,this.applyEdits(c,!1),this.setEOL(C),this._overwriteAlternativeVersionId(de)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(oe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(c,C=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const O=this._validateEditOperations(c);return this._doApplyEdits(O,C)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(c,C){const O=this._buffer.getLineCount(),ee=this._buffer.applyEdits(c,this._options.trimAutoWhitespace,C),de=this._buffer.getLineCount(),oe=ee.changes;if(this._trimAutoWhitespaceLines=ee.trimAutoWhitespaceLineNumbers,0!==oe.length){for(let xt=0,It=oe.length;xt<It;xt++){const Ft=oe[xt],[Yt,nt,Le]=(0,Qn.Q)(Ft.text);this._tokens.acceptEdit(Ft.range,Yt,nt),this._semanticTokens.acceptEdit(Ft.range,Yt,nt,Le,Ft.text.length>0?Ft.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(Ft.rangeOffset,Ft.rangeLength,Ft.text.length,Ft.forceMoveMarkers)}const Qe=[];this._increaseVersionId();let et=O;for(let xt=0,It=oe.length;xt<It;xt++){const Ft=oe[xt],[Yt]=(0,Qn.Q)(Ft.text);this._onDidChangeDecorations.fire();const nt=Ft.range.startLineNumber,Le=Ft.range.endLineNumber,De=Le-nt,Fe=Yt,_t=Math.min(De,Fe),Gt=Fe-De,an=de-et-Gt+nt,zt=an+Fe,ci=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Y.L(an,1)),this.getOffsetAt(new Y.L(zt,this.getLineMaxColumn(zt))),0),Re=yi.gk.fromDecorations(ci),wt=new v.H9(Re);for(let Ze=_t;Ze>=0;Ze--){const Ot=nt+Ze,hn=an+Ze;wt.takeFromEndWhile($n=>$n.lineNumber>hn);const Hn=wt.takeFromEndWhile($n=>$n.lineNumber===hn);Qe.push(new yi.rU(Ot,this.getLineContent(hn),Hn))}if(_t<De&&Qe.push(new yi.lN(nt+_t+1,Le)),_t<Fe){const Ze=new v.H9(Re),Ot=nt+_t,hn=Fe-_t,Hn=de-et-hn+Ot+1,$n=[],Fi=[];for(let es=0;es<hn;es++){const No=Hn+es;Fi[es]=this.getLineContent(No),Ze.takeWhile(yo=>yo.lineNumber<No),$n[es]=Ze.takeWhile(yo=>yo.lineNumber===No)}Qe.push(new yi.Tx(Ot+1,nt+Fe,Fi,$n))}et+=Gt}this._emitContentChangedEvent(new yi.dQ(Qe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:oe,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===ee.reverseEdits?void 0:ee.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(c){if(null===c||0===c.size)return;const O=[...c].map(ee=>new yi.rU(ee,this.getLineContent(ee),this._getInjectedTextInLine(ee)));this._onDidChangeContentOrInjectedText.fire(new yi.D8(O))}changeDecorations(c,C=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(C,c)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(c,C){const O={addDecoration:(de,oe)=>this._deltaDecorationsImpl(c,[],[{range:de,options:oe}])[0],changeDecoration:(de,oe)=>{this._changeDecorationImpl(de,oe)},changeDecorationOptions:(de,oe)=>{this._changeDecorationOptionsImpl(de,Qs(oe))},removeDecoration:de=>{this._deltaDecorationsImpl(c,[de],[])},deltaDecorations:(de,oe)=>0===de.length&&0===oe.length?[]:this._deltaDecorationsImpl(c,de,oe)};let ee=null;try{ee=C(O)}catch(de){(0,Q.dL)(de)}return O.addDecoration=nr,O.changeDecoration=nr,O.changeDecorationOptions=nr,O.removeDecoration=nr,O.deltaDecorations=nr,ee}deltaDecorations(c,C,O=0){if(this._assertNotDisposed(),c||(c=[]),0===c.length&&0===C.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(O,c,C)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(c){return this.getDecorationRange(c)}_setTrackedRange(c,C,O){const ee=c?this._decorations[c]:null;if(!ee)return C?this._deltaDecorationsImpl(0,[],[{range:C,options:Bs[O]}])[0]:null;if(!C)return this._decorationsTree.delete(ee),delete this._decorations[ee.id],null;const de=this._validateRangeRelaxedNoAllocations(C),oe=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),Qe=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);return this._decorationsTree.delete(ee),ee.reset(this.getVersionId(),oe,Qe,de),ee.setOptions(Bs[O]),this._decorationsTree.insert(ee),ee.id}removeAllDecorationsWithOwnerId(c){if(this._isDisposed)return;const C=this._decorationsTree.collectNodesFromOwner(c);for(let O=0,ee=C.length;O<ee;O++){const de=C[O];this._decorationsTree.delete(de),delete this._decorations[de.id]}}getDecorationOptions(c){const C=this._decorations[c];return C?C.options:null}getDecorationRange(c){const C=this._decorations[c];return C?this._decorationsTree.getNodeRange(this,C):null}getLineDecorations(c,C=0,O=!1){return c<1||c>this.getLineCount()?[]:this.getLinesDecorations(c,c,C,O)}getLinesDecorations(c,C,O=0,ee=!1){const de=this.getLineCount(),oe=Math.min(de,Math.max(1,c)),Qe=Math.min(de,Math.max(1,C)),et=this.getLineMaxColumn(Qe),xt=new V.e(oe,1,Qe,et),It=this._getDecorationsInRange(xt,O,ee);return It.push(...this._decorationProvider.getDecorationsInRange(xt,O,ee)),It}getDecorationsInRange(c,C=0,O=!1){const ee=this.validateRange(c),de=this._getDecorationsInRange(ee,C,O);return de.push(...this._decorationProvider.getDecorationsInRange(ee,C,O)),de}getOverviewRulerDecorations(c=0,C=!1){return this._decorationsTree.getAll(this,c,C,!0)}getInjectedTextDecorations(c=0){return this._decorationsTree.getAllInjectedText(this,c)}_getInjectedTextInLine(c){const C=this._buffer.getOffsetAt(c,1),O=C+this._buffer.getLineLength(c),ee=this._decorationsTree.getInjectedTextInInterval(this,C,O,0);return yi.gk.fromDecorations(ee).filter(de=>de.lineNumber===c)}getAllDecorations(c=0,C=!1){let O=this._decorationsTree.getAll(this,c,C,!1);return O=O.concat(this._decorationProvider.getAllDecorations(c,C)),O}_getDecorationsInRange(c,C,O){const ee=this._buffer.getOffsetAt(c.startLineNumber,c.startColumn),de=this._buffer.getOffsetAt(c.endLineNumber,c.endColumn);return this._decorationsTree.getAllInInterval(this,ee,de,C,O)}getRangeAt(c,C){return this._buffer.getRangeAt(c,C-c)}_changeDecorationImpl(c,C){const O=this._decorations[c];if(!O)return;if(O.options.after){const Qe=this.getDecorationRange(c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Qe.endLineNumber)}if(O.options.before){const Qe=this.getDecorationRange(c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Qe.startLineNumber)}const ee=this._validateRangeRelaxedNoAllocations(C),de=this._buffer.getOffsetAt(ee.startLineNumber,ee.startColumn),oe=this._buffer.getOffsetAt(ee.endLineNumber,ee.endColumn);this._decorationsTree.delete(O),O.reset(this.getVersionId(),de,oe,ee),this._decorationsTree.insert(O),this._onDidChangeDecorations.checkAffectedAndFire(O.options),O.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.endLineNumber),O.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.startLineNumber)}_changeDecorationOptionsImpl(c,C){const O=this._decorations[c];if(!O)return;const ee=!(!O.options.overviewRuler||!O.options.overviewRuler.color),de=!(!C.overviewRuler||!C.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(O.options),this._onDidChangeDecorations.checkAffectedAndFire(C),O.options.after||C.after){const oe=this._decorationsTree.getNodeRange(this,O);this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.endLineNumber)}if(O.options.before||C.before){const oe=this._decorationsTree.getNodeRange(this,O);this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.startLineNumber)}ee!==de?(this._decorationsTree.delete(O),O.setOptions(C),this._decorationsTree.insert(O)):O.setOptions(C)}_deltaDecorationsImpl(c,C,O){const ee=this.getVersionId(),de=C.length;let oe=0;const Qe=O.length;let et=0;const xt=new Array(Qe);for(;oe<de||et<Qe;){let It=null;if(oe<de){do{It=this._decorations[C[oe++]]}while(!It&&oe<de);if(It){if(It.options.after){const Ft=this._decorationsTree.getNodeRange(this,It);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ft.endLineNumber)}if(It.options.before){const Ft=this._decorationsTree.getNodeRange(this,It);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ft.startLineNumber)}this._decorationsTree.delete(It),this._onDidChangeDecorations.checkAffectedAndFire(It.options)}}if(et<Qe){if(!It){const Fe=++this._lastDecorationId,_t=`${this._instanceId};${Fe}`;It=new Xt(_t,0,0),this._decorations[_t]=It}const Ft=O[et],Yt=this._validateRangeRelaxedNoAllocations(Ft.range),nt=Qs(Ft.options),Le=this._buffer.getOffsetAt(Yt.startLineNumber,Yt.startColumn),De=this._buffer.getOffsetAt(Yt.endLineNumber,Yt.endColumn);It.ownerId=c,It.reset(ee,Le,De,Yt),It.setOptions(nt),It.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Yt.endLineNumber),It.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Yt.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(nt),this._decorationsTree.insert(It),xt[et]=It.id,et++}else It&&delete this._decorations[It.id]}return xt}setTokens(c,C=!1){if(0!==c.length){const O=[];for(let ee=0,de=c.length;ee<de;ee++){const oe=c[ee];let Qe=0,et=0,xt=!1;for(let It=oe.startLineNumber;It<=oe.endLineNumber;It++)xt?(this._tokens.setTokens(this._languageId,It-1,this._buffer.getLineLength(It),oe.getLineTokens(It),!1),et=It):this._tokens.setTokens(this._languageId,It-1,this._buffer.getLineLength(It),oe.getLineTokens(It),!0)&&(xt=!0,Qe=It,et=It);xt&&O.push({fromLineNumber:Qe,toLineNumber:et})}O.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:O})}this.handleTokenizationProgress(C)}setSemanticTokens(c,C){this._semanticTokens.set(c,C),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==c,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(c,C){if(this.hasCompleteSemanticTokens())return;const O=this.validateRange(this._semanticTokens.setPartial(c,C));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:O.startLineNumber,toLineNumber:O.endLineNumber}]})}tokenizeViewport(c,C){c=Math.max(1,c),C=Math.min(this._buffer.getLineCount(),C),this._tokenization.tokenizeViewport(c,C)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(c){this._isDisposing||this._onDidChangeTokens.fire(c)}resetTokenization(){this._tokenization.reset()}forceTokenization(c){if(c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(c)}isCheapToTokenize(c){return this._tokenization.isCheapToTokenize(c)}tokenizeIfCheap(c){this.isCheapToTokenize(c)&&this.forceTokenization(c)}getLineTokens(c){if(c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(c)}_getLineTokens(c){const C=this.getLineContent(c),O=this._tokens.getTokens(this._languageId,c-1,C);return this._semanticTokens.addSparseTokens(c,O)}getLanguageId(){return this._languageId}setMode(c){if(this._languageId===c)return;const C={oldLanguage:this._languageId,newLanguage:c};this._languageId=c,this._onDidChangeLanguage.fire(C),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(c,C){const O=this.validatePosition(new Y.L(c,C)),ee=this.getLineTokens(O.lineNumber);return ee.getLanguageId(ee.findTokenIndexAtOffset(O.column-1))}getTokenTypeIfInsertingCharacter(c,C,O){const ee=this.validatePosition(new Y.L(c,C));return this._tokenization.getTokenTypeIfInsertingCharacter(ee,O)}tokenizeLineWithEdit(c,C,O){const ee=this.validatePosition(c);return this._tokenization.tokenizeLineWithEdit(ee,C,O)}getLanguageConfiguration(c){return this._languageConfigurationService.getLanguageConfiguration(c)}getWordAtPosition(c){this._assertNotDisposed();const C=this.validatePosition(c),O=this.getLineContent(C.lineNumber),ee=this._getLineTokens(C.lineNumber),de=ee.findTokenIndexAtOffset(C.column-1),[oe,Qe]=Zu._findLanguageBoundaries(ee,de),et=(0,wi.t2)(C.column,this.getLanguageConfiguration(ee.getLanguageId(de)).getWordDefinition(),O.substring(oe,Qe),oe);if(et&&et.startColumn<=c.column&&c.column<=et.endColumn)return et;if(de>0&&oe===C.column-1){const[xt,It]=Zu._findLanguageBoundaries(ee,de-1),Ft=(0,wi.t2)(C.column,this.getLanguageConfiguration(ee.getLanguageId(de-1)).getWordDefinition(),O.substring(xt,It),xt);if(Ft&&Ft.startColumn<=c.column&&c.column<=Ft.endColumn)return Ft}return null}static _findLanguageBoundaries(c,C){const O=c.getLanguageId(C);let ee=0;for(let oe=C;oe>=0&&c.getLanguageId(oe)===O;oe--)ee=c.getStartOffset(oe);let de=c.getLineContent().length;for(let oe=C,Qe=c.getCount();oe<Qe&&c.getLanguageId(oe)===O;oe++)de=c.getEndOffset(oe);return[ee,de]}getWordUntilPosition(c){const C=this.getWordAtPosition(c);return C?{word:C.word.substr(0,c.column-C.startColumn),startColumn:C.startColumn,endColumn:c.column}:{word:"",startColumn:c.column,endColumn:c.column}}normalizePosition(c,C){return c}getLineIndentColumn(c){return function vs($e){let c=0;for(const C of $e){if(" "!==C&&"\t"!==C)break;c++}return c}(this.getLineContent(c))+1}};function Ks($e){return!(!$e.options.overviewRuler||!$e.options.overviewRuler.color)}function dr($e){return!!$e.options.after||!!$e.options.before}Is.MODEL_SYNC_LIMIT=52428800,Is.LARGE_FILE_SIZE_THRESHOLD=20971520,Is.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Is.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:xi.D.tabSize,indentSize:xi.D.indentSize,insertSpaces:xi.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:xi.D.trimAutoWhitespace,largeFileOptimizations:xi.D.largeFileOptimizations,bracketPairColorizationOptions:xi.D.bracketPairColorizationOptions},Is=function($e,c,C,O){var oe,ee=arguments.length,de=ee<3?c:null===O?O=Object.getOwnPropertyDescriptor(c,C):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate($e,c,C,O);else for(var Qe=$e.length-1;Qe>=0;Qe--)(oe=$e[Qe])&&(de=(ee<3?oe(de):ee>3?oe(c,C,de):oe(c,C))||de);return ee>3&&de&&Object.defineProperty(c,C,de),de}([xo(4,ss.tJ),xo(5,fi.O),xo(6,$o.c_)],Is);class wr{constructor(){this._decorationsTree0=new At,this._decorationsTree1=new At,this._injectedTextDecorationsTree=new At}ensureAllNodesHaveRanges(c){this.getAll(c,0,!1,!1)}_ensureNodesHaveRanges(c,C){for(const O of C)null===O.range&&(O.range=c.getRangeAt(O.cachedAbsoluteStart,O.cachedAbsoluteEnd));return C}getAllInInterval(c,C,O,ee,de){const oe=c.getVersionId(),Qe=this._intervalSearch(C,O,ee,de,oe);return this._ensureNodesHaveRanges(c,Qe)}_intervalSearch(c,C,O,ee,de){const oe=this._decorationsTree0.intervalSearch(c,C,O,ee,de),Qe=this._decorationsTree1.intervalSearch(c,C,O,ee,de),et=this._injectedTextDecorationsTree.intervalSearch(c,C,O,ee,de);return oe.concat(Qe).concat(et)}getInjectedTextInInterval(c,C,O,ee){const de=c.getVersionId(),oe=this._injectedTextDecorationsTree.intervalSearch(C,O,ee,!1,de);return this._ensureNodesHaveRanges(c,oe).filter(Qe=>Qe.options.showIfCollapsed||!Qe.range.isEmpty())}getAllInjectedText(c,C){const O=c.getVersionId(),ee=this._injectedTextDecorationsTree.search(C,!1,O);return this._ensureNodesHaveRanges(c,ee).filter(de=>de.options.showIfCollapsed||!de.range.isEmpty())}getAll(c,C,O,ee){const de=c.getVersionId(),oe=this._search(C,O,ee,de);return this._ensureNodesHaveRanges(c,oe)}_search(c,C,O,ee){if(O)return this._decorationsTree1.search(c,C,ee);{const de=this._decorationsTree0.search(c,C,ee),oe=this._decorationsTree1.search(c,C,ee),Qe=this._injectedTextDecorationsTree.search(c,C,ee);return de.concat(oe).concat(Qe)}}collectNodesFromOwner(c){const C=this._decorationsTree0.collectNodesFromOwner(c),O=this._decorationsTree1.collectNodesFromOwner(c),ee=this._injectedTextDecorationsTree.collectNodesFromOwner(c);return C.concat(O).concat(ee)}collectNodesPostOrder(){const c=this._decorationsTree0.collectNodesPostOrder(),C=this._decorationsTree1.collectNodesPostOrder(),O=this._injectedTextDecorationsTree.collectNodesPostOrder();return c.concat(C).concat(O)}insert(c){dr(c)?this._injectedTextDecorationsTree.insert(c):Ks(c)?this._decorationsTree1.insert(c):this._decorationsTree0.insert(c)}delete(c){dr(c)?this._injectedTextDecorationsTree.delete(c):Ks(c)?this._decorationsTree1.delete(c):this._decorationsTree0.delete(c)}getNodeRange(c,C){const O=c.getVersionId();return C.cachedVersionId!==O&&this._resolveNode(C,O),null===C.range&&(C.range=c.getRangeAt(C.cachedAbsoluteStart,C.cachedAbsoluteEnd)),C.range}_resolveNode(c,C){dr(c)?this._injectedTextDecorationsTree.resolveNode(c,C):Ks(c)?this._decorationsTree1.resolveNode(c,C):this._decorationsTree0.resolveNode(c,C)}acceptReplace(c,C,O,ee){this._decorationsTree0.acceptReplace(c,C,O,ee),this._decorationsTree1.acceptReplace(c,C,O,ee),this._injectedTextDecorationsTree.acceptReplace(c,C,O,ee)}}function $s($e){return $e.replace(/[^a-z0-9\-_]/gi," ")}class Gs{constructor(c){this.color=c.color||"",this.darkColor=c.darkColor||""}}class ks extends Gs{constructor(c){super(c),this._resolvedColor=null,this.position="number"==typeof c.position?c.position:w.sh.Center}getColor(c){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==c.type&&this.darkColor?this.darkColor:this.color,c)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(c,C){if("string"==typeof c)return c;const O=c?C.getColor(c.id):null;return O?O.toString():""}}class Ar extends Gs{constructor(c){super(c),this.position=c.position}getColor(c){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==c.type&&this.darkColor?this.darkColor:this.color,c)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(c,C){return"string"==typeof c?h.Il.fromHex(c):C.getColor(c.id)}}class qs{constructor(c){this.content=c.content||"",this.inlineClassName=c.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=c.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=c.attachedData||null,this.cursorStops=c.cursorStops||null}static from(c){return c instanceof qs?c:new qs(c)}}class Co{constructor(c){var C,O;this.description=c.description,this.stickiness=c.stickiness||0,this.zIndex=c.zIndex||0,this.className=c.className?$s(c.className):null,this.hoverMessage=c.hoverMessage||null,this.glyphMarginHoverMessage=c.glyphMarginHoverMessage||null,this.isWholeLine=c.isWholeLine||!1,this.showIfCollapsed=c.showIfCollapsed||!1,this.collapseOnReplaceEdit=c.collapseOnReplaceEdit||!1,this.overviewRuler=c.overviewRuler?new ks(c.overviewRuler):null,this.minimap=c.minimap?new Ar(c.minimap):null,this.glyphMarginClassName=c.glyphMarginClassName?$s(c.glyphMarginClassName):null,this.linesDecorationsClassName=c.linesDecorationsClassName?$s(c.linesDecorationsClassName):null,this.firstLineDecorationClassName=c.firstLineDecorationClassName?$s(c.firstLineDecorationClassName):null,this.marginClassName=c.marginClassName?$s(c.marginClassName):null,this.inlineClassName=c.inlineClassName?$s(c.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=c.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=c.beforeContentClassName?$s(c.beforeContentClassName):null,this.afterContentClassName=c.afterContentClassName?$s(c.afterContentClassName):null,this.after=c.after?qs.from(c.after):null,this.before=c.before?qs.from(c.before):null,this.hideInCommentTokens=null!==(C=c.hideInCommentTokens)&&void 0!==C&&C,this.hideInStringTokens=null!==(O=c.hideInStringTokens)&&void 0!==O&&O}static register(c){return new Co(c)}static createDynamic(c){return new Co(c)}}Co.EMPTY=Co.register({description:"empty"});const Bs=[Co.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Co.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Co.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Co.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Qs($e){return $e instanceof Co?$e:Co.createDynamic($e)}class ir extends R.JT{constructor(c){super(),this.handleBeforeFire=c,this._actual=this._register(new k.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var c;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const C={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(C)}null===(c=this._affectedInjectedTextLines)||void 0===c||c.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(c){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(c)}checkAffectedAndFire(c){this._affectsMinimap||(this._affectsMinimap=!(!c.minimap||!c.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!c.overviewRuler||!c.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Sr extends R.JT{constructor(){super(),this._fastEmitter=this._register(new k.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new k.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(c=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=c;const C=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(C),this._slowEmitter.fire(C)}}fire(c){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(c):c:(this._fastEmitter.fire(c),this._slowEmitter.fire(c))}}},1154:(vt,Ke,m)=>{m.d(Ke,{bc:()=>j,iE:()=>V,pM:()=>w,cM:()=>f,sz:()=>T});var v=m(4705),h=m(681),Q=m(4220),k=m(8451),R=m(2213);class j{constructor(I,H,K,N){this.searchString=I,this.isRegex=H,this.matchCase=K,this.wordSeparators=N}parseSearchRequest(){if(""===this.searchString)return null;let I;I=this.isRegex?function Y(z){if(!z||0===z.length)return!1;for(let I=0,H=z.length;I<H;I++)if(92===z.charCodeAt(I)){if(I++,I>=H)break;const N=z.charCodeAt(I);if(110===N||114===N||87===N)return!0}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let H=null;try{H=v.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:I,global:!0,unicode:!0})}catch(N){return null}if(!H)return null;let K=!this.isRegex&&!I;return K&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(K=this.matchCase),new R.Tx(H,this.wordSeparators?(0,h.u)(this.wordSeparators):null,K?this.searchString:null)}}function V(z,I,H){if(!H)return new R.tk(z,null);const K=[];for(let N=0,M=I.length;N<M;N++)K[N]=I[N];return new R.tk(z,K)}class x{constructor(I){const H=[];let K=0;for(let N=0,M=I.length;N<M;N++)10===I.charCodeAt(N)&&(H[K++]=N);this._lineFeedsOffsets=H}findLineFeedCountBeforeOffset(I){const H=this._lineFeedsOffsets;let K=0,N=H.length-1;if(-1===N||I<=H[0])return 0;for(;K<N;){const M=K+((N-K)/2>>0);H[M]>=I?N=M-1:H[M+1]>=I?(K=M,N=M):K=M+1}return K+1}}class w{static findMatches(I,H,K,N,M){const P=H.parseSearchRequest();return P?P.regex.multiline?this._doFindMatchesMultiline(I,K,new T(P.wordSeparators,P.regex),N,M):this._doFindMatchesLineByLine(I,K,P,N,M):[]}static _getMultilineMatchRange(I,H,K,N,M,P){let W,he,J=0;if(N?(J=N.findLineFeedCountBeforeOffset(M),W=H+M+J):W=H+M,N){const Ie=N.findLineFeedCountBeforeOffset(M+P.length)-J;he=W+P.length+Ie}else he=W+P.length;const ye=I.getPositionAt(W),fe=I.getPositionAt(he);return new k.e(ye.lineNumber,ye.column,fe.lineNumber,fe.column)}static _doFindMatchesMultiline(I,H,K,N,M){const P=I.getOffsetAt(H.getStartPosition()),W=I.getValueInRange(H,1),J="\r\n"===I.getEOL()?new x(W):null,he=[];let fe,ye=0;for(K.reset(0);fe=K.next(W);)if(he[ye++]=V(this._getMultilineMatchRange(I,P,W,J,fe.index,fe[0]),fe,N),ye>=M)return he;return he}static _doFindMatchesLineByLine(I,H,K,N,M){const P=[];let W=0;if(H.startLineNumber===H.endLineNumber){const he=I.getLineContent(H.startLineNumber).substring(H.startColumn-1,H.endColumn-1);return W=this._findMatchesInLine(K,he,H.startLineNumber,H.startColumn-1,W,P,N,M),P}const J=I.getLineContent(H.startLineNumber).substring(H.startColumn-1);W=this._findMatchesInLine(K,J,H.startLineNumber,H.startColumn-1,W,P,N,M);for(let he=H.startLineNumber+1;he<H.endLineNumber&&W<M;he++)W=this._findMatchesInLine(K,I.getLineContent(he),he,0,W,P,N,M);if(W<M){const he=I.getLineContent(H.endLineNumber).substring(0,H.endColumn-1);W=this._findMatchesInLine(K,he,H.endLineNumber,0,W,P,N,M)}return P}static _findMatchesInLine(I,H,K,N,M,P,W,J){const he=I.wordSeparators;if(!W&&I.simpleSearch){const Se=I.simpleSearch,Ie=Se.length,_e=H.length;let $=-Ie;for(;-1!==($=H.indexOf(Se,$+Ie));)if((!he||f(he,H,_e,$,Ie))&&(P[M++]=new R.tk(new k.e(K,$+1+N,K,$+1+Ie+N),null),M>=J))return M;return M}const ye=new T(I.wordSeparators,I.regex);let fe;ye.reset(0);do{if(fe=ye.next(H),fe&&(P[M++]=V(new k.e(K,fe.index+1+N,K,fe.index+1+fe[0].length+N),fe,W),M>=J))return M}while(fe);return M}static findNextMatch(I,H,K,N){const M=H.parseSearchRequest();if(!M)return null;const P=new T(M.wordSeparators,M.regex);return M.regex.multiline?this._doFindNextMatchMultiline(I,K,P,N):this._doFindNextMatchLineByLine(I,K,P,N)}static _doFindNextMatchMultiline(I,H,K,N){const M=new Q.L(H.lineNumber,1),P=I.getOffsetAt(M),W=I.getLineCount(),J=I.getValueInRange(new k.e(M.lineNumber,M.column,W,I.getLineMaxColumn(W)),1),he="\r\n"===I.getEOL()?new x(J):null;K.reset(H.column-1);let ye=K.next(J);return ye?V(this._getMultilineMatchRange(I,P,J,he,ye.index,ye[0]),ye,N):1!==H.lineNumber||1!==H.column?this._doFindNextMatchMultiline(I,new Q.L(1,1),K,N):null}static _doFindNextMatchLineByLine(I,H,K,N){const M=I.getLineCount(),P=H.lineNumber,W=I.getLineContent(P),J=this._findFirstMatchInLine(K,W,P,H.column,N);if(J)return J;for(let he=1;he<=M;he++){const ye=(P+he-1)%M,fe=I.getLineContent(ye+1),Se=this._findFirstMatchInLine(K,fe,ye+1,1,N);if(Se)return Se}return null}static _findFirstMatchInLine(I,H,K,N,M){I.reset(N-1);const P=I.next(H);return P?V(new k.e(K,P.index+1,K,P.index+1+P[0].length),P,M):null}static findPreviousMatch(I,H,K,N){const M=H.parseSearchRequest();if(!M)return null;const P=new T(M.wordSeparators,M.regex);return M.regex.multiline?this._doFindPreviousMatchMultiline(I,K,P,N):this._doFindPreviousMatchLineByLine(I,K,P,N)}static _doFindPreviousMatchMultiline(I,H,K,N){const M=this._doFindMatchesMultiline(I,new k.e(1,1,H.lineNumber,H.column),K,N,9990);if(M.length>0)return M[M.length-1];const P=I.getLineCount();return H.lineNumber!==P||H.column!==I.getLineMaxColumn(P)?this._doFindPreviousMatchMultiline(I,new Q.L(P,I.getLineMaxColumn(P)),K,N):null}static _doFindPreviousMatchLineByLine(I,H,K,N){const M=I.getLineCount(),P=H.lineNumber,W=I.getLineContent(P).substring(0,H.column-1),J=this._findLastMatchInLine(K,W,P,N);if(J)return J;for(let he=1;he<=M;he++){const ye=(M+P-he-1)%M,fe=I.getLineContent(ye+1),Se=this._findLastMatchInLine(K,fe,ye+1,N);if(Se)return Se}return null}static _findLastMatchInLine(I,H,K,N){let P,M=null;for(I.reset(0);P=I.next(H);)M=V(new k.e(K,P.index+1,K,P.index+1+P[0].length),P,N);return M}}function f(z,I,H,K,N){return function D(z,I,H,K,N){if(0===K)return!0;const M=I.charCodeAt(K-1);if(0!==z.get(M)||13===M||10===M)return!0;if(N>0){const P=I.charCodeAt(K);if(0!==z.get(P))return!0}return!1}(z,I,0,K,N)&&function F(z,I,H,K,N){if(K+N===H)return!0;const M=I.charCodeAt(K+N);if(0!==z.get(M)||13===M||10===M)return!0;if(N>0){const P=I.charCodeAt(K+N-1);if(0!==z.get(P))return!0}return!1}(z,I,H,K,N)}class T{constructor(I,H){this._wordSeparators=I,this._searchRegex=H,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(I){this._searchRegex.lastIndex=I,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(I){const H=I.length;let K;do{if(this._prevMatchStartIndex+this._prevMatchLength===H||(K=this._searchRegex.exec(I),!K))return null;const N=K.index,M=K[0].length;if(N===this._prevMatchStartIndex&&M===this._prevMatchLength){if(0===M){v.ZH(I,H,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=N,this._prevMatchLength=M,!this._wordSeparators||f(this._wordSeparators,I,H,N,M))return K}while(K);return null}}},6589:(vt,Ke,m)=>{function v(h,Q){let k=0,R=0;const se=h.length;for(;R<se;){const j=h.charCodeAt(R);if(32===j)k++;else{if(9!==j)break;k=k-k%Q+Q}R++}return R===se?-1:k}m.d(Ke,{q:()=>v})},4084:(vt,Ke,m)=>{m.d(Ke,{p:()=>Q});const Q=(0,m(4725).yh)("editorWorkerService")},8531:(vt,Ke,m)=>{m.d(Ke,{OG:()=>ye,ML:()=>M,KO:()=>J,Jc:()=>K,Vl:()=>z,Vj:()=>I});var v=m(152),h=m(3663),Q=m(4672),k=m(5283),R=m(8648),se=m(3884),j=m(4435),Y=m(8923),V=m(8972);function D(fe){const Se=new Uint32Array(function F(fe){let Se=0;if(Se+=2,"full"===fe.type)Se+=1+fe.data.length;else{Se+=1,Se+=3*fe.deltas.length;for(const Ie of fe.deltas)Ie.data&&(Se+=Ie.data.length)}return Se}(fe));let Ie=0;if(Se[Ie++]=fe.id,"full"===fe.type)Se[Ie++]=1,Se[Ie++]=fe.data.length,Se.set(fe.data,Ie),Ie+=fe.data.length;else{Se[Ie++]=2,Se[Ie++]=fe.deltas.length;for(const _e of fe.deltas)Se[Ie++]=_e.start,Se[Ie++]=_e.deleteCount,_e.data?(Se[Ie++]=_e.data.length,Se.set(_e.data,Ie),Ie+=_e.data.length):Se[Ie++]=0}return function w(fe){const Se=new Uint8Array(fe.buffer,fe.byteOffset,4*fe.length);return V.r()||function x(fe){for(let Se=0,Ie=fe.length;Se<Ie;Se+=4){const _e=fe[Se+0],$=fe[Se+1],X=fe[Se+2];fe[Se+0]=fe[Se+3],fe[Se+1]=X,fe[Se+2]=$,fe[Se+3]=_e}}(Se),Y.KN.wrap(Se)}(Se)}var f=m(8451),T=function(fe,Se,Ie,_e){return new(Ie||(Ie=Promise))(function(X,pe){function re(ue){try{ce(_e.next(ue))}catch(we){pe(we)}}function ne(ue){try{ce(_e.throw(ue))}catch(we){pe(we)}}function ce(ue){ue.done?X(ue.value):function $(X){return X instanceof Ie?X:new Ie(function(pe){pe(X)})}(ue.value).then(re,ne)}ce((_e=_e.apply(fe,Se||[])).next())})};function z(fe){return fe&&!!fe.data}function I(fe){return fe&&Array.isArray(fe.edits)}class H{constructor(Se,Ie,_e){this.provider=Se,this.tokens=Ie,this.error=_e}}function K(fe){return k.wT.has(fe)}function M(fe,Se,Ie,_e){return T(this,void 0,void 0,function*(){const $=function N(fe){const Se=k.wT.orderedGroups(fe);return Se.length>0?Se[0]:[]}(fe),X=yield Promise.all($.map(pe=>T(this,void 0,void 0,function*(){let re,ne=null;try{re=yield pe.provideDocumentSemanticTokens(fe,pe===Se?Ie:null,_e)}catch(ce){ne=ce,re=null}return(!re||!z(re)&&!I(re))&&(re=null),new H(pe,re,ne)})));for(const pe of X){if(pe.error)throw pe.error;if(pe.tokens)return pe}return X.length>0?X[0]:null})}class W{constructor(Se,Ie){this.provider=Se,this.tokens=Ie}}function J(fe){return k.K7.has(fe)}function he(fe){const Se=k.K7.orderedGroups(fe);return Se.length>0?Se[0]:[]}function ye(fe,Se,Ie){return T(this,void 0,void 0,function*(){const _e=he(fe),$=yield Promise.all(_e.map(X=>T(this,void 0,void 0,function*(){let pe;try{pe=yield X.provideDocumentRangeSemanticTokens(fe,Se,Ie)}catch(re){(0,h.Cp)(re),pe=null}return(!pe||!z(pe))&&(pe=null),new W(X,pe)})));for(const X of $)if(X.tokens)return X;return $.length>0?$[0]:null})}se.P0.registerCommand("_provideDocumentSemanticTokensLegend",(fe,...Se)=>T(void 0,void 0,void 0,function*(){const[Ie]=Se;(0,j.p_)(Ie instanceof Q.o);const _e=fe.get(R.q).getModel(Ie);if(!_e)return;const $=function P(fe){const Se=k.wT.orderedGroups(fe);return Se.length>0?Se[0]:null}(_e);return $?$[0].getLegend():fe.get(se.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",Ie)})),se.P0.registerCommand("_provideDocumentSemanticTokens",(fe,...Se)=>T(void 0,void 0,void 0,function*(){const[Ie]=Se;(0,j.p_)(Ie instanceof Q.o);const _e=fe.get(R.q).getModel(Ie);if(!_e)return;if(!K(_e))return fe.get(se.Hy).executeCommand("_provideDocumentRangeSemanticTokens",Ie,_e.getFullModelRange());const $=yield M(_e,null,null,v.T.None);if(!$)return;const{provider:X,tokens:pe}=$;if(!pe||!z(pe))return;const re=D({id:0,type:"full",data:pe.data});return pe.resultId&&X.releaseDocumentSemanticTokens(pe.resultId),re})),se.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(fe,...Se)=>T(void 0,void 0,void 0,function*(){const[Ie,_e]=Se;(0,j.p_)(Ie instanceof Q.o);const $=fe.get(R.q).getModel(Ie);if(!$)return;const X=he($);if(0===X.length)return;if(1===X.length)return X[0].getLegend();if(!_e||!f.e.isIRange(_e))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),X[0].getLegend();const pe=yield ye($,f.e.lift(_e),v.T.None);return pe?pe.provider.getLegend():void 0})),se.P0.registerCommand("_provideDocumentRangeSemanticTokens",(fe,...Se)=>T(void 0,void 0,void 0,function*(){const[Ie,_e]=Se;(0,j.p_)(Ie instanceof Q.o),(0,j.p_)(f.e.isIRange(_e));const $=fe.get(R.q).getModel(Ie);if(!$)return;const X=yield ye($,f.e.lift(_e),v.T.None);return X&&X.tokens?D({id:0,type:"full",data:X.tokens.data}):void 0}))},7675:(vt,Ke,m)=>{m.d(Ke,{O:()=>h});const h=(0,m(4725).yh)("languageService")},9974:(vt,Ke,m)=>{m.d(Ke,{A:()=>V});var v=m(2638),h=m(7838),Q=m(8829),k=m(7918),R=m(4725),se=m(2241);const V=(0,R.yh)("ILanguageFeatureDebounceService");var x;!function(F){const f=new WeakMap;let T=0;F.of=function z(I){let H=f.get(I);return void 0===H&&(H=++T,f.set(I,H)),H}}(x||(x={}));class w{constructor(f,T,z,I,H,K){this._logService=f,this._name=T,this._registry=z,this._default=I,this._min=H,this._max=K,this._cache=new h.z6(50,.7)}_key(f){return f.id+this._registry.all(f).reduce((T,z)=>(0,v.SP)(x.of(z),T),0)}get(f){const T=this._key(f),z=this._cache.get(T);return z?(0,Q.uZ)(z.value,this._min,this._max):this.default()}update(f,T){const z=this._key(f);let I=this._cache.get(z);I||(I=new Q.N(6),this._cache.set(z,I));const H=(0,Q.uZ)(I.update(T),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${f.uri.toString()} is ${H}ms`),H}_overall(){const f=new Q.nM;for(const[,T]of this._cache)f.update(T.value);return f.value}default(){const f=0|this._overall()||this._default;return(0,Q.uZ)(f,this._min,this._max)}}let D=class{constructor(f){this._logService=f,this._data=new Map}for(f,T,z){var I,H,K;const N=null!==(I=null==z?void 0:z.min)&&void 0!==I?I:50,M=null!==(H=null==z?void 0:z.max)&&void 0!==H?H:Math.pow(N,2),P=null!==(K=null==z?void 0:z.key)&&void 0!==K?K:void 0,W=`${x.of(f)},${N}${P?","+P:""}`;let J=this._data.get(W);return J||(J=new w(this._logService,T,f,0|this._overallAverage()||1.5*N,N,M),this._data.set(W,J)),J}_overallAverage(){let f=new Q.nM;for(let T of this._data.values())f.update(T.default());return f.value}};var f;D=function(F,f,T,z){var K,I=arguments.length,H=I<3?f:null===z?z=Object.getOwnPropertyDescriptor(f,T):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(F,f,T,z);else for(var N=F.length-1;N>=0;N--)(K=F[N])&&(H=(I<3?K(H):I>3?K(f,T,H):K(f,T))||H);return I>3&&H&&Object.defineProperty(f,T,H),H}([(0,f=se.VZ,function(T,z){f(T,z,0)})],D),(0,k.z)(V,D,!0)},2945:(vt,Ke,m)=>{m.d(Ke,{i:()=>h});const h=(0,m(4725).yh)("markerDecorationsService")},8648:(vt,Ke,m)=>{m.d(Ke,{q:()=>h});const h=(0,m(4725).yh)("modelService")},6844:(vt,Ke,m)=>{m.d(Ke,{b$:()=>re,e3:()=>ne,tw:()=>ce});var v=m(2787),h=m(2425),Q=m(8972),k=m(3663),R=m(4412),se=m(2931),j=m(5283),Y=m(4669),V=m(7675),x=m(8648),w=m(3810),D=m(9869),F=m(3072),f=m(152),T=m(3024),z=m(2241),I=m(8846),H=m(2638),K=m(4898),N=m(278),M=m(6420),P=m(8531),W=m(5271),J=m(7372),he=m(9974),ye=m(1724),fe=function(ut,Ve,ct,Nt){var St,un=arguments.length,Jt=un<3?Ve:null===Nt?Nt=Object.getOwnPropertyDescriptor(Ve,ct):Nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Jt=Reflect.decorate(ut,Ve,ct,Nt);else for(var en=ut.length-1;en>=0;en--)(St=ut[en])&&(Jt=(un<3?St(Jt):un>3?St(Ve,ct,Jt):St(Ve,ct))||Jt);return un>3&&Jt&&Object.defineProperty(Ve,ct,Jt),Jt},Se=function(ut,Ve){return function(ct,Nt){Ve(ct,Nt,ut)}};function Ie(ut){return ut.toString()}function _e(ut){const Ve=new H.yP,ct=ut.createSnapshot();let Nt;for(;Nt=ct.read();)Ve.update(Nt);return Ve.digest()}class ${constructor(Ve,ct,Nt){this._modelEventListeners=new h.SL,this.model=Ve,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(Ve.onWillDispose(()=>ct(Ve))),this._modelEventListeners.add(Ve.onDidChangeLanguage(un=>Nt(Ve,un)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(Ve){this._disposeLanguageSelection(),this._languageSelection=Ve,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(Ve.languageId)),this.model.setMode(Ve.languageId)}}const X=Q.IJ||Q.dz?1:2;class pe{constructor(Ve,ct,Nt,un,Jt,St,en,pn){this.uri=Ve,this.initialUndoRedoSnapshot=ct,this.time=Nt,this.sharesUndoRedoStack=un,this.heapSize=Jt,this.sha1=St,this.versionId=en,this.alternativeVersionId=pn}}let re=class Uv extends h.JT{constructor(Ve,ct,Nt,un,Jt,St,en,pn){super(),this._configurationService=Ve,this._resourcePropertiesService=ct,this._themeService=Nt,this._logService=un,this._undoRedoService=Jt,this._languageService=St,this._languageConfigurationService=en,this._languageFeatureDebounceService=pn,this._onModelAdded=this._register(new v.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new v.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new v.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new we(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new ue(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService))}static _readModelOptions(Ve,ct){var Nt;let un=se.D.tabSize;if(Ve.editor&&void 0!==Ve.editor.tabSize){const nn=parseInt(Ve.editor.tabSize,10);isNaN(nn)||(un=nn),un<1&&(un=1)}let Jt=un;if(Ve.editor&&void 0!==Ve.editor.indentSize&&"tabSize"!==Ve.editor.indentSize){const nn=parseInt(Ve.editor.indentSize,10);isNaN(nn)||(Jt=nn),Jt<1&&(Jt=1)}let St=se.D.insertSpaces;Ve.editor&&void 0!==Ve.editor.insertSpaces&&(St="false"!==Ve.editor.insertSpaces&&Boolean(Ve.editor.insertSpaces));let en=X;const pn=Ve.eol;"\r\n"===pn?en=2:"\n"===pn&&(en=1);let Xt=se.D.trimAutoWhitespace;Ve.editor&&void 0!==Ve.editor.trimAutoWhitespace&&(Xt="false"!==Ve.editor.trimAutoWhitespace&&Boolean(Ve.editor.trimAutoWhitespace));let ze=se.D.detectIndentation;Ve.editor&&void 0!==Ve.editor.detectIndentation&&(ze="false"!==Ve.editor.detectIndentation&&Boolean(Ve.editor.detectIndentation));let At=se.D.largeFileOptimizations;Ve.editor&&void 0!==Ve.editor.largeFileOptimizations&&(At="false"!==Ve.editor.largeFileOptimizations&&Boolean(Ve.editor.largeFileOptimizations));let Kt=se.D.bracketPairColorizationOptions;return(null===(Nt=Ve.editor)||void 0===Nt?void 0:Nt.bracketPairColorization)&&"object"==typeof Ve.editor.bracketPairColorization&&(Kt={enabled:!!Ve.editor.bracketPairColorization.enabled}),{isForSimpleWidget:ct,tabSize:un,indentSize:Jt,insertSpaces:St,detectIndentation:ze,defaultEOL:en,trimAutoWhitespace:Xt,largeFileOptimizations:At,bracketPairColorizationOptions:Kt}}_getEOL(Ve,ct){if(Ve)return this._resourcePropertiesService.getEOL(Ve,ct);const Nt=this._configurationService.getValue("files.eol",{overrideIdentifier:ct});return Nt&&"string"==typeof Nt&&"auto"!==Nt?Nt:3===Q.OS||2===Q.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const Ve=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof Ve||Ve}getCreationOptions(Ve,ct,Nt){let un=this._modelCreationOptionsByLanguageAndResource[Ve+ct];if(!un){const Jt=this._configurationService.getValue("editor",{overrideIdentifier:Ve,resource:ct}),St=this._getEOL(ct,Ve);un=Uv._readModelOptions({editor:Jt,eol:St},Nt),this._modelCreationOptionsByLanguageAndResource[Ve+ct]=un}return un}_updateModelOptions(){const Ve=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const ct=Object.keys(this._models);for(let Nt=0,un=ct.length;Nt<un;Nt++){const St=this._models[ct[Nt]],en=St.model.getLanguageId(),pn=St.model.uri,Xt=Ve[en+pn],ze=this.getCreationOptions(en,pn,St.model.isForSimpleWidget);Uv._setModelOptionsForModel(St.model,ze,Xt)}}static _setModelOptionsForModel(Ve,ct,Nt){Nt&&Nt.defaultEOL!==ct.defaultEOL&&1===Ve.getLineCount()&&Ve.setEOL(1===ct.defaultEOL?0:1),(!Nt||Nt.detectIndentation!==ct.detectIndentation||Nt.insertSpaces!==ct.insertSpaces||Nt.tabSize!==ct.tabSize||Nt.indentSize!==ct.indentSize||Nt.trimAutoWhitespace!==ct.trimAutoWhitespace||!(0,W.fS)(Nt.bracketPairColorizationOptions,ct.bracketPairColorizationOptions))&&(ct.detectIndentation?(Ve.detectIndentation(ct.insertSpaces,ct.tabSize),Ve.updateOptions({trimAutoWhitespace:ct.trimAutoWhitespace,bracketColorizationOptions:ct.bracketPairColorizationOptions})):Ve.updateOptions({insertSpaces:ct.insertSpaces,tabSize:ct.tabSize,indentSize:ct.indentSize,trimAutoWhitespace:ct.trimAutoWhitespace,bracketColorizationOptions:ct.bracketPairColorizationOptions}))}_insertDisposedModel(Ve){this._disposedModels.set(Ie(Ve.uri),Ve),this._disposedModelsHeapSize+=Ve.heapSize}_removeDisposedModel(Ve){const ct=this._disposedModels.get(Ie(Ve));return ct&&(this._disposedModelsHeapSize-=ct.heapSize),this._disposedModels.delete(Ie(Ve)),ct}_ensureDisposedModelsHeapSize(Ve){if(this._disposedModelsHeapSize>Ve){const ct=[];for(this._disposedModels.forEach(Nt=>{Nt.sharesUndoRedoStack||ct.push(Nt)}),ct.sort((Nt,un)=>Nt.time-un.time);ct.length>0&&this._disposedModelsHeapSize>Ve;){const Nt=ct.shift();this._removeDisposedModel(Nt.uri),null!==Nt.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Nt.initialUndoRedoSnapshot)}}}_createModelData(Ve,ct,Nt,un){const Jt=this.getCreationOptions(ct,Nt,un),St=new R.yO(Ve,ct,Jt,Nt,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Nt&&this._disposedModels.has(Ie(Nt))){const Xt=this._removeDisposedModel(Nt),ze=this._undoRedoService.getElements(Nt),At=_e(St)===Xt.sha1;if(At||Xt.sharesUndoRedoStack){for(const Kt of ze.past)(0,K.e9)(Kt)&&Kt.matchesResource(Nt)&&Kt.setModel(St);for(const Kt of ze.future)(0,K.e9)(Kt)&&Kt.matchesResource(Nt)&&Kt.setModel(St);this._undoRedoService.setElementsValidFlag(Nt,!0,Kt=>(0,K.e9)(Kt)&&Kt.matchesResource(Nt)),At&&(St._overwriteVersionId(Xt.versionId),St._overwriteAlternativeVersionId(Xt.alternativeVersionId),St._overwriteInitialUndoRedoSnapshot(Xt.initialUndoRedoSnapshot))}else null!==Xt.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Xt.initialUndoRedoSnapshot)}const en=Ie(St.uri);if(this._models[en])throw new Error("ModelService: Cannot add model because it already exists!");const pn=new $(St,Xt=>this._onWillDispose(Xt),(Xt,ze)=>this._onDidChangeLanguage(Xt,ze));return this._models[en]=pn,pn}createModel(Ve,ct,Nt,un=!1){let Jt;return ct?(Jt=this._createModelData(Ve,ct.languageId,Nt,un),this.setMode(Jt.model,ct)):Jt=this._createModelData(Ve,Y.bd,Nt,un),this._onModelAdded.fire(Jt.model),Jt.model}setMode(Ve,ct){if(!ct)return;const Nt=this._models[Ie(Ve.uri)];!Nt||Nt.setLanguage(ct)}getModels(){const Ve=[],ct=Object.keys(this._models);for(let Nt=0,un=ct.length;Nt<un;Nt++)Ve.push(this._models[ct[Nt]].model);return Ve}getModel(Ve){const ct=Ie(Ve),Nt=this._models[ct];return Nt?Nt.model:null}getSemanticTokensProviderStyling(Ve){return this._semanticStyling.get(Ve)}_schemaShouldMaintainUndoRedoElements(Ve){return Ve.scheme===N.lg.file||Ve.scheme===N.lg.vscodeRemote||Ve.scheme===N.lg.userData||Ve.scheme===N.lg.vscodeNotebookCell||"fake-fs"===Ve.scheme}_onWillDispose(Ve){const ct=Ie(Ve.uri),Nt=this._models[ct],un=this._undoRedoService.getUriComparisonKey(Ve.uri)!==Ve.uri.toString();let Jt=!1,St=0;if(un||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(Ve.uri)){const pn=this._undoRedoService.getElements(Ve.uri);if(pn.past.length>0||pn.future.length>0){for(const Xt of pn.past)(0,K.e9)(Xt)&&Xt.matchesResource(Ve.uri)&&(Jt=!0,St+=Xt.heapSize(Ve.uri),Xt.setModel(Ve.uri));for(const Xt of pn.future)(0,K.e9)(Xt)&&Xt.matchesResource(Ve.uri)&&(Jt=!0,St+=Xt.heapSize(Ve.uri),Xt.setModel(Ve.uri))}}const en=Uv.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Jt)if(!un&&St>en){const pn=Nt.model.getInitialUndoRedoSnapshot();null!==pn&&this._undoRedoService.restoreSnapshot(pn)}else this._ensureDisposedModelsHeapSize(en-St),this._undoRedoService.setElementsValidFlag(Ve.uri,!1,pn=>(0,K.e9)(pn)&&pn.matchesResource(Ve.uri)),this._insertDisposedModel(new pe(Ve.uri,Nt.model.getInitialUndoRedoSnapshot(),Date.now(),un,St,_e(Ve),Ve.getVersionId(),Ve.getAlternativeVersionId()));else if(!un){const pn=Nt.model.getInitialUndoRedoSnapshot();null!==pn&&this._undoRedoService.restoreSnapshot(pn)}delete this._models[ct],Nt.dispose(),delete this._modelCreationOptionsByLanguageAndResource[Ve.getLanguageId()+Ve.uri],this._onModelRemoved.fire(Ve)}_onDidChangeLanguage(Ve,ct){const Nt=ct.oldLanguage,un=Ve.getLanguageId(),Jt=this.getCreationOptions(Nt,Ve.uri,Ve.isForSimpleWidget),St=this.getCreationOptions(un,Ve.uri,Ve.isForSimpleWidget);Uv._setModelOptionsForModel(Ve,St,Jt),this._onModelModeChanged.fire({model:Ve,oldLanguageId:Nt})}};re.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,re=fe([Se(0,D.Ui),Se(1,w.y),Se(2,T.XE),Se(3,z.VZ),Se(4,I.tJ),Se(5,V.O),Se(6,J.c_),Se(7,he.A)],re);const ne="editor.semanticHighlighting";function ce(ut,Ve,ct){var Nt;const un=null===(Nt=ct.getValue(ne,{overrideIdentifier:ut.getLanguageId(),resource:ut.uri}))||void 0===Nt?void 0:Nt.enabled;return"boolean"==typeof un?un:Ve.getColorTheme().semanticHighlighting}let ue=class extends h.JT{constructor(Ve,ct,Nt,un,Jt){super(),this._watchers=Object.create(null),this._semanticStyling=Ve;const St=Xt=>{this._watchers[Xt.uri.toString()]=new lt(Xt,this._semanticStyling,Nt,Jt)},en=(Xt,ze)=>{ze.dispose(),delete this._watchers[Xt.uri.toString()]},pn=()=>{for(let Xt of ct.getModels()){const ze=this._watchers[Xt.uri.toString()];ce(Xt,Nt,un)?ze||St(Xt):ze&&en(Xt,ze)}};this._register(ct.onModelAdded(Xt=>{ce(Xt,Nt,un)&&St(Xt)})),this._register(ct.onModelRemoved(Xt=>{const ze=this._watchers[Xt.uri.toString()];ze&&en(Xt,ze)})),this._register(un.onDidChangeConfiguration(Xt=>{Xt.affectsConfiguration(ne)&&pn()})),this._register(Nt.onDidColorThemeChange(pn))}};ue=fe([Se(1,x.q),Se(2,T.XE),Se(3,D.Ui),Se(4,he.A)],ue);class we extends h.JT{constructor(Ve,ct,Nt){super(),this._themeService=Ve,this._languageService=ct,this._logService=Nt,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(Ve){return this._caches.has(Ve)||this._caches.set(Ve,new M.$(Ve.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(Ve)}}class He{constructor(Ve,ct,Nt){this.provider=Ve,this.resultId=ct,this.data=Nt}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let lt=class pm extends h.JT{constructor(Ve,ct,Nt,un){super(),this._isDisposed=!1,this._model=Ve,this._semanticStyling=ct,this._debounceInformation=un.for(j.wT,"DocumentSemanticTokens",{min:pm.REQUEST_MIN_DELAY,max:pm.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new F.pY(()=>this._fetchDocumentSemanticTokensNow(),pm.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Jt=()=>{(0,h.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const St of j.wT.all(Ve))"function"==typeof St.onDidChange&&this._documentProvidersChangeListeners.push(St.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Jt(),this._register(j.wT.onDidChange(()=>{Jt(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(Nt.onDidColorThemeChange(St=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,P.Jc)(this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const Ve=new f.A,un=(0,P.ML)(this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,Ve.token);this._currentDocumentRequestCancellationTokenSource=Ve;const Jt=[],St=this._model.onDidChangeContent(pn=>{Jt.push(pn)}),en=new ye.G(!1);un.then(pn=>{if(this._debounceInformation.update(this._model,en.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,St.dispose(),pn){const{provider:Xt,tokens:ze}=pn,At=this._semanticStyling.get(Xt);this._setDocumentSemanticTokens(Xt,ze||null,At,Jt)}else this._setDocumentSemanticTokens(null,null,null,Jt)},pn=>{pn&&(k.n2(pn)||"string"==typeof pn.message&&-1!==pn.message.indexOf("busy"))||k.dL(pn),this._currentDocumentRequestCancellationTokenSource=null,St.dispose(),Jt.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(Ve,ct,Nt,un,Jt){for(let St=0;St<Jt;St++)Nt[un+St]=Ve[ct+St]}_setDocumentSemanticTokens(Ve,ct,Nt,un){const Jt=this._currentDocumentResponse,St=()=>{un.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)Ve&&ct&&Ve.releaseDocumentSemanticTokens(ct.resultId);else if(Ve&&Nt){if(!ct)return this._model.setSemanticTokens(null,!0),void St();if((0,P.Vj)(ct)){if(!Jt)return void this._model.setSemanticTokens(null,!0);if(0===ct.edits.length)ct={resultId:ct.resultId,data:Jt.data};else{let en=0;for(const Kt of ct.edits)en+=(Kt.data?Kt.data.length:0)-Kt.deleteCount;const pn=Jt.data,Xt=new Uint32Array(pn.length+en);let ze=pn.length,At=Xt.length;for(let Kt=ct.edits.length-1;Kt>=0;Kt--){const nn=ct.edits[Kt],Mn=ze-(nn.start+nn.deleteCount);Mn>0&&(pm._copy(pn,ze-Mn,Xt,At-Mn,Mn),At-=Mn),nn.data&&(pm._copy(nn.data,0,Xt,At-nn.data.length,nn.data.length),At-=nn.data.length),ze=nn.start}ze>0&&pm._copy(pn,0,Xt,0,ze),ct={resultId:ct.resultId,data:Xt}}}if((0,P.Vl)(ct)){this._currentDocumentResponse=new He(Ve,ct.resultId,ct.data);const en=(0,M.h)(ct,Nt,this._model.getLanguageId());if(un.length>0)for(const pn of un)for(const Xt of en)for(const ze of pn.changes)Xt.applyEdit(ze.range,ze.text);this._model.setSemanticTokens(en,!0)}else this._model.setSemanticTokens(null,!0);St()}else this._model.setSemanticTokens(null,!1)}};lt.REQUEST_MIN_DELAY=300,lt.REQUEST_MAX_DELAY=2e3,lt=fe([Se(2,T.XE),Se(3,he.A)],lt)},7424:(vt,Ke,m)=>{m.d(Ke,{S:()=>h});const h=(0,m(4725).yh)("textModelService")},6420:(vt,Ke,m)=>{m.d(Ke,{$:()=>F,h:()=>f});var v=m(5283),h=m(3024),Q=m(2241),k=m(4220),R=m(8451),se=m(7846);class j{constructor(H,K){this._startLineNumber=H,this._tokens=K,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(H,K){return new j(H,new Y(K))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(H){return this._startLineNumber<=H&&H<=this._endLineNumber?this._tokens.getLineTokens(H-this._startLineNumber):null}getRange(){const H=this._tokens.getRange();return H&&new R.e(this._startLineNumber+H.startLineNumber,H.startColumn,this._startLineNumber+H.endLineNumber,H.endColumn)}removeTokens(H){this._startLineNumber+=this._tokens.removeTokens(H.startLineNumber-this._startLineNumber,H.startColumn-1,H.endLineNumber-this._startLineNumber,H.endColumn-1),this._updateEndLineNumber()}split(H){const K=H.startLineNumber-this._startLineNumber,N=H.endLineNumber-this._startLineNumber,[M,P,W]=this._tokens.split(K,H.startColumn-1,N,H.endColumn-1);return[new j(this._startLineNumber,M),new j(this._startLineNumber+W,P)]}applyEdit(H,K){const[N,M,P]=(0,se.Q)(K);this.acceptEdit(H,N,M,P,K.length>0?K.charCodeAt(0):0)}acceptEdit(H,K,N,M,P){this._acceptDeleteRange(H),this._acceptInsertText(new k.L(H.startLineNumber,H.startColumn),K,N,M,P),this._updateEndLineNumber()}_acceptDeleteRange(H){if(H.startLineNumber===H.endLineNumber&&H.startColumn===H.endColumn)return;const K=H.startLineNumber-this._startLineNumber,N=H.endLineNumber-this._startLineNumber;if(N<0)return void(this._startLineNumber-=N-K);const M=this._tokens.getMaxDeltaLine();if(!(K>=M+1)){if(K<0&&N>=M+1)return this._startLineNumber=0,void this._tokens.clear();K<0?(this._startLineNumber-=-K,this._tokens.acceptDeleteRange(H.startColumn-1,0,0,N,H.endColumn-1)):this._tokens.acceptDeleteRange(0,K,H.startColumn-1,N,H.endColumn-1)}}_acceptInsertText(H,K,N,M,P){if(0===K&&0===N)return;const W=H.lineNumber-this._startLineNumber;W<0?this._startLineNumber+=K:W>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(W,H.column-1,K,N,M,P)}}class Y{constructor(H){this._tokens=H,this._tokenCount=H.length/4}toString(H){const K=[];for(let N=0;N<this._tokenCount;N++)K.push(`(${this._getDeltaLine(N)+H},${this._getStartCharacter(N)}-${this._getEndCharacter(N)})`);return`[${K.join(",")}]`}getMaxDeltaLine(){const H=this._getTokenCount();return 0===H?-1:this._getDeltaLine(H-1)}getRange(){const H=this._getTokenCount();if(0===H)return null;const K=this._getStartCharacter(0),N=this._getDeltaLine(H-1),M=this._getEndCharacter(H-1);return new R.e(0,K+1,N,M+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(H){return this._tokens[4*H]}_getStartCharacter(H){return this._tokens[4*H+1]}_getEndCharacter(H){return this._tokens[4*H+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(H){let K=0,N=this._getTokenCount()-1;for(;K<N;){const M=K+Math.floor((N-K)/2),P=this._getDeltaLine(M);if(P<H)K=M+1;else{if(!(P>H)){let W=M;for(;W>K&&this._getDeltaLine(W-1)===H;)W--;let J=M;for(;J<N&&this._getDeltaLine(J+1)===H;)J++;return new V(this._tokens.subarray(4*W,4*J+4))}N=M-1}}return this._getDeltaLine(K)===H?new V(this._tokens.subarray(4*K,4*K+4)):null}clear(){this._tokenCount=0}removeTokens(H,K,N,M){const P=this._tokens,W=this._tokenCount;let J=0,he=!1,ye=0;for(let fe=0;fe<W;fe++){const Se=4*fe,Ie=P[Se],_e=P[Se+1],$=P[Se+2],X=P[Se+3];if((Ie>H||Ie===H&&$>=K)&&(Ie<N||Ie===N&&_e<=M))he=!0;else{if(0===J&&(ye=Ie),he){const pe=4*J;P[pe]=Ie-ye,P[pe+1]=_e,P[pe+2]=$,P[pe+3]=X}J++}}return this._tokenCount=J,ye}split(H,K,N,M){const P=this._tokens,W=this._tokenCount,J=[],he=[];let ye=J,fe=0,Se=0;for(let Ie=0;Ie<W;Ie++){const _e=4*Ie,$=P[_e],X=P[_e+1],pe=P[_e+2],re=P[_e+3];if($>H||$===H&&pe>=K){if($<N||$===N&&X<=M)continue;ye!==he&&(ye=he,fe=0,Se=$)}ye[fe++]=$-Se,ye[fe++]=X,ye[fe++]=pe,ye[fe++]=re}return[new Y(new Uint32Array(J)),new Y(new Uint32Array(he)),Se]}acceptDeleteRange(H,K,N,M,P){const W=this._tokens,J=this._tokenCount,he=M-K;let ye=0,fe=!1;for(let Se=0;Se<J;Se++){const Ie=4*Se;let _e=W[Ie],$=W[Ie+1],X=W[Ie+2];const pe=W[Ie+3];if(_e<K||_e===K&&X<=N){ye++;continue}if(_e===K&&$<N)_e===M&&X>P?X-=P-N:X=N;else if(_e===K&&$===N){if(!(_e===M&&X>P)){fe=!0;continue}X-=P-N}else if(_e<M||_e===M&&$<P){if(!(_e===M&&X>P)){fe=!0;continue}_e===K?($=N,X=$+(X-P)):($=0,X=$+(X-P))}else if(_e>M){if(0===he&&!fe){ye=J;break}_e-=he}else{if(!(_e===M&&$>=P))throw new Error("Not possible!");H&&0===_e&&($+=H,X+=H),_e-=he,$-=P-N,X-=P-N}const re=4*ye;W[re]=_e,W[re+1]=$,W[re+2]=X,W[re+3]=pe,ye++}this._tokenCount=ye}acceptInsertText(H,K,N,M,P,W){const J=0===N&&1===M&&(W>=48&&W<=57||W>=65&&W<=90||W>=97&&W<=122),he=this._tokens,ye=this._tokenCount;for(let fe=0;fe<ye;fe++){const Se=4*fe;let Ie=he[Se],_e=he[Se+1],$=he[Se+2];if(!(Ie<H||Ie===H&&$<K)){if(Ie===H&&$===K){if(!J)continue;$+=1}else if(Ie===H&&_e<K&&K<$)0===N?$+=M:$=K;else{if(Ie===H&&_e===K&&J)continue;if(Ie===H)if(Ie+=N,0===N)_e+=M,$+=M;else{const X=$-_e;_e=P+(_e-K),$=_e+X}else Ie+=N}he[Se]=Ie,he[Se+1]=_e,he[Se+2]=$}}}}class V{constructor(H){this._tokens=H}getCount(){return this._tokens.length/4}getStartCharacter(H){return this._tokens[4*H+1]}getEndCharacter(H){return this._tokens[4*H+2]}getMetadata(H){return this._tokens[4*H+3]}}var x=m(7675),D=function(I,H){return function(K,N){H(K,N,I)}};let F=class{constructor(H,K,N,M){this._legend=H,this._themeService=K,this._languageService=N,this._logService=M,this._hashTable=new z,this._hasWarnedOverlappingTokens=!1}getMetadata(H,K,N){const M=this._languageService.languageIdCodec.encodeLanguageId(N),P=this._hashTable.get(H,K,M);let W;if(P)W=P.metadata,this._logService.getLevel()===Q.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${H} / ${K}: foreground ${v.NX.getForeground(W)}, fontStyle ${v.NX.getFontStyle(W).toString(2)}`);else{let J=this._legend.tokenTypes[H];const he=[];if(J){let ye=K;for(let Se=0;ye>0&&Se<this._legend.tokenModifiers.length;Se++)1&ye&&he.push(this._legend.tokenModifiers[Se]),ye>>=1;ye>0&&this._logService.getLevel()===Q.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${K.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),he.push("not-in-legend"));const fe=this._themeService.getColorTheme().getTokenStyleMetadata(J,he,N);void 0===fe?W=2147483647:(W=0,void 0!==fe.italic&&(W|=(fe.italic?1:0)<<10|1),void 0!==fe.bold&&(W|=(fe.bold?2:0)<<10|2),void 0!==fe.underline&&(W|=(fe.underline?4:0)<<10|4),void 0!==fe.strikethrough&&(W|=(fe.strikethrough?8:0)<<10|8),fe.foreground&&(W|=fe.foreground<<14|16),0===W&&(W=2147483647))}else this._logService.getLevel()===Q.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${H} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),W=2147483647,J="not-in-legend";this._hashTable.add(H,K,M,W),this._logService.getLevel()===Q.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${H} (${J}) / ${K} (${he.join(" ")}): foreground ${v.NX.getForeground(W)}, fontStyle ${v.NX.getFontStyle(W).toString(2)}`)}return W}warnOverlappingSemanticTokens(H,K){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${H}, column ${K}`))}};function f(I,H,K){const N=I.data,M=I.data.length/5|0,P=Math.max(Math.ceil(M/1024),400),W=[];let J=0,he=1,ye=0;for(;J<M;){const fe=J;let Se=Math.min(fe+P,M);if(Se<M){let ce=Se;for(;ce-1>fe&&0===N[5*ce];)ce--;if(ce-1===fe){let ue=Se;for(;ue+1<M&&0===N[5*ue];)ue++;Se=ue}else Se=ce}let Ie=new Uint32Array(4*(Se-fe)),_e=0,$=0,X=0,pe=0,re=0;for(;J<Se;){const ce=5*J,ue=N[ce],we=N[ce+1],He=he+ue|0,lt=0===ue?ye+we|0:we,ut=N[ce+2],Nt=H.getMetadata(N[ce+3],N[ce+4],K);2147483647!==Nt&&(0===$&&($=He),X===He&&re>lt&&(H.warnOverlappingSemanticTokens(He,lt+1),pe<lt?Ie[_e-4+2]=lt:_e-=4),Ie[_e]=He-$,Ie[_e+1]=lt,Ie[_e+2]=lt+ut,Ie[_e+3]=Nt,_e+=4,X=He,pe=lt,re=lt+ut),he=He,ye=lt,J++}_e!==Ie.length&&(Ie=Ie.subarray(0,_e));const ne=j.create($,Ie);W.push(ne)}return W}F=function(I,H,K,N){var W,M=arguments.length,P=M<3?H:null===N?N=Object.getOwnPropertyDescriptor(H,K):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(I,H,K,N);else for(var J=I.length-1;J>=0;J--)(W=I[J])&&(P=(M<3?W(P):M>3?W(H,K,P):W(H,K))||P);return M>3&&P&&Object.defineProperty(H,K,P),P}([D(1,h.XE),D(2,x.O),D(3,Q.VZ)],F);class T{constructor(H,K,N,M){this.tokenTypeIndex=H,this.tokenModifierSet=K,this.languageId=N,this.metadata=M,this.next=null}}let z=(()=>{class I{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=I._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<I._SIZES.length?2/3*this._currentLength:0),this._elements=[],I._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(K,N){for(let M=0;M<N;M++)K[M]=null}_hash2(K,N){return(K<<5)-K+N|0}_hashFunc(K,N,M){return this._hash2(this._hash2(K,N),M)%this._currentLength}get(K,N,M){const P=this._hashFunc(K,N,M);let W=this._elements[P];for(;W;){if(W.tokenTypeIndex===K&&W.tokenModifierSet===N&&W.languageId===M)return W;W=W.next}return null}add(K,N,M,P){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const W=this._elements;this._currentLengthIndex++,this._currentLength=I._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<I._SIZES.length?2/3*this._currentLength:0),this._elements=[],I._nullOutEntries(this._elements,this._currentLength);for(const J of W){let he=J;for(;he;){const ye=he.next;he.next=null,this._add(he),he=ye}}}this._add(new T(K,N,M,P))}_add(K){const N=this._hashFunc(K.tokenTypeIndex,K.tokenModifierSet,K.languageId);K.next=this._elements[N],this._elements[N]=K}}return I._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],I})()},3810:(vt,Ke,m)=>{m.d(Ke,{V:()=>h,y:()=>Q});var v=m(4725);const h=(0,v.yh)("textResourceConfigurationService"),Q=(0,v.yh)("textResourcePropertiesService")},9710:(vt,Ke,m)=>{m.d(Ke,{Oe:()=>h,ug:()=>Q,qq:()=>k,ld:()=>R,UX:()=>se,aq:()=>j,B8:()=>Y,xi:()=>V,iN:()=>x});var h,w,Q,k,R,se,j,Y,V,x,v=m(402);(w=h||(h={})).noSelection=v.N("noSelection","No selection"),w.singleSelectionRange=v.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),w.singleSelection=v.N("singleSelection","Line {0}, Column {1}"),w.multiSelectionRange=v.N("multiSelectionRange","{0} selections ({1} characters selected)"),w.multiSelection=v.N("multiSelection","{0} selections"),w.emergencyConfOn=v.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),w.openingDocs=v.N("openingDocs","Now opening the Editor Accessibility documentation page."),w.readonlyDiffEditor=v.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),w.editableDiffEditor=v.N("editableDiffEditor"," in a pane of a diff editor."),w.readonlyEditor=v.N("readonlyEditor"," in a read-only code editor"),w.editableEditor=v.N("editableEditor"," in a code editor"),w.changeConfigToOnMac=v.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),w.changeConfigToOnWinLinux=v.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),w.auto_on=v.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),w.auto_off=v.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),w.tabFocusModeOnMsg=v.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),w.tabFocusModeOnMsgNoKb=v.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),w.tabFocusModeOffMsg=v.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),w.tabFocusModeOffMsgNoKb=v.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),w.openDocMac=v.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),w.openDocWinLinux=v.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),w.outroMsg=v.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),w.showAccessibilityHelpAction=v.N("showAccessibilityHelpAction","Show Accessibility Help"),function(w){w.inspectTokensAction=v.N("inspectTokens","Developer: Inspect Tokens")}(Q||(Q={})),function(w){w.gotoLineActionLabel=v.N("gotoLineActionLabel","Go to Line/Column...")}(k||(k={})),function(w){w.helpQuickAccessActionLabel=v.N("helpQuickAccess","Show all Quick Access Providers")}(R||(R={})),function(w){w.quickCommandActionLabel=v.N("quickCommandActionLabel","Command Palette"),w.quickCommandHelp=v.N("quickCommandActionHelp","Show And Run Commands")}(se||(se={})),function(w){w.quickOutlineActionLabel=v.N("quickOutlineActionLabel","Go to Symbol..."),w.quickOutlineByCategoryActionLabel=v.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(j||(j={})),function(w){w.editorViewAccessibleLabel=v.N("editorViewAccessibleLabel","Editor content"),w.accessibilityHelpMessage=v.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(Y||(Y={})),function(w){w.toggleHighContrast=v.N("toggleHighContrast","Toggle High Contrast Theme")}(V||(V={})),function(w){w.bulkEditServiceSummary=v.N("bulkEditServiceSummary","Made {0} edits in {1} files")}(x||(x={}))},2814:(vt,Ke,m)=>{m.d(Ke,{Jx:()=>v,gk:()=>h,rU:()=>Q,lN:()=>k,Tx:()=>R,CZ:()=>se,dQ:()=>j,D8:()=>Y,fV:()=>V});class v{constructor(){this.changeType=1}}class h{constructor(w,D,F,f,T){this.ownerId=w,this.lineNumber=D,this.column=F,this.options=f,this.order=T}static applyInjectedText(w,D){if(!D||0===D.length)return w;let F="",f=0;for(const T of D)F+=w.substring(f,T.column-1),f=T.column-1,F+=T.options.content;return F+=w.substring(f),F}static fromDecorations(w){const D=[];for(const F of w)F.options.before&&F.options.before.content.length>0&&D.push(new h(F.ownerId,F.range.startLineNumber,F.range.startColumn,F.options.before,0)),F.options.after&&F.options.after.content.length>0&&D.push(new h(F.ownerId,F.range.endLineNumber,F.range.endColumn,F.options.after,1));return D.sort((F,f)=>F.lineNumber===f.lineNumber?F.column===f.column?F.order-f.order:F.column-f.column:F.lineNumber-f.lineNumber),D}}class Q{constructor(w,D,F){this.changeType=2,this.lineNumber=w,this.detail=D,this.injectedText=F}}class k{constructor(w,D){this.changeType=3,this.fromLineNumber=w,this.toLineNumber=D}}class R{constructor(w,D,F,f){this.changeType=4,this.injectedTexts=f,this.fromLineNumber=w,this.toLineNumber=D,this.detail=F}}class se{constructor(){this.changeType=5}}class j{constructor(w,D,F,f){this.changes=w,this.versionId=D,this.isUndoing=F,this.isRedoing=f,this.resultingSelection=null}containsEvent(w){for(let D=0,F=this.changes.length;D<F;D++)if(this.changes[D].changeType===w)return!0;return!1}static merge(w,D){const F=[].concat(w.changes).concat(D.changes);return new j(F,D.versionId,w.isUndoing||D.isUndoing,w.isRedoing||D.isRedoing)}}class Y{constructor(w){this.changes=w}}class V{constructor(w,D){this.rawContentChangedEvent=w,this.contentChangedEvent=D}merge(w){const D=j.merge(this.rawContentChangedEvent,w.rawContentChangedEvent),F=V._mergeChangeEvents(this.contentChangedEvent,w.contentChangedEvent);return new V(D,F)}static _mergeChangeEvents(w,D){return{changes:[].concat(w.changes).concat(D.changes),eol:D.eol,versionId:D.versionId,isUndoing:w.isUndoing||D.isUndoing,isRedoing:w.isRedoing||D.isRedoing,isFlush:w.isFlush||D.isFlush}}}},2904:(vt,Ke,m)=>{m.d(Ke,{s6:()=>v,UO:()=>h,vW:()=>Q});var v=(()=>{return(k=v||(v={}))[k.Disabled=0]="Disabled",k[k.EnabledForActive=1]="EnabledForActive",k[k.Enabled=2]="Enabled",v;var k})();class h{constructor(R,se,j){this.visibleColumn=R,this.className=se,this.horizontalLine=j}}class Q{constructor(R,se){this.top=R,this.endColumn=se}}},8028:(vt,Ke,m)=>{m.d(Ke,{A:()=>h});var v=m(5283);let h=(()=>{class k{constructor(se,j,Y){this._lineTokensBrand=void 0,this._tokens=se,this._tokensCount=this._tokens.length>>>1,this._text=j,this._languageIdCodec=Y}static createEmpty(se,j){const Y=k.defaultTokenMetadata,V=new Uint32Array(2);return V[0]=se.length,V[1]=Y,new k(V,se,j)}equals(se){return se instanceof k&&this.slicedEquals(se,0,this._tokensCount)}slicedEquals(se,j,Y){if(this._text!==se._text||this._tokensCount!==se._tokensCount)return!1;const V=j<<1,x=V+(Y<<1);for(let w=V;w<x;w++)if(this._tokens[w]!==se._tokens[w])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(se){return se>0?this._tokens[se-1<<1]:0}getMetadata(se){return this._tokens[1+(se<<1)]}getLanguageId(se){const Y=v.NX.getLanguageId(this._tokens[1+(se<<1)]);return this._languageIdCodec.decodeLanguageId(Y)}getStandardTokenType(se){return v.NX.getTokenType(this._tokens[1+(se<<1)])}getForeground(se){return v.NX.getForeground(this._tokens[1+(se<<1)])}getClassName(se){return v.NX.getClassNameFromMetadata(this._tokens[1+(se<<1)])}getInlineStyle(se,j){return v.NX.getInlineStyleFromMetadata(this._tokens[1+(se<<1)],j)}getPresentation(se){return v.NX.getPresentationFromMetadata(this._tokens[1+(se<<1)])}getEndOffset(se){return this._tokens[se<<1]}findTokenIndexAtOffset(se){return k.findIndexInTokensArray(this._tokens,se)}inflate(){return this}sliceAndInflate(se,j,Y){return new Q(this,se,j,Y)}static convertToEndOffset(se,j){const V=(se.length>>>1)-1;for(let x=0;x<V;x++)se[x<<1]=se[x+1<<1];se[V<<1]=j}static findIndexInTokensArray(se,j){if(se.length<=2)return 0;let Y=0,V=(se.length>>>1)-1;for(;Y<V;){const x=Y+Math.floor((V-Y)/2),w=se[x<<1];if(w===j)return x+1;w<j?Y=x+1:w>j&&(V=x)}return Y}withInserted(se){if(0===se.length)return this;let j=0,Y=0,V="";const x=new Array;let w=0;for(;;){const D=j<this._tokensCount?this._tokens[j<<1]:-1,F=Y<se.length?se[Y]:null;if(-1!==D&&(null===F||D<=F.offset))V+=this._text.substring(w,D),x.push(V.length,this._tokens[1+(j<<1)]),j++,w=D;else{if(!F)break;F.offset>w&&(V+=this._text.substring(w,F.offset),x.push(V.length,this._tokens[1+(j<<1)]),w=F.offset),V+=F.text,x.push(V.length,F.tokenMetadata),Y++}}return new k(new Uint32Array(x),V,this._languageIdCodec)}}return k.defaultTokenMetadata=16793600,k})();class Q{constructor(R,se,j,Y){this._source=R,this._startOffset=se,this._endOffset=j,this._deltaOffset=Y,this._firstTokenIndex=R.findTokenIndexAtOffset(se),this._tokensCount=0;for(let V=this._firstTokenIndex,x=R.getCount();V<x&&!(R.getStartOffset(V)>=j);V++)this._tokensCount++}getMetadata(R){return this._source.getMetadata(this._firstTokenIndex+R)}getLanguageId(R){return this._source.getLanguageId(this._firstTokenIndex+R)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(R){return R instanceof Q&&this._startOffset===R._startOffset&&this._endOffset===R._endOffset&&this._deltaOffset===R._deltaOffset&&this._source.slicedEquals(R._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(R){return this._source.getForeground(this._firstTokenIndex+R)}getEndOffset(R){const se=this._source.getEndOffset(this._firstTokenIndex+R);return Math.min(this._endOffset,se)-this._startOffset+this._deltaOffset}getClassName(R){return this._source.getClassName(this._firstTokenIndex+R)}getInlineStyle(R,se){return this._source.getInlineStyle(this._firstTokenIndex+R,se)}getPresentation(R){return this._source.getPresentation(this._firstTokenIndex+R)}findTokenIndexAtOffset(R){return this._source.findTokenIndexAtOffset(R+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},4500:(vt,Ke,m)=>{m.d(Ke,{Kp:()=>h,k:()=>R});var v=m(4705);class h{constructor(j,Y,V,x){this.startColumn=j,this.endColumn=Y,this.className=V,this.type=x,this._lineDecorationBrand=void 0}static _equals(j,Y){return j.startColumn===Y.startColumn&&j.endColumn===Y.endColumn&&j.className===Y.className&&j.type===Y.type}static equalsArr(j,Y){const V=j.length;if(V!==Y.length)return!1;for(let w=0;w<V;w++)if(!h._equals(j[w],Y[w]))return!1;return!0}static extractWrapped(j,Y,V){if(0===j.length)return j;const x=Y+1,w=V+1,D=V-Y,F=[];let f=0;for(const T of j)T.endColumn<=x||T.startColumn>=w||(F[f++]=new h(Math.max(1,T.startColumn-x+1),Math.min(D+1,T.endColumn-x+1),T.className,T.type));return F}static filter(j,Y,V,x){if(0===j.length)return[];const w=[];let D=0;for(let F=0,f=j.length;F<f;F++){const T=j[F],z=T.range;z.endLineNumber<Y||z.startLineNumber>Y||z.isEmpty()&&(0===T.type||3===T.type)||(w[D++]=new h(z.startLineNumber===Y?z.startColumn:V,z.endLineNumber===Y?z.endColumn:x,T.inlineClassName,T.type))}return w}static _typeCompare(j,Y){const V=[2,0,1,3];return V[j]-V[Y]}static compare(j,Y){if(j.startColumn!==Y.startColumn)return j.startColumn-Y.startColumn;if(j.endColumn!==Y.endColumn)return j.endColumn-Y.endColumn;const V=h._typeCompare(j.type,Y.type);return 0!==V?V:j.className!==Y.className?j.className<Y.className?-1:1:0}}class Q{constructor(j,Y,V,x){this.startOffset=j,this.endOffset=Y,this.className=V,this.metadata=x}}class k{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(j){let Y=0;for(let V=0,x=j.length;V<x;V++)Y|=j[V];return Y}consumeLowerThan(j,Y,V){for(;this.count>0&&this.stopOffsets[0]<j;){let x=0;for(;x+1<this.count&&this.stopOffsets[x]===this.stopOffsets[x+1];)x++;V.push(new Q(Y,this.stopOffsets[x],this.classNames.join(" "),k._metadata(this.metadata))),Y=this.stopOffsets[x]+1,this.stopOffsets.splice(0,x+1),this.classNames.splice(0,x+1),this.metadata.splice(0,x+1),this.count-=x+1}return this.count>0&&Y<j&&(V.push(new Q(Y,j-1,this.classNames.join(" "),k._metadata(this.metadata))),Y=j),Y}insert(j,Y,V){if(0===this.count||this.stopOffsets[this.count-1]<=j)this.stopOffsets.push(j),this.classNames.push(Y),this.metadata.push(V);else for(let x=0;x<this.count;x++)if(this.stopOffsets[x]>=j){this.stopOffsets.splice(x,0,j),this.classNames.splice(x,0,Y),this.metadata.splice(x,0,V);break}this.count++}}class R{static normalize(j,Y){if(0===Y.length)return[];const V=[],x=new k;let w=0;for(let D=0,F=Y.length;D<F;D++){const f=Y[D];let T=f.startColumn,z=f.endColumn;const I=f.className,H=1===f.type?2:2===f.type?4:0;if(T>1){const M=j.charCodeAt(T-2);v.ZG(M)&&T--}if(z>1){const M=j.charCodeAt(z-2);v.ZG(M)&&z--}const K=T-1,N=z-2;w=x.consumeLowerThan(K,w,V),0===x.count&&(w=K),x.insert(N,I,H)}return x.consumeLowerThan(1073741824,w,V),V}}},6145:(vt,Ke,m)=>{m.d(Ke,{zG:()=>R,IJ:()=>se,Nd:()=>j,d1:()=>x,tF:()=>D});var v=m(4705),h=m(8511),Q=m(4500);class k{constructor(J,he,ye){this._linePartBrand=void 0,this.endIndex=J,this.type=he,this.metadata=ye}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class R{constructor(J,he){this.startOffset=J,this.endOffset=he}equals(J){return this.startOffset===J.startOffset&&this.endOffset===J.endOffset}}class se{constructor(J,he,ye,fe,Se,Ie,_e,$,X,pe,re,ne,ce,ue,we,He,lt,ut,Ve){this.useMonospaceOptimizations=J,this.canUseHalfwidthRightwardsArrow=he,this.lineContent=ye,this.continuesWithWrappedLine=fe,this.isBasicASCII=Se,this.containsRTL=Ie,this.fauxIndentLength=_e,this.lineTokens=$,this.lineDecorations=X.sort(Q.Kp.compare),this.tabSize=pe,this.startVisibleColumn=re,this.spaceWidth=ne,this.stopRenderingLineAfter=we,this.renderWhitespace="all"===He?4:"boundary"===He?1:"selection"===He?2:"trailing"===He?3:0,this.renderControlCharacters=lt,this.fontLigatures=ut,this.selectionsOnLine=Ve&&Ve.sort((un,Jt)=>un.startOffset<Jt.startOffset?-1:1),Math.abs(ue-ne)<Math.abs(ce-ne)?(this.renderSpaceWidth=ue,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=ce,this.renderSpaceCharCode=183)}sameSelection(J){if(null===this.selectionsOnLine)return null===J;if(null===J||J.length!==this.selectionsOnLine.length)return!1;for(let he=0;he<this.selectionsOnLine.length;he++)if(!this.selectionsOnLine[he].equals(J[he]))return!1;return!0}equals(J){return this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineContent===J.lineContent&&this.continuesWithWrappedLine===J.continuesWithWrappedLine&&this.isBasicASCII===J.isBasicASCII&&this.containsRTL===J.containsRTL&&this.fauxIndentLength===J.fauxIndentLength&&this.tabSize===J.tabSize&&this.startVisibleColumn===J.startVisibleColumn&&this.spaceWidth===J.spaceWidth&&this.renderSpaceWidth===J.renderSpaceWidth&&this.renderSpaceCharCode===J.renderSpaceCharCode&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.fontLigatures===J.fontLigatures&&Q.Kp.equalsArr(this.lineDecorations,J.lineDecorations)&&this.lineTokens.equals(J.lineTokens)&&this.sameSelection(J.selectionsOnLine)}}class j{constructor(J,he){this.partIndex=J,this.charIndex=he}}class Y{constructor(J,he){this.length=J,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(J){return(4294901760&J)>>>16}static getCharIndex(J){return(65535&J)>>>0}setColumnInfo(J,he,ye,fe){this._data[J-1]=(he<<16|ye<<0)>>>0,this._absoluteOffsets[J-1]=fe+ye}getAbsoluteOffset(J){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[J-1]}charOffsetToPartData(J){return 0===this.length?0:J<0?this._data[0]:J>=this.length?this._data[this.length-1]:this._data[J]}getDomPosition(J){const he=this.charOffsetToPartData(J-1),ye=Y.getPartIndex(he),fe=Y.getCharIndex(he);return new j(ye,fe)}getColumn(J,he){return this.partDataToCharOffset(J.partIndex,he,J.charIndex)+1}partDataToCharOffset(J,he,ye){if(0===this.length)return 0;const fe=(J<<16|ye<<0)>>>0;let Se=0,Ie=this.length-1;for(;Se+1<Ie;){const we=Se+Ie>>>1,He=this._data[we];if(He===fe)return we;He>fe?Ie=we:Se=we}if(Se===Ie)return Se;const _e=this._data[Se],$=this._data[Ie];if(_e===fe)return Se;if($===fe)return Ie;const X=Y.getPartIndex(_e),pe=Y.getCharIndex(_e);let ne;return ne=X!==Y.getPartIndex($)?he:Y.getCharIndex($),ye-pe<=ne-ye?Se:Ie}}class V{constructor(J,he,ye){this._renderLineOutputBrand=void 0,this.characterMapping=J,this.containsRTL=he,this.containsForeignElements=ye}}function x(W,J){if(0===W.lineContent.length){if(W.lineDecorations.length>0){J.appendASCIIString("<span>");let he=0,ye=0,fe=0;for(const Ie of W.lineDecorations)(1===Ie.type||2===Ie.type)&&(J.appendASCIIString('<span class="'),J.appendASCIIString(Ie.className),J.appendASCIIString('"></span>'),1===Ie.type&&(fe|=1,he++),2===Ie.type&&(fe|=2,ye++));J.appendASCIIString("</span>");const Se=new Y(1,he+ye);return Se.setColumnInfo(1,he,0,0),new V(Se,!1,fe)}return J.appendASCIIString("<span><span></span></span>"),new V(new Y(0,0),!1,0)}return function M(W,J){const he=W.fontIsMonospace,ye=W.canUseHalfwidthRightwardsArrow,fe=W.containsForeignElements,Se=W.lineContent,Ie=W.len,_e=W.isOverflowing,$=W.parts,X=W.fauxIndentLength,pe=W.tabSize,re=W.startVisibleColumn,ne=W.containsRTL,ce=W.spaceWidth,ue=W.renderSpaceCharCode,we=W.renderWhitespace,He=W.renderControlCharacters,lt=new Y(Ie+1,$.length);let ut=!1,Ve=0,ct=re,Nt=0,un=0,Jt=0,St=0;J.appendASCIIString(ne?'<span dir="ltr">':"<span>");for(let en=0,pn=$.length;en<pn;en++){St+=Jt;const Xt=$[en],ze=Xt.endIndex,At=Xt.type,Kt=0!==we&&Xt.isWhitespace(),nn=Kt&&!he&&("mtkw"===At||!fe),Mn=Ve===ze&&Xt.isPseudoAfter();if(Nt=0,J.appendASCIIString('<span class="'),J.appendASCIIString(nn?"mtkz":At),J.appendASCII(34),Kt){let Nn=0;{let yt=Ve,Ht=ct;for(;yt<ze;yt++){const _n=0|(9===Se.charCodeAt(yt)?pe-Ht%pe:1);Nn+=_n,yt>=X&&(Ht+=_n)}}for(nn&&(J.appendASCIIString(' style="width:'),J.appendASCIIString(String(ce*Nn)),J.appendASCIIString('px"')),J.appendASCII(62);Ve<ze;Ve++){let Ht;if(lt.setColumnInfo(Ve+1,en-un,Nt,St),un=0,9===Se.charCodeAt(Ve)){Ht=pe-ct%pe|0,J.write1(!ye||Ht>1?8594:65515);for(let jt=2;jt<=Ht;jt++)J.write1(160)}else Ht=1,J.write1(ue);Nt+=Ht,Ve>=X&&(ct+=Ht)}Jt=Nn}else{let Nn=0;for(J.appendASCII(62);Ve<ze;Ve++){lt.setColumnInfo(Ve+1,en-un,Nt,St),un=0;const yt=Se.charCodeAt(Ve);let Ht=1,jt=1;switch(yt){case 9:Ht=pe-ct%pe,jt=Ht;for(let _n=1;_n<=Ht;_n++)J.write1(160);break;case 32:J.write1(160);break;case 60:J.appendASCIIString("&lt;");break;case 62:J.appendASCIIString("&gt;");break;case 38:J.appendASCIIString("&amp;");break;case 0:He?J.write1(9216):J.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:J.write1(65533);break;default:v.K7(yt)&&jt++,He&&yt<32?J.write1(9216+yt):He&&127===yt?J.write1(9249):He&&I(yt)?(J.appendASCIIString("[U+"),J.appendASCIIString(P(yt)),J.appendASCIIString("]"),Ht=8):J.write1(yt)}Nt+=Ht,Nn+=Ht,Ve>=X&&(ct+=jt)}Jt=Nn}Mn?un++:un=0,Ve>=Ie&&!ut&&Xt.isPseudoAfter()&&(ut=!0,lt.setColumnInfo(Ve+1,en,Nt,St)),J.appendASCIIString("</span>")}return ut||lt.setColumnInfo(Ie+1,$.length-1,Nt,St),_e&&J.appendASCIIString("<span>&hellip;</span>"),J.appendASCIIString("</span>"),new V(lt,ne,fe)}(function f(W){const J=W.lineContent;let he,ye;-1!==W.stopRenderingLineAfter&&W.stopRenderingLineAfter<J.length?(he=!0,ye=W.stopRenderingLineAfter):(he=!1,ye=J.length);let fe=function T(W,J,he){const ye=[];let fe=0;J>0&&(ye[fe++]=new k(J,"",0));for(let Se=0,Ie=W.getCount();Se<Ie;Se++){const _e=W.getEndOffset(Se);if(_e<=J)continue;const $=W.getClassName(Se);if(_e>=he){ye[fe++]=new k(he,$,0);break}ye[fe++]=new k(_e,$,0)}return ye}(W.lineTokens,W.fauxIndentLength,ye);W.renderControlCharacters&&!W.isBasicASCII&&(fe=function H(W,J){const he=[];let ye=new k(0,"",0),fe=0;for(const Se of J){const Ie=Se.endIndex;for(;fe<Ie;fe++)I(W.charCodeAt(fe))&&(fe>ye.endIndex&&(ye=new k(fe,Se.type,Se.metadata),he.push(ye)),ye=new k(fe+1,"mtkcontrol",Se.metadata),he.push(ye));fe>ye.endIndex&&(ye=new k(Ie,Se.type,Se.metadata),he.push(ye))}return he}(J,fe)),(4===W.renderWhitespace||1===W.renderWhitespace||2===W.renderWhitespace&&W.selectionsOnLine||3===W.renderWhitespace)&&(fe=function K(W,J,he,ye){const fe=W.continuesWithWrappedLine,Se=W.fauxIndentLength,Ie=W.tabSize,_e=W.startVisibleColumn,$=W.useMonospaceOptimizations,X=W.selectionsOnLine,pe=1===W.renderWhitespace,re=3===W.renderWhitespace,ne=W.renderSpaceWidth!==W.spaceWidth,ce=[];let ue=0,we=0,He=ye[we].type,lt=ye[we].endIndex;const ut=ye.length;let Nt,Ve=!1,ct=v.LC(J);-1===ct?(Ve=!0,ct=he,Nt=he):Nt=v.ow(J);let un=!1,Jt=0,St=X&&X[Jt],en=_e%Ie;for(let Xt=Se;Xt<he;Xt++){const ze=J.charCodeAt(Xt);let At;if(St&&Xt>=St.endOffset&&(Jt++,St=X&&X[Jt]),Xt<ct||Xt>Nt)At=!0;else if(9===ze)At=!0;else if(32===ze)if(pe)if(un)At=!0;else{const Kt=Xt+1<he?J.charCodeAt(Xt+1):0;At=32===Kt||9===Kt}else At=!0;else At=!1;if(At&&X&&(At=!!St&&St.startOffset<=Xt&&St.endOffset>Xt),At&&re&&(At=Ve||Xt>Nt),un){if(!At||!$&&en>=Ie){if(ne)for(let nn=(ue>0?ce[ue-1].endIndex:Se)+1;nn<=Xt;nn++)ce[ue++]=new k(nn,"mtkw",1);else ce[ue++]=new k(Xt,"mtkw",1);en%=Ie}}else(Xt===lt||At&&Xt>Se)&&(ce[ue++]=new k(Xt,He,0),en%=Ie);for(9===ze?en=Ie:v.K7(ze)?en+=2:en++,un=At;Xt===lt&&(we++,we<ut);)He=ye[we].type,lt=ye[we].endIndex}let pn=!1;if(un)if(fe&&pe){const Xt=he>0?J.charCodeAt(he-1):0,ze=he>1?J.charCodeAt(he-2):0;32===Xt&&32!==ze&&9!==ze||(pn=!0)}else pn=!0;if(pn)if(ne)for(let ze=(ue>0?ce[ue-1].endIndex:Se)+1;ze<=he;ze++)ce[ue++]=new k(ze,"mtkw",1);else ce[ue++]=new k(he,"mtkw",1);else ce[ue++]=new k(he,He,0);return ce}(W,J,ye,fe));let Se=0;if(W.lineDecorations.length>0){for(let Ie=0,_e=W.lineDecorations.length;Ie<_e;Ie++){const $=W.lineDecorations[Ie];3===$.type||1===$.type?Se|=1:2===$.type&&(Se|=2)}fe=function N(W,J,he,ye){ye.sort(Q.Kp.compare);const fe=Q.k.normalize(W,ye),Se=fe.length;let Ie=0;const _e=[];let $=0,X=0;for(let re=0,ne=he.length;re<ne;re++){const ce=he[re],ue=ce.endIndex,we=ce.type,He=ce.metadata;for(;Ie<Se&&fe[Ie].startOffset<ue;){const lt=fe[Ie];if(lt.startOffset>X&&(X=lt.startOffset,_e[$++]=new k(X,we,He)),!(lt.endOffset+1<=ue)){X=ue,_e[$++]=new k(X,we+" "+lt.className,He|lt.metadata);break}X=lt.endOffset+1,_e[$++]=new k(X,we+" "+lt.className,He|lt.metadata),Ie++}ue>X&&(X=ue,_e[$++]=new k(X,we,He))}const pe=he[he.length-1].endIndex;if(Ie<Se&&fe[Ie].startOffset===pe)for(;Ie<Se&&fe[Ie].startOffset===pe;){const re=fe[Ie];_e[$++]=new k(X,re.className,re.metadata),Ie++}return _e}(J,0,fe,W.lineDecorations)}return W.containsRTL||(fe=function z(W,J,he){let ye=0;const fe=[];let Se=0;if(he)for(let Ie=0,_e=J.length;Ie<_e;Ie++){const $=J[Ie],X=$.endIndex;if(ye+50<X){const pe=$.type,re=$.metadata;let ne=-1,ce=ye;for(let ue=ye;ue<X;ue++)32===W.charCodeAt(ue)&&(ne=ue),-1!==ne&&ue-ce>=50&&(fe[Se++]=new k(ne+1,pe,re),ce=ne+1,ne=-1);ce!==X&&(fe[Se++]=new k(X,pe,re))}else fe[Se++]=$;ye=X}else for(let Ie=0,_e=J.length;Ie<_e;Ie++){const $=J[Ie],X=$.endIndex,pe=X-ye;if(pe>50){const re=$.type,ne=$.metadata,ce=Math.ceil(pe/50);for(let ue=1;ue<ce;ue++)fe[Se++]=new k(ye+50*ue,re,ne);fe[Se++]=new k(X,re,ne)}else fe[Se++]=$;ye=X}return fe}(J,fe,!W.isBasicASCII||W.fontLigatures)),new F(W.useMonospaceOptimizations,W.canUseHalfwidthRightwardsArrow,J,ye,he,fe,Se,W.fauxIndentLength,W.tabSize,W.startVisibleColumn,W.containsRTL,W.spaceWidth,W.renderSpaceCharCode,W.renderWhitespace,W.renderControlCharacters)}(W),J)}class w{constructor(J,he,ye,fe){this.characterMapping=J,this.html=he,this.containsRTL=ye,this.containsForeignElements=fe}}function D(W){const J=(0,h.l$)(1e4),he=x(W,J);return new w(he.characterMapping,J.build(),he.containsRTL,he.containsForeignElements)}class F{constructor(J,he,ye,fe,Se,Ie,_e,$,X,pe,re,ne,ce,ue,we){this.fontIsMonospace=J,this.canUseHalfwidthRightwardsArrow=he,this.lineContent=ye,this.len=fe,this.isOverflowing=Se,this.parts=Ie,this.containsForeignElements=_e,this.fauxIndentLength=$,this.tabSize=X,this.startVisibleColumn=pe,this.containsRTL=re,this.spaceWidth=ne,this.renderSpaceCharCode=ce,this.renderWhitespace=ue,this.renderControlCharacters=we}}function I(W){return W<32?9!==W:127===W||W>=8234&&W<=8238||W>=8294&&W<=8297||W>=8206&&W<=8207||1564===W}function P(W){return W.toString(16).toUpperCase().padStart(4,"0")}},3772:(vt,Ke,m)=>{m.d(Ke,{EY:()=>h,Tj:()=>Q});class v{constructor(R,se,j){this._colorZoneBrand=void 0,this.from=0|R,this.to=0|se,this.colorId=0|j}static compare(R,se){return R.colorId===se.colorId?R.from===se.from?R.to-se.to:R.from-se.from:R.colorId-se.colorId}}class h{constructor(R,se,j){this._overviewRulerZoneBrand=void 0,this.startLineNumber=R,this.endLineNumber=se,this.color=j,this._colorZone=null}static compare(R,se){return R.color===se.color?R.startLineNumber===se.startLineNumber?R.endLineNumber-se.endLineNumber:R.startLineNumber-se.startLineNumber:R.color<se.color?-1:1}setColorZone(R){this._colorZone=R}getColorZones(){return this._colorZone}}class Q{constructor(R){this._getVerticalOffsetForLine=R,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(R){this._zones=R,this._zones.sort(h.compare)}setLineHeight(R){return this._lineHeight!==R&&(this._lineHeight=R,this._colorZonesInvalid=!0,!0)}setPixelRatio(R){this._pixelRatio=R,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(R){return this._domWidth!==R&&(this._domWidth=R,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(R){return this._domHeight!==R&&(this._domHeight=R,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(R){return this._outerHeight!==R&&(this._outerHeight=R,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const R=this._colorZonesInvalid,se=Math.floor(this._lineHeight),j=Math.floor(this.getCanvasHeight()),V=j/Math.floor(this._outerHeight),x=Math.floor(4*this._pixelRatio/2),w=[];for(let D=0,F=this._zones.length;D<F;D++){const f=this._zones[D];if(!R){const P=f.getColorZones();if(P){w.push(P);continue}}const T=Math.floor(V*this._getVerticalOffsetForLine(f.startLineNumber)),z=Math.floor(V*(this._getVerticalOffsetForLine(f.endLineNumber)+se));let I=Math.floor((T+z)/2),H=z-I;H<x&&(H=x),I-H<0&&(I=H),I+H>j&&(I=j-H);const K=f.color;let N=this._color2Id[K];N||(N=++this._lastAssignedId,this._color2Id[K]=N,this._id2Color[N]=K);const M=new v(I-H,I+H,N);f.setColorZone(M),w.push(M)}return this._colorZonesInvalid=!1,w.sort(v.compare),w}}},5024:(vt,Ke,m)=>{m.d(Ke,{l_:()=>Q,ud:()=>k,IP:()=>R,wA:()=>se,$t:()=>j,Wx:()=>Y,$l:()=>V,SQ:()=>x});var v=m(4705),h=m(8451);class Q{constructor(D,F,f,T){this._viewportBrand=void 0,this.top=0|D,this.left=0|F,this.width=0|f,this.height=0|T}}class k{constructor(D,F){this.tabSize=D,this.data=F}}class R{constructor(D,F,f,T,z,I,H){this._viewLineDataBrand=void 0,this.content=D,this.continuesWithWrappedLine=F,this.minColumn=f,this.maxColumn=T,this.startVisibleColumn=z,this.tokens=I,this.inlineDecorations=H}}class se{constructor(D,F,f,T,z,I,H,K,N,M){this.minColumn=D,this.maxColumn=F,this.content=f,this.continuesWithWrappedLine=T,this.isBasicASCII=se.isBasicASCII(f,I),this.containsRTL=se.containsRTL(f,this.isBasicASCII,z),this.tokens=H,this.inlineDecorations=K,this.tabSize=N,this.startVisibleColumn=M}static isBasicASCII(D,F){return!F||v.$i(D)}static containsRTL(D,F,f){return!(F||!f)&&v.Ut(D)}}class j{constructor(D,F,f){this.range=D,this.inlineClassName=F,this.type=f}}class Y{constructor(D,F,f,T){this.startOffset=D,this.endOffset=F,this.inlineClassName=f,this.inlineClassNameAffectsLetterSpacing=T}toInlineDecoration(D){return new j(new h.e(D,this.startOffset+1,D,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class V{constructor(D,F){this._viewModelDecorationBrand=void 0,this.range=D,this.options=F}}class x{constructor(D,F,f){this.color=D,this.zIndex=F,this.data=f}static cmp(D,F){return D.zIndex===F.zIndex?D.color<F.color?-1:D.color>F.color?1:0:D.zIndex-F.zIndex}}},1322:(vt,Ke,m)=>{m.d(Ke,{CU:()=>R,Fd:()=>se,$t:()=>j,zg:()=>Y});var v=m(4220),h=m(8451),Q=m(5024),k=m(6367);class R{constructor(w,D,F,f,T){this.editorId=w,this.model=D,this.configuration=F,this._linesCollection=f,this._coordinatesConverter=T,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(w){const D=w.id;let F=this._decorationsCache[D];if(!F){const f=w.range,T=w.options;let z;if(T.isWholeLine){const I=this._coordinatesConverter.convertModelPositionToViewPosition(new v.L(f.startLineNumber,1),0),H=this._coordinatesConverter.convertModelPositionToViewPosition(new v.L(f.endLineNumber,this.model.getLineMaxColumn(f.endLineNumber)),1);z=new h.e(I.lineNumber,I.column,H.lineNumber,H.column)}else z=this._coordinatesConverter.convertModelRangeToViewRange(f,1);F=new Q.$l(z,T),this._decorationsCache[D]=F}return F}getDecorationsViewportData(w){let D=null!==this._cachedModelDecorationsResolver;return D=D&&w.equalsRange(this._cachedModelDecorationsResolverViewRange),D||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(w),this._cachedModelDecorationsResolverViewRange=w),this._cachedModelDecorationsResolver}_getDecorationsViewportData(w){const D=this._linesCollection.getDecorationsInRange(w,this.editorId,(0,k.$J)(this.configuration.options)),F=w.startLineNumber,f=w.endLineNumber,T=[];let z=0;const I=[];for(let H=F;H<=f;H++)I[H-F]=[];for(let H=0,K=D.length;H<K;H++){const N=D[H],M=N.options;if(!se(this.model,N))continue;const P=this._getOrCreateViewModelDecoration(N),W=P.range;if(T[z++]=P,M.inlineClassName){const J=new Q.$t(W,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing?3:0),he=Math.max(F,W.startLineNumber),ye=Math.min(f,W.endLineNumber);for(let fe=he;fe<=ye;fe++)I[fe-F].push(J)}if(M.beforeContentClassName&&F<=W.startLineNumber&&W.startLineNumber<=f){const J=new Q.$t(new h.e(W.startLineNumber,W.startColumn,W.startLineNumber,W.startColumn),M.beforeContentClassName,1);I[W.startLineNumber-F].push(J)}if(M.afterContentClassName&&F<=W.endLineNumber&&W.endLineNumber<=f){const J=new Q.$t(new h.e(W.endLineNumber,W.endColumn,W.endLineNumber,W.endColumn),M.afterContentClassName,2);I[W.endLineNumber-F].push(J)}}return{decorations:T,inlineDecorations:I}}}function se(x,w){return!(w.options.hideInCommentTokens&&j(x,w)||w.options.hideInStringTokens&&Y(x,w))}function j(x,w){return V(x,w.range,D=>1===D)}function Y(x,w){return V(x,w.range,D=>2===D)}function V(x,w,D){for(let F=w.startLineNumber;F<=w.endLineNumber;F++){const f=x.getLineTokens(F),z=F===w.endLineNumber;let I=F===w.startLineNumber?f.findTokenIndexAtOffset(w.startColumn-1):0;for(;I<f.getCount()&&!(z&&f.getStartOffset(I)>w.endColumn-1);){if(!D(f.getStandardTokenType(I)))return!1;I++}}return!0}},3914:(vt,Ke,m)=>{m.d(Ke,{yy:()=>f,Dl:()=>T,YQ:()=>z});var v=m(4705),h=m(8451),Q=m(152),k=m(2425),R=m(5172),se=m(9776),j=m(8460),Y=m(4725),V=m(7918),x=m(402);const w=(0,Y.yh)("IEditorCancelService"),D=new se.uy("cancellableOperation",!1,(0,x.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,V.z)(w,class{constructor(){this._tokens=new WeakMap}add(I,H){let N,K=this._tokens.get(I);return K||(K=I.invokeWithinContext(M=>({key:D.bindTo(M.get(se.i6)),tokens:new j.S})),this._tokens.set(I,K)),K.key.set(!0),N=K.tokens.push(H),()=>{N&&(N(),K.key.set(!K.tokens.isEmpty()),N=void 0)}}cancel(I){const H=this._tokens.get(I);if(!H)return;const K=H.tokens.pop();K&&(K.cancel(),H.key.set(!H.tokens.isEmpty()))}},!0);class F extends Q.A{constructor(H,K){super(K),this.editor=H,this._unregister=H.invokeWithinContext(N=>N.get(w).add(H,this))}dispose(){this._unregister(),super.dispose()}}(0,R.fK)(new class extends R._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:D})}runEditorCommand(I,H){I.get(w).cancel(H)}});class f{constructor(H,K){if(this.flags=K,0!=(1&this.flags)){const N=H.getModel();this.modelVersionId=N?v.WU("{0}#{1}",N.uri.toString(),N.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?H.getPosition():null,this.selection=0!=(2&this.flags)?H.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=H.getScrollLeft(),this.scrollTop=H.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(H){if(!(H instanceof f))return!1;const K=H;return!(this.modelVersionId!==K.modelVersionId||this.scrollLeft!==K.scrollLeft||this.scrollTop!==K.scrollTop||!this.position&&K.position||this.position&&!K.position||this.position&&K.position&&!this.position.equals(K.position)||!this.selection&&K.selection||this.selection&&!K.selection||this.selection&&K.selection&&!this.selection.equalsRange(K.selection))}validate(H){return this._equals(new f(H,this.flags))}}class T extends F{constructor(H,K,N,M){super(H,M),this._listener=new k.SL,4&K&&this._listener.add(H.onDidChangeCursorPosition(P=>{(!N||!h.e.containsPosition(N,P.position))&&this.cancel()})),2&K&&this._listener.add(H.onDidChangeCursorSelection(P=>{(!N||!h.e.containsRange(N,P.selection))&&this.cancel()})),8&K&&this._listener.add(H.onDidScrollChange(P=>this.cancel())),1&K&&(this._listener.add(H.onDidChangeModel(P=>this.cancel())),this._listener.add(H.onDidChangeModelContent(P=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class z extends Q.A{constructor(H,K){super(K),this._listener=H.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},9957:(vt,Ke,m)=>{m.d(Ke,{xC:()=>he,Zg:()=>W,x$:()=>ye,Qq:()=>Se,Qs:()=>X});var v=m(3619),h=m(8337),Q=m(152),k=m(3663),R=m(7981),se=m(8460),j=m(4435),Y=m(4672),V=m(3914),x=m(7109),w=m(4220),D=m(8451),F=m(3210),f=m(5283),T=m(4084),z=m(7424),I=m(1611),H=m(402),K=m(3884);class N{constructor(re){this.value=re,this._lower=re.toLowerCase()}static toKey(re){return"string"==typeof re?re.toLowerCase():re._lower}}var M=m(4725),P=function(pe,re,ne,ce){return new(ne||(ne=Promise))(function(we,He){function lt(ct){try{Ve(ce.next(ct))}catch(Nt){He(Nt)}}function ut(ct){try{Ve(ce.throw(ct))}catch(Nt){He(Nt)}}function Ve(ct){ct.done?we(ct.value):function ue(we){return we instanceof ne?we:new ne(function(He){He(we)})}(ct.value).then(lt,ut)}Ve((ce=ce.apply(pe,re||[])).next())})};function W(pe){if(!(pe=pe.filter(ue=>ue.range)).length)return;let{range:re}=pe[0];for(let ue=1;ue<pe.length;ue++)re=D.e.plusRange(re,pe[ue].range);const{startLineNumber:ne,endLineNumber:ce}=re;(0,v.Z9)(ne===ce?1===pe.length?H.N("hint11","Made 1 formatting edit on line {0}",ne):H.N("hintn1","Made {0} formatting edits on line {1}",pe.length,ne):1===pe.length?H.N("hint1n","Made 1 formatting edit between lines {0} and {1}",ne,ce):H.N("hintnn","Made {0} formatting edits between lines {1} and {2}",pe.length,ne,ce))}function J(pe){const re=[],ne=new Set,ce=f.Az.ordered(pe);for(const we of ce)re.push(we),we.extensionId&&ne.add(N.toKey(we.extensionId));const ue=f.vN.ordered(pe);for(const we of ue){if(we.extensionId){if(ne.has(N.toKey(we.extensionId)))continue;ne.add(N.toKey(we.extensionId))}re.push({displayName:we.displayName,extensionId:we.extensionId,provideDocumentFormattingEdits:(He,lt,ut)=>we.provideDocumentRangeFormattingEdits(He,He.getFullModelRange(),lt,ut)})}return re}class he{static setFormatterSelector(re){return{dispose:he._selectors.unshift(re)}}static select(re,ne,ce){return P(this,void 0,void 0,function*(){if(0===re.length)return;const ue=R.$.first(he._selectors);return ue?yield ue(re,ne,ce):void 0})}}function ye(pe,re,ne,ce,ue,we){return P(this,void 0,void 0,function*(){const He=pe.get(M.TG),lt=(0,x.CL)(re)?re.getModel():re,ut=f.vN.ordered(lt),Ve=yield he.select(ut,lt,ce);Ve&&(ue.report(Ve),yield He.invokeFunction(fe,Ve,re,ne,we))})}function fe(pe,re,ne,ce,ue){return P(this,void 0,void 0,function*(){const we=pe.get(T.p);let He,lt;(0,x.CL)(ne)?(He=ne.getModel(),lt=new V.Dl(ne,5,void 0,ue)):(He=ne,lt=new V.YQ(ne,ue));let ut=[],Ve=0;for(let St of(0,h._2)(ce).sort(D.e.compareRangesUsingStarts))Ve>0&&D.e.areIntersectingOrTouching(ut[Ve-1],St)?ut[Ve-1]=D.e.fromPositions(ut[Ve-1].getStartPosition(),St.getEndPosition()):Ve=ut.push(St);const ct=St=>P(this,void 0,void 0,function*(){return(yield re.provideDocumentRangeFormattingEdits(He,St,He.getFormattingOptions(),lt.token))||[]}),Nt=(St,en)=>{if(!St.length||!en.length)return!1;const pn=St.reduce((Xt,ze)=>D.e.plusRange(Xt,ze.range),St[0].range);if(!en.some(Xt=>D.e.intersectRanges(pn,Xt.range)))return!1;for(let Xt of St)for(let ze of en)if(D.e.intersectRanges(Xt.range,ze.range))return!0;return!1},un=[],Jt=[];try{for(let St of ut){if(lt.token.isCancellationRequested)return!0;Jt.push(yield ct(St))}for(let St=0;St<ut.length;++St)for(let en=St+1;en<ut.length;++en){if(lt.token.isCancellationRequested)return!0;if(Nt(Jt[St],Jt[en])){const pn=D.e.plusRange(ut[St],ut[en]),Xt=yield ct(pn);ut.splice(en,1),ut.splice(St,1),ut.push(pn),Jt.splice(en,1),Jt.splice(St,1),Jt.push(Xt),St=0,en=0}}for(let St of Jt){if(lt.token.isCancellationRequested)return!0;const en=yield we.computeMoreMinimalEdits(He.uri,St);en&&un.push(...en)}}finally{lt.dispose()}if(0===un.length)return!1;if((0,x.CL)(ne))I.V.execute(ne,un,!0),W(un),ne.revealPositionInCenterIfOutsideViewport(ne.getPosition(),1);else{const[{range:St}]=un,en=new F.Y(St.startLineNumber,St.startColumn,St.endLineNumber,St.endColumn);He.pushEditOperations([en],un.map(pn=>({text:pn.text,range:D.e.lift(pn.range),forceMoveMarkers:!0})),pn=>{for(const{range:Xt}of pn)if(D.e.areIntersectingOrTouching(Xt,en))return[new F.Y(Xt.startLineNumber,Xt.startColumn,Xt.endLineNumber,Xt.endColumn)];return null})}return!0})}function Se(pe,re,ne,ce,ue){return P(this,void 0,void 0,function*(){const we=pe.get(M.TG),He=(0,x.CL)(re)?re.getModel():re,lt=J(He),ut=yield he.select(lt,He,ne);ut&&(ce.report(ut),yield we.invokeFunction(Ie,ut,re,ne,ue))})}function Ie(pe,re,ne,ce,ue){return P(this,void 0,void 0,function*(){const we=pe.get(T.p);let He,lt,ut;(0,x.CL)(ne)?(He=ne.getModel(),lt=new V.Dl(ne,5,void 0,ue)):(He=ne,lt=new V.YQ(ne,ue));try{const Ve=yield re.provideDocumentFormattingEdits(He,He.getFormattingOptions(),lt.token);if(ut=yield we.computeMoreMinimalEdits(He.uri,Ve),lt.token.isCancellationRequested)return!0}finally{lt.dispose()}if(!ut||0===ut.length)return!1;if((0,x.CL)(ne))I.V.execute(ne,ut,2!==ce),2!==ce&&(W(ut),ne.revealPositionInCenterIfOutsideViewport(ne.getPosition(),1));else{const[{range:Ve}]=ut,ct=new F.Y(Ve.startLineNumber,Ve.startColumn,Ve.endLineNumber,Ve.endColumn);He.pushEditOperations([ct],ut.map(Nt=>({text:Nt.text,range:D.e.lift(Nt.range),forceMoveMarkers:!0})),Nt=>{for(const{range:un}of Nt)if(D.e.areIntersectingOrTouching(un,ct))return[new F.Y(un.startLineNumber,un.startColumn,un.endLineNumber,un.endColumn)];return null})}return!0})}function X(pe,re,ne,ce,ue,we){const He=f.ln.ordered(re);return 0===He.length||He[0].autoFormatTriggerCharacters.indexOf(ce)<0?Promise.resolve(void 0):Promise.resolve(He[0].provideOnTypeFormattingEdits(re,ne,ce,ue,we)).catch(k.Cp).then(lt=>pe.computeMoreMinimalEdits(re.uri,lt))}he._selectors=new se.S,K.P0.registerCommand("_executeFormatRangeProvider",function(pe,...re){return P(this,void 0,void 0,function*(){const[ne,ce,ue]=re;(0,j.p_)(Y.o.isUri(ne)),(0,j.p_)(D.e.isIRange(ce));const we=pe.get(z.S),He=pe.get(T.p),lt=yield we.createModelReference(ne);try{return function _e(pe,re,ne,ce,ue){return P(this,void 0,void 0,function*(){const we=f.vN.ordered(re);for(const He of we){let lt=yield Promise.resolve(He.provideDocumentRangeFormattingEdits(re,ne,ce,ue)).catch(k.Cp);if((0,h.Of)(lt))return yield pe.computeMoreMinimalEdits(re.uri,lt)}})}(He,lt.object.textEditorModel,D.e.lift(ce),ue,Q.T.None)}finally{lt.dispose()}})}),K.P0.registerCommand("_executeFormatDocumentProvider",function(pe,...re){return P(this,void 0,void 0,function*(){const[ne,ce]=re;(0,j.p_)(Y.o.isUri(ne));const ue=pe.get(z.S),we=pe.get(T.p),He=yield ue.createModelReference(ne);try{return function $(pe,re,ne,ce){return P(this,void 0,void 0,function*(){const ue=J(re);for(const we of ue){let He=yield Promise.resolve(we.provideDocumentFormattingEdits(re,ne,ce)).catch(k.Cp);if((0,h.Of)(He))return yield pe.computeMoreMinimalEdits(re.uri,He)}})}(we,He.object.textEditorModel,ce,Q.T.None)}finally{He.dispose()}})}),K.P0.registerCommand("_executeFormatOnTypeProvider",function(pe,...re){return P(this,void 0,void 0,function*(){const[ne,ce,ue,we]=re;(0,j.p_)(Y.o.isUri(ne)),(0,j.p_)(w.L.isIPosition(ce)),(0,j.p_)("string"==typeof ue);const He=pe.get(z.S),lt=pe.get(T.p),ut=yield He.createModelReference(ne);try{return X(lt,ut.object.textEditorModel,w.L.lift(ce),ue,we,Q.T.None)}finally{ut.dispose()}})})},1611:(vt,Ke,m)=>{m.d(Ke,{V:()=>Q});var v=m(2033),h=m(8451);class Q{static _handleEolEdits(R,se){let j,Y=[];for(let V of se)"number"==typeof V.eol&&(j=V.eol),V.range&&"string"==typeof V.text&&Y.push(V);return"number"==typeof j&&R.hasModel()&&R.getModel().pushEOL(j),Y}static _isFullModelReplaceEdit(R,se){if(!R.hasModel())return!1;const j=R.getModel(),Y=j.validateRange(se.range);return j.getFullModelRange().equalsRange(Y)}static execute(R,se,j){j&&R.pushUndoStop();const Y=Q._handleEolEdits(R,se);1===Y.length&&Q._isFullModelReplaceEdit(R,Y[0])?R.executeEdits("formatEditsCommand",Y.map(V=>v.h.replace(h.e.lift(V.range),V.text))):R.executeEdits("formatEditsCommand",Y.map(V=>v.h.replaceMove(h.e.lift(V.range),V.text))),j&&R.pushUndoStop()}}},178:(vt,Ke,m)=>{m.r(Ke),m.d(Ke,{CancellationTokenSource:()=>Ql,Emitter:()=>kh,KeyCode:()=>Nl,KeyMod:()=>Cu,MarkerSeverity:()=>Oh,MarkerTag:()=>Ph,Position:()=>qv,Range:()=>pg,Selection:()=>eb,SelectionDirection:()=>Rh,Token:()=>Vd,Uri:()=>_g,editor:()=>tb,languages:()=>Wd});var v=m(6367),h=m(152),Q=m(2787),k=m(6950),R=m(4672),se=m(4220),j=m(8451),Y=m(3210),V=m(5283),x=(()=>{return(E=x||(x={}))[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled",x;var E})(),w=(()=>{return(E=w||(w={}))[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet",w;var E})(),D=(()=>{return(E=D||(D={}))[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet",D;var E})(),F=(()=>{return(E=F||(F={}))[E.Deprecated=1]="Deprecated",F;var E})(),f=(()=>{return(E=f||(f={}))[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",f;var E})(),T=(()=>{return(E=T||(T={}))[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW",T;var E})(),z=(()=>{return(E=z||(z={}))[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo",z;var E})(),I=(()=>{return(E=I||(I={}))[E.LF=1]="LF",E[E.CRLF=2]="CRLF",I;var E})(),H=(()=>{return(E=H||(H={}))[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write",H;var E})(),K=(()=>{return(E=K||(K={}))[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full",K;var E})(),N=(()=>{return(E=N||(N={}))[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.bracketPairColorization=12]="bracketPairColorization",E[E.guides=13]="guides",E[E.codeLens=14]="codeLens",E[E.codeLensFontFamily=15]="codeLensFontFamily",E[E.codeLensFontSize=16]="codeLensFontSize",E[E.colorDecorators=17]="colorDecorators",E[E.columnSelection=18]="columnSelection",E[E.comments=19]="comments",E[E.contextmenu=20]="contextmenu",E[E.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",E[E.cursorBlinking=22]="cursorBlinking",E[E.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",E[E.cursorStyle=24]="cursorStyle",E[E.cursorSurroundingLines=25]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",E[E.cursorWidth=27]="cursorWidth",E[E.disableLayerHinting=28]="disableLayerHinting",E[E.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",E[E.domReadOnly=30]="domReadOnly",E[E.dragAndDrop=31]="dragAndDrop",E[E.emptySelectionClipboard=32]="emptySelectionClipboard",E[E.extraEditorClassName=33]="extraEditorClassName",E[E.fastScrollSensitivity=34]="fastScrollSensitivity",E[E.find=35]="find",E[E.fixedOverflowWidgets=36]="fixedOverflowWidgets",E[E.folding=37]="folding",E[E.foldingStrategy=38]="foldingStrategy",E[E.foldingHighlight=39]="foldingHighlight",E[E.foldingImportsByDefault=40]="foldingImportsByDefault",E[E.foldingMaximumRegions=41]="foldingMaximumRegions",E[E.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=43]="fontFamily",E[E.fontInfo=44]="fontInfo",E[E.fontLigatures=45]="fontLigatures",E[E.fontSize=46]="fontSize",E[E.fontWeight=47]="fontWeight",E[E.formatOnPaste=48]="formatOnPaste",E[E.formatOnType=49]="formatOnType",E[E.glyphMargin=50]="glyphMargin",E[E.gotoLocation=51]="gotoLocation",E[E.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",E[E.hover=53]="hover",E[E.inDiffEditor=54]="inDiffEditor",E[E.inlineSuggest=55]="inlineSuggest",E[E.letterSpacing=56]="letterSpacing",E[E.lightbulb=57]="lightbulb",E[E.lineDecorationsWidth=58]="lineDecorationsWidth",E[E.lineHeight=59]="lineHeight",E[E.lineNumbers=60]="lineNumbers",E[E.lineNumbersMinChars=61]="lineNumbersMinChars",E[E.linkedEditing=62]="linkedEditing",E[E.links=63]="links",E[E.matchBrackets=64]="matchBrackets",E[E.minimap=65]="minimap",E[E.mouseStyle=66]="mouseStyle",E[E.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=68]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",E[E.multiCursorModifier=70]="multiCursorModifier",E[E.multiCursorPaste=71]="multiCursorPaste",E[E.occurrencesHighlight=72]="occurrencesHighlight",E[E.overviewRulerBorder=73]="overviewRulerBorder",E[E.overviewRulerLanes=74]="overviewRulerLanes",E[E.padding=75]="padding",E[E.parameterHints=76]="parameterHints",E[E.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",E[E.quickSuggestions=79]="quickSuggestions",E[E.quickSuggestionsDelay=80]="quickSuggestionsDelay",E[E.readOnly=81]="readOnly",E[E.renameOnType=82]="renameOnType",E[E.renderControlCharacters=83]="renderControlCharacters",E[E.renderFinalNewline=84]="renderFinalNewline",E[E.renderLineHighlight=85]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=87]="renderValidationDecorations",E[E.renderWhitespace=88]="renderWhitespace",E[E.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",E[E.roundedSelection=90]="roundedSelection",E[E.rulers=91]="rulers",E[E.scrollbar=92]="scrollbar",E[E.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=94]="scrollBeyondLastLine",E[E.scrollPredominantAxis=95]="scrollPredominantAxis",E[E.selectionClipboard=96]="selectionClipboard",E[E.selectionHighlight=97]="selectionHighlight",E[E.selectOnLineNumbers=98]="selectOnLineNumbers",E[E.showFoldingControls=99]="showFoldingControls",E[E.showUnused=100]="showUnused",E[E.snippetSuggestions=101]="snippetSuggestions",E[E.smartSelect=102]="smartSelect",E[E.smoothScrolling=103]="smoothScrolling",E[E.stickyTabStops=104]="stickyTabStops",E[E.stopRenderingLineAfter=105]="stopRenderingLineAfter",E[E.suggest=106]="suggest",E[E.suggestFontSize=107]="suggestFontSize",E[E.suggestLineHeight=108]="suggestLineHeight",E[E.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",E[E.suggestSelection=110]="suggestSelection",E[E.tabCompletion=111]="tabCompletion",E[E.tabIndex=112]="tabIndex",E[E.unicodeHighlighting=113]="unicodeHighlighting",E[E.unusualLineTerminators=114]="unusualLineTerminators",E[E.useShadowDOM=115]="useShadowDOM",E[E.useTabStops=116]="useTabStops",E[E.wordSeparators=117]="wordSeparators",E[E.wordWrap=118]="wordWrap",E[E.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=121]="wordWrapColumn",E[E.wordWrapOverride1=122]="wordWrapOverride1",E[E.wordWrapOverride2=123]="wordWrapOverride2",E[E.wrappingIndent=124]="wrappingIndent",E[E.wrappingStrategy=125]="wrappingStrategy",E[E.showDeprecated=126]="showDeprecated",E[E.inlayHints=127]="inlayHints",E[E.editorClassName=128]="editorClassName",E[E.pixelRatio=129]="pixelRatio",E[E.tabFocusMode=130]="tabFocusMode",E[E.layoutInfo=131]="layoutInfo",E[E.wrappingInfo=132]="wrappingInfo",N;var E})(),M=(()=>{return(E=M||(M={}))[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF",M;var E})(),P=(()=>{return(E=P||(P={}))[E.LF=0]="LF",E[E.CRLF=1]="CRLF",P;var E})(),W=(()=>{return(E=W||(W={}))[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent",W;var E})(),J=(()=>{return(E=J||(J={}))[E.Both=0]="Both",E[E.Right=1]="Right",E[E.Left=2]="Left",E[E.None=3]="None",J;var E})(),he=(()=>{return(E=he||(he={}))[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter",he;var E})(),ye=(()=>{return(E=ye||(ye={}))[E.Automatic=0]="Automatic",E[E.Explicit=1]="Explicit",ye;var E})(),fe=(()=>{return(E=fe||(fe={}))[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.Digit0=21]="Digit0",E[E.Digit1=22]="Digit1",E[E.Digit2=23]="Digit2",E[E.Digit3=24]="Digit3",E[E.Digit4=25]="Digit4",E[E.Digit5=26]="Digit5",E[E.Digit6=27]="Digit6",E[E.Digit7=28]="Digit7",E[E.Digit8=29]="Digit8",E[E.Digit9=30]="Digit9",E[E.KeyA=31]="KeyA",E[E.KeyB=32]="KeyB",E[E.KeyC=33]="KeyC",E[E.KeyD=34]="KeyD",E[E.KeyE=35]="KeyE",E[E.KeyF=36]="KeyF",E[E.KeyG=37]="KeyG",E[E.KeyH=38]="KeyH",E[E.KeyI=39]="KeyI",E[E.KeyJ=40]="KeyJ",E[E.KeyK=41]="KeyK",E[E.KeyL=42]="KeyL",E[E.KeyM=43]="KeyM",E[E.KeyN=44]="KeyN",E[E.KeyO=45]="KeyO",E[E.KeyP=46]="KeyP",E[E.KeyQ=47]="KeyQ",E[E.KeyR=48]="KeyR",E[E.KeyS=49]="KeyS",E[E.KeyT=50]="KeyT",E[E.KeyU=51]="KeyU",E[E.KeyV=52]="KeyV",E[E.KeyW=53]="KeyW",E[E.KeyX=54]="KeyX",E[E.KeyY=55]="KeyY",E[E.KeyZ=56]="KeyZ",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.Semicolon=80]="Semicolon",E[E.Equal=81]="Equal",E[E.Comma=82]="Comma",E[E.Minus=83]="Minus",E[E.Period=84]="Period",E[E.Slash=85]="Slash",E[E.Backquote=86]="Backquote",E[E.BracketLeft=87]="BracketLeft",E[E.Backslash=88]="Backslash",E[E.BracketRight=89]="BracketRight",E[E.Quote=90]="Quote",E[E.OEM_8=91]="OEM_8",E[E.IntlBackslash=92]="IntlBackslash",E[E.Numpad0=93]="Numpad0",E[E.Numpad1=94]="Numpad1",E[E.Numpad2=95]="Numpad2",E[E.Numpad3=96]="Numpad3",E[E.Numpad4=97]="Numpad4",E[E.Numpad5=98]="Numpad5",E[E.Numpad6=99]="Numpad6",E[E.Numpad7=100]="Numpad7",E[E.Numpad8=101]="Numpad8",E[E.Numpad9=102]="Numpad9",E[E.NumpadMultiply=103]="NumpadMultiply",E[E.NumpadAdd=104]="NumpadAdd",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NumpadSubtract=106]="NumpadSubtract",E[E.NumpadDecimal=107]="NumpadDecimal",E[E.NumpadDivide=108]="NumpadDivide",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.AudioVolumeMute=112]="AudioVolumeMute",E[E.AudioVolumeUp=113]="AudioVolumeUp",E[E.AudioVolumeDown=114]="AudioVolumeDown",E[E.BrowserSearch=115]="BrowserSearch",E[E.BrowserHome=116]="BrowserHome",E[E.BrowserBack=117]="BrowserBack",E[E.BrowserForward=118]="BrowserForward",E[E.MediaTrackNext=119]="MediaTrackNext",E[E.MediaTrackPrevious=120]="MediaTrackPrevious",E[E.MediaStop=121]="MediaStop",E[E.MediaPlayPause=122]="MediaPlayPause",E[E.LaunchMediaPlayer=123]="LaunchMediaPlayer",E[E.LaunchMail=124]="LaunchMail",E[E.LaunchApp2=125]="LaunchApp2",E[E.MAX_VALUE=126]="MAX_VALUE",fe;var E})(),Se=(()=>{return(E=Se||(Se={}))[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error",Se;var E})(),Ie=(()=>{return(E=Ie||(Ie={}))[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated",Ie;var E})(),_e=(()=>{return(E=_e||(_e={}))[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter",_e;var E})(),$=(()=>{return(E=$||($={}))[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",$;var E})(),X=(()=>{return(E=X||(X={}))[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER",X;var E})(),pe=(()=>{return(E=pe||(pe={}))[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full",pe;var E})(),re=(()=>{return(E=re||(re={}))[E.Left=0]="Left",E[E.Right=1]="Right",E[E.None=2]="None",re;var E})(),ne=(()=>{return(E=ne||(ne={}))[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom",ne;var E})(),ce=(()=>{return(E=ce||(ce={}))[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks",ce;var E})(),ue=(()=>{return(E=ue||(ue={}))[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate",ue;var E})(),we=(()=>{return(E=we||(we={}))[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible",we;var E})(),He=(()=>{return(E=He||(He={}))[E.LTR=0]="LTR",E[E.RTL=1]="RTL",He;var E})(),lt=(()=>{return(E=lt||(lt={}))[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange",lt;var E})(),ut=(()=>{return(E=ut||(ut={}))[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter",ut;var E})(),Ve=(()=>{return(E=Ve||(Ve={}))[E.Deprecated=1]="Deprecated",Ve;var E})(),ct=(()=>{return(E=ct||(ct={}))[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid",ct;var E})(),Nt=(()=>{return(E=Nt||(Nt={}))[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin",Nt;var E})(),un=(()=>{return(E=un||(un={}))[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",un;var E})(),Jt=(()=>{return(E=Jt||(Jt={}))[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent",Jt;var E})();let St=(()=>{class E{static chord(g,S){return(0,k.gx)(g,S)}}return E.CtrlCmd=2048,E.Shift=1024,E.Alt=512,E.WinCtrl=256,E})();function en(){return{editor:void 0,languages:void 0,CancellationTokenSource:h.A,Emitter:Q.Q5,KeyCode:fe,KeyMod:St,Position:se.L,Range:j.e,Selection:Y.Y,SelectionDirection:He,MarkerSeverity:Se,MarkerTag:Ie,Uri:R.o,Token:V.WU}}m(4827);var Xt=m(4705),ze=m(3126),At=m(7221),Kt=m(3817),nn=m(5462),Mn=m(2651),Nn=m(2213),yt=m(7372),Ht=m(5052),jt=m(7675),_n=m(8648),In=m(3072),it=m(2425),$t=m(3663),bt=m(8972),Zt=m(4435);let vn=!1;function Wn(E){!bt.$L||(vn||(vn=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(E.message))}class pt{constructor(l,g,S,Z){this.vsWorker=l,this.req=g,this.method=S,this.args=Z,this.type=0}}class ei{constructor(l,g,S,Z){this.vsWorker=l,this.seq=g,this.res=S,this.err=Z,this.type=1}}class dt{constructor(l,g,S,Z){this.vsWorker=l,this.req=g,this.eventName=S,this.arg=Z,this.type=2}}class ke{constructor(l,g,S){this.vsWorker=l,this.req=g,this.event=S,this.type=3}}class ft{constructor(l,g){this.vsWorker=l,this.req=g,this.type=4}}class Me{constructor(l){this._workerId=-1,this._handler=l,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(l){this._workerId=l}sendMessage(l,g){const S=String(++this._lastSentReq);return new Promise((Z,ae)=>{this._pendingReplies[S]={resolve:Z,reject:ae},this._send(new pt(this._workerId,S,l,g))})}listen(l,g){let S=null;const Z=new Q.Q5({onFirstListenerAdd:()=>{S=String(++this._lastSentReq),this._pendingEmitters.set(S,Z),this._send(new dt(this._workerId,S,l,g))},onLastListenerRemove:()=>{this._pendingEmitters.delete(S),this._send(new ft(this._workerId,S)),S=null}});return Z.event}handleMessage(l){!l||!l.vsWorker||-1!==this._workerId&&l.vsWorker!==this._workerId||this._handleMessage(l)}_handleMessage(l){switch(l.type){case 1:return this._handleReplyMessage(l);case 0:return this._handleRequestMessage(l);case 2:return this._handleSubscribeEventMessage(l);case 3:return this._handleEventMessage(l);case 4:return this._handleUnsubscribeEventMessage(l)}}_handleReplyMessage(l){if(!this._pendingReplies[l.seq])return void console.warn("Got reply to unknown seq");let g=this._pendingReplies[l.seq];if(delete this._pendingReplies[l.seq],l.err){let S=l.err;return l.err.$isError&&(S=new Error,S.name=l.err.name,S.message=l.err.message,S.stack=l.err.stack),void g.reject(S)}g.resolve(l.res)}_handleRequestMessage(l){let g=l.req;this._handler.handleMessage(l.method,l.args).then(Z=>{this._send(new ei(this._workerId,g,Z,void 0))},Z=>{Z.detail instanceof Error&&(Z.detail=(0,$t.ri)(Z.detail)),this._send(new ei(this._workerId,g,void 0,(0,$t.ri)(Z)))})}_handleSubscribeEventMessage(l){const g=l.req,S=this._handler.handleEvent(l.eventName,l.arg)(Z=>{this._send(new ke(this._workerId,g,Z))});this._pendingEvents.set(g,S)}_handleEventMessage(l){this._pendingEmitters.has(l.req)?this._pendingEmitters.get(l.req).fire(l.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(l){this._pendingEvents.has(l.req)?(this._pendingEvents.get(l.req).dispose(),this._pendingEvents.delete(l.req)):console.warn("Got unsubscribe for unknown req")}_send(l){let g=[];if(0===l.type)for(let S=0;S<l.args.length;S++)l.args[S]instanceof ArrayBuffer&&g.push(l.args[S]);else 1===l.type&&l.res instanceof ArrayBuffer&&g.push(l.res);this._handler.sendMessage(l,g)}}class ot extends it.JT{constructor(l,g,S){super();let Z=null;this._worker=this._register(l.create("vs/base/common/worker/simpleWorker",Lt=>{this._protocol.handleMessage(Lt)},Lt=>{Z&&Z(Lt)})),this._protocol=new Me({sendMessage:(Lt,Bt)=>{this._worker.postMessage(Lt,Bt)},handleMessage:(Lt,Bt)=>{if("function"!=typeof S[Lt])return Promise.reject(new Error("Missing method "+Lt+" on main thread host."));try{return Promise.resolve(S[Lt].apply(S,Bt))}catch(gn){return Promise.reject(gn)}},handleEvent:(Lt,Bt)=>{if(Tn(Lt)){const gn=S[Lt].call(S,Bt);if("function"!=typeof gn)throw new Error(`Missing dynamic event ${Lt} on main thread host.`);return gn}if(on(Lt)){const gn=S[Lt];if("function"!=typeof gn)throw new Error(`Missing event ${Lt} on main thread host.`);return gn}throw new Error(`Malformed event name ${Lt}`)}}),this._protocol.setWorkerId(this._worker.getId());let ae=null;void 0!==bt.li.require&&"function"==typeof bt.li.require.getConfig?ae=bt.li.require.getConfig():void 0!==bt.li.requirejs&&(ae=bt.li.requirejs.s.contexts._.config);const Ce=Zt.$E(S);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(ae)),g,Ce]);const Ne=(Lt,Bt)=>this._request(Lt,Bt),Je=(Lt,Bt)=>this._protocol.listen(Lt,Bt);this._lazyProxy=new Promise((Lt,Bt)=>{Z=Bt,this._onModuleLoaded.then(gn=>{Lt(function Mi(E,l,g){const S=Ce=>function(){const Ne=Array.prototype.slice.call(arguments,0);return l(Ce,Ne)},Z=Ce=>function(Ne){return g(Ce,Ne)};let ae={};for(const Ce of E)ae[Ce]=Tn(Ce)?Z(Ce):on(Ce)?g(Ce,void 0):S(Ce);return ae}(gn,Ne,Je))},gn=>{Bt(gn),this._onError("Worker failed to load "+g,gn)})})}getProxyObject(){return this._lazyProxy}_request(l,g){return new Promise((S,Z)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(l,g).then(S,Z)},Z)})}_onError(l,g){console.error(l),console.info(g)}}function on(E){return"o"===E[0]&&"n"===E[1]&&Xt.df(E.charCodeAt(2))}function Tn(E){return/^onDynamic/.test(E)&&Xt.df(E.charCodeAt(9))}var tn;const bn=null===(tn=window.trustedTypes)||void 0===tn?void 0:tn.createPolicy("defaultWorkerFactory",{createScriptURL:E=>E});class Dn{constructor(l,g,S,Z,ae){this.id=g;const Ce=function mt(E){if(bt.li.MonacoEnvironment){if("function"==typeof bt.li.MonacoEnvironment.getWorker)return bt.li.MonacoEnvironment.getWorker("workerMain.js",E);if("function"==typeof bt.li.MonacoEnvironment.getWorkerUrl){const l=bt.li.MonacoEnvironment.getWorkerUrl("workerMain.js",E);return new Worker(bn?bn.createScriptURL(l):l,{name:E})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(S);this.worker=function Xe(E){return"function"==typeof E.then}(Ce)?Ce:Promise.resolve(Ce),this.postMessage(l,[]),this.worker.then(Ne=>{Ne.onmessage=function(Je){Z(Je.data)},Ne.onmessageerror=ae,"function"==typeof Ne.addEventListener&&Ne.addEventListener("error",ae)})}getId(){return this.id}postMessage(l,g){this.worker&&this.worker.then(S=>S.postMessage(l,g))}dispose(){this.worker&&this.worker.then(l=>l.terminate()),this.worker=null}}let An=(()=>{class E{constructor(g){this._label=g,this._webWorkerFailedBeforeError=!1}create(g,S,Z){let ae=++E.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Dn(g,ae,this._label||"anonymous"+ae,S,Ce=>{Wn(Ce),this._webWorkerFailedBeforeError=Ce,Z(Ce)})}}return E.LAST_WORKER_ID=0,E})();var Ye=m(4171);function Ae(E,l,g,S){return new Ye.Hs(E,l,g).ComputeDiff(S)}class ht{constructor(l){const g=[],S=[];for(let Z=0,ae=l.length;Z<ae;Z++)g[Z]=qn(l[Z],1),S[Z]=Qn(l[Z],1);this.lines=l,this._startColumns=g,this._endColumns=S}getElements(){const l=[];for(let g=0,S=this.lines.length;g<S;g++)l[g]=this.lines[g].substring(this._startColumns[g]-1,this._endColumns[g]-1);return l}getStrictElement(l){return this.lines[l]}getStartLineNumber(l){return l+1}getEndLineNumber(l){return l+1}createCharSequence(l,g,S){const Z=[],ae=[],Ce=[];let Ne=0;for(let Je=g;Je<=S;Je++){const Lt=this.lines[Je],gn=l?this._endColumns[Je]:Lt.length+1;for(let Un=l?this._startColumns[Je]:1;Un<gn;Un++)Z[Ne]=Lt.charCodeAt(Un-1),ae[Ne]=Je+1,Ce[Ne]=Un,Ne++}return new Mt(Z,ae,Ce)}}class Mt{constructor(l,g,S){this._charCodes=l,this._lineNumbers=g,this._columns=S}getElements(){return this._charCodes}getStartLineNumber(l){return this._lineNumbers[l]}getStartColumn(l){return this._columns[l]}getEndLineNumber(l){return this._lineNumbers[l]}getEndColumn(l){return this._columns[l]+1}}class Ge{constructor(l,g,S,Z,ae,Ce,Ne,Je){this.originalStartLineNumber=l,this.originalStartColumn=g,this.originalEndLineNumber=S,this.originalEndColumn=Z,this.modifiedStartLineNumber=ae,this.modifiedStartColumn=Ce,this.modifiedEndLineNumber=Ne,this.modifiedEndColumn=Je}static createFromDiffChange(l,g,S){let Z,ae,Ce,Ne,Je,Lt,Bt,gn;return 0===l.originalLength?(Z=0,ae=0,Ce=0,Ne=0):(Z=g.getStartLineNumber(l.originalStart),ae=g.getStartColumn(l.originalStart),Ce=g.getEndLineNumber(l.originalStart+l.originalLength-1),Ne=g.getEndColumn(l.originalStart+l.originalLength-1)),0===l.modifiedLength?(Je=0,Lt=0,Bt=0,gn=0):(Je=S.getStartLineNumber(l.modifiedStart),Lt=S.getStartColumn(l.modifiedStart),Bt=S.getEndLineNumber(l.modifiedStart+l.modifiedLength-1),gn=S.getEndColumn(l.modifiedStart+l.modifiedLength-1)),new Ge(Z,ae,Ce,Ne,Je,Lt,Bt,gn)}}class jn{constructor(l,g,S,Z,ae){this.originalStartLineNumber=l,this.originalEndLineNumber=g,this.modifiedStartLineNumber=S,this.modifiedEndLineNumber=Z,this.charChanges=ae}static createFromDiffResult(l,g,S,Z,ae,Ce,Ne){let Je,Lt,Bt,gn,Un;if(0===g.originalLength?(Je=S.getStartLineNumber(g.originalStart)-1,Lt=0):(Je=S.getStartLineNumber(g.originalStart),Lt=S.getEndLineNumber(g.originalStart+g.originalLength-1)),0===g.modifiedLength?(Bt=Z.getStartLineNumber(g.modifiedStart)-1,gn=0):(Bt=Z.getStartLineNumber(g.modifiedStart),gn=Z.getEndLineNumber(g.modifiedStart+g.modifiedLength-1)),Ce&&g.originalLength>0&&g.originalLength<20&&g.modifiedLength>0&&g.modifiedLength<20&&ae()){const di=S.createCharSequence(l,g.originalStart,g.originalStart+g.originalLength-1),Zi=Z.createCharSequence(l,g.modifiedStart,g.modifiedStart+g.modifiedLength-1);let bo=Ae(di,Zi,ae,!0).changes;Ne&&(bo=function ln(E){if(E.length<=1)return E;const l=[E[0]];let g=l[0];for(let S=1,Z=E.length;S<Z;S++){const ae=E[S];Math.min(ae.originalStart-(g.originalStart+g.originalLength),ae.modifiedStart-(g.modifiedStart+g.modifiedLength))<3?(g.originalLength=ae.originalStart+ae.originalLength-g.originalStart,g.modifiedLength=ae.modifiedStart+ae.modifiedLength-g.modifiedStart):(l.push(ae),g=ae)}return l}(bo)),Un=[];for(let os=0,ms=bo.length;os<ms;os++)Un.push(Ge.createFromDiffChange(bo[os],di,Zi))}return new jn(Je,Lt,Bt,gn,Un)}}class Jn{constructor(l,g,S){this.shouldComputeCharChanges=S.shouldComputeCharChanges,this.shouldPostProcessCharChanges=S.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=S.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=S.shouldMakePrettyDiff,this.originalLines=l,this.modifiedLines=g,this.original=new ht(l),this.modified=new ht(g),this.continueLineDiff=ii(S.maxComputationTime),this.continueCharDiff=ii(0===S.maxComputationTime?0:Math.min(S.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const l=Ae(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),g=l.changes,S=l.quitEarly;if(this.shouldIgnoreTrimWhitespace){const Ne=[];for(let Je=0,Lt=g.length;Je<Lt;Je++)Ne.push(jn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g[Je],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:S,changes:Ne}}const Z=[];let ae=0,Ce=0;for(let Ne=-1,Je=g.length;Ne<Je;Ne++){const Lt=Ne+1<Je?g[Ne+1]:null,Bt=Lt?Lt.originalStart:this.originalLines.length,gn=Lt?Lt.modifiedStart:this.modifiedLines.length;for(;ae<Bt&&Ce<gn;){const Un=this.originalLines[ae],di=this.modifiedLines[Ce];if(Un!==di){{let Zi=qn(Un,1),bo=qn(di,1);for(;Zi>1&&bo>1&&Un.charCodeAt(Zi-2)===di.charCodeAt(bo-2);)Zi--,bo--;(Zi>1||bo>1)&&this._pushTrimWhitespaceCharChange(Z,ae+1,1,Zi,Ce+1,1,bo)}{let Zi=Qn(Un,1),bo=Qn(di,1);const os=Un.length+1,ms=di.length+1;for(;Zi<os&&bo<ms&&Un.charCodeAt(Zi-1)===Un.charCodeAt(bo-1);)Zi++,bo++;(Zi<os||bo<ms)&&this._pushTrimWhitespaceCharChange(Z,ae+1,Zi,os,Ce+1,bo,ms)}}ae++,Ce++}Lt&&(Z.push(jn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Lt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),ae+=Lt.originalLength,Ce+=Lt.modifiedLength)}return{quitEarly:S,changes:Z}}_pushTrimWhitespaceCharChange(l,g,S,Z,ae,Ce,Ne){if(this._mergeTrimWhitespaceCharChange(l,g,S,Z,ae,Ce,Ne))return;let Je;this.shouldComputeCharChanges&&(Je=[new Ge(g,S,g,Z,ae,Ce,ae,Ne)]),l.push(new jn(g,g,ae,ae,Je))}_mergeTrimWhitespaceCharChange(l,g,S,Z,ae,Ce,Ne){const Je=l.length;if(0===Je)return!1;const Lt=l[Je-1];return 0!==Lt.originalEndLineNumber&&0!==Lt.modifiedEndLineNumber&&Lt.originalEndLineNumber+1===g&&Lt.modifiedEndLineNumber+1===ae&&(Lt.originalEndLineNumber=g,Lt.modifiedEndLineNumber=ae,this.shouldComputeCharChanges&&Lt.charChanges&&Lt.charChanges.push(new Ge(g,S,g,Z,ae,Ce,ae,Ne)),!0)}}function qn(E,l){const g=Xt.LC(E);return-1===g?l:g+1}function Qn(E,l){const g=Xt.ow(E);return-1===g?l:g+2}function ii(E){if(0===E)return()=>!0;const l=Date.now();return()=>Date.now()-l<E}var gi=m(5589),Ti=m(5519),yi=m(7686);class Ni{constructor(l,g,S){const Z=new Uint8Array(l*g);for(let ae=0,Ce=l*g;ae<Ce;ae++)Z[ae]=S;this._data=Z,this.rows=l,this.cols=g}get(l,g){return this._data[l*this.cols+g]}set(l,g,S){this._data[l*this.cols+g]=S}}class Ai{constructor(l){let g=0,S=0;for(let ae=0,Ce=l.length;ae<Ce;ae++){const[Ne,Je,Lt]=l[ae];Je>g&&(g=Je),Ne>S&&(S=Ne),Lt>S&&(S=Lt)}g++,S++;const Z=new Ni(S,g,0);for(let ae=0,Ce=l.length;ae<Ce;ae++){const[Ne,Je,Lt]=l[ae];Z.set(Ne,Je,Lt)}this._states=Z,this._maxCharCode=g}nextState(l,g){return g<0||g>=this._maxCharCode?0:this._states.get(l,g)}}let to=null,Pn=null;class vi{static _createLink(l,g,S,Z,ae){let Ce=ae-1;do{const Ne=g.charCodeAt(Ce);if(2!==l.get(Ne))break;Ce--}while(Ce>Z);if(Z>0){const Ne=g.charCodeAt(Z-1),Je=g.charCodeAt(Ce);(40===Ne&&41===Je||91===Ne&&93===Je||123===Ne&&125===Je)&&Ce--}return{range:{startLineNumber:S,startColumn:Z+1,endLineNumber:S,endColumn:Ce+2},url:g.substring(Z,Ce+1)}}static computeLinks(l,g=function Kn(){return null===to&&(to=new Ai([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),to}()){const S=function Ei(){if(null===Pn){Pn=new yi.N(0);const E=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let g=0;g<E.length;g++)Pn.set(E.charCodeAt(g),1);const l=".,;";for(let g=0;g<l.length;g++)Pn.set(l.charCodeAt(g),2)}return Pn}(),Z=[];for(let ae=1,Ce=l.getLineCount();ae<=Ce;ae++){const Ne=l.getLineContent(ae),Je=Ne.length;let Lt=0,Bt=0,gn=0,Un=1,di=!1,Zi=!1,bo=!1,os=!1;for(;Lt<Je;){let ms=!1;const ps=Ne.charCodeAt(Lt);if(13===Un){let Ko;switch(ps){case 40:di=!0,Ko=0;break;case 41:Ko=di?0:1;break;case 91:bo=!0,Zi=!0,Ko=0;break;case 93:bo=!1,Ko=Zi?0:1;break;case 123:os=!0,Ko=0;break;case 125:Ko=os?0:1;break;case 39:Ko=34===gn||96===gn?0:1;break;case 34:Ko=39===gn||96===gn?0:1;break;case 96:Ko=39===gn||34===gn?0:1;break;case 42:Ko=42===gn?1:0;break;case 124:Ko=124===gn?1:0;break;case 32:Ko=bo?0:1;break;default:Ko=S.get(ps)}1===Ko&&(Z.push(vi._createLink(S,Ne,ae,Bt,Lt)),ms=!0)}else if(12===Un){let Ko;91===ps?(Zi=!0,Ko=0):Ko=S.get(ps),1===Ko?ms=!0:Un=13}else Un=g.nextState(Un,ps),0===Un&&(ms=!0);ms&&(Un=1,di=!1,Zi=!1,os=!1,Bt=Lt+1,gn=ps),Lt++}13===Un&&Z.push(vi._createLink(S,Ne,ae,Bt,Je))}return Z}}class Ci{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(l,g,S,Z,ae){if(l&&g){const Ce=this.doNavigateValueSet(g,ae);if(Ce)return{range:l,value:Ce}}if(S&&Z){const Ce=this.doNavigateValueSet(Z,ae);if(Ce)return{range:S,value:Ce}}return null}doNavigateValueSet(l,g){const S=this.numberReplace(l,g);return null!==S?S:this.textReplace(l,g)}numberReplace(l,g){const S=Math.pow(10,l.length-(l.lastIndexOf(".")+1));let Z=Number(l),ae=parseFloat(l);return isNaN(Z)||isNaN(ae)||Z!==ae?null:0!==Z||g?(Z=Math.floor(Z*S),Z+=g?S:-S,String(Z/S)):null}textReplace(l,g){return this.valueSetsReplace(this._defaultValueSet,l,g)}valueSetsReplace(l,g,S){let Z=null;for(let ae=0,Ce=l.length;null===Z&&ae<Ce;ae++)Z=this.valueSetReplace(l[ae],g,S);return Z}valueSetReplace(l,g,S){let Z=l.indexOf(g);return Z>=0?(Z+=S?1:-1,Z<0?Z=l.length-1:Z%=l.length,l[Z]):null}}Ci.INSTANCE=new Ci;var Ri=m(1724),co=m(5234),Pi=function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})};class vo extends class ui{constructor(l,g,S,Z){this._uri=l,this._lines=g,this._eol=S,this._versionId=Z,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(l){l.eol&&l.eol!==this._eol&&(this._eol=l.eol,this._lineStarts=null);const g=l.changes;for(const S of g)this._acceptDeleteRange(S.range),this._acceptInsertText(new se.L(S.range.startLineNumber,S.range.startColumn),S.text);this._versionId=l.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const l=this._eol.length,g=this._lines.length,S=new Uint32Array(g);for(let Z=0;Z<g;Z++)S[Z]=this._lines[Z].length+l;this._lineStarts=new gi.oQ(S)}}_setLineText(l,g){this._lines[l]=g,this._lineStarts&&this._lineStarts.setValue(l,this._lines[l].length+this._eol.length)}_acceptDeleteRange(l){if(l.startLineNumber!==l.endLineNumber)this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.endLineNumber-1].substring(l.endColumn-1)),this._lines.splice(l.startLineNumber,l.endLineNumber-l.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(l.startLineNumber,l.endLineNumber-l.startLineNumber);else{if(l.startColumn===l.endColumn)return;this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.startLineNumber-1].substring(l.endColumn-1))}}_acceptInsertText(l,g){if(0===g.length)return;const S=(0,Xt.uq)(g);if(1===S.length)return void this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+S[0]+this._lines[l.lineNumber-1].substring(l.column-1));S[S.length-1]+=this._lines[l.lineNumber-1].substring(l.column-1),this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+S[0]);const Z=new Uint32Array(S.length-1);for(let ae=1;ae<S.length;ae++)this._lines.splice(l.lineNumber+ae-1,0,S[ae]),Z[ae-1]=S[ae].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(l.lineNumber,Z)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,g){const S=(0,Ti.t2)(l.column,(0,Ti.eq)(g),this._lines[l.lineNumber-1],0);return S?new j.e(l.lineNumber,S.startColumn,l.lineNumber,S.endColumn):null}words(l){const g=this._lines,S=this._wordenize.bind(this);let Z=0,ae="",Ce=0,Ne=[];return{*[Symbol.iterator](){for(;;)if(Ce<Ne.length){const Je=ae.substring(Ne[Ce].start,Ne[Ce].end);Ce+=1,yield Je}else{if(!(Z<g.length))break;ae=g[Z],Ne=S(ae,l),Ce=0,Z+=1}}}}getLineWords(l,g){const S=this._lines[l-1],Z=this._wordenize(S,g),ae=[];for(const Ce of Z)ae.push({word:S.substring(Ce.start,Ce.end),startColumn:Ce.start+1,endColumn:Ce.end+1});return ae}_wordenize(l,g){const S=[];let Z;for(g.lastIndex=0;(Z=g.exec(l))&&0!==Z[0].length;)S.push({start:Z.index,end:Z.index+Z[0].length});return S}getValueInRange(l){if((l=this._validateRange(l)).startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const g=this._eol,S=l.startLineNumber-1,Z=l.endLineNumber-1,ae=[];ae.push(this._lines[S].substring(l.startColumn-1));for(let Ce=S+1;Ce<Z;Ce++)ae.push(this._lines[Ce]);return ae.push(this._lines[Z].substring(0,l.endColumn-1)),ae.join(g)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const g=this._lineStarts.getIndexOf(l);return{lineNumber:1+g.index,column:1+Math.min(g.remainder,this._lines[g.index].length)}}_validateRange(l){const g=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),S=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return g.lineNumber!==l.startLineNumber||g.column!==l.startColumn||S.lineNumber!==l.endLineNumber||S.column!==l.endColumn?{startLineNumber:g.lineNumber,startColumn:g.column,endLineNumber:S.lineNumber,endColumn:S.column}:l}_validatePosition(l){if(!se.L.isIPosition(l))throw new Error("bad position");let{lineNumber:g,column:S}=l,Z=!1;if(g<1)g=1,S=1,Z=!0;else if(g>this._lines.length)g=this._lines.length,S=this._lines[g-1].length+1,Z=!0;else{const ae=this._lines[g-1].length+1;S<1?(S=1,Z=!0):S>ae&&(S=ae,Z=!0)}return Z?{lineNumber:g,column:S}:l}}let Li=(()=>{class E{constructor(g,S){this._host=g,this._models=Object.create(null),this._foreignModuleFactory=S,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(g){return this._models[g]}_getModels(){const g=[];return Object.keys(this._models).forEach(S=>g.push(this._models[S])),g}acceptNewModel(g){this._models[g.url]=new vo(R.o.parse(g.url),g.lines,g.EOL,g.versionId)}acceptModelChanged(g,S){this._models[g]&&this._models[g].onEvents(S)}acceptRemovedModel(g){!this._models[g]||delete this._models[g]}computeUnicodeHighlights(g,S,Z){return Pi(this,void 0,void 0,function*(){const ae=this._getModel(g);return ae?co.a.computeUnicodeHighlights(ae,S,Z):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(g,S,Z,ae){return Pi(this,void 0,void 0,function*(){const Ce=this._getModel(g),Ne=this._getModel(S);if(!Ce||!Ne)return null;const Je=Ce.getLinesContent(),Lt=Ne.getLinesContent(),gn=new Jn(Je,Lt,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:Z,shouldMakePrettyDiff:!0,maxComputationTime:ae}).computeDiff(),Un=!(gn.changes.length>0)&&this._modelsAreIdentical(Ce,Ne);return{quitEarly:gn.quitEarly,identical:Un,changes:gn.changes}})}_modelsAreIdentical(g,S){const Z=g.getLineCount();if(Z!==S.getLineCount())return!1;for(let Ce=1;Ce<=Z;Ce++)if(g.getLineContent(Ce)!==S.getLineContent(Ce))return!1;return!0}computeMoreMinimalEdits(g,S){return Pi(this,void 0,void 0,function*(){const Z=this._getModel(g);if(!Z)return S;const ae=[];let Ce;S=S.slice(0).sort((Ne,Je)=>Ne.range&&Je.range?j.e.compareRangesUsingStarts(Ne.range,Je.range):(Ne.range?0:1)-(Je.range?0:1));for(let{range:Ne,text:Je,eol:Lt}of S){if("number"==typeof Lt&&(Ce=Lt),j.e.isEmpty(Ne)&&!Je)continue;const Bt=Z.getValueInRange(Ne);if(Je=Je.replace(/\r\n|\n|\r/g,Z.eol),Bt===Je)continue;if(Math.max(Je.length,Bt.length)>E._diffLimit){ae.push({range:Ne,text:Je});continue}const gn=(0,Ye.a$)(Bt,Je,!1),Un=Z.offsetAt(j.e.lift(Ne).getStartPosition());for(const di of gn){const Zi=Z.positionAt(Un+di.originalStart),bo=Z.positionAt(Un+di.originalStart+di.originalLength),os={text:Je.substr(di.modifiedStart,di.modifiedLength),range:{startLineNumber:Zi.lineNumber,startColumn:Zi.column,endLineNumber:bo.lineNumber,endColumn:bo.column}};Z.getValueInRange(os.range)!==os.text&&ae.push(os)}}return"number"==typeof Ce&&ae.push({eol:Ce,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),ae})}computeLinks(g){return Pi(this,void 0,void 0,function*(){const S=this._getModel(g);return S?function Wi(E){return E&&"function"==typeof E.getLineCount&&"function"==typeof E.getLineContent?vi.computeLinks(E):[]}(S):null})}textualSuggest(g,S,Z,ae){return Pi(this,void 0,void 0,function*(){const Ce=new Ri.G(!0),Ne=new RegExp(Z,ae),Je=new Set;e:for(let Lt of g){const Bt=this._getModel(Lt);if(Bt)for(let gn of Bt.words(Ne))if(gn!==S&&isNaN(Number(gn))&&(Je.add(gn),Je.size>E._suggestionsLimit))break e}return{words:Array.from(Je),duration:Ce.elapsed()}})}computeWordRanges(g,S,Z,ae){return Pi(this,void 0,void 0,function*(){const Ce=this._getModel(g);if(!Ce)return Object.create(null);const Ne=new RegExp(Z,ae),Je=Object.create(null);for(let Lt=S.startLineNumber;Lt<S.endLineNumber;Lt++){const Bt=Ce.getLineWords(Lt,Ne);for(const gn of Bt){if(!isNaN(Number(gn.word)))continue;let Un=Je[gn.word];Un||(Un=[],Je[gn.word]=Un),Un.push({startLineNumber:Lt,startColumn:gn.startColumn,endLineNumber:Lt,endColumn:gn.endColumn})}}return Je})}navigateValueSet(g,S,Z,ae,Ce){return Pi(this,void 0,void 0,function*(){const Ne=this._getModel(g);if(!Ne)return null;const Je=new RegExp(ae,Ce);S.startColumn===S.endColumn&&(S={startLineNumber:S.startLineNumber,startColumn:S.startColumn,endLineNumber:S.endLineNumber,endColumn:S.endColumn+1});const Lt=Ne.getValueInRange(S),Bt=Ne.getWordAtPosition({lineNumber:S.startLineNumber,column:S.startColumn},Je);if(!Bt)return null;const gn=Ne.getValueInRange(Bt);return Ci.INSTANCE.navigateValueSet(S,Lt,Bt,gn,Z)})}loadForeignModule(g,S,Z){const Ne={host:Zt.IU(Z,(Je,Lt)=>this._host.fhr(Je,Lt)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Ne,S),Promise.resolve(Zt.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(g,S){if(!this._foreignModule||"function"!=typeof this._foreignModule[g])return Promise.reject(new Error("Missing requestHandler or method: "+g));try{return Promise.resolve(this._foreignModule[g].apply(this._foreignModule,S))}catch(Z){return Promise.reject(Z)}}}return E._diffLimit=1e5,E._suggestionsLimit=1e4,E})();"function"==typeof importScripts&&(bt.li.monaco=en());var Mo=m(3810),Yi=m(8337),Bo=m(2241),wi=function(E,l){return function(g,S){l(g,S,E)}},$o=function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})};function xi(E,l){const g=E.getModel(l);return!(!g||g.isTooLargeForSyncing())}let Ii=class extends it.JT{constructor(l,g,S,Z){super(),this._modelService=l,this._workerManager=this._register(new Zo(this._modelService,Z)),this._logService=S,this._register(V.pM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(ae,Ce)=>xi(this._modelService,ae.uri)?this._workerManager.withWorker().then(Ne=>Ne.computeLinks(ae.uri)).then(Ne=>Ne&&{links:Ne}):Promise.resolve({links:[]})})),this._register(V.KZ.register("*",new xo(this._workerManager,g,this._modelService,Z)))}dispose(){super.dispose()}canComputeUnicodeHighlights(l){return xi(this._modelService,l)}computedUnicodeHighlights(l,g,S){return this._workerManager.withWorker().then(Z=>Z.computedUnicodeHighlights(l,g,S))}computeDiff(l,g,S,Z){return this._workerManager.withWorker().then(ae=>ae.computeDiff(l,g,S,Z))}computeMoreMinimalEdits(l,g){if((0,Yi.Of)(g)){if(!xi(this._modelService,l))return Promise.resolve(g);const S=Ri.G.create(!0),Z=this._workerManager.withWorker().then(ae=>ae.computeMoreMinimalEdits(l,g));return Z.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",l.toString(!0),S.elapsed())),Promise.race([Z,(0,In.Vs)(1e3).then(()=>g)])}return Promise.resolve(void 0)}canNavigateValueSet(l){return xi(this._modelService,l)}navigateValueSet(l,g,S){return this._workerManager.withWorker().then(Z=>Z.navigateValueSet(l,g,S))}canComputeWordRanges(l){return xi(this._modelService,l)}computeWordRanges(l,g){return this._workerManager.withWorker().then(S=>S.computeWordRanges(l,g))}};Ii=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([wi(0,_n.q),wi(1,Mo.V),wi(2,Bo.VZ),wi(3,yt.c_)],Ii);class xo{constructor(l,g,S,Z){this.languageConfigurationService=Z,this._debugDisplayName="wordbasedCompletions",this._workerManager=l,this._configurationService=g,this._modelService=S}provideCompletionItems(l,g){return $o(this,void 0,void 0,function*(){const S=this._configurationService.getValue(l.uri,g,"editor");if(!S.wordBasedSuggestions)return;const Z=[];if("currentDocument"===S.wordBasedSuggestionsMode)xi(this._modelService,l.uri)&&Z.push(l.uri);else for(const gn of this._modelService.getModels())!xi(this._modelService,gn.uri)||(gn===l?Z.unshift(gn.uri):("allDocuments"===S.wordBasedSuggestionsMode||gn.getLanguageId()===l.getLanguageId())&&Z.push(gn.uri));if(0===Z.length)return;const ae=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId()).getWordDefinition(),Ce=l.getWordAtPosition(g),Ne=Ce?new j.e(g.lineNumber,Ce.startColumn,g.lineNumber,Ce.endColumn):j.e.fromPositions(g),Je=Ne.setEndPosition(g.lineNumber,g.column),Bt=yield(yield this._workerManager.withWorker()).textualSuggest(Z,null==Ce?void 0:Ce.word,ae);return Bt?{duration:Bt.duration,suggestions:Bt.words.map(gn=>({kind:18,label:gn,insertText:gn,range:{insert:Je,replace:Ne}}))}:void 0})}}class Zo extends it.JT{constructor(l,g){super(),this.languageConfigurationService=g,this._modelService=l,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new In.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(Z=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Io(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Gn extends it.JT{constructor(l,g,S){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=l,this._modelService=g,!S){const Z=new In.zh;Z.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(Z)}}dispose(){for(let l in this._syncedModels)(0,it.B9)(this._syncedModels[l]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(l,g){for(const S of l){const Z=S.toString();this._syncedModels[Z]||this._beginModelSync(S,g),this._syncedModels[Z]&&(this._syncedModelsLastUsedTime[Z]=(new Date).getTime())}}_checkStopModelSync(){const l=(new Date).getTime(),g=[];for(let S in this._syncedModelsLastUsedTime)l-this._syncedModelsLastUsedTime[S]>6e4&&g.push(S);for(const S of g)this._stopModelSync(S)}_beginModelSync(l,g){const S=this._modelService.getModel(l);if(!S||!g&&S.isTooLargeForSyncing())return;const Z=l.toString();this._proxy.acceptNewModel({url:S.uri.toString(),lines:S.getLinesContent(),EOL:S.getEOL(),versionId:S.getVersionId()});const ae=new it.SL;ae.add(S.onDidChangeContent(Ce=>{this._proxy.acceptModelChanged(Z.toString(),Ce)})),ae.add(S.onWillDispose(()=>{this._stopModelSync(Z)})),ae.add((0,it.OF)(()=>{this._proxy.acceptRemovedModel(Z)})),this._syncedModels[Z]=ae}_stopModelSync(l){const g=this._syncedModels[l];delete this._syncedModels[l],delete this._syncedModelsLastUsedTime[l],(0,it.B9)(g)}}class ds{constructor(l){this._instance=l,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class oo{constructor(l){this._workerClient=l}fhr(l,g){return this._workerClient.fhr(l,g)}}class Io extends it.JT{constructor(l,g,S,Z){super(),this.languageConfigurationService=Z,this._disposed=!1,this._modelService=l,this._keepIdleModels=g,this._workerFactory=new An(S),this._worker=null,this._modelManager=null}fhr(l,g){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new ot(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new oo(this)))}catch(l){Wn(l),this._worker=new ds(new Li(new oo(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,l=>(Wn(l),this._worker=new ds(new Li(new oo(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(l){return this._modelManager||(this._modelManager=this._register(new Gn(l,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(l,g=!1){return $o(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,$t.F0)()):this._getProxy().then(S=>(this._getOrCreateModelManager(S).ensureSyncedResources(l,g),S))})}computedUnicodeHighlights(l,g,S){return this._withSyncedResources([l]).then(Z=>Z.computeUnicodeHighlights(l.toString(),g,S))}computeDiff(l,g,S,Z){return this._withSyncedResources([l,g],!0).then(ae=>ae.computeDiff(l.toString(),g.toString(),S,Z))}computeMoreMinimalEdits(l,g){return this._withSyncedResources([l]).then(S=>S.computeMoreMinimalEdits(l.toString(),g))}computeLinks(l){return this._withSyncedResources([l]).then(g=>g.computeLinks(l.toString()))}textualSuggest(l,g,S){return $o(this,void 0,void 0,function*(){const Z=yield this._withSyncedResources(l),ae=S.source,Ce=(0,Xt.mr)(S);return Z.textualSuggest(l.map(Ne=>Ne.toString()),g,ae,Ce)})}computeWordRanges(l,g){return this._withSyncedResources([l]).then(S=>{const Z=this._modelService.getModel(l);if(!Z)return Promise.resolve(null);const ae=this.languageConfigurationService.getLanguageConfiguration(Z.getLanguageId()).getWordDefinition(),Ce=ae.source,Ne=(0,Xt.mr)(ae);return S.computeWordRanges(l.toString(),g,Ce,Ne)})}navigateValueSet(l,g,S){return this._withSyncedResources([l]).then(Z=>{const ae=this._modelService.getModel(l);if(!ae)return null;const Ce=this.languageConfigurationService.getLanguageConfiguration(ae.getLanguageId()).getWordDefinition(),Ne=Ce.source,Je=(0,Xt.mr)(Ce);return Z.navigateValueSet(l.toString(),g,S,Ne,Je)})}dispose(){super.dispose(),this._disposed=!0}}class Wo extends Io{constructor(l,g,S){super(l,S.keepIdleModels||!1,S.label,g),this._foreignModuleId=S.moduleId,this._foreignModuleCreateData=S.createData||null,this._foreignModuleHost=S.host||null,this._foreignProxy=null}fhr(l,g){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[l])return Promise.reject(new Error("Missing method "+l+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[l].apply(this._foreignModuleHost,g))}catch(S){return Promise.reject(S)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(l=>{const g=this._foreignModuleHost?Zt.$E(this._foreignModuleHost):[];return l.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,g).then(S=>{this._foreignModuleCreateData=null;const Z=(Ne,Je)=>l.fmr(Ne,Je),ae=(Ne,Je)=>function(){const Lt=Array.prototype.slice.call(arguments,0);return Je(Ne,Lt)},Ce={};for(const Ne of S)Ce[Ne]=ae(Ne,Z);return Ce})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(l){return this._withSyncedResources(l).then(g=>this.getProxy())}}var nr=m(8028),Is=m(6145),vs=m(5024);function dr(E){return!function Ks(E){return Array.isArray(E)}(E)}function wr(E){return"string"==typeof E}function $s(E){return!wr(E)}function Gs(E){return!E}function ks(E,l){return E.ignoreCase&&l?l.toLowerCase():l}function Ar(E){return E.replace(/[&<>'"_]/g,"-")}function qs(E,l){console.log(`${E.languageId}: ${l}`)}function Co(E,l){return new Error(`${E.languageId}: ${l}`)}function Bs(E,l,g,S,Z){let Ce=null;return l.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(Ne,Je,Lt,Bt,gn,Un,di,Zi,bo){return Gs(Lt)?Gs(Bt)?!Gs(gn)&&gn<S.length?ks(E,S[gn]):!Gs(di)&&E&&"string"==typeof E[di]?E[di]:(null===Ce&&(Ce=Z.split("."),Ce.unshift(Z)),!Gs(Un)&&Un<Ce.length?ks(E,Ce[Un]):""):ks(E,g):"$"})}function Qs(E,l){let g=l;for(;g&&g.length>0;){const S=E.tokenizer[g];if(S)return S;const Z=g.lastIndexOf(".");g=Z<0?null:g.substr(0,Z)}return null}class $e{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,g){return this._INSTANCE.create(l,g)}create(l,g){if(null!==l&&l.depth>=this._maxCacheDepth)return new c(l,g);let S=c.getStackElementId(l);S.length>0&&(S+="|"),S+=g;let Z=this._entries[S];return Z||(Z=new c(l,g),this._entries[S]=Z,Z)}}$e._INSTANCE=new $e(5);class c{constructor(l,g){this.parent=l,this.state=g,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let g="";for(;null!==l;)g.length>0&&(g+="|"),g+=l.state,l=l.parent;return g}static _equals(l,g){for(;null!==l&&null!==g;){if(l===g)return!0;if(l.state!==g.state)return!1;l=l.parent,g=g.parent}return null===l&&null===g}equals(l){return c._equals(this,l)}push(l){return $e.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return $e.create(this.parent,l)}}class C{constructor(l,g){this.languageId=l,this.state=g}equals(l){return this.languageId===l.languageId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new C(this.languageId,this.state)}}class O{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,g){return this._INSTANCE.create(l,g)}create(l,g){if(null!==g)return new ee(l,g);if(null!==l&&l.depth>=this._maxCacheDepth)return new ee(l,g);const S=c.getStackElementId(l);let Z=this._entries[S];return Z||(Z=new ee(l,null),this._entries[S]=Z,Z)}}O._INSTANCE=new O(5);class ee{constructor(l,g){this.stack=l,this.embeddedLanguageData=g}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:O.create(this.stack,this.embeddedLanguageData)}equals(l){return!!(l instanceof ee&&this.stack.equals(l.stack))&&(null===this.embeddedLanguageData&&null===l.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==l.embeddedLanguageData&&this.embeddedLanguageData.equals(l.embeddedLanguageData))}}class de{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(l){this._languageId=l}emit(l,g){this._lastTokenType===g&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=g,this._lastTokenLanguage=this._languageId,this._tokens.push(new V.WU(l,g,this._languageId)))}nestedLanguageTokenize(l,g,S,Z){const ae=S.languageId,Ce=S.state,Ne=V.RW.get(ae);if(!Ne)return this.enterLanguage(ae),this.emit(Z,""),Ce;const Je=Ne.tokenize(l,g,Ce);if(0!==Z)for(const Lt of Je.tokens)this._tokens.push(new V.WU(Lt.offset+Z,Lt.type,Lt.language));else this._tokens=this._tokens.concat(Je.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Je.endState}finalize(l){return new V.hG(this._tokens,l)}}class oe{constructor(l,g){this._languageService=l,this._theme=g,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(l){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(l)}emit(l,g){const S=this._theme.match(this._currentLanguageId,g);this._lastTokenMetadata!==S&&(this._lastTokenMetadata=S,this._tokens.push(l),this._tokens.push(S))}static _merge(l,g,S){const Z=null!==l?l.length:0,ae=g.length,Ce=null!==S?S.length:0;if(0===Z&&0===ae&&0===Ce)return new Uint32Array(0);if(0===Z&&0===ae)return S;if(0===ae&&0===Ce)return l;const Ne=new Uint32Array(Z+ae+Ce);null!==l&&Ne.set(l);for(let Je=0;Je<ae;Je++)Ne[Z+Je]=g[Je];return null!==S&&Ne.set(S,Z+ae),Ne}nestedLanguageTokenize(l,g,S,Z){const ae=S.languageId,Ce=S.state,Ne=V.RW.get(ae);if(!Ne)return this.enterLanguage(ae),this.emit(Z,""),Ce;const Je=Ne.tokenizeEncoded(l,g,Ce);if(0!==Z)for(let Lt=0,Bt=Je.tokens.length;Lt<Bt;Lt+=2)Je.tokens[Lt]+=Z;return this._prependTokens=oe._merge(this._prependTokens,this._tokens,Je.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Je.endState}finalize(l){return new V.DI(oe._merge(this._prependTokens,this._tokens,null),l)}}class Qe{constructor(l,g,S,Z){this._languageService=l,this._standaloneThemeService=g,this._languageId=S,this._lexer=Z,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let ae=!1;this._tokenizationRegistryListener=V.RW.onDidChange(Ce=>{if(ae)return;let Ne=!1;for(let Je=0,Lt=Ce.changedLanguages.length;Je<Lt;Je++)if(this._embeddedLanguages[Ce.changedLanguages[Je]]){Ne=!0;break}Ne&&(ae=!0,V.RW.fire([this._languageId]),ae=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const l=[];for(let g in this._embeddedLanguages){const S=V.RW.get(g);if(S){if(S instanceof Qe){const Z=S.getLoadStatus();!1===Z.loaded&&l.push(Z.promise)}}else V.RW.isResolved(g)||l.push(V.RW.getOrCreate(g))}return 0===l.length?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(g=>{})}}getInitialState(){const l=$e.create(null,this._lexer.start);return O.create(l,null)}tokenize(l,g,S){const Z=new de,ae=this._tokenize(l,g,S,Z);return Z.finalize(ae)}tokenizeEncoded(l,g,S){const Z=new oe(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),ae=this._tokenize(l,g,S,Z);return Z.finalize(ae)}_tokenize(l,g,S,Z){return S.embeddedLanguageData?this._nestedTokenize(l,g,S,0,Z):this._myTokenize(l,g,S,0,Z)}_findLeavingNestedLanguageOffset(l,g){let S=this._lexer.tokenizer[g.stack.state];if(!S&&(S=Qs(this._lexer,g.stack.state),!S))throw Co(this._lexer,"tokenizer state is not defined: "+g.stack.state);let Z=-1,ae=!1;for(const Ce of S){if(!$s(Ce.action)||"@pop"!==Ce.action.nextEmbedded)continue;ae=!0;let Ne=Ce.regex;const Je=Ce.regex.source;if("^(?:"===Je.substr(0,4)&&")"===Je.substr(Je.length-1,1)){const Bt=(Ne.ignoreCase?"i":"")+(Ne.unicode?"u":"");Ne=new RegExp(Je.substr(4,Je.length-5),Bt)}const Lt=l.search(Ne);-1===Lt||0!==Lt&&Ce.matchOnlyAtLineStart||(-1===Z||Lt<Z)&&(Z=Lt)}if(!ae)throw Co(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+g.stack.state);return Z}_nestedTokenize(l,g,S,Z,ae){const Ce=this._findLeavingNestedLanguageOffset(l,S);if(-1===Ce){const Lt=ae.nestedLanguageTokenize(l,g,S.embeddedLanguageData,Z);return O.create(S.stack,new C(S.embeddedLanguageData.languageId,Lt))}const Ne=l.substring(0,Ce);Ne.length>0&&ae.nestedLanguageTokenize(Ne,!1,S.embeddedLanguageData,Z);const Je=l.substring(Ce);return this._myTokenize(Je,g,S,Z+Ce,ae)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,g,S,Z,ae){ae.enterLanguage(this._languageId);const Ce=l.length,Ne=g&&this._lexer.includeLF?l+"\n":l,Je=Ne.length;let Lt=S.embeddedLanguageData,Bt=S.stack,gn=0,Un=null,di=!0;for(;di||gn<Je;){const Zi=gn,bo=Bt.depth,os=Un?Un.groups.length:0,ms=Bt.state;let ps=null,Ko=null,ls=null,Nr=null,vl=null;if(Un){ps=Un.matches;const fs=Un.groups.shift();Ko=fs.matched,ls=fs.action,Nr=Un.rule,0===Un.groups.length&&(Un=null)}else{if(!di&&gn>=Je)break;di=!1;let fs=this._lexer.tokenizer[ms];if(!fs&&(fs=Qs(this._lexer,ms),!fs))throw Co(this._lexer,"tokenizer state is not defined: "+ms);let pr=Ne.substr(gn);for(const Po of fs)if((0===gn||!Po.matchOnlyAtLineStart)&&(ps=pr.match(Po.regex),ps)){Ko=ps[0],ls=Po.action;break}}if(ps||(ps=[""],Ko=""),ls||(gn<Je&&(ps=[Ne.charAt(gn)],Ko=ps[0]),ls=this._lexer.defaultToken),null===Ko)break;for(gn+=Ko.length;dr(ls)&&$s(ls)&&ls.test;)ls=ls.test(Ko,ps,ms,gn===Je);let Br=null;if("string"==typeof ls||Array.isArray(ls))Br=ls;else if(ls.group)Br=ls.group;else if(null!=ls.token){if(Br=ls.tokenSubst?Bs(this._lexer,ls.token,Ko,ps,ms):ls.token,ls.nextEmbedded)if("@pop"===ls.nextEmbedded){if(!Lt)throw Co(this._lexer,"cannot pop embedded language if not inside one");Lt=null}else{if(Lt)throw Co(this._lexer,"cannot enter embedded language from within an embedded language");vl=Bs(this._lexer,ls.nextEmbedded,Ko,ps,ms)}if(ls.goBack&&(gn=Math.max(0,gn-ls.goBack)),ls.switchTo&&"string"==typeof ls.switchTo){let fs=Bs(this._lexer,ls.switchTo,Ko,ps,ms);if("@"===fs[0]&&(fs=fs.substr(1)),!Qs(this._lexer,fs))throw Co(this._lexer,"trying to switch to a state '"+fs+"' that is undefined in rule: "+this._safeRuleName(Nr));Bt=Bt.switchTo(fs)}else{if(ls.transform&&"function"==typeof ls.transform)throw Co(this._lexer,"action.transform not supported");if(ls.next)if("@push"===ls.next){if(Bt.depth>=this._lexer.maxStack)throw Co(this._lexer,"maximum tokenizer stack size reached: ["+Bt.state+","+Bt.parent.state+",...]");Bt=Bt.push(ms)}else if("@pop"===ls.next){if(Bt.depth<=1)throw Co(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Nr));Bt=Bt.pop()}else if("@popall"===ls.next)Bt=Bt.popall();else{let fs=Bs(this._lexer,ls.next,Ko,ps,ms);if("@"===fs[0]&&(fs=fs.substr(1)),!Qs(this._lexer,fs))throw Co(this._lexer,"trying to set a next state '"+fs+"' that is undefined in rule: "+this._safeRuleName(Nr));Bt=Bt.push(fs)}}ls.log&&"string"==typeof ls.log&&qs(this._lexer,this._lexer.languageId+": "+Bs(this._lexer,ls.log,Ko,ps,ms))}if(null===Br)throw Co(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Nr));const nl=fs=>{const pr=this._languageService.getLanguageIdByLanguageName(fs)||this._languageService.getLanguageIdByMimeType(fs)||fs,Po=this._getNestedEmbeddedLanguageData(pr);if(gn<Je){const il=l.substr(gn);return this._nestedTokenize(il,g,O.create(Bt,Po),Z+gn,ae)}return O.create(Bt,Po)};if(Array.isArray(Br)){if(Un&&Un.groups.length>0)throw Co(this._lexer,"groups cannot be nested: "+this._safeRuleName(Nr));if(ps.length!==Br.length+1)throw Co(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Nr));let fs=0;for(let pr=1;pr<ps.length;pr++)fs+=ps[pr].length;if(fs!==Ko.length)throw Co(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Nr));Un={rule:Nr,matches:ps,groups:[]};for(let pr=0;pr<Br.length;pr++)Un.groups[pr]={action:Br[pr],matched:ps[pr+1]};gn-=Ko.length}else{{if("@rematch"===Br&&(gn-=Ko.length,Ko="",ps=null,Br="",null!==vl))return nl(vl);if(0===Ko.length){if(0===Je||bo!==Bt.depth||ms!==Bt.state||(Un?Un.groups.length:0)!==os)continue;throw Co(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Nr))}let fs=null;if(wr(Br)&&0===Br.indexOf("@brackets")){const pr=Br.substr(9),Po=et(this._lexer,Ko);if(!Po)throw Co(this._lexer,"@brackets token returned but no bracket defined as: "+Ko);fs=Ar(Po.token+pr)}else fs=Ar(""===Br?"":Br+this._lexer.tokenPostfix);Zi<Ce&&ae.emit(Zi+Z,fs)}if(null!==vl)return nl(vl)}}return O.create(Bt,Lt)}_getNestedEmbeddedLanguageData(l){if(!this._languageService.isRegisteredLanguageId(l))return new C(l,Ht.TJ);l!==this._languageId&&(V.RW.getOrCreate(l),this._embeddedLanguages[l]=!0);const g=V.RW.get(l);return new C(l,g?g.getInitialState():Ht.TJ)}}function et(E,l){if(!l)return null;l=ks(E,l);const g=E.brackets;for(const S of g){if(S.open===l)return{token:S.token,bracketType:1};if(S.close===l)return{token:S.token,bracketType:-1}}return null}var It;const Ft=null===(It=window.trustedTypes)||void 0===It?void 0:It.createPolicy("standaloneColorizer",{createHTML:E=>E});class Yt{static colorizeElement(l,g,S,Z){const ae=(Z=Z||{}).theme||"vs",Ce=Z.mimeType||S.getAttribute("lang")||S.getAttribute("data-lang");if(!Ce)return console.error("Mode not detected"),Promise.resolve();const Ne=g.getLanguageIdByMimeType(Ce)||Ce;l.setTheme(ae);const Je=S.firstChild?S.firstChild.nodeValue:"";return S.className+=" "+ae,this.colorize(g,Je||"",Ne,Z).then(Bt=>{var gn;const Un=null!==(gn=null==Ft?void 0:Ft.createHTML(Bt))&&void 0!==gn?gn:Bt;S.innerHTML=Un},Bt=>console.error(Bt))}static colorize(l,g,S,Z){return function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})}(this,void 0,void 0,function*(){const ae=l.languageIdCodec;let Ce=4;Z&&"number"==typeof Z.tabSize&&(Ce=Z.tabSize),Xt.uS(g)&&(g=g.substr(1));const Ne=Xt.uq(g);if(!l.isRegisteredLanguageId(S))return Le(Ne,Ce,ae);const Je=yield V.RW.getOrCreate(S);return Je?function nt(E,l,g,S){return new Promise((Z,ae)=>{const Ce=()=>{const Ne=function De(E,l,g,S){let Z=[],ae=g.getInitialState();for(let Ce=0,Ne=E.length;Ce<Ne;Ce++){const Je=E[Ce],Lt=g.tokenizeEncoded(Je,!0,ae);nr.A.convertToEndOffset(Lt.tokens,Je.length);const Bt=new nr.A(Lt.tokens,Je,S),gn=vs.wA.isBasicASCII(Je,!0),Un=vs.wA.containsRTL(Je,gn,!0),di=(0,Is.tF)(new Is.IJ(!1,!0,Je,!1,gn,Un,0,Bt.inflate(),[],l,0,0,0,0,-1,"none",!1,!1,null));Z=Z.concat(di.html),Z.push("<br/>"),ae=Lt.endState}return Z.join("")}(E,l,g,S);if(g instanceof Qe){const Je=g.getLoadStatus();if(!1===Je.loaded)return void Je.promise.then(Ce,ae)}Z(Ne)};Ce()})}(Ne,Ce,Je,ae):Le(Ne,Ce,ae)})}static colorizeLine(l,g,S,Z,ae=4){const Ce=vs.wA.isBasicASCII(l,g),Ne=vs.wA.containsRTL(l,Ce,S);return(0,Is.tF)(new Is.IJ(!1,!0,l,!1,Ce,Ne,0,Z,[],ae,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(l,g,S=4){const Z=l.getLineContent(g);l.forceTokenization(g);const Ce=l.getLineTokens(g).inflate();return this.colorizeLine(Z,l.mightContainNonBasicASCII(),l.mightContainRTL(),Ce,S)}}function Le(E,l,g){let S=[];const ae=new Uint32Array(2);ae[0]=0,ae[1]=16793600;for(let Ce=0,Ne=E.length;Ce<Ne;Ce++){const Je=E[Ce];ae[0]=Je.length;const Lt=new nr.A(ae,Je,g),Bt=vs.wA.isBasicASCII(Je,!0),gn=vs.wA.containsRTL(Je,Bt,!0),Un=(0,Is.tF)(new Is.IJ(!1,!0,Je,!1,Bt,gn,0,Lt,[],l,0,0,0,0,-1,"none",!1,!1,null));S=S.concat(Un.html),S.push("<br/>")}return S.join("")}var Fe=m(3619),_t=m(3656),Gt=m(5637),an=m(658),Ln=m(4084),zt=m(8059),ci=m(278),Re=m(3024);let Ot=class extends it.JT{constructor(l){super(),this._themeService=l,this._onCodeEditorAdd=this._register(new Q.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Q.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Q.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Q.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(l){this._codeEditors[l.getId()]=l,this._onCodeEditorAdd.fire(l)}removeCodeEditor(l){delete this._codeEditors[l.getId()]&&this._onCodeEditorRemove.fire(l)}listCodeEditors(){return Object.keys(this._codeEditors).map(l=>this._codeEditors[l])}addDiffEditor(l){this._diffEditors[l.getId()]=l,this._onDiffEditorAdd.fire(l)}removeDiffEditor(l){delete this._diffEditors[l.getId()]&&this._onDiffEditorRemove.fire(l)}listDiffEditors(){return Object.keys(this._diffEditors).map(l=>this._diffEditors[l])}getFocusedCodeEditor(){let l=null;const g=this.listCodeEditors();for(const S of g){if(S.hasTextFocus())return S;S.hasWidgetFocus()&&(l=S)}return l}removeDecorationType(l){const g=this._decorationOptionProviders.get(l);g&&(g.refCount--,g.refCount<=0&&(this._decorationOptionProviders.delete(l),g.dispose(),this.listCodeEditors().forEach(S=>S.removeDecorations(l))))}setModelProperty(l,g,S){const Z=l.toString();let ae;this._modelProperties.has(Z)?ae=this._modelProperties.get(Z):(ae=new Map,this._modelProperties.set(Z,ae)),ae.set(g,S)}getModelProperty(l,g){const S=l.toString();if(this._modelProperties.has(S))return this._modelProperties.get(S).get(g)}};var l;Ot=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([(0,l=Re.XE,function(g,S){l(g,S,0)})],Ot);var Hn=m(9776),$n=m(7918),es=function(E,l){return function(g,S){l(g,S,E)}};let No=class extends Ot{constructor(l,g){super(g),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=l.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let l=!1;for(const g of this.listCodeEditors())if(!g.isSimpleWidget){l=!0;break}this._editorIsOpen.set(l)}setActiveCodeEditor(l){this._activeCodeEditor=l}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(l,g,S){return Promise.resolve(g?this.doOpenEditor(g,l):null)}doOpenEditor(l,g){if(!this.findModel(l,g.resource)){if(g.resource){const ae=g.resource.scheme;if(ae===ci.lg.http||ae===ci.lg.https)return(0,zt.V3)(g.resource.toString()),l}return null}const Z=g.options?g.options.selection:null;if(Z)if("number"==typeof Z.endLineNumber&&"number"==typeof Z.endColumn)l.setSelection(Z),l.revealRangeInCenter(Z,1);else{const ae={lineNumber:Z.startLineNumber,column:Z.startColumn};l.setPosition(ae),l.revealPositionInCenter(ae,1)}return l}findModel(l,g){const S=l.getModel();return S&&S.uri.toString()!==g.toString()?null:S}};No=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([es(0,Hn.i6),es(1,Re.XE)],No),(0,$n.z)(At.$,No);var yo=m(4725);const $i=(0,yo.yh)("layoutService");var Xo=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae},Go=function(E,l){return function(g,S){l(g,S,E)}};let So=class{constructor(l){this._codeEditorService=l,this.onDidLayout=Q.ju.None}get dimension(){return this._dimension||(this._dimension=zt.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var l;null===(l=this._codeEditorService.getFocusedCodeEditor())||void 0===l||l.focus()}};So=Xo([Go(0,At.$)],So);let bs=class extends So{constructor(l,g){super(g),this._container=l}get hasContainer(){return!1}get container(){return this._container}};bs=Xo([Go(1,At.$)],bs),(0,$n.z)($i,So);var Rs=m(3570),Vi=m(402),Dr=m(161),Hs=m(8782),Ys=m(8846),To=function(E,l){return function(g,S){l(g,S,E)}},Qr=function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})};function qe(E){return E.scheme===ci.lg.file?E.fsPath:E.path}let Ue=0;class Be{constructor(l,g,S,Z,ae,Ce,Ne){this.id=++Ue,this.type=0,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabel=g,this.strResource=S,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=Z,this.groupOrder=ae,this.sourceId=Ce,this.sourceOrder=Ne,this.isValid=!0}setValid(l){this.isValid=l}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class kt{constructor(l,g){this.resourceLabel=l,this.reason=g}}class ri{constructor(){this.elements=new Map}createMessage(){const l=[],g=[];for(const[,Z]of this.elements)(0===Z.reason?l:g).push(Z.resourceLabel);let S=[];return l.length>0&&S.push(Vi.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",l.join(", "))),g.length>0&&S.push(Vi.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",g.join(", "))),S.join("\n")}get size(){return this.elements.size}has(l){return this.elements.has(l)}set(l,g){this.elements.set(l,g)}delete(l){return this.elements.delete(l)}}class Vn{constructor(l,g,S,Z,ae,Ce,Ne){this.id=++Ue,this.type=1,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabels=g,this.strResources=S,this.groupId=Z,this.groupOrder=ae,this.sourceId=Ce,this.sourceOrder=Ne,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(l,g,S){this.removedResources||(this.removedResources=new ri),this.removedResources.has(g)||this.removedResources.set(g,new kt(l,S))}setValid(l,g,S){S?this.invalidatedResources&&(this.invalidatedResources.delete(g),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new ri),this.invalidatedResources.has(g)||this.invalidatedResources.set(g,new kt(l,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class so{constructor(l,g){this.resourceLabel=l,this.strResource=g,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const l of this._past)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);for(const l of this._future)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let l=[];l.push(`* ${this.strResource}:`);for(let g=0;g<this._past.length;g++)l.push(`   * [UNDO] ${this._past[g]}`);for(let g=this._future.length-1;g>=0;g--)l.push(`   * [REDO] ${this._future[g]}`);return l.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(l,g){1===l.type?l.setValid(this.resourceLabel,this.strResource,g):l.setValid(g)}setElementsValidFlag(l,g){for(const S of this._past)g(S.actual)&&this._setElementValidFlag(S,l);for(const S of this._future)g(S.actual)&&this._setElementValidFlag(S,l)}pushElement(l){for(const g of this._future)1===g.type&&g.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(l),this.versionId++}createSnapshot(l){const g=[];for(let S=0,Z=this._past.length;S<Z;S++)g.push(this._past[S].id);for(let S=this._future.length-1;S>=0;S--)g.push(this._future[S].id);return new Ys.YO(l,g)}restoreSnapshot(l){const g=l.elements.length;let S=!0,Z=0,ae=-1;for(let Ne=0,Je=this._past.length;Ne<Je;Ne++,Z++){const Lt=this._past[Ne];S&&(Z>=g||Lt.id!==l.elements[Z])&&(S=!1,ae=0),!S&&1===Lt.type&&Lt.removeResource(this.resourceLabel,this.strResource,0)}let Ce=-1;for(let Ne=this._future.length-1;Ne>=0;Ne--,Z++){const Je=this._future[Ne];S&&(Z>=g||Je.id!==l.elements[Z])&&(S=!1,Ce=Ne),!S&&1===Je.type&&Je.removeResource(this.resourceLabel,this.strResource,0)}-1!==ae&&(this._past=this._past.slice(0,ae)),-1!==Ce&&(this._future=this._future.slice(Ce+1)),this.versionId++}getElements(){const l=[],g=[];for(const S of this._past)l.push(S.actual);for(const S of this._future)g.push(S.actual);return{past:l,future:g}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(l,g){for(let S=this._past.length-1;S>=0;S--)if(this._past[S]===l){g.has(this.strResource)?this._past[S]=g.get(this.strResource):this._past.splice(S,1);break}this.versionId++}splitFutureWorkspaceElement(l,g){for(let S=this._future.length-1;S>=0;S--)if(this._future[S]===l){g.has(this.strResource)?this._future[S]=g.get(this.strResource):this._future.splice(S,1);break}this.versionId++}moveBackward(l){this._past.pop(),this._future.push(l),this.versionId++}moveForward(l){this._future.pop(),this._past.push(l),this.versionId++}}class er{constructor(l){this.editStacks=l,this._versionIds=[];for(let g=0,S=this.editStacks.length;g<S;g++)this._versionIds[g]=this.editStacks[g].versionId}isValid(){for(let l=0,g=this.editStacks.length;l<g;l++)if(this._versionIds[l]!==this.editStacks[l].versionId)return!1;return!0}}const Ls=new so("","");Ls.locked=!0;let Ct=class{constructor(l,g){this._dialogService=l,this._notificationService=g,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(l){for(const g of this._uriComparisonKeyComputers)if(g[0]===l.scheme)return g[1].getComparisonKey(l);return l.toString()}_print(l){console.log("------------------------------------"),console.log(`AFTER ${l}: `);let g=[];for(const S of this._editStacks)g.push(S[1].toString());console.log(g.join("\n"))}pushElement(l,g=Ys.Xt.None,S=Ys.gJ.None){if(0===l.type){const Z=qe(l.resource),ae=this.getUriComparisonKey(l.resource);this._pushElement(new Be(l,Z,ae,g.id,g.nextOrder(),S.id,S.nextOrder()))}else{const Z=new Set,ae=[],Ce=[];for(const Ne of l.resources){const Je=qe(Ne),Lt=this.getUriComparisonKey(Ne);Z.has(Lt)||(Z.add(Lt),ae.push(Je),Ce.push(Lt))}this._pushElement(1===ae.length?new Be(l,ae[0],Ce[0],g.id,g.nextOrder(),S.id,S.nextOrder()):new Vn(l,ae,Ce,g.id,g.nextOrder(),S.id,S.nextOrder()))}}_pushElement(l){for(let g=0,S=l.strResources.length;g<S;g++){const Z=l.resourceLabels[g],ae=l.strResources[g];let Ce;this._editStacks.has(ae)?Ce=this._editStacks.get(ae):(Ce=new so(Z,ae),this._editStacks.set(ae,Ce)),Ce.pushElement(l)}}getLastElement(l){const g=this.getUriComparisonKey(l);if(this._editStacks.has(g)){const S=this._editStacks.get(g);if(S.hasFutureElements())return null;const Z=S.getClosestPastElement();return Z?Z.actual:null}return null}_splitPastWorkspaceElement(l,g){const S=l.actual.split(),Z=new Map;for(const ae of S){const Ce=qe(ae.resource),Ne=this.getUriComparisonKey(ae.resource),Je=new Be(ae,Ce,Ne,0,0,0,0);Z.set(Je.strResource,Je)}for(const ae of l.strResources)g&&g.has(ae)||this._editStacks.get(ae).splitPastWorkspaceElement(l,Z)}_splitFutureWorkspaceElement(l,g){const S=l.actual.split(),Z=new Map;for(const ae of S){const Ce=qe(ae.resource),Ne=this.getUriComparisonKey(ae.resource),Je=new Be(ae,Ce,Ne,0,0,0,0);Z.set(Je.strResource,Je)}for(const ae of l.strResources)g&&g.has(ae)||this._editStacks.get(ae).splitFutureWorkspaceElement(l,Z)}removeElements(l){const g="string"==typeof l?l:this.getUriComparisonKey(l);this._editStacks.has(g)&&(this._editStacks.get(g).dispose(),this._editStacks.delete(g))}setElementsValidFlag(l,g,S){const Z=this.getUriComparisonKey(l);this._editStacks.has(Z)&&this._editStacks.get(Z).setElementsValidFlag(g,S)}createSnapshot(l){const g=this.getUriComparisonKey(l);return this._editStacks.has(g)?this._editStacks.get(g).createSnapshot(l):new Ys.YO(l,[])}restoreSnapshot(l){const g=this.getUriComparisonKey(l.resource);if(this._editStacks.has(g)){const S=this._editStacks.get(g);S.restoreSnapshot(l),!S.hasPastElements()&&!S.hasFutureElements()&&(S.dispose(),this._editStacks.delete(g))}}getElements(l){const g=this.getUriComparisonKey(l);return this._editStacks.has(g)?this._editStacks.get(g).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(l){if(!l)return[null,null];let g=null,S=null;for(const[Z,ae]of this._editStacks){const Ce=ae.getClosestPastElement();!Ce||Ce.sourceId===l&&(!g||Ce.sourceOrder>g.sourceOrder)&&(g=Ce,S=Z)}return[g,S]}canUndo(l){if(l instanceof Ys.gJ){const[,S]=this._findClosestUndoElementWithSource(l.id);return!!S}const g=this.getUriComparisonKey(l);return!!this._editStacks.has(g)&&this._editStacks.get(g).hasPastElements()}_onError(l,g){(0,$t.dL)(l);for(const S of g.strResources)this.removeElements(S);this._notificationService.error(l)}_acquireLocks(l){for(const g of l.editStacks)if(g.locked)throw new Error("Cannot acquire edit stack lock");for(const g of l.editStacks)g.locked=!0;return()=>{for(const g of l.editStacks)g.locked=!1}}_safeInvokeWithLocks(l,g,S,Z,ae){const Ce=this._acquireLocks(S);let Ne;try{Ne=g()}catch(Je){return Ce(),Z.dispose(),this._onError(Je,l)}return Ne?Ne.then(()=>(Ce(),Z.dispose(),ae()),Je=>(Ce(),Z.dispose(),this._onError(Je,l))):(Ce(),Z.dispose(),ae())}_invokeWorkspacePrepare(l){return Qr(this,void 0,void 0,function*(){if(void 0===l.actual.prepareUndoRedo)return it.JT.None;const g=l.actual.prepareUndoRedo();return void 0===g?it.JT.None:g})}_invokeResourcePrepare(l,g){if(1!==l.actual.type||void 0===l.actual.prepareUndoRedo)return g(it.JT.None);const S=l.actual.prepareUndoRedo();return S?(0,it.Wf)(S)?g(S):S.then(Z=>g(Z)):g(it.JT.None)}_getAffectedEditStacks(l){const g=[];for(const S of l.strResources)g.push(this._editStacks.get(S)||Ls);return new er(g)}_tryToSplitAndUndo(l,g,S,Z){if(g.canSplit())return this._splitPastWorkspaceElement(g,S),this._notificationService.warn(Z),new me(this._undo(l,0,!0));for(const ae of g.strResources)this.removeElements(ae);return this._notificationService.warn(Z),new me}_checkWorkspaceUndo(l,g,S,Z){if(g.removedResources)return this._tryToSplitAndUndo(l,g,g.removedResources,Vi.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",g.label,g.removedResources.createMessage()));if(Z&&g.invalidatedResources)return this._tryToSplitAndUndo(l,g,g.invalidatedResources,Vi.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",g.label,g.invalidatedResources.createMessage()));const ae=[];for(const Ne of S.editStacks)Ne.getClosestPastElement()!==g&&ae.push(Ne.resourceLabel);if(ae.length>0)return this._tryToSplitAndUndo(l,g,null,Vi.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",g.label,ae.join(", ")));const Ce=[];for(const Ne of S.editStacks)Ne.locked&&Ce.push(Ne.resourceLabel);return Ce.length>0?this._tryToSplitAndUndo(l,g,null,Vi.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",g.label,Ce.join(", "))):S.isValid()?null:this._tryToSplitAndUndo(l,g,null,Vi.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",g.label))}_workspaceUndo(l,g,S){const Z=this._getAffectedEditStacks(g),ae=this._checkWorkspaceUndo(l,g,Z,!1);return ae?ae.returnValue:this._confirmAndExecuteWorkspaceUndo(l,g,Z,S)}_isPartOfUndoGroup(l){if(!l.groupId)return!1;for(const[,g]of this._editStacks){const S=g.getClosestPastElement();if(S){if(S===l){const Z=g.getSecondClosestPastElement();if(Z&&Z.groupId===l.groupId)return!0}if(S.groupId===l.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(l,g,S,Z){return Qr(this,void 0,void 0,function*(){if(g.canSplit()&&!this._isPartOfUndoGroup(g)){const Ne=yield this._dialogService.show(Rs.Z.Info,Vi.N("confirmWorkspace","Would you like to undo '{0}' across all files?",g.label),[Vi.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",S.editStacks.length),Vi.N("nok","Undo this File"),Vi.N("cancel","Cancel")],{cancelId:2});if(2===Ne.choice)return;if(1===Ne.choice)return this._splitPastWorkspaceElement(g,null),this._undo(l,0,!0);const Je=this._checkWorkspaceUndo(l,g,S,!1);if(Je)return Je.returnValue;Z=!0}let ae;try{ae=yield this._invokeWorkspacePrepare(g)}catch(Ne){return this._onError(Ne,g)}const Ce=this._checkWorkspaceUndo(l,g,S,!0);if(Ce)return ae.dispose(),Ce.returnValue;for(const Ne of S.editStacks)Ne.moveBackward(g);return this._safeInvokeWithLocks(g,()=>g.actual.undo(),S,ae,()=>this._continueUndoInGroup(g.groupId,Z))})}_resourceUndo(l,g,S){if(g.isValid){if(!l.locked)return this._invokeResourcePrepare(g,Z=>(l.moveBackward(g),this._safeInvokeWithLocks(g,()=>g.actual.undo(),new er([l]),Z,()=>this._continueUndoInGroup(g.groupId,S))));{const Z=Vi.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",g.label);this._notificationService.warn(Z)}}else l.flushAllElements()}_findClosestUndoElementInGroup(l){if(!l)return[null,null];let g=null,S=null;for(const[Z,ae]of this._editStacks){const Ce=ae.getClosestPastElement();!Ce||Ce.groupId===l&&(!g||Ce.groupOrder>g.groupOrder)&&(g=Ce,S=Z)}return[g,S]}_continueUndoInGroup(l,g){if(!l)return;const[,S]=this._findClosestUndoElementInGroup(l);return S?this._undo(S,0,g):void 0}undo(l){if(l instanceof Ys.gJ){const[,g]=this._findClosestUndoElementWithSource(l.id);return g?this._undo(g,l.id,!1):void 0}return this._undo("string"==typeof l?l:this.getUriComparisonKey(l),0,!1)}_undo(l,g=0,S){if(!this._editStacks.has(l))return;const Z=this._editStacks.get(l),ae=Z.getClosestPastElement();if(ae){if(ae.groupId){const[Ne,Je]=this._findClosestUndoElementInGroup(ae.groupId);if(ae!==Ne&&Je)return this._undo(Je,g,S)}if((ae.sourceId!==g||ae.confirmBeforeUndo)&&!S)return this._confirmAndContinueUndo(l,g,ae);try{return 1===ae.type?this._workspaceUndo(l,ae,S):this._resourceUndo(Z,ae,S)}finally{}}}_confirmAndContinueUndo(l,g,S){return Qr(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(Rs.Z.Info,Vi.N("confirmDifferentSource","Would you like to undo '{0}'?",S.label),[Vi.N("confirmDifferentSource.yes","Yes"),Vi.N("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(l,g,!0)})}_findClosestRedoElementWithSource(l){if(!l)return[null,null];let g=null,S=null;for(const[Z,ae]of this._editStacks){const Ce=ae.getClosestFutureElement();!Ce||Ce.sourceId===l&&(!g||Ce.sourceOrder<g.sourceOrder)&&(g=Ce,S=Z)}return[g,S]}canRedo(l){if(l instanceof Ys.gJ){const[,S]=this._findClosestRedoElementWithSource(l.id);return!!S}const g=this.getUriComparisonKey(l);return!!this._editStacks.has(g)&&this._editStacks.get(g).hasFutureElements()}_tryToSplitAndRedo(l,g,S,Z){if(g.canSplit())return this._splitFutureWorkspaceElement(g,S),this._notificationService.warn(Z),new me(this._redo(l));for(const ae of g.strResources)this.removeElements(ae);return this._notificationService.warn(Z),new me}_checkWorkspaceRedo(l,g,S,Z){if(g.removedResources)return this._tryToSplitAndRedo(l,g,g.removedResources,Vi.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",g.label,g.removedResources.createMessage()));if(Z&&g.invalidatedResources)return this._tryToSplitAndRedo(l,g,g.invalidatedResources,Vi.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",g.label,g.invalidatedResources.createMessage()));const ae=[];for(const Ne of S.editStacks)Ne.getClosestFutureElement()!==g&&ae.push(Ne.resourceLabel);if(ae.length>0)return this._tryToSplitAndRedo(l,g,null,Vi.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",g.label,ae.join(", ")));const Ce=[];for(const Ne of S.editStacks)Ne.locked&&Ce.push(Ne.resourceLabel);return Ce.length>0?this._tryToSplitAndRedo(l,g,null,Vi.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",g.label,Ce.join(", "))):S.isValid()?null:this._tryToSplitAndRedo(l,g,null,Vi.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",g.label))}_workspaceRedo(l,g){const S=this._getAffectedEditStacks(g),Z=this._checkWorkspaceRedo(l,g,S,!1);return Z?Z.returnValue:this._executeWorkspaceRedo(l,g,S)}_executeWorkspaceRedo(l,g,S){return Qr(this,void 0,void 0,function*(){let Z;try{Z=yield this._invokeWorkspacePrepare(g)}catch(Ce){return this._onError(Ce,g)}const ae=this._checkWorkspaceRedo(l,g,S,!0);if(ae)return Z.dispose(),ae.returnValue;for(const Ce of S.editStacks)Ce.moveForward(g);return this._safeInvokeWithLocks(g,()=>g.actual.redo(),S,Z,()=>this._continueRedoInGroup(g.groupId))})}_resourceRedo(l,g){if(g.isValid){if(!l.locked)return this._invokeResourcePrepare(g,S=>(l.moveForward(g),this._safeInvokeWithLocks(g,()=>g.actual.redo(),new er([l]),S,()=>this._continueRedoInGroup(g.groupId))));{const S=Vi.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",g.label);this._notificationService.warn(S)}}else l.flushAllElements()}_findClosestRedoElementInGroup(l){if(!l)return[null,null];let g=null,S=null;for(const[Z,ae]of this._editStacks){const Ce=ae.getClosestFutureElement();!Ce||Ce.groupId===l&&(!g||Ce.groupOrder<g.groupOrder)&&(g=Ce,S=Z)}return[g,S]}_continueRedoInGroup(l){if(!l)return;const[,g]=this._findClosestRedoElementInGroup(l);return g?this._redo(g):void 0}redo(l){if(l instanceof Ys.gJ){const[,g]=this._findClosestRedoElementWithSource(l.id);return g?this._redo(g):void 0}return this._redo("string"==typeof l?l:this.getUriComparisonKey(l))}_redo(l){if(!this._editStacks.has(l))return;const g=this._editStacks.get(l),S=g.getClosestFutureElement();if(S){if(S.groupId){const[Z,ae]=this._findClosestRedoElementInGroup(S.groupId);if(S!==Z&&ae)return this._redo(ae)}try{return 1===S.type?this._workspaceRedo(l,S):this._resourceRedo(g,S)}finally{}}}};Ct=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([To(0,Dr.S),To(1,Hs.lT)],Ct);class me{constructor(l){this.returnValue=l}}(0,$n.z)(Ys.tJ,Ct),m(9974);var We=m(4616),Tt=m(5016),Qt=m(4067),fn=m(2931),cn=m(7732),wn=m(9537);const ni=Object.freeze({id:"editor",order:5,type:"object",title:Vi.N("editorConfigurationTitle","Editor"),scope:5}),Hi=Object.assign(Object.assign({},ni),{properties:{"editor.tabSize":{type:"number",default:fn.D.tabSize,minimum:1,markdownDescription:Vi.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:fn.D.insertSpaces,markdownDescription:Vi.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:fn.D.detectIndentation,markdownDescription:Vi.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:fn.D.trimAutoWhitespace,description:Vi.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:fn.D.largeFileOptimizations,description:Vi.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:Vi.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[Vi.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),Vi.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),Vi.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:Vi.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[Vi.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),Vi.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),Vi.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:Vi.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:Vi.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:Vi.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:Vi.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:Vi.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:Vi.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:Vi.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:Vi.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:Vi.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:Vi.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:Vi.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:Vi.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:Vi.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:Vi.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:Vi.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[Vi.N("wordWrap.off","Lines will never wrap."),Vi.N("wordWrap.on","Lines will wrap at the viewport width."),Vi.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function ro(E){return void 0!==E.type||void 0!==E.anyOf}for(const E of v.Bc){const l=E.schema;if(void 0!==l)if(ro(l))Hi.properties[`editor.${E.name}`]=l;else for(const g in l)Object.hasOwnProperty.call(l,g)&&(Hi.properties[g]=l[g])}let ao=null;function pi(){return null===ao&&(ao=Object.create(null),Object.keys(Hi.properties).forEach(E=>{ao[E]=!0})),ao}wn.B.as(cn.IP.Configuration).registerConfiguration(Hi);var Ss=m(2033),Os=m(7424),ts=m(3884),Jo=m(9869),io=m(7838),Do=m(5271);class Ro{constructor(l={},g=[],S=[]){this._contents=l,this._keys=g,this._overrides=S,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(l){return l?(0,Jo.Mt)(this.contents,l):this.contents}getOverrideValue(l,g){const S=this.getContentsForOverrideIdentifer(g);return S?l?(0,Jo.Mt)(S,l):S:void 0}override(l){let g=this.overrideConfigurations.get(l);return g||(g=this.createOverrideConfigurationModel(l),this.overrideConfigurations.set(l,g)),g}merge(...l){const g=Do.I8(this.contents),S=Do.I8(this.overrides),Z=[...this.keys];for(const ae of l){this.mergeContents(g,ae.contents);for(const Ce of ae.overrides){const[Ne]=S.filter(Je=>Yi.fS(Je.identifiers,Ce.identifiers));Ne?(this.mergeContents(Ne.contents,Ce.contents),Ne.keys.push(...Ce.keys),Ne.keys=Yi.EB(Ne.keys)):S.push(Do.I8(Ce))}for(const Ce of ae.keys)-1===Z.indexOf(Ce)&&Z.push(Ce)}return new Ro(g,Z,S)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(l){const g=this.getContentsForOverrideIdentifer(l);if(!g||"object"!=typeof g||!Object.keys(g).length)return this;let S={};for(const Z of Yi.EB([...Object.keys(this.contents),...Object.keys(g)])){let ae=this.contents[Z],Ce=g[Z];Ce&&("object"==typeof ae&&"object"==typeof Ce?(ae=Do.I8(ae),this.mergeContents(ae,Ce)):ae=Ce),S[Z]=ae}return new Ro(S,this.keys,this.overrides)}mergeContents(l,g){for(const S of Object.keys(g))S in l&&Zt.Kn(l[S])&&Zt.Kn(g[S])?this.mergeContents(l[S],g[S]):l[S]=Do.I8(g[S])}checkAndFreeze(l){return this.isFrozen&&!Object.isFrozen(l)?Do._A(l):l}getContentsForOverrideIdentifer(l){let g=null,S=null;const Z=ae=>{ae&&(S?this.mergeContents(S,ae):S=Do.I8(ae))};for(const ae of this.overrides)Yi.fS(ae.identifiers,[l])?g=ae.contents:ae.identifiers.includes(l)&&Z(ae.contents);return Z(g),S}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(l,g){this.addKey(l),(0,Jo.KV)(this.contents,l,g,S=>{throw new Error(S)})}removeValue(l){this.removeKey(l)&&(0,Jo.xL)(this.contents,l)}addKey(l){let g=this.keys.length;for(let S=0;S<g;S++)0===l.indexOf(this.keys[S])&&(g=S);this.keys.splice(g,1,l)}removeKey(l){let g=this.keys.indexOf(l);return-1!==g&&(this.keys.splice(g,1),!0)}}class Cs extends Ro{constructor(l={}){const g=wn.B.as(cn.IP.Configuration).getConfigurationProperties(),S=Object.keys(g),Z=Object.create(null),ae=[];for(const Ce in g){const Ne=l[Ce];(0,Jo.KV)(Z,Ce,void 0!==Ne?Ne:g[Ce].default,Lt=>console.error(`Conflict in default settings: ${Lt}`))}for(const Ce of Object.keys(Z))cn.eU.test(Ce)&&ae.push({identifiers:(0,cn.ny)(Ce),keys:Object.keys(Z[Ce]),contents:(0,Jo.Od)(Z[Ce],Ne=>console.error(`Conflict in default settings file: ${Ne}`))});super(Z,S,ae)}}class Ms{constructor(l,g,S=new Ro,Z=new Ro,ae=new io.Y9,Ce=new Ro,Ne=new io.Y9,Je=!0){this._defaultConfiguration=l,this._localUserConfiguration=g,this._remoteUserConfiguration=S,this._workspaceConfiguration=Z,this._folderConfigurations=ae,this._memoryConfiguration=Ce,this._memoryConfigurationByResource=Ne,this._freeze=Je,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new io.Y9,this._userConfiguration=null}getValue(l,g,S){return this.getConsolidateConfigurationModel(g,S).getValue(l)}updateValue(l,g,S={}){let Z;S.resource?(Z=this._memoryConfigurationByResource.get(S.resource),Z||(Z=new Ro,this._memoryConfigurationByResource.set(S.resource,Z))):Z=this._memoryConfiguration,void 0===g?Z.removeValue(l):Z.setValue(l,g),S.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(l,g,S){const Z=this.getConsolidateConfigurationModel(g,S),ae=this.getFolderConfigurationModelForResource(g.resource,S),Ce=g.resource&&this._memoryConfigurationByResource.get(g.resource)||this._memoryConfiguration,Ne=g.overrideIdentifier?this._defaultConfiguration.freeze().override(g.overrideIdentifier).getValue(l):this._defaultConfiguration.freeze().getValue(l),Je=g.overrideIdentifier?this.userConfiguration.freeze().override(g.overrideIdentifier).getValue(l):this.userConfiguration.freeze().getValue(l),Lt=g.overrideIdentifier?this.localUserConfiguration.freeze().override(g.overrideIdentifier).getValue(l):this.localUserConfiguration.freeze().getValue(l),Bt=g.overrideIdentifier?this.remoteUserConfiguration.freeze().override(g.overrideIdentifier).getValue(l):this.remoteUserConfiguration.freeze().getValue(l),gn=S?g.overrideIdentifier?this._workspaceConfiguration.freeze().override(g.overrideIdentifier).getValue(l):this._workspaceConfiguration.freeze().getValue(l):void 0,Un=ae?g.overrideIdentifier?ae.freeze().override(g.overrideIdentifier).getValue(l):ae.freeze().getValue(l):void 0,di=g.overrideIdentifier?Ce.override(g.overrideIdentifier).getValue(l):Ce.getValue(l),Zi=Z.getValue(l),bo=Yi.EB(Yi.xH(Z.overrides.map(os=>os.identifiers))).filter(os=>void 0!==Z.getOverrideValue(l,os));return{defaultValue:Ne,userValue:Je,userLocalValue:Lt,userRemoteValue:Bt,workspaceValue:gn,workspaceFolderValue:Un,memoryValue:di,value:Zi,default:void 0!==Ne?{value:this._defaultConfiguration.freeze().getValue(l),override:g.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(l,g.overrideIdentifier):void 0}:void 0,user:void 0!==Je?{value:this.userConfiguration.freeze().getValue(l),override:g.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(l,g.overrideIdentifier):void 0}:void 0,userLocal:void 0!==Lt?{value:this.localUserConfiguration.freeze().getValue(l),override:g.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(l,g.overrideIdentifier):void 0}:void 0,userRemote:void 0!==Bt?{value:this.remoteUserConfiguration.freeze().getValue(l),override:g.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(l,g.overrideIdentifier):void 0}:void 0,workspace:void 0!==gn?{value:this._workspaceConfiguration.freeze().getValue(l),override:g.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(l,g.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==Un?{value:null==ae?void 0:ae.freeze().getValue(l),override:g.overrideIdentifier?null==ae?void 0:ae.freeze().getOverrideValue(l,g.overrideIdentifier):void 0}:void 0,memory:void 0!==di?{value:Ce.getValue(l),override:g.overrideIdentifier?Ce.getOverrideValue(l,g.overrideIdentifier):void 0}:void 0,overrideIdentifiers:bo.length?bo:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(l,g){let S=this.getConsolidatedConfigurationModelForResource(l,g);return l.overrideIdentifier?S.override(l.overrideIdentifier):S}getConsolidatedConfigurationModelForResource({resource:l},g){let S=this.getWorkspaceConsolidatedConfiguration();if(g&&l){const Z=g.getFolder(l);Z&&(S=this.getFolderConsolidatedConfiguration(Z.uri)||S);const ae=this._memoryConfigurationByResource.get(l);ae&&(S=S.merge(ae))}return S}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(l){let g=this._foldersConsolidatedConfigurations.get(l);if(!g){const S=this.getWorkspaceConsolidatedConfiguration(),Z=this._folderConfigurations.get(l);Z?(g=S.merge(Z),this._freeze&&(g=g.freeze()),this._foldersConsolidatedConfigurations.set(l,g)):g=S}return g}getFolderConfigurationModelForResource(l,g){if(g&&l){const S=g.getFolder(l);if(S)return this._folderConfigurations.get(S.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((l,g)=>{const{contents:S,overrides:Z,keys:ae}=this._folderConfigurations.get(g);return l.push([g,{contents:S,overrides:Z,keys:ae}]),l},[])}}static parse(l){const g=this.parseConfigurationModel(l.defaults),S=this.parseConfigurationModel(l.user),Z=this.parseConfigurationModel(l.workspace),ae=l.folders.reduce((Ce,Ne)=>(Ce.set(R.o.revive(Ne[0]),this.parseConfigurationModel(Ne[1])),Ce),new io.Y9);return new Ms(g,S,new Ro,Z,ae,new Ro,new io.Y9,!1)}static parseConfigurationModel(l){return new Ro(l.contents,l.keys,l.overrides).freeze()}}class Ps{constructor(l,g,S,Z){this.change=l,this.previous=g,this.currentConfiguraiton=S,this.currentWorkspace=Z,this._previousConfiguration=void 0;const ae=new Set;l.keys.forEach(Ne=>ae.add(Ne)),l.overrides.forEach(([,Ne])=>Ne.forEach(Je=>ae.add(Je))),this.affectedKeys=[...ae.values()];const Ce=new Ro;this.affectedKeys.forEach(Ne=>Ce.setValue(Ne,{})),this.affectedKeysTree=Ce.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Ms.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(l,g){var S;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,l)){if(g){const Z=this.previousConfiguration?this.previousConfiguration.getValue(l,g,null===(S=this.previous)||void 0===S?void 0:S.workspace):void 0,ae=this.currentConfiguraiton.getValue(l,g,this.currentWorkspace);return!Do.fS(Z,ae)}return!0}return!1}doesAffectedKeysTreeContains(l,g){let Z,S=(0,Jo.Od)({[g]:!0},()=>{});for(;"object"==typeof S&&(Z=Object.keys(S)[0]);){if(!(l=l[Z]))return!1;S=S[Z]}return!0}}const lr=/^(cursor|delete)/;class Er extends it.JT{constructor(l,g,S,Z,ae){super(),this._contextKeyService=l,this._commandService=g,this._telemetryService=S,this._notificationService=Z,this._logService=ae,this._onDidUpdateKeybindings=this._register(new Q.Q5),this._currentChord=null,this._currentChordChecker=new In.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=gr.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new In._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Q.ju.None}dispose(){super.dispose()}_log(l){this._logging&&this._logService.info(`[KeybindingService]: ${l}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(l,g){const S=this._getResolver().lookupPrimaryKeybinding(l,g||this._contextKeyService);if(S)return S.resolvedKeybinding}dispatchEvent(l,g){return this._dispatch(l,g)}softDispatch(l,g){const S=this.resolveKeyboardEvent(l);if(S.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[Z]=S.getDispatchParts();if(null===Z)return null;const ae=this._contextKeyService.getContext(g),Ce=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(ae,Ce,Z)}_enterChordMode(l,g){this._currentChord={keypress:l,label:g},this._currentChordStatusMessage=this._notificationService.status(Vi.N("first.chord","({0}) was pressed. Waiting for second key of chord...",g));const S=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-S>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(l,g){return this._doDispatch(this.resolveKeyboardEvent(l),g,!1)}_singleModifierDispatch(l,g){const S=this.resolveKeyboardEvent(l),[Z]=S.getSingleModifierDispatchParts();if(Z)return this._ignoreSingleModifiers.has(Z)?(this._log(`+ Ignoring single modifier ${Z} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=gr.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=gr.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${Z}.`),this._currentSingleModifier=Z,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):Z===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${Z} ${Z}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(S,g,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${Z}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[ae]=S.getParts();return this._ignoreSingleModifiers=new gr(ae),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(l,g,S=!1){let Z=!1;if(l.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let ae=null,Ce=null;if(S){const[Bt]=l.getSingleModifierDispatchParts();ae=Bt,Ce=Bt}else[ae]=l.getDispatchParts(),Ce=this._currentChord?this._currentChord.keypress:null;if(null===ae)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Z;const Ne=this._contextKeyService.getContext(g),Je=l.getLabel(),Lt=this._getResolver().resolve(Ne,Ce,ae);return this._logService.trace("KeybindingService#dispatch",Je,null==Lt?void 0:Lt.commandId),Lt&&Lt.enterChord?(Z=!0,this._enterChordMode(ae,Je),Z):(this._currentChord&&(!Lt||!Lt.commandId)&&(this._notificationService.status(Vi.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,Je),{hideAfter:1e4}),Z=!0),this._leaveChordMode(),Lt&&Lt.commandId&&(Lt.bubble||(Z=!0),void 0===Lt.commandArgs?this._commandService.executeCommand(Lt.commandId).then(void 0,Bt=>this._notificationService.warn(Bt)):this._commandService.executeCommand(Lt.commandId,Lt.commandArgs).then(void 0,Bt=>this._notificationService.warn(Bt)),lr.test(Lt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Lt.commandId,from:"keybinding"})),Z)}mightProducePrintableCharacter(l){return!l.ctrlKey&&!l.metaKey&&(l.keyCode>=31&&l.keyCode<=56||l.keyCode>=21&&l.keyCode<=30)}}class gr{constructor(l){this._ctrlKey=!!l&&l.ctrlKey,this._shiftKey=!!l&&l.shiftKey,this._altKey=!!l&&l.altKey,this._metaKey=!!l&&l.metaKey}has(l){switch(l){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}gr.EMPTY=new gr(null);var la=m(7090);class ul{constructor(l,g,S){this._log=S,this._defaultKeybindings=l,this._defaultBoundCommands=new Map;for(const Z of l){const ae=Z.command;ae&&"-"!==ae.charAt(0)&&this._defaultBoundCommands.set(ae,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=ul.handleRemovals([].concat(l).concat(g));for(let Z=0,ae=this._keybindings.length;Z<ae;Z++){let Ce=this._keybindings[Z];0!==Ce.keypressParts.length&&(Ce.when&&0===Ce.when.type||this._addKeyPress(Ce.keypressParts[0],Ce))}}static _isTargetedForRemoval(l,g,S,Z){return!(g&&l.keypressParts[0]!==g||S&&l.keypressParts[1]!==S||Z&&(!l.when||!(0,Hn.Fb)(Z,l.when)))}static handleRemovals(l){const g=new Map;for(let Z=0,ae=l.length;Z<ae;Z++){const Ce=l[Z];if(Ce.command&&"-"===Ce.command.charAt(0)){const Ne=Ce.command.substring(1);g.has(Ne)?g.get(Ne).push(Ce):g.set(Ne,[Ce])}}if(0===g.size)return l;const S=[];for(let Z=0,ae=l.length;Z<ae;Z++){const Ce=l[Z];if(!Ce.command||0===Ce.command.length){S.push(Ce);continue}if("-"===Ce.command.charAt(0))continue;const Ne=g.get(Ce.command);if(!Ne||!Ce.isDefault){S.push(Ce);continue}let Je=!1;for(const Lt of Ne)if(this._isTargetedForRemoval(Ce,Lt.keypressParts[0],Lt.keypressParts[1],Lt.when)){Je=!0;break}Je||S.push(Ce)}return S}_addKeyPress(l,g){const S=this._map.get(l);if(void 0===S)return this._map.set(l,[g]),void this._addToLookupMap(g);for(let Z=S.length-1;Z>=0;Z--){let ae=S[Z];if(ae.command===g.command)continue;const Ne=g.keypressParts.length>1;ae.keypressParts.length>1&&Ne&&ae.keypressParts[1]!==g.keypressParts[1]||ul.whenIsEntirelyIncluded(ae.when,g.when)&&this._removeFromLookupMap(ae)}S.push(g),this._addToLookupMap(g)}_addToLookupMap(l){if(!l.command)return;let g=this._lookupMap.get(l.command);void 0===g?(g=[l],this._lookupMap.set(l.command,g)):g.push(l)}_removeFromLookupMap(l){if(!l.command)return;let g=this._lookupMap.get(l.command);if(void 0!==g)for(let S=0,Z=g.length;S<Z;S++)if(g[S]===l)return void g.splice(S,1)}static whenIsEntirelyIncluded(l,g){return!g||1===g.type||!(!l||1===l.type)&&(0,Hn.K8)(l,g)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(l,g){const S=this._lookupMap.get(l);if(void 0===S||0===S.length)return null;if(1===S.length)return S[0];for(let Z=S.length-1;Z>=0;Z--){const ae=S[Z];if(g.contextMatchesRules(ae.when))return ae}return S[S.length-1]}resolve(l,g,S){this._log(`| Resolving ${S}${g?` chorded from ${g}`:""}`);let Z=null;if(null!==g){const Ce=this._map.get(g);if(void 0===Ce)return this._log("\\ No keybinding entries."),null;Z=[];for(let Ne=0,Je=Ce.length;Ne<Je;Ne++){let Lt=Ce[Ne];Lt.keypressParts[1]===S&&Z.push(Lt)}}else{const Ce=this._map.get(S);if(void 0===Ce)return this._log("\\ No keybinding entries."),null;Z=Ce}let ae=this._findCommand(l,Z);return ae?null===g&&ae.keypressParts.length>1&&null!==ae.keypressParts[1]?(this._log(`\\ From ${Z.length} keybinding entries, matched chord, when: ${ji(ae.when)}, source: ${bi(ae)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${Z.length} keybinding entries, matched ${ae.command}, when: ${ji(ae.when)}, source: ${bi(ae)}.`),{enterChord:!1,leaveChord:ae.keypressParts.length>1,commandId:ae.command,commandArgs:ae.commandArgs,bubble:ae.bubble}):(this._log(`\\ From ${Z.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(l,g){for(let S=g.length-1;S>=0;S--){let Z=g[S];if(ul._contextMatchesRules(l,Z.when))return Z}return null}static _contextMatchesRules(l,g){return!g||g.evaluate(l)}}function ji(E){return E?`${E.serialize()}`:"no when condition"}function bi(E){return E.extensionId?E.isBuiltinExtension?`built-in extension ${E.extensionId}`:`user extension ${E.extensionId}`:E.isDefault?"built-in":"user"}var eo=m(7550);class rs{constructor(l,g,S,Z,ae,Ce,Ne){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=l,this.keypressParts=l?Vs(l.getDispatchParts()):[],l&&0===this.keypressParts.length&&(this.keypressParts=Vs(l.getSingleModifierDispatchParts())),this.bubble=!!g&&94===g.charCodeAt(0),this.command=this.bubble?g.substr(1):g,this.commandArgs=S,this.when=Z,this.isDefault=ae,this.extensionId=Ce,this.isBuiltinExtension=Ne}}function Vs(E){let l=[];for(let g=0,S=E.length;g<S;g++){const Z=E[g];if(!Z)return l;l.push(Z)}return l}var Ds=m(27);class zr extends Tt.f1{constructor(l,g){if(super(),0===g.length)throw(0,$t.b1)("parts");this._os=l,this._parts=g}getLabel(){return Ds.xo.toLabel(this._os,this._parts,l=>this._getLabel(l))}getAriaLabel(){return Ds.X4.toLabel(this._os,this._parts,l=>this._getAriaLabel(l))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Ds.jC.toLabel(this._os,this._parts,l=>this._getElectronAccelerator(l))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(l=>this._getPart(l))}_getPart(l){return new Tt.BQ(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,this._getLabel(l),this._getAriaLabel(l))}getDispatchParts(){return this._parts.map(l=>this._getDispatchPart(l))}getSingleModifierDispatchParts(){return this._parts.map(l=>this._getSingleModifierDispatchPart(l))}}class Xr extends zr{constructor(l,g){super(g,l.parts)}_keyCodeToUILabel(l){if(2===this._os)switch(l){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return k.kL.toString(l)}_getLabel(l){return l.isDuplicateModifierCase()?"":this._keyCodeToUILabel(l.keyCode)}_getAriaLabel(l){return l.isDuplicateModifierCase()?"":k.kL.toString(l.keyCode)}_getElectronAccelerator(l){return k.kL.toElectronAccelerator(l.keyCode)}_getDispatchPart(l){return Xr.getDispatchStr(l)}static getDispatchStr(l){if(l.isModifierKey())return null;let g="";return l.ctrlKey&&(g+="ctrl+"),l.shiftKey&&(g+="shift+"),l.altKey&&(g+="alt+"),l.metaKey&&(g+="meta+"),g+=k.kL.toString(l.keyCode),g}_getSingleModifierDispatchPart(l){return 5!==l.keyCode||l.shiftKey||l.altKey||l.metaKey?4!==l.keyCode||l.ctrlKey||l.altKey||l.metaKey?6!==l.keyCode||l.ctrlKey||l.shiftKey||l.metaKey?57!==l.keyCode||l.ctrlKey||l.shiftKey||l.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(l){const g=k.Vd[l];if(-1!==g)return g;switch(l){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(l){if(!l)return null;if(l instanceof Tt.QC)return l;const g=this._scanCodeToKeyCode(l.scanCode);return 0===g?null:new Tt.QC(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,g)}static resolveUserBinding(l,g){const S=Vs(l.map(Z=>this._resolveSimpleUserBinding(Z)));return S.length>0?[new Xr(new Tt.X_(S),g)]:[]}}var zs=m(203),ns=m(2534),Ur=m(9881),Es=m(2405),_a=m(9710),ur=m(6031),jr=m(4394),Jr=m(7991),Pl=m(6656),Ka=(m(5169),(()=>(function(E){E[E.AVOID=0]="AVOID",E[E.ALIGN=1]="ALIGN"}(Ka||(Ka={})),Ka))());function va(E,l,g){const S=g.mode===Ka.ALIGN?g.offset:g.offset+g.size,Z=g.mode===Ka.ALIGN?g.offset+g.size:g.offset;return 0===g.position?l<=E-S?S:l<=Z?Z-l:Math.max(E-l,0):l<=Z?Z-l:l<=E-S?S:0}let rc=(()=>{class E extends it.JT{constructor(g,S){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=it.JT.None,this.toDisposeOnSetContainer=it.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=zt.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,zt.Cp(this.view),this.setContainer(g,S),this._register((0,it.OF)(()=>this.setContainer(null,1)))}setContainer(g,S){var Z;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(Z=this.shadowRootHostElement)||void 0===Z||Z.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),g){if(this.container=g,this.useFixedPosition=1!==S,this.useShadowDOM=3===S,this.useShadowDOM){this.shadowRootHostElement=zt.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const Ce=document.createElement("style");Ce.textContent=Tc,this.shadowRoot.appendChild(Ce),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(zt.$("slot"))}else this.container.appendChild(this.view);const ae=new it.SL;E.BUBBLE_UP_EVENTS.forEach(Ce=>{ae.add(zt.mu(this.container,Ce,Ne=>{this.onDOMEvent(Ne,!1)}))}),E.BUBBLE_DOWN_EVENTS.forEach(Ce=>{ae.add(zt.mu(this.container,Ce,Ne=>{this.onDOMEvent(Ne,!0)},!0))}),this.toDisposeOnSetContainer=ae}}show(g){this.isVisible()&&this.hide(),zt.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",zt.$Z(this.view),this.toDisposeOnClean=g.render(this.view)||it.JT.None,this.delegate=g,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||bt.gn&&Jr.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let S,g=this.delegate.getAnchor();if(zt.Re(g)){let Un=zt.i(g);S={top:Un.top,left:Un.left,width:Un.width,height:Un.height}}else S={top:g.y,left:g.x,width:g.width||1,height:g.height||2};const Z=zt.w(this.view),ae=zt.wn(this.view),Ce=this.delegate.anchorPosition||0,Ne=this.delegate.anchorAlignment||0;let Lt,Bt;if(0===(this.delegate.anchorAxisAlignment||0)){const Un={offset:S.top-window.pageYOffset,size:S.height,position:0===Ce?0:1},di={offset:S.left,size:S.width,position:0===Ne?0:1,mode:Ka.ALIGN};Lt=va(window.innerHeight,ae,Un)+window.pageYOffset,Pl.e.intersects({start:Lt,end:Lt+ae},{start:Un.offset,end:Un.offset+Un.size})&&(di.mode=Ka.AVOID),Bt=va(window.innerWidth,Z,di)}else{const Un={offset:S.left,size:S.width,position:0===Ne?0:1},di={offset:S.top,size:S.height,position:0===Ce?0:1,mode:Ka.ALIGN};Bt=va(window.innerWidth,Z,Un),Pl.e.intersects({start:Bt,end:Bt+Z},{start:Un.offset,end:Un.offset+Un.size})&&(di.mode=Ka.AVOID),Lt=va(window.innerHeight,ae,di)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===Ce?"bottom":"top"),this.view.classList.add(0===Ne?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const gn=zt.i(this.container);this.view.style.top=Lt-(this.useFixedPosition?zt.i(this.view).top:gn.top)+"px",this.view.style.left=Bt-(this.useFixedPosition?zt.i(this.view).left:gn.left)+"px",this.view.style.width="initial"}hide(g){const S=this.delegate;this.delegate=null,(null==S?void 0:S.onHide)&&S.onHide(g),this.toDisposeOnClean.dispose(),zt.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(g,S){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(g,document.activeElement):S&&!zt.jg(g.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return E.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],E.BUBBLE_DOWN_EVENTS=["click"],E})(),Tc='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n',Us=class extends it.JT{constructor(l){super(),this.layoutService=l,this.currentViewDisposable=it.JT.None,this.container=l.hasContainer?l.container:null,this.contextView=this._register(new rc(this.container,1)),this.layout(),this._register(l.onDidLayout(()=>this.layout()))}setContainer(l,g){this.contextView.setContainer(l,g||1)}showContextView(l,g,S){g?g!==this.container&&(this.container=g,this.setContainer(g,S?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(l);const Z=(0,it.OF)(()=>{this.currentViewDisposable===Z&&this.hideContextView()});return this.currentViewDisposable=Z,Z}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(l){this.contextView.hide(l)}};Us=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([function(E,l){return function(g,S){l(g,S,0)}}(0,$i)],Us);var Vl=m(1383),kr=m(9341),ba=m(4163),qr=m(5151);let $a=[],iu=[],Ga=[];function fd(E,l=!1){const g=function Wl(E){return{id:E.id,mime:E.mime,filename:E.filename,extension:E.extension,filepattern:E.filepattern,firstline:E.firstline,userConfigured:E.userConfigured,filenameLowercase:E.filename?E.filename.toLowerCase():void 0,extensionLowercase:E.extension?E.extension.toLowerCase():void 0,filepatternLowercase:E.filepattern?(0,Vl.Qc)(E.filepattern.toLowerCase()):void 0,filepatternOnPath:!!E.filepattern&&E.filepattern.indexOf(ba.KR.sep)>=0}}(E);$a.push(g),g.userConfigured?Ga.push(g):iu.push(g),l&&!g.userConfigured&&$a.forEach(S=>{S.mime===g.mime||S.userConfigured||(g.extension&&S.extension===g.extension&&console.warn(`Overwriting extension <<${g.extension}>> to now point to mime <<${g.mime}>>`),g.filename&&S.filename===g.filename&&console.warn(`Overwriting filename <<${g.filename}>> to now point to mime <<${g.mime}>>`),g.filepattern&&S.filepattern===g.filepattern&&console.warn(`Overwriting filepattern <<${g.filepattern}>> to now point to mime <<${g.mime}>>`),g.firstline&&S.firstline===g.firstline&&console.warn(`Overwriting firstline <<${g.firstline}>> to now point to mime <<${g.mime}>>`))})}function pd(E,l,g){var S;let Z,ae,Ce;for(let Ne=g.length-1;Ne>=0;Ne--){const Je=g[Ne];if(l===Je.filenameLowercase){Z=Je;break}if(Je.filepattern&&(!ae||Je.filepattern.length>ae.filepattern.length)){const Lt=Je.filepatternOnPath?E:l;(null===(S=Je.filepatternLowercase)||void 0===S?void 0:S.call(Je,Lt))&&(ae=Je)}Je.extension&&(!Ce||Je.extension.length>Ce.extension.length)&&l.endsWith(Je.extensionLowercase)&&(Ce=Je)}return Z?Z.mime:ae?ae.mime:Ce?Ce.mime:void 0}var La=m(4669);const wl=Object.prototype.hasOwnProperty,Uf="vs.editor.nullLanguage";class Ac{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Uf,0),this._register(La.bd,1),this._nextLanguageId=2}_register(l,g){this._languageIdToLanguage[g]=l,this._languageToLanguageId.set(l,g)}register(l){if(this._languageToLanguageId.has(l))return;const g=this._nextLanguageId++;this._register(l,g)}encodeLanguageId(l){return this._languageToLanguageId.get(l)||0}decodeLanguageId(l){return this._languageIdToLanguage[l]||Uf}}let _d=(()=>{class E extends it.JT{constructor(g=!0,S=!1){super(),this._onDidChange=this._register(new Q.Q5),this.onDidChange=this._onDidChange.event,E.instanceCount++,this._warnOnOverwrite=S,this.languageIdCodec=new Ac,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},g&&(this._initializeFromRegistry(),this._register(La.dQ.onDidChangeLanguages(Z=>{this._initializeFromRegistry()})))}dispose(){E.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},function gd(E){E?($a=$a.filter(l=>!l.userConfigured),Ga=[]):($a=[],iu=[],Ga=[])}();const g=[].concat(La.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(g)}_registerLanguages(g){for(const S of g)this._registerLanguage(S);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(S=>{const Z=this._languages[S];Z.name&&(this._nameMap[Z.name]=Z.identifier),Z.aliases.forEach(ae=>{this._lowercaseNameMap[ae.toLowerCase()]=Z.identifier}),Z.mimetypes.forEach(ae=>{this._mimeTypesMap[ae]=Z.identifier})}),wn.B.as(cn.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(g){const S=g.id;let Z;wl.call(this._languages,S)?Z=this._languages[S]:(this.languageIdCodec.register(S),Z={identifier:S,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[S]=Z),this._mergeLanguage(Z,g)}_mergeLanguage(g,S){const Z=S.id;let ae=null;if(Array.isArray(S.mimetypes)&&S.mimetypes.length>0&&(g.mimetypes.push(...S.mimetypes),ae=S.mimetypes[0]),ae||(ae=`text/x-${Z}`,g.mimetypes.push(ae)),Array.isArray(S.extensions)){g.extensions=S.configuration?S.extensions.concat(g.extensions):g.extensions.concat(S.extensions);for(let Je of S.extensions)fd({id:Z,mime:ae,extension:Je},this._warnOnOverwrite)}if(Array.isArray(S.filenames))for(let Je of S.filenames)fd({id:Z,mime:ae,filename:Je},this._warnOnOverwrite),g.filenames.push(Je);if(Array.isArray(S.filenamePatterns))for(let Je of S.filenamePatterns)fd({id:Z,mime:ae,filepattern:Je},this._warnOnOverwrite);if("string"==typeof S.firstLine&&S.firstLine.length>0){let Je=S.firstLine;"^"!==Je.charAt(0)&&(Je="^"+Je);try{const Lt=new RegExp(Je);(0,Xt.IO)(Lt)||fd({id:Z,mime:ae,firstline:Lt},this._warnOnOverwrite)}catch(Lt){(0,$t.dL)(Lt)}}g.aliases.push(Z);let Ce=null;if(void 0!==S.aliases&&Array.isArray(S.aliases)&&(Ce=0===S.aliases.length?[null]:S.aliases),null!==Ce)for(const Je of Ce)!Je||0===Je.length||g.aliases.push(Je);const Ne=null!==Ce&&Ce.length>0;if(!Ne||null!==Ce[0]){const Je=(Ne?Ce[0]:null)||Z;(Ne||!g.name)&&(g.name=Je)}S.configuration&&g.configurationFiles.push(S.configuration),S.icon&&g.icons.push(S.icon)}isRegisteredLanguageId(g){return!!g&&wl.call(this._languages,g)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(g){const S=g.toLowerCase();return wl.call(this._lowercaseNameMap,S)?this._lowercaseNameMap[S]:null}getLanguageIdByMimeType(g){return g&&wl.call(this._mimeTypesMap,g)?this._mimeTypesMap[g]:null}guessLanguageIdByFilepathOrFirstLine(g,S){if(!g&&!S)return[];const Z=function md(E,l){let g;if(E)switch(E.scheme){case ci.lg.file:g=E.fsPath;break;case ci.lg.data:g=qr.Vb.parseMetaData(E).get(qr.Vb.META_DATA_LABEL);break;default:g=E.path}if(!g)return[kr.v.unknown];g=g.toLowerCase();const S=(0,ba.EZ)(g),Z=pd(g,S,Ga);if(Z)return[Z,kr.v.text];const ae=pd(g,S,iu);if(ae)return[ae,kr.v.text];if(l){const Ce=function Qu(E){if((0,Xt.uS)(E)&&(E=E.substr(1)),E.length>0)for(let l=$a.length-1;l>=0;l--){const g=$a[l];if(!g.firstline)continue;const S=E.match(g.firstline);if(S&&S.length>0)return g.mime}}(l);if(Ce)return[Ce,kr.v.text]}return[kr.v.unknown]}(g,S);return(0,Yi.kX)(Z.map(ae=>this.getLanguageIdByMimeType(ae)))}}return E.instanceCount=0,E})(),vd=(()=>{class E extends it.JT{constructor(g=!1){super(),this._onDidEncounterLanguage=this._register(new Q.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new Q.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,E.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new _d(!0,g)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){E.instanceCount--,super.dispose()}isRegisteredLanguageId(g){return this._registry.isRegisteredLanguageId(g)}getLanguageIdByLanguageName(g){return this._registry.getLanguageIdByLanguageName(g)}getLanguageIdByMimeType(g){return this._registry.getLanguageIdByMimeType(g)}guessLanguageIdByFilepathOrFirstLine(g,S){const Z=this._registry.guessLanguageIdByFilepathOrFirstLine(g,S);return(0,Yi.Xh)(Z,null)}createById(g){return new kc(this.onDidChange,()=>this._createAndGetLanguageIdentifier(g))}createByFilepathOrFirstLine(g,S){return new kc(this.onDidChange,()=>{const Z=this.guessLanguageIdByFilepathOrFirstLine(g,S);return this._createAndGetLanguageIdentifier(Z)})}_createAndGetLanguageIdentifier(g){return(!g||!this.isRegisteredLanguageId(g))&&(g=La.bd),this._encounteredLanguages.has(g)||(this._encounteredLanguages.add(g),V.RW.getOrCreate(g),this._onDidEncounterLanguage.fire(g)),g}}return E.instanceCount=0,E})();class kc{constructor(l,g){this._onDidChangeLanguages=l,this._selector=g,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new Q.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const l=this._selector();l!==this.languageId&&(this.languageId=l,this._emitter&&this._emitter.fire(this.languageId))}}var Rc=m(8394),Oc=m(3366),hr=m(9680),Hl=m(4039),bd=m(5909),Xu=m(4202),Cd=m(8152),Kr=m(5113),xa=m(2450),Lr=m(661);const Pc=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Fc=/(&amp;)?(&amp;)([^\s&])/g;var zl=(()=>(function(E){E[E.Right=0]="Right",E[E.Left=1]="Left"}(zl||(zl={})),zl))();class Rr extends Hl.o{constructor(l,g,S={}){l.classList.add("monaco-menu-container"),l.setAttribute("role","presentation");const Z=document.createElement("div");Z.classList.add("monaco-menu"),Z.setAttribute("role","presentation"),super(Z,{orientation:1,actionViewItemProvider:Ne=>this.doGetActionViewItem(Ne,S,ae),context:S.context,actionRunner:S.actionRunner,ariaLabel:S.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...bt.dz||bt.IJ?[10]:[]],keyDown:!0}}),this.menuElement=Z,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new it.SL),this.initializeOrUpdateStyleSheet(l,{}),this._register(hr.o.addTarget(Z)),(0,zt.nm)(Z,zt.tw.KEY_DOWN,Ne=>{new We.y(Ne).equals(2)&&Ne.preventDefault()}),S.enableMnemonics&&this.menuDisposables.add((0,zt.nm)(Z,zt.tw.KEY_DOWN,Ne=>{const Je=Ne.key.toLocaleLowerCase();if(this.mnemonics.has(Je)){zt.zB.stop(Ne,!0);const Lt=this.mnemonics.get(Je);if(1===Lt.length&&(Lt[0]instanceof Ya&&Lt[0].container&&this.focusItemByElement(Lt[0].container),Lt[0].onClick(Ne)),Lt.length>1){const Bt=Lt.shift();Bt&&Bt.container&&(this.focusItemByElement(Bt.container),Lt.push(Bt)),this.mnemonics.set(Je,Lt)}}})),bt.IJ&&this._register((0,zt.nm)(Z,zt.tw.KEY_DOWN,Ne=>{const Je=new We.y(Ne);Je.equals(14)||Je.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),zt.zB.stop(Ne,!0)):(Je.equals(13)||Je.equals(12))&&(this.focusedItem=0,this.focusPrevious(),zt.zB.stop(Ne,!0))})),this._register((0,zt.nm)(this.domNode,zt.tw.MOUSE_OUT,Ne=>{(0,zt.jg)(Ne.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),Ne.stopPropagation())})),this._register((0,zt.nm)(this.actionsList,zt.tw.MOUSE_OVER,Ne=>{let Je=Ne.target;if(Je&&(0,zt.jg)(Je,this.actionsList)&&Je!==this.actionsList){for(;Je.parentElement!==this.actionsList&&null!==Je.parentElement;)Je=Je.parentElement;if(Je.classList.contains("action-item")){const Lt=this.focusedItem;this.setFocusedItem(Je),Lt!==this.focusedItem&&this.updateFocus()}}})),this._register(hr.o.addTarget(this.actionsList)),this._register((0,zt.nm)(this.actionsList,hr.t.Tap,Ne=>{let Je=Ne.initialTarget;if(Je&&(0,zt.jg)(Je,this.actionsList)&&Je!==this.actionsList){for(;Je.parentElement!==this.actionsList&&null!==Je.parentElement;)Je=Je.parentElement;if(Je.classList.contains("action-item")){const Lt=this.focusedItem;this.setFocusedItem(Je),Lt!==this.focusedItem&&this.updateFocus()}}}));let ae={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Cd.s$(Z,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Ce=this.scrollableElement.getDomNode();Ce.style.position="",this._register((0,zt.nm)(Z,hr.t.Change,Ne=>{zt.zB.stop(Ne,!0);const Je=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Je-Ne.translationY})})),this._register((0,zt.nm)(Ce,zt.tw.MOUSE_UP,Ne=>{Ne.preventDefault()})),Z.style.maxHeight=`${Math.max(10,window.innerHeight-l.getBoundingClientRect().top-35)}px`,g=g.filter(Ne=>{var Je;return!(null===(Je=S.submenuIds)||void 0===Je?void 0:Je.has(Ne.id))||(console.warn(`Found submenu cycle: ${Ne.id}`),!1)}),this.push(g,{icon:!0,label:!0,isMenu:!0}),l.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(Ne=>!(Ne instanceof ac)).forEach((Ne,Je,Lt)=>{Ne.updatePositionInSet(Je+1,Lt.length)})}initializeOrUpdateStyleSheet(l,g){this.styleSheet||((0,zt.OO)(l)?this.styleSheet=(0,zt.dS)(l):(Rr.globalStyleSheet||(Rr.globalStyleSheet=(0,zt.dS)()),this.styleSheet=Rr.globalStyleSheet)),this.styleSheet.textContent=function Ia(E){let l=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${(0,Xu.a)(xa.lA.menuSelection)}\n${(0,Xu.a)(xa.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n`;const g=E.scrollbarShadow;g&&(l+=`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${g} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${g} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${g} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const S=E.scrollbarSliderBackground;S&&(l+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${S};\n\t\t\t}\n\t\t`);const Z=E.scrollbarSliderHoverBackground;Z&&(l+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${Z};\n\t\t\t}\n\t\t`);const ae=E.scrollbarSliderActiveBackground;return ae&&(l+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${ae};\n\t\t\t}\n\t\t`),l}(g)}style(l){const g=this.getContainer();this.initializeOrUpdateStyleSheet(g,l);const S=l.foregroundColor?`${l.foregroundColor}`:"",Z=l.backgroundColor?`${l.backgroundColor}`:"",Ce=l.shadowColor?`0 2px 4px ${l.shadowColor}`:"";g.style.border=l.borderColor?`1px solid ${l.borderColor}`:"",this.domNode.style.color=S,this.domNode.style.backgroundColor=Z,g.style.boxShadow=Ce,this.viewItems&&this.viewItems.forEach(Ne=>{(Ne instanceof fr||Ne instanceof ac)&&Ne.style(l)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(l){const g=this.focusedItem;this.setFocusedItem(l),g!==this.focusedItem&&this.updateFocus()}setFocusedItem(l){for(let g=0;g<this.actionsList.children.length;g++)if(l===this.actionsList.children[g]){this.focusedItem=g;break}}updateFocus(l){super.updateFocus(l,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(l,g,S){if(l instanceof Kr.Z0)return new ac(g.context,l,{icon:!0});if(l instanceof Kr.wY){const Z=new Ya(l,l.actions,S,Object.assign(Object.assign({},g),{submenuIds:new Set([...g.submenuIds||[],l.id])}));if(g.enableMnemonics){const ae=Z.getMnemonic();if(ae&&Z.isEnabled()){let Ce=[];this.mnemonics.has(ae)&&(Ce=this.mnemonics.get(ae)),Ce.push(Z),this.mnemonics.set(ae,Ce)}}return Z}{const Z={enableMnemonics:g.enableMnemonics,useEventAsContext:g.useEventAsContext};if(g.getKeyBinding){const Ce=g.getKeyBinding(l);if(Ce){const Ne=Ce.getLabel();Ne&&(Z.keybinding=Ne)}}const ae=new fr(g.context,l,Z);if(g.enableMnemonics){const Ce=ae.getMnemonic();if(Ce&&ae.isEnabled()){let Ne=[];this.mnemonics.has(Ce)&&(Ne=this.mnemonics.get(Ce)),Ne.push(ae),this.mnemonics.set(Ce,Ne)}}return ae}}}class fr extends bd.Y{constructor(l,g,S={}){if(S.isMenu=!0,super(g,g,S),this.options=S,this.options.icon=void 0!==S.icon&&S.icon,this.options.label=void 0===S.label||S.label,this.cssClass="",this.options.label&&S.enableMnemonics){let Z=this.getAction().label;if(Z){let ae=Pc.exec(Z);ae&&(this.mnemonic=(ae[1]?ae[1]:ae[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new In.pY(()=>{!this.element||(this._register((0,zt.nm)(this.element,zt.tw.MOUSE_UP,Z=>{if(zt.zB.stop(Z,!0),Oc.isFirefox){if(new Rc.n(Z).rightButton)return;this.onClick(Z)}else setTimeout(()=>{this.onClick(Z)},0)})),this._register((0,zt.nm)(this.element,zt.tw.CONTEXT_MENU,Z=>{zt.zB.stop(Z,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(l){super.render(l),this.element&&(this.container=l,this.item=(0,zt.R3)(this.element,(0,zt.$)("a.action-menu-item")),this._action.id===Kr.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,zt.R3)(this.item,(0,zt.$)("span.menu-item-check"+xa.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,zt.R3)(this.item,(0,zt.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,zt.R3)(this.item,(0,zt.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(l,g){this.item&&(this.item.setAttribute("aria-posinset",`${l}`),this.item.setAttribute("aria-setsize",`${g}`))}updateLabel(){if(this.label&&this.options.label){(0,zt.PO)(this.label);let l=(0,Lr.x$)(this.getAction().label);if(l){const g=function Sl(E){const l=Pc,g=l.exec(E);return g?E.replace(l,g[1]?"":"$2$3").trim():E}(l);this.options.enableMnemonics||(l=g),this.label.setAttribute("aria-label",g.replace(/&&/g,"&"));const S=Pc.exec(l);if(S){l=Xt.YU(l),Fc.lastIndex=0;let Z=Fc.exec(l);for(;Z&&Z[1];)Z=Fc.exec(l);const ae=Ce=>Ce.replace(/&amp;&amp;/g,"&amp;");Z?this.label.append(Xt.j3(ae(l.substr(0,Z.index))," "),(0,zt.$)("u",{"aria-hidden":"true"},Z[3]),Xt.oL(ae(l.substr(Z.index+Z[0].length))," ")):this.label.innerText=ae(l).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(S[1]?S[1]:S[3]).toLocaleLowerCase())}else this.label.innerText=l.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const l=this.getAction().checked;this.item.classList.toggle("checked",!!l),void 0!==l?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",l?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const l=this.element&&this.element.classList.contains("focused"),g=l&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,S=l&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Z=l&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=g?g.toString():"",this.item.style.backgroundColor=S?S.toString():""),this.check&&(this.check.style.color=g?g.toString():""),this.container&&(this.container.style.border=Z)}style(l){this.menuStyle=l,this.applyStyle()}}class Ya extends fr{constructor(l,g,S,Z){super(l,l,Z),this.submenuActions=g,this.parentData=S,this.submenuOptions=Z,this.mysubmenu=null,this.submenuDisposables=this._register(new it.SL),this.mouseOver=!1,this.expandDirection=Z&&void 0!==Z.expandDirection?Z.expandDirection:zl.Right,this.showScheduler=new In.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new In.pY(()=>{this.element&&!(0,zt.jg)((0,zt.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(l){super.render(l),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,zt.R3)(this.item,(0,zt.$)("span.submenu-indicator"+xa.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,zt.nm)(this.element,zt.tw.KEY_UP,g=>{let S=new We.y(g);(S.equals(17)||S.equals(3))&&(zt.zB.stop(g,!0),this.createSubmenu(!0))})),this._register((0,zt.nm)(this.element,zt.tw.KEY_DOWN,g=>{let S=new We.y(g);(0,zt.vY)()===this.item&&(S.equals(17)||S.equals(3))&&zt.zB.stop(g,!0)})),this._register((0,zt.nm)(this.element,zt.tw.MOUSE_OVER,g=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,zt.nm)(this.element,zt.tw.MOUSE_LEAVE,g=>{this.mouseOver=!1})),this._register((0,zt.nm)(this.element,zt.tw.FOCUS_OUT,g=>{this.element&&!(0,zt.jg)((0,zt.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(l){zt.zB.stop(l,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(l){if(this.parentData.submenu&&(l||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(g){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(l,g,S,Z){const ae={top:0,left:0};return ae.left=va(l.width,g.width,{position:Z===zl.Right?0:1,offset:S.left,size:S.width}),ae.left>=S.left&&ae.left<S.left+S.width&&(S.left+10+g.width<=l.width&&(ae.left=S.left+10),S.top+=10,S.height=0),ae.top=va(l.height,g.height,{position:0,offset:S.top,size:0}),ae.top+g.height===S.top&&ae.top+S.height+g.height<=l.height&&(ae.top+=S.height),ae}createSubmenu(l=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,zt.R3)(this.element,(0,zt.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const g=getComputedStyle(this.parentData.parent.domNode),S=parseFloat(g.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Rr(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Kr.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const Z=this.element.getBoundingClientRect(),ae={top:Z.top-S,left:Z.left,height:Z.height+2*S,width:Z.width},Ce=this.submenuContainer.getBoundingClientRect(),{top:Ne,left:Je}=this.calculateSubmenuMenuLayout(new zt.Ro(window.innerWidth,window.innerHeight),zt.Ro.lift(Ce),ae,this.expandDirection);this.submenuContainer.style.left=Je-Ce.left+"px",this.submenuContainer.style.top=Ne-Ce.top+"px",this.submenuDisposables.add((0,zt.nm)(this.submenuContainer,zt.tw.KEY_UP,Lt=>{new We.y(Lt).equals(15)&&(zt.zB.stop(Lt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,zt.nm)(this.submenuContainer,zt.tw.KEY_DOWN,Lt=>{new We.y(Lt).equals(15)&&zt.zB.stop(Lt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(l),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(l){var g;this.item&&(null===(g=this.item)||void 0===g||g.setAttribute("aria-expanded",l))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const g=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=g?`${g}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class ac extends bd.g{style(l){this.label&&(this.label.style.borderBottomColor=l.separatorColor?`${l.separatorColor}`:"")}}m(3840);var Za=m(2151);class yd{constructor(l,g,S,Z,ae){this.contextViewService=l,this.telemetryService=g,this.notificationService=S,this.keybindingService=Z,this.themeService=ae,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(l){this.options=l}showContextMenu(l){const g=l.getActions();if(!g.length)return;this.focusToReturn=document.activeElement;let S,Z=(0,zt.Re)(l.domForShadowRoot)?l.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>l.getAnchor(),canRelayout:!1,anchorAlignment:l.anchorAlignment,anchorAxisAlignment:l.anchorAxisAlignment,render:ae=>{let Ce=l.getMenuClassName?l.getMenuClassName():"";Ce&&(ae.className+=" "+Ce),this.options.blockMouse&&(this.block=ae.appendChild((0,zt.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,zt.nm)(this.block,zt.tw.MOUSE_DOWN,Lt=>Lt.stopPropagation()));const Ne=new it.SL,Je=l.actionRunner||new Kr.Wi;return Je.onBeforeRun(this.onActionRun,this,Ne),Je.onDidRun(this.onDidActionRun,this,Ne),S=new Rr(ae,g,{actionViewItemProvider:l.getActionViewItem,context:l.getActionsContext?l.getActionsContext():null,actionRunner:Je,getKeyBinding:l.getKeyBinding?l.getKeyBinding:Lt=>this.keybindingService.lookupKeybinding(Lt.id)}),Ne.add((0,Za.tj)(S,this.themeService)),S.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,Ne),S.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,Ne),Ne.add((0,zt.nm)(window,zt.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),Ne.add((0,zt.nm)(window,zt.tw.MOUSE_DOWN,Lt=>{if(Lt.defaultPrevented)return;let Bt=new Rc.n(Lt),gn=Bt.target;if(!Bt.rightButton){for(;gn;){if(gn===ae)return;gn=gn.parentElement}this.contextViewService.hideContextView(!0)}})),(0,it.F8)(Ne,S)},focus:()=>{S&&S.focus(!!l.autoSelectFirstItem)},onHide:ae=>{l.onHide&&l.onHide(!!ae),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},Z,!!Z)}onActionRun(l){this.telemetryService.publicLog2("workbenchActionExecuted",{id:l.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(l){l.error&&!(0,$t.n2)(l.error)&&this.notificationService.error(l.error)}}var cc=function(E,l){return function(g,S){l(g,S,E)}};let wd=class extends it.JT{constructor(l,g,S,Z,ae){super(),this._onDidShowContextMenu=new Q.Q5,this._onDidHideContextMenu=new Q.Q5,this.contextMenuHandler=new yd(S,l,g,Z,ae)}configure(l){this.contextMenuHandler.configure(l)}showContextMenu(l){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},l),{onHide:g=>{l.onHide&&l.onHide(g),this._onDidHideContextMenu.fire()}})),zt._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};wd=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([cc(0,Ur.b),cc(1,Hs.lT),cc(2,jr.u),cc(3,la.d),cc(4,Re.XE)],wd);var Xs=m(8460),vm=m(3314),ou=(()=>(function(E){E[E.API=0]="API",E[E.USER=1]="USER"}(ou||(ou={})),ou))(),ca=m(8661),jf=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae},Ju=function(E,l){return function(g,S){l(g,S,E)}},jl=function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})};let qu=class{constructor(l){this._commandService=l}open(l,g){return jl(this,void 0,void 0,function*(){if(!(0,ca.xn)(l,ci.lg.command))return!1;if(!(null==g?void 0:g.allowCommands))return!0;"string"==typeof l&&(l=R.o.parse(l));let S=[];try{S=(0,vm.Q)(decodeURIComponent(l.query))}catch(Z){try{S=(0,vm.Q)(l.query)}catch(ae){}}return Array.isArray(S)||(S=[S]),yield this._commandService.executeCommand(l.path,...S),!0})}};qu=jf([Ju(0,ts.Hy)],qu);let Ma=class{constructor(l){this._editorService=l}open(l,g){return jl(this,void 0,void 0,function*(){"string"==typeof l&&(l=R.o.parse(l));const S=(0,ca.vO)(l);return S&&(l=l.with({fragment:""})),l.scheme===ci.lg.file&&(l=(0,qr.AH)(l)),yield this._editorService.openCodeEditor({resource:l,options:Object.assign({selection:S,context:(null==g?void 0:g.fromUserGesture)?ou.USER:ou.API},null==g?void 0:g.editorOptions)},this._editorService.getFocusedCodeEditor(),null==g?void 0:g.openToSide),!0})}};Ma=jf([Ju(0,At.$)],Ma);let ea=class{constructor(l,g){this._openers=new Xs.S,this._validators=new Xs.S,this._resolvers=new Xs.S,this._resolvedUriTargets=new io.Y9(S=>S.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Xs.S,this._defaultExternalOpener={openExternal:S=>jl(this,void 0,void 0,function*(){return(0,ca.Gs)(S,ci.lg.http,ci.lg.https)?zt.V3(S):window.location.href=S,!0})},this._openers.push({open:(S,Z)=>jl(this,void 0,void 0,function*(){return!(!(null==Z?void 0:Z.openExternal)&&!(0,ca.Gs)(S,ci.lg.mailto,ci.lg.http,ci.lg.https,ci.lg.vsls)||(yield this._doOpenExternal(S,Z),0))})}),this._openers.push(new qu(g)),this._openers.push(new Ma(l))}registerOpener(l){return{dispose:this._openers.unshift(l)}}registerValidator(l){return{dispose:this._validators.push(l)}}registerExternalUriResolver(l){return{dispose:this._resolvers.push(l)}}setDefaultExternalOpener(l){this._defaultExternalOpener=l}registerExternalOpener(l){return{dispose:this._externalOpeners.push(l)}}open(l,g){var S;return jl(this,void 0,void 0,function*(){const Z="string"==typeof l?R.o.parse(l):l,ae=null!==(S=this._resolvedUriTargets.get(Z))&&void 0!==S?S:l;for(const Ce of this._validators)if(!(yield Ce.shouldOpen(ae)))return!1;for(const Ce of this._openers)if(yield Ce.open(l,g))return!0;return!1})}resolveExternalUri(l,g){return jl(this,void 0,void 0,function*(){for(const S of this._resolvers)try{const Z=yield S.resolveExternalUri(l,g);if(Z)return this._resolvedUriTargets.has(Z.resolved)||this._resolvedUriTargets.set(Z.resolved,l),Z}catch(Z){}throw new Error("Could not resolve external URI: "+l.toString())})}_doOpenExternal(l,g){return jl(this,void 0,void 0,function*(){const S="string"==typeof l?R.o.parse(l):l;let Z,ae;try{Z=(yield this.resolveExternalUri(S,g)).resolved}catch(Ce){Z=S}if(ae="string"==typeof l&&S.toString()===Z.toString()?l:encodeURI(Z.toString(!0)),null==g?void 0:g.allowContributedOpeners){const Ce="string"==typeof(null==g?void 0:g.allowContributedOpeners)?null==g?void 0:g.allowContributedOpeners:void 0;for(const Ne of this._externalOpeners)if(yield Ne.openExternal(ae,{sourceUri:S,preferredOpenerId:Ce},h.T.None))return!0}return this._defaultExternalOpener.openExternal(ae,{sourceUri:S},h.T.None)})}dispose(){this._validators.clear()}};ea=jf([Ju(0,At.$),Ju(1,ts.Hy)],ea);var qo=m(2882),Na=m(3448),go=m(8708),dc=function(E,l){return function(g,S){l(g,S,E)}};class js extends it.JT{constructor(l){super(),this.model=l,this._markersData=new Map,this._register((0,it.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(l,g){const S=[...this._markersData.keys()];this._markersData.clear();const Z=this.model.deltaDecorations(S,g);for(let ae=0;ae<Z.length;ae++)this._markersData.set(Z[ae],l[ae]);return 0!==S.length||0!==Z.length}getMarker(l){return this._markersData.get(l.id)}}let ta=class extends it.JT{constructor(l,g){super(),this._markerService=g,this._onDidChangeMarker=this._register(new Q.Q5),this._markerDecorations=new io.Y9,l.getModels().forEach(S=>this._onModelAdded(S)),this._register(l.onModelAdded(this._onModelAdded,this)),this._register(l.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(l=>l.dispose()),this._markerDecorations.clear()}getMarker(l,g){const S=this._markerDecorations.get(l);return S&&S.getMarker(g)||null}_handleMarkerChange(l){l.forEach(g=>{const S=this._markerDecorations.get(g);S&&this._updateDecorations(S)})}_onModelAdded(l){const g=new js(l);this._markerDecorations.set(l.uri,g),this._updateDecorations(g)}_onModelRemoved(l){const g=this._markerDecorations.get(l.uri);g&&(g.dispose(),this._markerDecorations.delete(l.uri)),(l.uri.scheme===ci.lg.inMemory||l.uri.scheme===ci.lg.internal||l.uri.scheme===ci.lg.vscode)&&this._markerService&&this._markerService.read({resource:l.uri}).map(S=>S.owner).forEach(S=>this._markerService.remove(S,[l.uri]))}_updateDecorations(l){const g=this._markerService.read({resource:l.model.uri,take:500}),S=g.map(Z=>({range:this._createDecorationRange(l.model,Z),options:this._createDecorationOption(Z)}));l.update(g,S)&&this._onDidChangeMarker.fire(l.model)}_createDecorationRange(l,g){let S=j.e.lift(g);return g.severity===qo.ZL.Hint&&!this._hasMarkerTag(g,1)&&!this._hasMarkerTag(g,2)&&(S=S.setEndPosition(S.startLineNumber,S.startColumn+2)),l.validateRange(S)}_createDecorationOption(l){let g,S,Z,ae,Ce;switch(l.severity){case qo.ZL.Hint:g=this._hasMarkerTag(l,2)?void 0:this._hasMarkerTag(l,1)?"squiggly-unnecessary":"squiggly-hint",Z=0;break;case qo.ZL.Warning:g="squiggly-warning",S=(0,Re.EN)(Na.Re),Z=20,Ce={color:(0,Re.EN)(go.Ivo),position:Nn.F5.Inline};break;case qo.ZL.Info:g="squiggly-info",S=(0,Re.EN)(Na.eS),Z=10;break;default:g="squiggly-error",S=(0,Re.EN)(Na.lK),Z=30,Ce={color:(0,Re.EN)(go.Gj_),position:Nn.F5.Inline}}return l.tags&&(-1!==l.tags.indexOf(1)&&(ae="squiggly-inline-unnecessary"),-1!==l.tags.indexOf(2)&&(ae="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:g,showIfCollapsed:!0,overviewRuler:{color:S,position:Nn.sh.Right},minimap:Ce,zIndex:Z,inlineClassName:ae}}_hasMarkerTag(l,g){return!!l.tags&&l.tags.indexOf(g)>=0}};ta=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([dc(0,_n.q),dc(1,qo.lT)],ta);var st=m(2945),r=m(6844),b=(m(5775),m(5172)),B=m(2452),U=m(4459),le=m(8927);m(8620);const Oe={buttonBackground:le.Il.fromHex("#0E639C"),buttonHoverBackground:le.Il.fromHex("#006BB3"),buttonForeground:le.Il.white};class je extends it.JT{constructor(l,g){super(),this._onDidClick=this._register(new Q.Q5),this.options=g||Object.create(null),(0,Do.jB)(this.options,Oe,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),l.appendChild(this._element),this._register(hr.o.addTarget(this._element)),[zt.tw.CLICK,hr.t.Tap].forEach(S=>{this._register((0,zt.nm)(this._element,S,Z=>{this.enabled?this._onDidClick.fire(Z):zt.zB.stop(Z)}))}),this._register((0,zt.nm)(this._element,zt.tw.KEY_DOWN,S=>{const Z=new We.y(S);let ae=!1;this.enabled&&(Z.equals(3)||Z.equals(10))?(this._onDidClick.fire(S),ae=!0):Z.equals(9)&&(this._element.blur(),ae=!0),ae&&zt.zB.stop(Z,!0)})),this._register((0,zt.nm)(this._element,zt.tw.MOUSE_OVER,S=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,zt.nm)(this._element,zt.tw.MOUSE_OUT,S=>{this.applyStyles()})),this.focusTracker=this._register((0,zt.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let l;l=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,l&&(this._element.style.backgroundColor=l)}style(l){this.buttonForeground=l.buttonForeground,this.buttonBackground=l.buttonBackground,this.buttonHoverBackground=l.buttonHoverBackground,this.buttonSecondaryForeground=l.buttonSecondaryForeground,this.buttonSecondaryBackground=l.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=l.buttonSecondaryHoverBackground,this.buttonBorder=l.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let l,g;this.options.secondary?(g=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",l=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(g=this.buttonForeground?this.buttonForeground.toString():"",l=this.buttonBackground?this.buttonBackground.toString():"");const S=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=g,this._element.style.backgroundColor=l,this._element.style.borderWidth=S?"1px":"",this._element.style.borderStyle=S?"solid":"",this._element.style.borderColor=S}}get element(){return this._element}set label(l){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,zt.mc)(this._element,...(0,U.T)(l)):this._element.textContent=l,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=l)}set enabled(l){l?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var rt=m(727);m(1693);const sn="infinite",Cn="infinite-long-running",En="discrete",Zn={progressBarBackground:le.Il.fromHex("#0E70C0")};let ai=(()=>{class E extends it.JT{constructor(g,S){super(),this.options=S||Object.create(null),(0,Do.jB)(this.options,Zn,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new In.pY(()=>(0,zt.$Z)(this.element),0)),this.longRunningScheduler=this._register(new In.pY(()=>this.infiniteLongRunning(),E.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(g)}create(g){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),g.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",sn,Cn,En),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(g){return this.element.classList.add("done"),this.element.classList.contains(sn)?(this.bit.style.opacity="0",g?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",g?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(En,"done",Cn),this.element.classList.add("active",sn),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Cn)}getContainer(){return this.element}style(g){this.progressBarBackground=g.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const g=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=g}}}return E.LONG_RUNNING_INFINITE_THRESHOLD=1e4,E})();var oi=m(8900);m(2083);const zi={},Ui=new oi.R("quick-input-button-icon-");function Gi(E){if(!E)return;let l;const g=E.dark.toString();return zi[g]?l=zi[g]:(l=Ui.nextId(),zt.fk(`.${l}`,`background-image: ${zt.wY(E.light||E.dark)}`),zt.fk(`.vs-dark .${l}, .hc-black .${l}`,`background-image: ${zt.wY(E.dark)}`),zi[g]=l),l}var Si=m(2099),qi=m(1523);const wo=zt.$;class uo extends it.JT{constructor(l){super(),this.parent=l,this.onKeyDown=g=>zt.nm(this.inputBox.inputElement,zt.tw.KEY_DOWN,S=>{g(new We.y(S))}),this.onMouseDown=g=>zt.nm(this.inputBox.inputElement,zt.tw.MOUSE_DOWN,S=>{g(new Rc.n(S))}),this.onDidChange=g=>this.inputBox.onDidChange(g),this.container=zt.R3(this.parent,wo(".quick-input-box")),this.inputBox=this._register(new qi.W(this.container,void 0))}get value(){return this.inputBox.value}set value(l){this.inputBox.value=l}select(l=null){this.inputBox.select(l)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(l){this.inputBox.setPlaceHolder(l)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(l){this.inputBox.setAriaLabel(l)}get password(){return"password"===this.inputBox.inputElement.type}set password(l){this.inputBox.inputElement.type=l?"password":"text"}setAttribute(l,g){this.inputBox.inputElement.setAttribute(l,g)}removeAttribute(l){this.inputBox.inputElement.removeAttribute(l)}showDecoration(l){l===Rs.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:l===Rs.Z.Info?1:l===Rs.Z.Warning?2:3,content:""})}stylesForType(l){return this.inputBox.stylesForType(l===Rs.Z.Info?1:l===Rs.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(l){this.inputBox.style(l)}}var ys=m(200);m(539);const Js=zt.$;class Uo{constructor(l,g,S){this.os=g,this.keyElements=new Set,this.options=S||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=zt.R3(l,Js(".monaco-keybinding")),this.didEverRender=!1,l.appendChild(this.domNode)}get element(){return this.domNode}set(l,g){this.didEverRender&&this.keybinding===l&&Uo.areSame(this.matches,g)||(this.keybinding=l,this.matches=g,this.render())}render(){if(this.clear(),this.keybinding){let[l,g]=this.keybinding.getParts();l&&this.renderPart(this.domNode,l,this.matches?this.matches.firstPart:null),g&&(zt.R3(this.domNode,Js("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,g,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){zt.PO(this.domNode),this.keyElements.clear()}renderPart(l,g,S){const Z=Ds.xo.modifierLabels[this.os];g.ctrlKey&&this.renderKey(l,Z.ctrlKey,Boolean(null==S?void 0:S.ctrlKey),Z.separator),g.shiftKey&&this.renderKey(l,Z.shiftKey,Boolean(null==S?void 0:S.shiftKey),Z.separator),g.altKey&&this.renderKey(l,Z.altKey,Boolean(null==S?void 0:S.altKey),Z.separator),g.metaKey&&this.renderKey(l,Z.metaKey,Boolean(null==S?void 0:S.metaKey),Z.separator);const ae=g.keyLabel;ae&&this.renderKey(l,ae,Boolean(null==S?void 0:S.keyCode),"")}renderKey(l,g,S,Z){zt.R3(l,this.createKeyElement(g,S?".highlight":"")),Z&&zt.R3(l,Js("span.monaco-keybinding-key-separator",void 0,Z))}renderUnbound(l){zt.R3(l,this.createKeyElement((0,Vi.N)("unbound","Unbound")))}createKeyElement(l,g=""){const S=Js("span.monaco-keybinding-key"+g,void 0,l);return this.keyElements.add(S),S}style(l){this.labelBackground=l.keybindingLabelBackground,this.labelForeground=l.keybindingLabelForeground,this.labelBorder=l.keybindingLabelBorder,this.labelBottomBorder=l.keybindingLabelBottomBorder,this.labelShadow=l.keybindingLabelShadow,this.applyStyles()}applyStyles(){var l;if(this.element){for(const g of this.keyElements)this.labelBackground&&(g.style.backgroundColor=null===(l=this.labelBackground)||void 0===l?void 0:l.toString()),this.labelBorder&&(g.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(g.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(g.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(l,g){return l===g||!l&&!g||!!l&&!!g&&(0,Do.fS)(l.firstPart,g.firstPart)&&(0,Do.fS)(l.chordPart,g.chordPart)}}const or=new In.Ue(()=>{const E=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:E,collatorIsNumeric:E.resolvedOptions().numeric}});new In.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new In.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var Bc=m(87),Sd=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae};const Ta=zt.$;class Dd{constructor(l){this.hidden=!1,this._onChecked=new Q.Q5,this.onChecked=this._onChecked.event,Object.assign(this,l)}get checked(){return!!this._checked}set checked(l){l!==this._checked&&(this._checked=l,this._onChecked.fire(l))}dispose(){this._onChecked.dispose()}}let $l=(()=>{class E{get templateId(){return E.ID}renderTemplate(g){const S=Object.create(null);S.toDisposeElement=[],S.toDisposeTemplate=[],S.entry=zt.R3(g,Ta(".quick-input-list-entry"));const Z=zt.R3(S.entry,Ta("label.quick-input-list-label"));S.toDisposeTemplate.push(zt.mu(Z,zt.tw.CLICK,Bt=>{S.checkbox.offsetParent||Bt.preventDefault()})),S.checkbox=zt.R3(Z,Ta("input.quick-input-list-checkbox")),S.checkbox.type="checkbox",S.toDisposeTemplate.push(zt.mu(S.checkbox,zt.tw.CHANGE,Bt=>{S.element.checked=S.checkbox.checked}));const ae=zt.R3(Z,Ta(".quick-input-list-rows")),Ce=zt.R3(ae,Ta(".quick-input-list-row")),Ne=zt.R3(ae,Ta(".quick-input-list-row"));S.label=new ys.g(Ce,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const Je=zt.R3(Ce,Ta(".quick-input-list-entry-keybinding"));S.keybinding=new Uo(Je,bt.OS);const Lt=zt.R3(Ne,Ta(".quick-input-list-label-meta"));return S.detail=new ys.g(Lt,{supportHighlights:!0,supportIcons:!0}),S.separator=zt.R3(S.entry,Ta(".quick-input-list-separator")),S.actionBar=new Hl.o(S.entry),S.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),S.toDisposeTemplate.push(S.actionBar),S}renderElement(g,S,Z){Z.toDisposeElement=(0,it.B9)(Z.toDisposeElement),Z.element=g,Z.checkbox.checked=g.checked,Z.toDisposeElement.push(g.onChecked(Bt=>Z.checkbox.checked=Bt));const{labelHighlights:ae,descriptionHighlights:Ce,detailHighlights:Ne}=g,Je=Object.create(null);Je.matches=ae||[],Je.descriptionTitle=g.saneDescription,Je.descriptionMatches=Ce||[],Je.extraClasses=g.item.iconClasses,Je.italic=g.item.italic,Je.strikethrough=g.item.strikethrough,Z.label.setLabel(g.saneLabel,g.saneDescription,Je),Z.keybinding.set(g.item.keybinding),g.saneDetail&&Z.detail.setLabel(g.saneDetail,void 0,{matches:Ne,title:g.saneDetail}),g.separator&&g.separator.label?(Z.separator.textContent=g.separator.label,Z.separator.style.display=""):Z.separator.style.display="none",Z.entry.classList.toggle("quick-input-list-separator-border",!!g.separator),Z.actionBar.clear();const Lt=g.item.buttons;Lt&&Lt.length?(Z.actionBar.push(Lt.map((Bt,gn)=>{let Un=Bt.iconClass||(Bt.iconPath?Gi(Bt.iconPath):void 0);Bt.alwaysVisible&&(Un=Un?`${Un} always-visible`:"always-visible");const di=new Kr.aU(`id-${gn}`,"",Un,!0,()=>function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})}(this,void 0,void 0,function*(){g.fireButtonTriggered({button:Bt,item:g.item})}));return di.tooltip=Bt.tooltip||"",di}),{icon:!0,label:!1}),Z.entry.classList.add("has-actions")):Z.entry.classList.remove("has-actions")}disposeElement(g,S,Z){Z.toDisposeElement=(0,it.B9)(Z.toDisposeElement)}disposeTemplate(g){g.toDisposeElement=(0,it.B9)(g.toDisposeElement),g.toDisposeTemplate=(0,it.B9)(g.toDisposeTemplate)}}return E.ID="listelement",E})();class $f{getHeight(l){return l.saneDetail?44:22}getTemplateId(l){return $l.ID}}var ws=(()=>(function(E){E[E.First=1]="First",E[E.Second=2]="Second",E[E.Last=3]="Last",E[E.Next=4]="Next",E[E.Previous=5]="Previous",E[E.NextPage=6]="NextPage",E[E.PreviousPage=7]="PreviousPage"}(ws||(ws={})),ws))();class su{constructor(l,g,S){this.parent=l,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Q.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Q.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Q.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Q.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Q.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Q.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Q.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=g,this.container=zt.R3(this.parent,Ta(".quick-input-list"));const Z=new $f,ae=new th;this.list=S.createList("QuickInput",this.container,Z,[new $l],{identityProvider:{getId:Ce=>Ce.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:ae}),this.list.getHTMLElement().id=g,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Ce=>{const Ne=new We.y(Ce);switch(Ne.keyCode){case 10:this.toggleCheckbox();break;case 31:(bt.dz?Ce.metaKey:Ce.ctrlKey)&&this.list.setFocus((0,Yi.w6)(this.list.length));break;case 16:{const Je=this.list.getFocus();1===Je.length&&0===Je[0]&&this._onLeave.fire();break}case 18:{const Je=this.list.getFocus();1===Je.length&&Je[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(Ne)})),this.disposables.push(this.list.onMouseDown(Ce=>{2!==Ce.browserEvent.button&&Ce.browserEvent.preventDefault()})),this.disposables.push(zt.nm(this.container,zt.tw.CLICK,Ce=>{(Ce.x||Ce.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Ce=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Ce=>{"number"==typeof Ce.index&&(Ce.browserEvent.preventDefault(),this.list.setSelection([Ce.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Q.ju.map(this.list.onDidChangeFocus,l=>l.elements.map(g=>g.item))}get onDidChangeSelection(){return Q.ju.map(this.list.onDidChangeSelection,l=>({items:l.elements.map(g=>g.item),event:l.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(l){this.list.scrollTop=l}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(l,g=!0){for(let S=0,Z=l.length;S<Z;S++){const ae=l[S];if(!ae.hidden){if(!ae.checked)return!1;g=!0}}return g}getCheckedCount(){let l=0;const g=this.elements;for(let S=0,Z=g.length;S<Z;S++)g[S].checked&&l++;return l}getVisibleCount(){let l=0;const g=this.elements;for(let S=0,Z=g.length;S<Z;S++)g[S].hidden||l++;return l}setAllVisibleChecked(l){try{this._fireCheckedEvents=!1,this.elements.forEach(g=>{g.hidden||(g.checked=l)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(l){this.elementDisposables=(0,it.B9)(this.elementDisposables);const g=S=>this.fireButtonTriggered(S);this.inputElements=l,this.elements=l.reduce((S,Z,ae)=>{var Ce,Ne,Je;if("separator"!==Z.type){const Lt=ae&&l[ae-1],Bt=Z.label&&Z.label.replace(/\r?\n/g," "),gn=Z.meta&&Z.meta.replace(/\r?\n/g," "),Un=Z.description&&Z.description.replace(/\r?\n/g," "),di=Z.detail&&Z.detail.replace(/\r?\n/g," "),Zi=Z.ariaLabel||[Bt,Un,di].map(bo=>(0,xa.JL)(bo)).filter(bo=>!!bo).join(", ");S.push(new Dd({index:ae,item:Z,saneLabel:Bt,saneMeta:gn,saneAriaLabel:Zi,saneDescription:Un,saneDetail:di,labelHighlights:null===(Ce=Z.highlights)||void 0===Ce?void 0:Ce.label,descriptionHighlights:null===(Ne=Z.highlights)||void 0===Ne?void 0:Ne.description,detailHighlights:null===(Je=Z.highlights)||void 0===Je?void 0:Je.detail,checked:!1,separator:Lt&&"separator"===Lt.type?Lt:void 0,fireButtonTriggered:g}))}return S},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(S=>S.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((S,Z,ae)=>(S.set(Z.item,ae),S),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(l=>l.item)}setFocusedElements(l){if(this.list.setFocus(l.filter(g=>this.elementsToIndexes.has(g)).map(g=>this.elementsToIndexes.get(g))),l.length>0){const g=this.list.getFocus()[0];"number"==typeof g&&this.list.reveal(g)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(l){this.list.setSelection(l.filter(g=>this.elementsToIndexes.has(g)).map(g=>this.elementsToIndexes.get(g)))}getCheckedElements(){return this.elements.filter(l=>l.checked).map(l=>l.item)}setCheckedElements(l){try{this._fireCheckedEvents=!1;const g=new Set;for(const S of l)g.add(S);for(const S of this.elements)S.checked=g.has(S.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(l){this.list.getHTMLElement().style.pointerEvents=l?"":"none"}focus(l){if(!this.list.length)return;switch(l===ws.Next&&this.list.getFocus()[0]===this.list.length-1&&(l=ws.First),l===ws.Previous&&0===this.list.getFocus()[0]&&(l=ws.Last),l===ws.Second&&this.list.length<2&&(l=ws.First),l){case ws.First:this.list.focusFirst();break;case ws.Second:this.list.focusNth(1);break;case ws.Last:this.list.focusLast();break;case ws.Next:this.list.focusNext();break;case ws.Previous:this.list.focusPrevious();break;case ws.NextPage:this.list.focusNextPage();break;case ws.PreviousPage:this.list.focusPreviousPage()}const g=this.list.getFocus()[0];"number"==typeof g&&this.list.reveal(g)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(l){this.list.getHTMLElement().style.maxHeight=l?`calc(${44*Math.floor(l/44)}px)`:"",this.list.layout()}filter(l){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((l=l.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let S;this.elements.forEach(Z=>{const ae=this.matchOnLabel?(0,Zt.f6)((0,Lr.Gt)(l,(0,Lr.Ho)(Z.saneLabel))):void 0,Ce=this.matchOnDescription?(0,Zt.f6)((0,Lr.Gt)(l,(0,Lr.Ho)(Z.saneDescription||""))):void 0,Ne=this.matchOnDetail?(0,Zt.f6)((0,Lr.Gt)(l,(0,Lr.Ho)(Z.saneDetail||""))):void 0,Je=this.matchOnMeta?(0,Zt.f6)((0,Lr.Gt)(l,(0,Lr.Ho)(Z.saneMeta||""))):void 0;if(ae||Ce||Ne||Je?(Z.labelHighlights=ae,Z.descriptionHighlights=Ce,Z.detailHighlights=Ne,Z.hidden=!1):(Z.labelHighlights=void 0,Z.descriptionHighlights=void 0,Z.detailHighlights=void 0,Z.hidden=!Z.item.alwaysShow),Z.separator=void 0,!this.sortByLabel){const Lt=Z.index&&this.inputElements[Z.index-1];S=Lt&&"separator"===Lt.type?Lt:S,S&&!Z.hidden&&(Z.separator=S,S=void 0)}})}else this.elements.forEach(S=>{S.labelHighlights=void 0,S.descriptionHighlights=void 0,S.detailHighlights=void 0,S.hidden=!1;const Z=S.index&&this.inputElements[S.index-1];S.separator=Z&&"separator"===Z.type?Z:void 0});const g=this.elements.filter(S=>!S.hidden);if(this.sortByLabel&&l){const S=l.toLowerCase();g.sort((Z,ae)=>function Gf(E,l,g){const S=E.labelHighlights||[],Z=l.labelHighlights||[];return S.length&&!Z.length?-1:!S.length&&Z.length?1:0===S.length&&0===Z.length?0:function uc(E,l,g){const S=E.toLowerCase(),Z=l.toLowerCase(),ae=function Kl(E,l,g){const S=E.toLowerCase(),Z=l.toLowerCase(),ae=S.startsWith(g),Ce=Z.startsWith(g);if(ae!==Ce)return ae?-1:1;if(ae&&Ce){if(S.length<Z.length)return-1;if(S.length>Z.length)return 1}return 0}(E,l,g);if(ae)return ae;const Ce=S.endsWith(g);if(Ce!==Z.endsWith(g))return Ce?-1:1;const Je=function mr(E,l,g=!1){const S=E||"",Z=l||"",ae=or.value.collator.compare(S,Z);return or.value.collatorIsNumeric&&0===ae&&S!==Z?S<Z?-1:1:ae}(S,Z);return 0!==Je?Je:S.localeCompare(Z)}(E.saneLabel,l.saneLabel,g)}(Z,ae,S))}return this.elementsToIndexes=g.reduce((S,Z,ae)=>(S.set(Z.item,ae),S),new Map),this.list.splice(0,this.list.length,g),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(g.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const l=this.list.getFocusedElements(),g=this.allVisibleChecked(l);for(const S of l)S.checked=!g}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(l){this.container.style.display=l?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,it.B9)(this.elementDisposables),this.disposables=(0,it.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(l){this._onButtonTriggered.fire(l)}style(l){this.list.style(l)}}Sd([Bc.H],su.prototype,"onDidChangeFocus",null),Sd([Bc.H],su.prototype,"onDidChangeSelection",null);class th{getWidgetAriaLabel(){return(0,Vi.N)("quickInput","Quick Input")}getAriaLabel(l){return l.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var Ed=function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})};const Or=zt.$,Vc={iconClass:xa.lA.quickInputBack.classNames,tooltip:(0,Vi.N)("quickInput.back","Back"),handle:-1};class da extends it.JT{constructor(l){super(),this.ui=l,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=da.noPromptMessage,this._severity=Rs.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.onDidHideEmitter=this._register(new Q.Q5),this.onDisposeEmitter=this._register(new Q.Q5),this.visibleDisposables=this._register(new it.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(l){this._title=l,this.update()}get description(){return this._description}set description(l){this._description=l,this.update()}get step(){return this._steps}set step(l){this._steps=l,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(l){this._totalSteps=l,this.update()}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this.update()}get contextKey(){return this._contextKey}set contextKey(l){this._contextKey=l,this.update()}get busy(){return this._busy}set busy(l){this._busy=l,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(l){const g=this._ignoreFocusOut!==l&&!bt.gn;this._ignoreFocusOut=l&&!bt.gn,g&&this.update()}get buttons(){return this._buttons}set buttons(l){this._buttons=l,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(l){this._validationMessage=l,this.update()}get severity(){return this._severity}set severity(l){this._severity=l,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(l=>{-1!==this.buttons.indexOf(l)&&this.onDidTriggerButtonEmitter.fire(l)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(l=Si.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:l})}update(){if(!this.visible)return;const l=this.getTitle();l&&this.ui.title.textContent!==l?this.ui.title.textContent=l:!l&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const g=this.getDescription();if(this.ui.description1.textContent!==g&&(this.ui.description1.textContent=g),this.ui.description2.textContent!==g&&(this.ui.description2.textContent=g),this.busy&&!this.busyDelay&&(this.busyDelay=new In._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Z=this.buttons.filter(Ce=>Ce===Vc);this.ui.leftActionBar.push(Z.map((Ce,Ne)=>{const Je=new Kr.aU(`id-${Ne}`,"",Ce.iconClass||Gi(Ce.iconPath),!0,()=>Ed(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Ce)}));return Je.tooltip=Ce.tooltip||"",Je}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const ae=this.buttons.filter(Ce=>Ce!==Vc);this.ui.rightActionBar.push(ae.map((Ce,Ne)=>{const Je=new Kr.aU(`id-${Ne}`,"",Ce.iconClass||Gi(Ce.iconPath),!0,()=>Ed(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Ce)}));return Je.tooltip=Ce.tooltip||"",Je}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const S=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==S&&(this._lastValidationMessage=S,zt.mc(this.ui.message,...(0,U.T)(S))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Vi.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(l){if(this.ui.inputBox.showDecoration(l),l!==Rs.Z.Ignore){const g=this.ui.inputBox.stylesForType(l);this.ui.message.style.color=g.foreground?`${g.foreground}`:"",this.ui.message.style.backgroundColor=g.background?`${g.background}`:"",this.ui.message.style.border=g.border?`1px solid ${g.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}da.noPromptMessage=(0,Vi.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Qa extends da{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Q.Q5),this.onWillAcceptEmitter=this._register(new Q.Q5),this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Si.jG.NONE:Si.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Q.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Q.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Q.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=l=>l,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(l){this._quickNavigate=l,this.update()}get value(){return this._value}set value(l){this.doSetValue(l)}doSetValue(l,g){this._value!==l&&(this._value=l,g||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(l){this._ariaLabel=l,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(l){this._placeholder=l,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(l){this.ui.list.scrollTop=l}set items(l){this._items=l,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(l){this._canSelectMany=l,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(l){this._canAcceptInBackground=l}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(l){this._matchOnDescription=l,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(l){this._matchOnDetail=l,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(l){this._matchOnLabel=l,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(l){this._sortByLabel=l,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(l){this._autoFocusOnList=l,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(l){this._keepScrollPosition=l}get itemActivation(){return this._itemActivation}set itemActivation(l){this._itemActivation=l}get activeItems(){return this._activeItems}set activeItems(l){this._activeItems=l,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(l){this._selectedItems=l,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Si.X5:this.ui.keyMods}set valueSelection(l){this._valueSelection=l,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(l){this._customButton=l,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(l){this._customButtonLabel=l,this.update()}get customHover(){return this._customButtonHover}set customHover(l){this._customButtonHover=l,this.update()}get ok(){return this._ok}set ok(l){this._ok=l,this.update()}get hideInput(){return!!this._hideInput}set hideInput(l){this._hideInput=l,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(ws.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(l=>{this.doSetValue(l,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(l=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(l=>{switch(l.keyCode){case 18:this.ui.list.focus(ws.Next),this.canSelectMany&&this.ui.list.domFocus(),zt.zB.stop(l,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(ws.Previous):this.ui.list.focus(ws.Last),this.canSelectMany&&this.ui.list.domFocus(),zt.zB.stop(l,!0);break;case 12:this.ui.list.focus(ws.NextPage),this.canSelectMany&&this.ui.list.domFocus(),zt.zB.stop(l,!0);break;case 11:this.ui.list.focus(ws.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),zt.zB.stop(l,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(ws.First),zt.zB.stop(l,!0));break;case 13:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(ws.Last),zt.zB.stop(l,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(l=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,Yi.fS)(l,this._activeItems,(g,S)=>g===S)||(this._activeItems=l,this.onDidChangeActiveEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:l,event:g})=>{this.canSelectMany?l.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,Yi.fS)(l,this._selectedItems,(S,Z)=>S===Z)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l),l.length&&this.handleAccept(g instanceof MouseEvent&&1===g.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(l=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,Yi.fS)(l,this._selectedItems,(g,S)=>g===S)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(l=>this.onDidTriggerItemButtonEmitter.fire(l))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(l){let g=!1;this.onWillAcceptEmitter.fire({veto:()=>g=!0}),g||this.onDidAcceptEmitter.fire({inBackground:l})}registerQuickNavigation(){return zt.nm(this.ui.container,zt.tw.KEY_UP,l=>{if(this.canSelectMany||!this._quickNavigate)return;const g=new We.y(l),S=g.keyCode;this._quickNavigate.keybindings.some(Ce=>{const[Ne,Je]=Ce.getParts();return!(Je||(Ne.shiftKey&&4===S?g.ctrlKey||g.altKey||g.metaKey:!(Ne.altKey&&6===S||Ne.ctrlKey&&5===S||Ne.metaKey&&57===S)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const l=this.keepScrollPosition?this.scrollTop:0,g=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",g&&!this.description);const S={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!g,progressBar:!g,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(S),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const Z=this.ariaLabel||this.placeholder||Qa.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==Z&&(this.ui.inputBox.ariaLabel=Z),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Si.jG.NONE:this._itemActivation=Si.jG.FIRST;break;case Si.jG.SECOND:this.ui.list.focus(ws.Second),this._itemActivation=Si.jG.FIRST;break;case Si.jG.LAST:this.ui.list.focus(ws.Last),this._itemActivation=Si.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),S.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(ws.First)),this.keepScrollPosition&&(this.scrollTop=l)}}Qa.DEFAULT_ARIA_LABEL=(0,Vi.N)("quickInputBox.ariaLabel","Type to narrow down results.");let Wc=(()=>{class E extends it.JT{constructor(g){super(),this.options=g,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Q.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Q.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=g.idPrefix,this.parentElement=g.container,this.styles=g.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const g=S=>{this.keyMods.ctrlCmd=S.ctrlKey||S.metaKey,this.keyMods.alt=S.altKey};this._register(zt.nm(window,zt.tw.KEY_DOWN,g,!0)),this._register(zt.nm(window,zt.tw.KEY_UP,g,!0)),this._register(zt.nm(window,zt.tw.MOUSE_DOWN,g,!0))}getUI(){if(this.ui)return this.ui;const g=zt.R3(this.parentElement,Or(".quick-input-widget.show-file-icons"));g.tabIndex=-1,g.style.display="none";const S=zt.dS(g),Z=zt.R3(g,Or(".quick-input-titlebar")),ae=this._register(new Hl.o(Z));ae.domNode.classList.add("quick-input-left-action-bar");const Ce=zt.R3(Z,Or(".quick-input-title")),Ne=this._register(new Hl.o(Z));Ne.domNode.classList.add("quick-input-right-action-bar");const Je=zt.R3(g,Or(".quick-input-description")),Lt=zt.R3(g,Or(".quick-input-header")),Bt=zt.R3(Lt,Or("input.quick-input-check-all"));Bt.type="checkbox",this._register(zt.mu(Bt,zt.tw.CHANGE,Po=>{nl.setAllVisibleChecked(Bt.checked)})),this._register(zt.nm(Bt,zt.tw.CLICK,Po=>{(Po.x||Po.y)&&Zi.setFocus()}));const gn=zt.R3(Lt,Or(".quick-input-description")),Un=zt.R3(Lt,Or(".quick-input-and-message")),di=zt.R3(Un,Or(".quick-input-filter")),Zi=this._register(new uo(di));Zi.setAttribute("aria-describedby",`${this.idPrefix}message`);const bo=zt.R3(di,Or(".quick-input-visible-count"));bo.setAttribute("aria-live","polite"),bo.setAttribute("aria-atomic","true");const os=new rt.Z(bo,{countFormat:(0,Vi.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),ms=zt.R3(di,Or(".quick-input-count"));ms.setAttribute("aria-live","polite");const ps=new rt.Z(ms,{countFormat:(0,Vi.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Ko=zt.R3(Lt,Or(".quick-input-action")),ls=new je(Ko);ls.label=(0,Vi.N)("ok","OK"),this._register(ls.onDidClick(Po=>{this.onDidAcceptEmitter.fire()}));const Nr=zt.R3(Lt,Or(".quick-input-action")),vl=new je(Nr);vl.label=(0,Vi.N)("custom","Custom"),this._register(vl.onDidClick(Po=>{this.onDidCustomEmitter.fire()}));const Br=zt.R3(Un,Or(`#${this.idPrefix}message.quick-input-message`)),nl=this._register(new su(g,this.idPrefix+"list",this.options));this._register(nl.onChangedAllVisibleChecked(Po=>{Bt.checked=Po})),this._register(nl.onChangedVisibleCount(Po=>{os.setCount(Po)})),this._register(nl.onChangedCheckedCount(Po=>{ps.setCount(Po)})),this._register(nl.onLeave(()=>{setTimeout(()=>{Zi.setFocus(),this.controller instanceof Qa&&this.controller.canSelectMany&&nl.clearFocus()},0)})),this._register(nl.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const fs=new ai(g);fs.getContainer().classList.add("quick-input-progress");const pr=zt.go(g);return this._register(pr),this._register(zt.nm(g,zt.tw.FOCUS,Po=>{this.previousFocusElement=Po.relatedTarget instanceof HTMLElement?Po.relatedTarget:void 0},!0)),this._register(pr.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Si.Jq.Blur),this.previousFocusElement=void 0})),this._register(zt.nm(g,zt.tw.FOCUS,Po=>{Zi.setFocus()})),this._register(zt.nm(g,zt.tw.KEY_DOWN,Po=>{const il=new We.y(Po);switch(il.keyCode){case 3:zt.zB.stop(Po,!0),this.onDidAcceptEmitter.fire();break;case 9:zt.zB.stop(Po,!0),this.hide(Si.Jq.Gesture);break;case 2:if(!il.altKey&&!il.ctrlKey&&!il.metaKey){const bl=[".action-label.codicon"];g.classList.contains("show-checkboxes")?bl.push("input"):bl.push("input[type=text]"),this.getUI().list.isDisplayed()&&bl.push(".monaco-list");const Vr=g.querySelectorAll(bl.join(", "));il.shiftKey&&il.target===Vr[0]?(zt.zB.stop(Po,!0),Vr[Vr.length-1].focus()):!il.shiftKey&&il.target===Vr[Vr.length-1]&&(zt.zB.stop(Po,!0),Vr[0].focus())}}})),this.ui={container:g,styleSheet:S,leftActionBar:ae,titleBar:Z,title:Ce,description1:Je,description2:gn,rightActionBar:Ne,checkAll:Bt,filterContainer:di,inputBox:Zi,visibleCountContainer:bo,visibleCount:os,countContainer:ms,count:ps,okContainer:Ko,ok:ls,message:Br,customButtonContainer:Nr,customButton:vl,list:nl,progressBar:fs,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Po=>this.show(Po),hide:()=>this.hide(),setVisibilities:Po=>this.setVisibilities(Po),setComboboxAccessibility:Po=>this.setComboboxAccessibility(Po),setEnabled:Po=>this.setEnabled(Po),setContextKey:Po=>this.options.setContextKey(Po)},this.updateStyles(),this.ui}pick(g,S={},Z=h.T.None){return new Promise((ae,Ce)=>{let Ne=gn=>{Ne=ae,S.onKeyMods&&S.onKeyMods(Je.keyMods),ae(gn)};if(Z.isCancellationRequested)return void Ne(void 0);const Je=this.createQuickPick();let Lt;const Bt=[Je,Je.onDidAccept(()=>{if(Je.canSelectMany)Ne(Je.selectedItems.slice()),Je.hide();else{const gn=Je.activeItems[0];gn&&(Ne(gn),Je.hide())}}),Je.onDidChangeActive(gn=>{const Un=gn[0];Un&&S.onDidFocus&&S.onDidFocus(Un)}),Je.onDidChangeSelection(gn=>{if(!Je.canSelectMany){const Un=gn[0];Un&&(Ne(Un),Je.hide())}}),Je.onDidTriggerItemButton(gn=>S.onDidTriggerItemButton&&S.onDidTriggerItemButton(Object.assign(Object.assign({},gn),{removeItem:()=>{const Un=Je.items.indexOf(gn.item);if(-1!==Un){const di=Je.items.slice(),Zi=di.splice(Un,1),bo=Je.activeItems.filter(ms=>ms!==Zi[0]),os=Je.keepScrollPosition;Je.keepScrollPosition=!0,Je.items=di,bo&&(Je.activeItems=bo),Je.keepScrollPosition=os}}}))),Je.onDidChangeValue(gn=>{Lt&&!gn&&(1!==Je.activeItems.length||Je.activeItems[0]!==Lt)&&(Je.activeItems=[Lt])}),Z.onCancellationRequested(()=>{Je.hide()}),Je.onDidHide(()=>{(0,it.B9)(Bt),Ne(void 0)})];Je.title=S.title,Je.canSelectMany=!!S.canPickMany,Je.placeholder=S.placeHolder,Je.ignoreFocusOut=!!S.ignoreFocusLost,Je.matchOnDescription=!!S.matchOnDescription,Je.matchOnDetail=!!S.matchOnDetail,Je.matchOnLabel=void 0===S.matchOnLabel||S.matchOnLabel,Je.autoFocusOnList=void 0===S.autoFocusOnList||S.autoFocusOnList,Je.quickNavigate=S.quickNavigate,Je.contextKey=S.contextKey,Je.busy=!0,Promise.all([g,S.activeItem]).then(([gn,Un])=>{Lt=Un,Je.busy=!1,Je.items=gn,Je.canSelectMany&&(Je.selectedItems=gn.filter(di=>"separator"!==di.type&&di.picked)),Lt&&(Je.activeItems=[Lt])}),Je.show(),Promise.resolve(g).then(void 0,gn=>{Ce(gn),Je.hide()})})}createQuickPick(){const g=this.getUI();return new Qa(g)}show(g){const S=this.getUI();this.onShowEmitter.fire();const Z=this.controller;this.controller=g,Z&&Z.didHide(),this.setEnabled(!0),S.leftActionBar.clear(),S.title.textContent="",S.description1.textContent="",S.description2.textContent="",S.rightActionBar.clear(),S.checkAll.checked=!1,S.inputBox.placeholder="",S.inputBox.password=!1,S.inputBox.showDecoration(Rs.Z.Ignore),S.visibleCount.setCount(0),S.count.setCount(0),zt.mc(S.message),S.progressBar.stop(),S.list.setElements([]),S.list.matchOnDescription=!1,S.list.matchOnDetail=!1,S.list.matchOnLabel=!0,S.list.sortByLabel=!0,S.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),S.inputBox.ariaLabel="";const ae=this.options.backKeybindingLabel();Vc.tooltip=ae?(0,Vi.N)("quickInput.backWithKeybinding","Back ({0})",ae):(0,Vi.N)("quickInput.back","Back"),S.container.style.display="",this.updateLayout(),S.inputBox.setFocus()}setVisibilities(g){const S=this.getUI();S.title.style.display=g.title?"":"none",S.description1.style.display=g.description&&(g.inputBox||g.checkAll)?"":"none",S.description2.style.display=!g.description||g.inputBox||g.checkAll?"none":"",S.checkAll.style.display=g.checkAll?"":"none",S.filterContainer.style.display=g.inputBox?"":"none",S.visibleCountContainer.style.display=g.visibleCount?"":"none",S.countContainer.style.display=g.count?"":"none",S.okContainer.style.display=g.ok?"":"none",S.customButtonContainer.style.display=g.customButton?"":"none",S.message.style.display=g.message?"":"none",S.progressBar.getContainer().style.display=g.progressBar?"":"none",S.list.display(!!g.list),S.container.classList[g.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(g){if(g!==this.comboboxAccessibility){const S=this.getUI();this.comboboxAccessibility=g,this.comboboxAccessibility?(S.inputBox.setAttribute("role","combobox"),S.inputBox.setAttribute("aria-haspopup","true"),S.inputBox.setAttribute("aria-autocomplete","list"),S.inputBox.setAttribute("aria-activedescendant",S.list.getActiveDescendant()||"")):(S.inputBox.removeAttribute("role"),S.inputBox.removeAttribute("aria-haspopup"),S.inputBox.removeAttribute("aria-autocomplete"),S.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(g){if(g!==this.enabled){this.enabled=g;for(const S of this.getUI().leftActionBar.viewItems)S.getAction().enabled=g;for(const S of this.getUI().rightActionBar.viewItems)S.getAction().enabled=g;this.getUI().checkAll.disabled=!g,this.getUI().ok.enabled=g,this.getUI().list.enabled=g}}hide(g){var S;const Z=this.controller;if(Z){const ae=!(null===(S=this.ui)||void 0===S?void 0:S.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!ae){let Ce=this.previousFocusElement;for(;Ce&&!Ce.offsetParent;)Ce=(0,Zt.f6)(Ce.parentElement);(null==Ce?void 0:Ce.offsetParent)?(Ce.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}Z.didHide(g)}}layout(g,S){this.dimension=g,this.titleBarOffset=S,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const g=this.ui.container.style,S=Math.min(.62*this.dimension.width,E.MAX_WIDTH);g.width=S+"px",g.marginLeft="-"+S/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(g){this.styles=g,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:g,quickInputBackground:S,quickInputForeground:Z,contrastBorder:ae,widgetShadow:Ce}=this.styles.widget;this.ui.titleBar.style.backgroundColor=g?g.toString():"",this.ui.container.style.backgroundColor=S?S.toString():"",this.ui.container.style.color=Z?Z.toString():"",this.ui.container.style.border=ae?`1px solid ${ae}`:"",this.ui.container.style.boxShadow=Ce?`0 0 8px 2px ${Ce}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const Ne=[];this.styles.list.pickerGroupBorder&&Ne.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&Ne.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Ne.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Ne.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Ne.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Ne.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Ne.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Ne.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Ne.push("}"));const Je=Ne.join("\n");Je!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Je)}}}return E.MAX_WIDTH=600,E})();var ru=m(5717),nh=m(2706),au=m(4203),lu=m(7098),ih=function(E,l){return function(g,S){l(g,S,E)}};let oh=class extends it.JT{constructor(l,g){super(),this.quickInputService=l,this.instantiationService=g,this.registry=wn.B.as(au.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(l="",g){this.doShowOrPick(l,!1,g)}doShowOrPick(l,g,S){var Z;const[ae,Ce]=this.getOrInstantiateProvider(l),Ne=this.visibleQuickAccess,Je=null==Ne?void 0:Ne.descriptor;if(Ne&&Ce&&Je===Ce)return l!==Ce.prefix&&!(null==S?void 0:S.preserveValue)&&(Ne.picker.value=l),void this.adjustValueSelection(Ne.picker,Ce,S);if(Ce&&!(null==S?void 0:S.preserveValue)){let di;if(Ne&&Je&&Je!==Ce){const Zi=Ne.value.substr(Je.prefix.length);Zi&&(di=`${Ce.prefix}${Zi}`)}if(!di){const Zi=null==ae?void 0:ae.defaultFilterValue;Zi===au.Ry.LAST?di=this.lastAcceptedPickerValues.get(Ce):"string"==typeof Zi&&(di=`${Ce.prefix}${Zi}`)}"string"==typeof di&&(l=di)}const Lt=new it.SL,Bt=Lt.add(this.quickInputService.createQuickPick());let gn;Bt.value=l,this.adjustValueSelection(Bt,Ce,S),Bt.placeholder=null==Ce?void 0:Ce.placeholder,Bt.quickNavigate=null==S?void 0:S.quickNavigateConfiguration,Bt.hideInput=!!Bt.quickNavigate&&!Ne,("number"==typeof(null==S?void 0:S.itemActivation)||(null==S?void 0:S.quickNavigateConfiguration))&&(Bt.itemActivation=null!==(Z=null==S?void 0:S.itemActivation)&&void 0!==Z?Z:lu.jG.SECOND),Bt.contextKey=null==Ce?void 0:Ce.contextKey,Bt.filterValue=di=>di.substring(Ce?Ce.prefix.length:0),(null==Ce?void 0:Ce.placeholder)&&(Bt.ariaLabel=null==Ce?void 0:Ce.placeholder),g&&(gn=new In.CR,Lt.add((0,nh.I)(Bt.onWillAccept)(di=>{di.veto(),Bt.hide()}))),Lt.add(this.registerPickerListeners(Bt,ae,Ce,l));const Un=Lt.add(new h.A);return ae&&Lt.add(ae.provide(Bt,Un.token)),(0,nh.I)(Bt.onDidHide)(()=>{0===Bt.selectedItems.length&&Un.cancel(),Lt.dispose(),null==gn||gn.complete(Bt.selectedItems.slice(0))}),Bt.show(),g?null==gn?void 0:gn.p:void 0}adjustValueSelection(l,g,S){var Z;let ae;ae=(null==S?void 0:S.preserveValue)?[l.value.length,l.value.length]:[null!==(Z=null==g?void 0:g.prefix.length)&&void 0!==Z?Z:0,l.value.length],l.valueSelection=ae}registerPickerListeners(l,g,S,Z){const ae=new it.SL,Ce=this.visibleQuickAccess={picker:l,descriptor:S,value:Z};return ae.add((0,it.OF)(()=>{Ce===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),ae.add(l.onDidChangeValue(Ne=>{const[Je]=this.getOrInstantiateProvider(Ne);Je!==g?this.show(Ne,{preserveValue:!0}):Ce.value=Ne})),S&&ae.add(l.onDidAccept(()=>{this.lastAcceptedPickerValues.set(S,l.value)})),ae}getOrInstantiateProvider(l){const g=this.registry.getQuickAccessProvider(l);if(!g)return[void 0,void 0];let S=this.mapProviderToDescriptor.get(g);return S||(S=this.instantiationService.createInstance(g.ctor),this.mapProviderToDescriptor.set(g,S)),[S,g]}};oh=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([ih(0,lu.eJ),ih(1,yo.TG)],oh);var Xa=function(E,l){return function(g,S){l(g,S,E)}};let fl=class extends Re.bB{constructor(l,g,S,Z,ae){super(S),this.instantiationService=l,this.contextKeyService=g,this.accessibilityService=Z,this.layoutService=ae,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(oh))),this._quickAccess}createController(l=this.layoutService,g){var S,Z;const ae={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:Ne=>this.setContextKey(Ne),returnFocus:()=>l.focus(),createList:(Ne,Je,Lt,Bt,gn)=>this.instantiationService.createInstance(ru.ev,Ne,Je,Lt,Bt,gn),styles:this.computeStyles()},Ce=this._register(new Wc(Object.assign(Object.assign({},ae),g)));return Ce.layout(l.dimension,null!==(Z=null===(S=l.offset)||void 0===S?void 0:S.top)&&void 0!==Z?Z:0),this._register(l.onDidLayout(Ne=>{var Je,Lt;return Ce.layout(Ne,null!==(Lt=null===(Je=l.offset)||void 0===Je?void 0:Je.top)&&void 0!==Lt?Lt:0)})),this._register(Ce.onShow(()=>this.resetContextKeys())),this._register(Ce.onHide(()=>this.resetContextKeys())),Ce}setContextKey(l){let g;l&&(g=this.contexts.get(l),g||(g=new Hn.uy(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,g))),(!g||!g.get())&&(this.resetContextKeys(),g&&g.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,g={},S=h.T.None){return this.controller.pick(l,g,S)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,Za.o)(this.theme,{quickInputBackground:go.zKr,quickInputForeground:go.tZ6,quickInputTitleBackground:go.loF,contrastBorder:go.lRK,widgetShadow:go.rh})),inputBox:(0,Za.o)(this.theme,{inputForeground:go.zJb,inputBackground:go.sEe,inputBorder:go.dt_,inputValidationInfoBackground:go._lC,inputValidationInfoForeground:go.YI3,inputValidationInfoBorder:go.EPQ,inputValidationWarningBackground:go.RV_,inputValidationWarningForeground:go.SUG,inputValidationWarningBorder:go.C3g,inputValidationErrorBackground:go.paE,inputValidationErrorForeground:go._t9,inputValidationErrorBorder:go.OZR}),countBadge:(0,Za.o)(this.theme,{badgeBackground:go.g8u,badgeForeground:go.qeD,badgeBorder:go.lRK}),button:(0,Za.o)(this.theme,{buttonForeground:go.j5u,buttonBackground:go.b7$,buttonHoverBackground:go.GO4,buttonBorder:go.lRK}),progressBar:(0,Za.o)(this.theme,{progressBarBackground:go.zRJ}),keybindingLabel:(0,Za.o)(this.theme,{keybindingLabelBackground:go.oQ$,keybindingLabelForeground:go.lWp,keybindingLabelBorder:go.AWI,keybindingLabelBottomBorder:go.K19,keybindingLabelShadow:go.rh}),list:(0,Za.o)(this.theme,{listBackground:go.zKr,listInactiveFocusForeground:go.NPS,listInactiveSelectionIconForeground:go.cbQ,listInactiveFocusBackground:go.Vqd,listFocusOutline:go.xL1,listInactiveFocusOutline:go.xL1,pickerGroupBorder:go.opG,pickerGroupForeground:go.kJk})}}};fl=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([Xa(0,yo.TG),Xa(1,Hn.i6),Xa(2,Re.XE),Xa(3,B.F),Xa(4,$i)],fl);var gl=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae},hc=function(E,l){return function(g,S){l(g,S,E)}};let sh=class extends fl{constructor(l,g,S,Z,ae,Ce){super(g,S,Z,ae,new bs(l.getContainerDomNode(),Ce)),this.host=void 0;const Ne=Hc.get(l);if(Ne){const Je=Ne.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return Je.getDomNode()},get dimension(){return l.getLayoutInfo()},get onDidLayout(){return l.onDidLayoutChange},focus:()=>l.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};sh=gl([hc(1,yo.TG),hc(2,Hn.i6),hc(3,Re.XE),hc(4,B.F),hc(5,At.$)],sh);let Yf=class{constructor(l,g){this.instantiationService=l,this.codeEditorService=g,this.mapEditorToService=new Map}get activeService(){const l=this.codeEditorService.getFocusedCodeEditor();if(!l)throw new Error("Quick input service needs a focused editor to work.");let g=this.mapEditorToService.get(l);if(!g){const S=g=this.instantiationService.createInstance(sh,l);this.mapEditorToService.set(l,g),(0,nh.I)(l.onDidDispose)(()=>{S.dispose(),this.mapEditorToService.delete(l)})}return g}get quickAccess(){return this.activeService.quickAccess}pick(l,g={},S=h.T.None){return this.activeService.pick(l,g,S)}createQuickPick(){return this.activeService.createQuickPick()}};Yf=gl([hc(0,yo.TG),hc(1,At.$)],Yf);let Hc=(()=>{class E{constructor(g){this.editor=g,this.widget=new rh(this.editor)}static get(g){return g.getContribution(E.ID)}dispose(){this.widget.dispose()}}return E.ID="editor.controller.quickInput",E})(),rh=(()=>{class E{constructor(g){this.codeEditor=g,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return E.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return E.ID="editor.contrib.quickInputWidget",E})();(0,b._K)(Hc.ID,Hc);class Cm{constructor(l,g,S,Z,ae){this._parsedThemeRuleBrand=void 0,this.token=l,this.index=g,this.fontStyle=S,this.foreground=Z,this.background=ae}}const fc=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class ah{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(l){if(null===l)return 0;const g=l.match(fc);if(!g)throw new Error("Illegal value for token color: "+l);l=g[1].toUpperCase();let S=this._color2id.get(l);return S||(S=++this._lastColorId,this._color2id.set(l,S),this._id2color[S]=le.Il.fromHex("#"+l),S)}getColorMap(){return this._id2color.slice(0)}}class p_{constructor(l,g){this._colorMap=l,this._root=g,this._cache=new Map}static createFromRawTokenTheme(l,g){return this.createFromParsedTokenTheme(function ym(E){if(!E||!Array.isArray(E))return[];const l=[];let g=0;for(let S=0,Z=E.length;S<Z;S++){const ae=E[S];let Ce=-1;if("string"==typeof ae.fontStyle){Ce=0;const Lt=ae.fontStyle.split(" ");for(let Bt=0,gn=Lt.length;Bt<gn;Bt++)switch(Lt[Bt]){case"italic":Ce|=1;break;case"bold":Ce|=2;break;case"underline":Ce|=4;break;case"strikethrough":Ce|=8}}let Ne=null;"string"==typeof ae.foreground&&(Ne=ae.foreground);let Je=null;"string"==typeof ae.background&&(Je=ae.background),l[g++]=new Cm(ae.token||"",S,Ce,Ne,Je)}return l}(l),g)}static createFromParsedTokenTheme(l,g){return function Zf(E,l){E.sort((Bt,gn)=>{const Un=function Qf(E,l){return E<l?-1:E>l?1:0}(Bt.token,gn.token);return 0!==Un?Un:Bt.index-gn.index});let g=0,S="000000",Z="ffffff";for(;E.length>=1&&""===E[0].token;){const Bt=E.shift();-1!==Bt.fontStyle&&(g=Bt.fontStyle),null!==Bt.foreground&&(S=Bt.foreground),null!==Bt.background&&(Z=Bt.background)}const ae=new ah;for(let Bt of l)ae.getId(Bt);const Ce=ae.getId(S),Ne=ae.getId(Z),Je=new Dl(g,Ce,Ne),Lt=new Ca(Je);for(let Bt=0,gn=E.length;Bt<gn;Bt++){const Un=E[Bt];Lt.insert(Un.token,Un.fontStyle,ae.getId(Un.foreground),ae.getId(Un.background))}return new p_(ae,Lt)}(l,g)}getColorMap(){return this._colorMap.getColorMap()}_match(l){return this._root.match(l)}match(l,g){let S=this._cache.get(g);if(void 0===S){const Z=this._match(g),ae=function wm(E){const l=E.match(lh);if(!l)return 0;switch(l[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(g);S=(Z.metadata|ae<<8)>>>0,this._cache.set(g,S)}return(S|l<<0)>>>0}}const lh=/\b(comment|string|regex|regexp)\b/;class Dl{constructor(l,g,S){this._themeTrieElementRuleBrand=void 0,this._fontStyle=l,this._foreground=g,this._background=S,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new Dl(this._fontStyle,this._foreground,this._background)}acceptOverwrite(l,g,S){-1!==l&&(this._fontStyle=l),0!==g&&(this._foreground=g),0!==S&&(this._background=S),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class Ca{constructor(l){this._themeTrieElementBrand=void 0,this._mainRule=l,this._children=new Map}match(l){if(""===l)return this._mainRule;const g=l.indexOf(".");let S,Z;-1===g?(S=l,Z=""):(S=l.substring(0,g),Z=l.substring(g+1));const ae=this._children.get(S);return void 0!==ae?ae.match(Z):this._mainRule}insert(l,g,S,Z){if(""===l)return void this._mainRule.acceptOverwrite(g,S,Z);const ae=l.indexOf(".");let Ce,Ne;-1===ae?(Ce=l,Ne=""):(Ce=l.substring(0,ae),Ne=l.substring(ae+1));let Je=this._children.get(Ce);void 0===Je&&(Je=new Ca(this._mainRule.clone()),this._children.set(Ce,Je)),Je.insert(Ne,g,S,Z)}}const El={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[go.cvW]:"#FFFFFE",[go.NOs]:"#000000",[go.ES4]:"#E5EBF1",[Na.tR]:"#D3D3D3",[Na.Ym]:"#939393",[go.Rzx]:"#ADD6FF4D"}},Gv={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[go.cvW]:"#1E1E1E",[go.NOs]:"#D4D4D4",[go.ES4]:"#3A3D41",[Na.tR]:"#404040",[Na.Ym]:"#707070",[go.Rzx]:"#ADD6FF26"}},Yv={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[go.cvW]:"#000000",[go.NOs]:"#FFFFFF",[Na.tR]:"#FFFFFF",[Na.Ym]:"#FFFFFF"}};var Sm=m(8676),Dm=m(5836);class Lm{getIcon(l){const g=(0,Dm.Ks)();let S=l.defaults;for(;Re.kS.isThemeIcon(S);){const Z=g.getIcon(S.id);if(!Z)return;S=Z.defaults}return S}}const zc="vs",ch="vs-dark",Ld="hc-black",xm=wn.B.as(go.IPX.ColorContribution),__=wn.B.as(Re.IP.ThemingContribution);class Uc{constructor(l,g){this.semanticHighlighting=!1,this.themeData=g;const S=g.base;l.length>0?(this.id=cu(l)?l:S+" "+l,this.themeName=l):(this.id=S,this.themeName=S),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const l=new Map;for(let g in this.themeData.colors)l.set(g,le.Il.fromHex(this.themeData.colors[g]));if(this.themeData.inherit){const g=Ja(this.themeData.base);for(let S in g.colors)l.has(S)||l.set(S,le.Il.fromHex(g.colors[S]))}this.colors=l}return this.colors}getColor(l,g){return this.getColors().get(l)||(!1!==g?this.getDefault(l):void 0)}getDefault(l){let g=this.defaultColors[l];return g||(g=xm.resolveDefaultColor(l,this),this.defaultColors[l]=g,g)}defines(l){return Object.prototype.hasOwnProperty.call(this.getColors(),l)}get type(){switch(this.base){case zc:return Sm.e.LIGHT;case Ld:return Sm.e.HIGH_CONTRAST;default:return Sm.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let l=[],g=[];if(this.themeData.inherit){const ae=Ja(this.themeData.base);l=ae.rules,ae.encodedTokensColors&&(g=ae.encodedTokensColors)}const S=this.themeData.colors["editor.foreground"],Z=this.themeData.colors["editor.background"];if(S||Z){const ae={token:""};S&&(ae.foreground=S),Z&&(ae.background=Z),l.push(ae)}l=l.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(g=this.themeData.encodedTokensColors),this._tokenTheme=p_.createFromRawTokenTheme(l,g)}return this._tokenTheme}getTokenStyleMetadata(l,g,S){const ae=this.tokenTheme._match([l].concat(g).join(".")).metadata,Ce=V.NX.getForeground(ae),Ne=V.NX.getFontStyle(ae);return{foreground:Ce,italic:Boolean(1&Ne),bold:Boolean(2&Ne),underline:Boolean(4&Ne),strikethrough:Boolean(8&Ne)}}}function cu(E){return E===zc||E===ch||E===Ld}function Ja(E){switch(E){case zc:return El;case ch:return Gv;case Ld:return Yv}}function jc(E){const l=Ja(E);return new Uc(E,l)}var ua=m(6021),v_=function(E,l){return function(g,S){l(g,S,E)}};let Im=class extends it.JT{constructor(l,g){super(),this._contextKeyService=l,this._configurationService=g,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Q.Q5,this._accessibilityModeEnabledContext=B.U.bindTo(this._contextKeyService);const S=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(Z=>{Z.affectsConfiguration("editor.accessibilitySupport")&&(S(),this._onDidChangeScreenReaderOptimized.fire())})),S(),this.onDidChangeScreenReaderOptimized(()=>S())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const l=this._configurationService.getValue("editor.accessibilitySupport");return"on"===l||"auto"===l&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};Im=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([v_(0,Hn.i6),v_(1,Jo.Ui)],Im);var Aa=m(1004),dh=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae},xd=function(E,l){return function(g,S){l(g,S,E)}};let uu=class{constructor(l){this._commandService=l}createMenu(l,g,S){return new na(l,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},S),this._commandService,g,this)}};uu=dh([xd(0,ts.Hy)],uu);let na=class m_{constructor(l,g,S,Z,ae){this._id=l,this._options=g,this._commandService=S,this._contextKeyService=Z,this._menuService=ae,this._disposables=new it.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const Ce=new In.pY(()=>{this._build(),this._onDidChange.fire(this)},g.eventDebounceDelay);this._disposables.add(Ce),this._disposables.add(Aa.BH.onDidChangeMenu(Lt=>{Lt.has(l)&&Ce.schedule()}));const Ne=this._disposables.add(new it.SL);this._onDidChange=new Q.Q5({onFirstListenerAdd:()=>{const Lt=new In.pY(()=>this._onDidChange.fire(this),g.eventDebounceDelay);Ne.add(Lt),Ne.add(Z.onDidChangeContext(Bt=>{Bt.affectsSome(this._contextKeys)&&Lt.schedule()}))},onLastListenerRemove:Ne.clear.bind(Ne)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const l=Aa.BH.getMenuItems(this._id);let g;l.sort(m_._compareMenuItems);for(const S of l){const Z=S.group||"";(!g||g[0]!==Z)&&(g=[Z,[]],this._menuGroups.push(g)),g[1].push(S),this._collectContextKeys(S)}}_collectContextKeys(l){m_._fillInKbExprKeys(l.when,this._contextKeys),(0,Aa.vr)(l)?(l.command.precondition&&m_._fillInKbExprKeys(l.command.precondition,this._contextKeys),l.command.toggled&&m_._fillInKbExprKeys(l.command.toggled.condition||l.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&Aa.BH.getMenuItems(l.submenu).forEach(this._collectContextKeys,this)}getActions(l){const g=[];for(let S of this._menuGroups){const[Z,ae]=S,Ce=[];for(const Ne of ae)if(this._contextKeyService.contextMatchesRules(Ne.when)){const Je=(0,Aa.vr)(Ne)?new Aa.U8(Ne.command,Ne.alt,l,this._contextKeyService,this._commandService):new Aa.NZ(Ne,this._menuService,this._contextKeyService,l);Ce.push(Je)}Ce.length>0&&g.push([Z,Ce])}return g}static _fillInKbExprKeys(l,g){if(l)for(let S of l.keys())g.add(S)}static _compareMenuItems(l,g){let S=l.group,Z=g.group;if(S!==Z){if(!S)return 1;if(!Z)return-1;if("navigation"===S)return-1;if("navigation"===Z)return 1;let Ne=S.localeCompare(Z);if(0!==Ne)return Ne}let ae=l.order||0,Ce=g.order||0;return ae<Ce?-1:ae>Ce?1:m_._compareTitles((0,Aa.vr)(l)?l.command.title:l.title,(0,Aa.vr)(g)?g.command.title:g.title)}static _compareTitles(l,g){return("string"==typeof l?l:l.original).localeCompare("string"==typeof g?g:g.original)}};na=dh([xd(2,ts.Hy),xd(3,Hn.i6),xd(4,Aa.co)],na);var Jf=function(E,l){return function(g,S){l(g,S,E)}},Id=function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})};let Md=class extends it.JT{constructor(l,g){super(),this.layoutService=l,this.logService=g,this.mapTextToType=new Map,this.findText="",(Oc.isSafari||Oc.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const l=()=>{const g=new In.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=g,navigator.clipboard.write([new ClipboardItem({"text/plain":g.p})]).catch(S=>Id(this,void 0,void 0,function*(){(!(S instanceof Error)||"NotAllowedError"!==S.name||!g.isRejected)&&this.logService.error(S)}))};this.layoutService.hasContainer&&(this._register((0,zt.nm)(this.layoutService.container,"click",l)),this._register((0,zt.nm)(this.layoutService.container,"keydown",l)))}writeText(l,g){return Id(this,void 0,void 0,function*(){if(g)return void this.mapTextToType.set(g,l);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(l);try{return yield navigator.clipboard.writeText(l)}catch(ae){console.error(ae)}const S=document.activeElement,Z=document.body.appendChild((0,zt.$)("textarea",{"aria-hidden":!0}));Z.style.height="1px",Z.style.width="1px",Z.style.position="absolute",Z.value=l,Z.focus(),Z.select(),document.execCommand("copy"),S instanceof HTMLElement&&S.focus(),document.body.removeChild(Z)})}readText(l){return Id(this,void 0,void 0,function*(){if(l)return this.mapTextToType.get(l)||"";try{return yield navigator.clipboard.readText()}catch(g){return console.error(g),""}})}readFindText(){return Id(this,void 0,void 0,function*(){return this.findText})}writeFindText(l){return Id(this,void 0,void 0,function*(){this.findText=l})}};Md=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([Jf(0,$i),Jf(1,Bo.VZ)],Md);var uh=m(777),Nd=m(7981);const ml="data-keybinding-context";class Td{constructor(l,g){this._id=l,this._parent=g,this._value=Object.create(null),this._value._contextId=l}setValue(l,g){return this._value[l]!==g&&(this._value[l]=g,!0)}removeValue(l){return l in this._value&&(delete this._value[l],!0)}getValue(l){const g=this._value[l];return void 0===g&&this._parent?this._parent.getValue(l):g}}class ka extends Td{constructor(){super(-1,null)}setValue(l,g){return!1}removeValue(l){return!1}getValue(l){}}ka.INSTANCE=new ka;let vr=(()=>{class E extends Td{constructor(g,S,Z){super(g,null),this._configurationService=S,this._values=io.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(ae=>{if(6===ae.source){const Ce=Array.from(Nd.$.map(this._values,([Ne])=>Ne));this._values.clear(),Z.fire(new hh(Ce))}else{const Ce=[];for(const Ne of ae.affectedKeys){const Je=`config.${Ne}`,Lt=this._values.findSuperstr(Je);void 0!==Lt&&(Ce.push(...Nd.$.map(Lt,([Bt])=>Bt)),this._values.deleteSuperstr(Je)),this._values.has(Je)&&(Ce.push(Je),this._values.delete(Je))}Z.fire(new hh(Ce))}})}dispose(){this._listener.dispose()}getValue(g){if(0!==g.indexOf(E._keyPrefix))return super.getValue(g);if(this._values.has(g))return this._values.get(g);const S=g.substr(E._keyPrefix.length),Z=this._configurationService.getValue(S);let ae;switch(typeof Z){case"number":case"boolean":case"string":ae=Z;break;default:ae=Array.isArray(Z)?JSON.stringify(Z):Z}return this._values.set(g,ae),ae}setValue(g,S){return super.setValue(g,S)}removeValue(g){return super.removeValue(g)}}return E._keyPrefix="config.",E})();class b_{constructor(l,g,S){this._service=l,this._key=g,this._defaultValue=S,this.reset()}set(l){this._service.setContext(this._key,l)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Ll{constructor(l){this.key=l}affectsSome(l){return l.has(this.key)}}class hh{constructor(l){this.keys=l}affectsSome(l){for(const g of this.keys)if(l.has(g))return!0;return!1}}class qa{constructor(l){this.events=l}affectsSome(l){for(const g of this.events)if(g.affectsSome(l))return!0;return!1}}class Mm{constructor(l){this._onDidChangeContext=new Q.K3({merge:g=>new qa(g)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=l}createKey(l,g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new b_(this,l,g)}bufferChangeEvents(l){this._onDidChangeContext.pause();try{l()}finally{this._onDidChangeContext.resume()}}createScoped(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Kc(this,l)}contextMatchesRules(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const g=this.getContextValuesContainer(this._myContextId);return!l||l.evaluate(g)}getContextKeyValue(l){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(l)}setContext(l,g){if(this._isDisposed)return;const S=this.getContextValuesContainer(this._myContextId);!S||S.setValue(l,g)&&this._onDidChangeContext.fire(new Ll(l))}removeContext(l){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(l)&&this._onDidChangeContext.fire(new Ll(l))}getContext(l){return this._isDisposed?ka.INSTANCE:this.getContextValuesContainer(function fh(E){for(;E;){if(E.hasAttribute(ml)){const l=E.getAttribute(ml);return l?parseInt(l,10):NaN}E=E.parentElement}return 0}(l))}}let as=class extends Mm{constructor(l){super(0),this._contexts=new Map,this._toDispose=new it.SL,this._lastContextId=0;const g=new vr(this._myContextId,l,this._onDidChangeContext);this._contexts.set(this._myContextId,g),this._toDispose.add(g)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(l){return this._isDisposed?ka.INSTANCE:this._contexts.get(l)||ka.INSTANCE}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let g=++this._lastContextId;return this._contexts.set(g,new Td(g,this.getContextValuesContainer(l))),g}disposeContext(l){this._isDisposed||this._contexts.delete(l)}};as=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae}([function(E,l){return function(g,S){l(g,S,0)}}(0,Jo.Ui)],as);class Kc extends Mm{constructor(l,g){if(super(l.createChildContext()),this._parentChangeListener=new it.XK,this._parent=l,this._updateParentChangeListener(),this._domNode=g,this._domNode.hasAttribute(ml)){let S="";this._domNode.classList&&(S=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(S?": "+S:""))}this._domNode.setAttribute(ml,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(ml),this._isDisposed=!0)}getContextValuesContainer(l){return this._isDisposed?ka.INSTANCE:this._parent.getContextValuesContainer(l)}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(l)}disposeContext(l){this._isDisposed||this._parent.disposeContext(l)}}ts.P0.registerCommand(Hn.Eq,function(E,l,g){E.get(Hn.i6).createKey(String(l),g)}),ts.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...Hn.uy.all()].sort((E,l)=>E.key.localeCompare(l.key)),description:{description:(0,Vi.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),ts.P0.registerCommand("_generateContextKeyInfo",function(){const E=[],l=new Set;for(let g of Hn.uy.all())l.has(g.key)||(l.add(g.key),E.push(g));E.sort((g,S)=>g.key.localeCompare(S.key)),console.log(JSON.stringify(E,void 0,2))});var Gl=m(9524);class Nm{constructor(l){this.incoming=new Map,this.outgoing=new Map,this.data=l}}class Tm{constructor(l){this._hashFn=l,this._nodes=new Map}roots(){const l=[];for(let g of this._nodes.values())0===g.outgoing.size&&l.push(g);return l}insertEdge(l,g){const S=this.lookupOrInsertNode(l),Z=this.lookupOrInsertNode(g);S.outgoing.set(this._hashFn(g),Z),Z.incoming.set(this._hashFn(l),S)}removeNode(l){const g=this._hashFn(l);this._nodes.delete(g);for(let S of this._nodes.values())S.outgoing.delete(g),S.incoming.delete(g)}lookupOrInsertNode(l){const g=this._hashFn(l);let S=this._nodes.get(g);return S||(S=new Nm(l),this._nodes.set(g,S)),S}isEmpty(){return 0===this._nodes.size}toString(){let l=[];for(let[g,S]of this._nodes)l.push(`${g}, (incoming)[${[...S.incoming.keys()].join(", ")}], (outgoing)[${[...S.outgoing.keys()].join(",")}]`);return l.join("\n")}findCycleSlow(){for(let[l,g]of this._nodes){const Z=this._findCycle(g,new Set([l]));if(Z)return Z}}_findCycle(l,g){for(let[S,Z]of l.outgoing){if(g.has(S))return[...g,S].join(" -> ");g.add(S);const ae=this._findCycle(Z,g);if(ae)return ae;g.delete(S)}}}var Ad=m(2281);class gh extends Error{constructor(l){var g;super("cyclic dependency between services"),this.message=null!==(g=l.findCycleSlow())&&void 0!==g?g:`UNABLE to detect cycle, dumping graph: \n${l.toString()}`}}class hu{constructor(l=new Ad.y,g=!1,S){this._activeInstantiations=new Set,this._services=l,this._strict=g,this._parent=S,this._services.set(yo.TG,this)}createChild(l){return new hu(l,this._strict,this)}invokeFunction(l,...g){let S=ia.traceInvocation(l),Z=!1;try{return l({get:Ce=>{if(Z)throw(0,$t.L6)("service accessor is only valid during the invocation of its target method");const Ne=this._getOrCreateServiceInstance(Ce,S);if(!Ne)throw new Error(`[invokeFunction] unknown service '${Ce}'`);return Ne}},...g)}finally{Z=!0,S.stop()}}createInstance(l,...g){let S,Z;return l instanceof Gl.M?(S=ia.traceCreation(l.ctor),Z=this._createInstance(l.ctor,l.staticArguments.concat(g),S)):(S=ia.traceCreation(l),Z=this._createInstance(l,g,S)),S.stop(),Z}_createInstance(l,g=[],S){let Z=yo.I8.getServiceDependencies(l).sort((Ne,Je)=>Ne.index-Je.index),ae=[];for(const Ne of Z){let Je=this._getOrCreateServiceInstance(Ne.id,S);if(!Je&&this._strict&&!Ne.optional)throw new Error(`[createInstance] ${l.name} depends on UNKNOWN service ${Ne.id}.`);ae.push(Je)}let Ce=Z.length>0?Z[0].index:g.length;if(g.length!==Ce){console.warn(`[createInstance] First service dependency of ${l.name} at position ${Ce+1} conflicts with ${g.length} static arguments`);let Ne=Ce-g.length;g=Ne>0?g.concat(new Array(Ne)):g.slice(0,Ce)}return new l(...[...g,...ae])}_setServiceInstance(l,g){if(this._services.get(l)instanceof Gl.M)this._services.set(l,g);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(l,g)}}_getServiceInstanceOrDescriptor(l){let g=this._services.get(l);return!g&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):g}_getOrCreateServiceInstance(l,g){let S=this._getServiceInstanceOrDescriptor(l);return S instanceof Gl.M?this._safeCreateAndCacheServiceInstance(l,S,g.branch(l,!0)):(g.branch(l,!1),S)}_safeCreateAndCacheServiceInstance(l,g,S){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,g,S)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,g,S){const Z=new Tm(Ne=>Ne.id.toString());let ae=0;const Ce=[{id:l,desc:g,_trace:S}];for(;Ce.length;){const Ne=Ce.pop();if(Z.lookupOrInsertNode(Ne),ae++>1e3)throw new gh(Z);for(let Je of yo.I8.getServiceDependencies(Ne.desc.ctor)){let Lt=this._getServiceInstanceOrDescriptor(Je.id);if(!Lt&&!Je.optional&&console.warn(`[createInstance] ${l} depends on ${Je.id} which is NOT registered.`),Lt instanceof Gl.M){const Bt={id:Je.id,desc:Lt,_trace:Ne._trace.branch(Je.id,!0)};Z.insertEdge(Ne,Bt),Ce.push(Bt)}}}for(;;){const Ne=Z.roots();if(0===Ne.length){if(!Z.isEmpty())throw new gh(Z);break}for(const{data:Je}of Ne){if(this._getServiceInstanceOrDescriptor(Je.id)instanceof Gl.M){const Bt=this._createServiceInstanceWithOwner(Je.id,Je.desc.ctor,Je.desc.staticArguments,Je.desc.supportsDelayedInstantiation,Je._trace);this._setServiceInstance(Je.id,Bt)}Z.removeNode(Je)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,g,S=[],Z,ae){if(this._services.get(l)instanceof Gl.M)return this._createServiceInstance(g,S,Z,ae);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,g,S,Z,ae);throw new Error(`illegalState - creating UNKNOWN service instance ${g.name}`)}_createServiceInstance(l,g=[],S,Z){if(S){const ae=new In.Ue(()=>this._createInstance(l,g,Z));return new Proxy(Object.create(null),{get(Ce,Ne){if(Ne in Ce)return Ce[Ne];let Je=ae.value,Lt=Je[Ne];return"function"!=typeof Lt||(Lt=Lt.bind(Je),Ce[Ne]=Lt),Lt},set:(Ce,Ne,Je)=>(ae.value[Ne]=Je,!0)})}return this._createInstance(l,g,Z)}}class ia{constructor(l,g){this.type=l,this.name=g,this._start=Date.now(),this._dep=[]}static traceInvocation(l){return ia._None}static traceCreation(l){return ia._None}branch(l,g){let S=new ia(2,l.toString());return this._dep.push([l,g,S]),S}stop(){let l=Date.now()-this._start;ia._totals+=l;let g=!1,Z=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function S(ae,Ce){let Ne=[],Je=new Array(ae+1).join("\t");for(const[Lt,Bt,gn]of Ce._dep)if(Bt&&gn){g=!0,Ne.push(`${Je}CREATES -> ${Lt}`);let Un=S(ae+1,gn);Un&&Ne.push(Un)}else Ne.push(`${Je}uses -> ${Lt}`);return Ne.join("\n")}(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${ia._totals.toFixed(2)}ms)`];(l>2||g)&&console.log(Z.join("\n"))}}ia._None=new class extends ia{constructor(){super(-1,null)}stop(){}branch(){return this}},ia._totals=0;class Fr{constructor(){this._byResource=new io.Y9,this._byOwner=new Map}set(l,g,S){let Z=this._byResource.get(l);Z||(Z=new Map,this._byResource.set(l,Z)),Z.set(g,S);let ae=this._byOwner.get(g);ae||(ae=new io.Y9,this._byOwner.set(g,ae)),ae.set(l,S)}get(l,g){let S=this._byResource.get(l);return null==S?void 0:S.get(g)}delete(l,g){let S=!1,Z=!1,ae=this._byResource.get(l);ae&&(S=ae.delete(g));let Ce=this._byOwner.get(g);if(Ce&&(Z=Ce.delete(l)),S!==Z)throw new Error("illegal state");return S&&Z}values(l){var g,S,Z,ae;return"string"==typeof l?null!==(S=null===(g=this._byOwner.get(l))||void 0===g?void 0:g.values())&&void 0!==S?S:Nd.$.empty():R.o.isUri(l)?null!==(ae=null===(Z=this._byResource.get(l))||void 0===Z?void 0:Z.values())&&void 0!==ae?ae:Nd.$.empty():Nd.$.map(Nd.$.concat(...this._byOwner.values()),Ce=>Ce[1])}}class kd{constructor(l){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new io.Y9,this._service=l,this._subscription=l.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(l){for(const g of l){const S=this._data.get(g);S&&this._substract(S);const Z=this._resourceStats(g);this._add(Z),this._data.set(g,Z)}}_resourceStats(l){const g={errors:0,warnings:0,infos:0,unknowns:0};if(l.scheme===ci.lg.inMemory||l.scheme===ci.lg.walkThrough||l.scheme===ci.lg.walkThroughSnippet)return g;for(const{severity:S}of this._service.read({resource:l}))S===qo.ZL.Error?g.errors+=1:S===qo.ZL.Warning?g.warnings+=1:S===qo.ZL.Info?g.infos+=1:g.unknowns+=1;return g}_substract(l){this.errors-=l.errors,this.warnings-=l.warnings,this.infos-=l.infos,this.unknowns-=l.unknowns}_add(l){this.errors+=l.errors,this.warnings+=l.warnings,this.infos+=l.infos,this.unknowns+=l.unknowns}}class el{constructor(){this._onMarkerChanged=new Q.D0({delay:0,merge:el._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Fr,this._stats=new kd(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(l,g){for(const S of g||[])this.changeOne(l,S,[])}changeOne(l,g,S){if((0,Yi.XY)(S))this._data.delete(g,l)&&this._onMarkerChanged.fire([g]);else{const Z=[];for(const ae of S){const Ce=el._toMarker(l,g,ae);Ce&&Z.push(Ce)}this._data.set(g,l,Z),this._onMarkerChanged.fire([g])}}static _toMarker(l,g,S){let{code:Z,severity:ae,message:Ce,source:Ne,startLineNumber:Je,startColumn:Lt,endLineNumber:Bt,endColumn:gn,relatedInformation:Un,tags:di}=S;if(Ce)return Je=Je>0?Je:1,Lt=Lt>0?Lt:1,Bt=Bt>=Je?Bt:Je,gn=gn>0?gn:Lt,{resource:g,owner:l,code:Z,severity:ae,message:Ce,source:Ne,startLineNumber:Je,startColumn:Lt,endLineNumber:Bt,endColumn:gn,relatedInformation:Un,tags:di}}read(l=Object.create(null)){let{owner:g,resource:S,severities:Z,take:ae}=l;if((!ae||ae<0)&&(ae=-1),g&&S){const Ce=this._data.get(S,g);if(Ce){const Ne=[];for(const Je of Ce)if(el._accept(Je,Z)){const Lt=Ne.push(Je);if(ae>0&&Lt===ae)break}return Ne}return[]}if(g||S){const Ce=this._data.values(null!=S?S:g),Ne=[];for(const Je of Ce)for(const Lt of Je)if(el._accept(Lt,Z)){const Bt=Ne.push(Lt);if(ae>0&&Bt===ae)return Ne}return Ne}{const Ce=[];for(let Ne of this._data.values())for(let Je of Ne)if(el._accept(Je,Z)){const Lt=Ce.push(Je);if(ae>0&&Lt===ae)return Ce}return Ce}}static _accept(l,g){return void 0===g||(g&l.severity)===l.severity}static _merge(l){const g=new io.Y9;for(let S of l)for(let Z of S)g.set(Z,!0);return Array.from(g.keys())}}var Am=m(9571),pc=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae},xr=function(E,l){return function(g,S){l(g,S,E)}},km=function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})};class Rm{constructor(l){this.disposed=!1,this.model=l,this._onWillDispose=new Q.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let eg=class{constructor(l){this.modelService=l}createModelReference(l){const g=this.modelService.getModel(l);return g?Promise.resolve(new it.Jz(new Rm(g))):Promise.reject(new Error("Model not found"))}};eg=pc([xr(0,_n.q)],eg);let Om=(()=>{class E{show(){return E.NULL_PROGRESS_RUNNER}showWhile(g,S){return km(this,void 0,void 0,function*(){yield g})}}return E.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},E})();class Ra{info(l){return this.notify({severity:Rs.Z.Info,message:l})}warn(l){return this.notify({severity:Rs.Z.Warning,message:l})}error(l){return this.notify({severity:Rs.Z.Error,message:l})}notify(l){switch(l.severity){case Rs.Z.Error:console.error(l.message);break;case Rs.Z.Warning:console.warn(l.message);break;default:console.log(l.message)}return Ra.NO_OP}status(l,g){return it.JT.None}}Ra.NO_OP=new Hs.EO;let gu=class{constructor(l){this._onWillExecuteCommand=new Q.Q5,this._onDidExecuteCommand=new Q.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=l}executeCommand(l,...g){const S=ts.P0.getCommand(l);if(!S)return Promise.reject(new Error(`command '${l}' not found`));try{this._onWillExecuteCommand.fire({commandId:l,args:g});const Z=this._instantiationService.invokeFunction.apply(this._instantiationService,[S.handler,...g]);return this._onDidExecuteCommand.fire({commandId:l,args:g}),Promise.resolve(Z)}catch(Z){return Promise.reject(Z)}}};gu=pc([xr(0,yo.TG)],gu);let mh=class extends Er{constructor(l,g,S,Z,ae,Ce){super(l,g,S,Z,ae),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ne=di=>{const Zi=new it.SL;Zi.add(zt.nm(di,zt.tw.KEY_DOWN,bo=>{const os=new We.y(bo);this._dispatch(os,os.target)&&(os.preventDefault(),os.stopPropagation())})),Zi.add(zt.nm(di,zt.tw.KEY_UP,bo=>{const os=new We.y(bo);this._singleModifierDispatch(os,os.target)&&os.preventDefault()})),this._domNodeListeners.push(new Pm(di,Zi))},Je=di=>{for(let Zi=0;Zi<this._domNodeListeners.length;Zi++){const bo=this._domNodeListeners[Zi];bo.domNode===di&&(this._domNodeListeners.splice(Zi,1),bo.dispose())}},Lt=di=>{di.getOption(54)||Ne(di.getContainerDomNode())};this._register(Ce.onCodeEditorAdd(Lt)),this._register(Ce.onCodeEditorRemove(di=>{di.getOption(54)||Je(di.getContainerDomNode())})),Ce.listCodeEditors().forEach(Lt);const gn=di=>{Ne(di.getContainerDomNode())};this._register(Ce.onDiffEditorAdd(gn)),this._register(Ce.onDiffEditorRemove(di=>{Je(di.getContainerDomNode())})),Ce.listDiffEditors().forEach(gn)}addDynamicKeybinding(l,g,S,Z){const ae=(0,Tt.gm)(g,bt.OS),Ce=new it.SL;return ae&&(this._dynamicKeybindings.push({keybinding:ae.parts,command:l,when:Z,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Ce.add((0,it.OF)(()=>{for(let Ne=0;Ne<this._dynamicKeybindings.length;Ne++)if(this._dynamicKeybindings[Ne].command===l)return this._dynamicKeybindings.splice(Ne,1),void this.updateResolver({source:1})}))),Ce.add(ts.P0.registerCommand(l,S)),this.updateResolver({source:1}),Ce}updateResolver(l){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(l)}_getResolver(){if(!this._cachedResolver){const l=this._toNormalizedKeybindingItems(eo.W.getDefaultKeybindings(),!0),g=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new ul(l,g,S=>this._log(S))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(l,g){const S=[];let Z=0;for(const ae of l){const Ce=ae.when||void 0,Ne=ae.keybinding;if(Ne){const Je=Xr.resolveUserBinding(Ne,bt.OS);for(const Lt of Je)S[Z++]=new rs(Lt,ae.command,ae.commandArgs,Ce,g,null,!1)}else S[Z++]=new rs(void 0,ae.command,ae.commandArgs,Ce,g,null,!1)}return S}resolveKeyboardEvent(l){const g=new Tt.QC(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,l.keyCode).toChord();return new Xr(g,bt.OS)}};mh=pc([xr(0,Hn.i6),xr(1,ts.Hy),xr(2,Ur.b),xr(3,Hs.lT),xr(4,Bo.VZ),xr(5,At.$)],mh);class Pm extends it.JT{constructor(l,g){super(),this.domNode=l,this._register(g)}}function Oa(E){return E&&"object"==typeof E&&(!E.overrideIdentifier||"string"==typeof E.overrideIdentifier)&&(!E.resource||E.resource instanceof R.o)}class C_{constructor(){this._onDidChangeConfiguration=new Q.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Ms(new Cs,new Ro)}getValue(l,g){const S="string"==typeof l?l:void 0,Z=Oa(l)?l:Oa(g)?g:{};return this._configuration.getValue(S,Z,void 0)}updateValues(l){const g={data:this._configuration.toData()},S=[];for(const Z of l){const[ae,Ce]=Z;this.getValue(ae)!==Ce&&(this._configuration.updateValue(ae,Ce),S.push(ae))}if(S.length>0){const Z=new Ps({keys:S,overrides:[]},g,this._configuration);Z.source=7,Z.sourceConfig=null,this._onDidChangeConfiguration.fire(Z)}return Promise.resolve()}updateValue(l,g,S,Z){return this.updateValues([[l,g]])}inspect(l,g={}){return this._configuration.inspect(l,g,void 0)}}let Fm=class{constructor(l){this.configurationService=l,this._onDidChangeConfiguration=new Q.Q5,this.configurationService.onDidChangeConfiguration(g=>{this._onDidChangeConfiguration.fire({affectedKeys:g.affectedKeys,affectsConfiguration:(S,Z)=>g.affectsConfiguration(Z)})})}getValue(l,g,S){const ae=se.L.isIPosition(g)&&g?"string"==typeof S?S:void 0:"string"==typeof g?g:void 0;return void 0===ae?this.configurationService.getValue():this.configurationService.getValue(ae)}};Fm=pc([xr(0,Jo.Ui)],Fm);let Rd=class{constructor(l){this.configurationService=l}getEOL(l,g){const S=this.configurationService.getValue("files.eol",{overrideIdentifier:g,resource:l});return S&&"string"==typeof S&&"auto"!==S?S:bt.IJ||bt.dz?"\n":"\r\n"}};Rd=pc([xr(0,Jo.Ui)],Rd);let Zv=(()=>{class E{constructor(){const g=R.o.from({scheme:E.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Es.md({uri:g,name:"",index:0})]}}getWorkspace(){return this.workspace}}return E.SCHEME="inmemory",E})();function tg(E,l,g){if(!(l&&E instanceof C_))return;const S=[];Object.keys(l).forEach(Z=>{(function fo(E){return pi()[`editor.${E}`]||!1})(Z)&&S.push([`editor.${Z}`,l[Z]]),g&&function Lo(E){return pi()[`diffEditor.${E}`]||!1}(Z)&&S.push([`diffEditor.${Z}`,l[Z]])}),S.length>0&&E.updateValues(S)}let Bm=class{constructor(l){this._modelService=l}hasPreviewHandler(){return!1}apply(l,g){return km(this,void 0,void 0,function*(){const S=new Map;for(let Ce of l){if(!(Ce instanceof Qt.Gl))throw new Error("bad edit - only text edits are supported");const Ne=this._modelService.getModel(Ce.resource);if(!Ne)throw new Error("bad edit - model not found");if("number"==typeof Ce.versionId&&Ne.getVersionId()!==Ce.versionId)throw new Error("bad state - model changed in the meantime");let Je=S.get(Ne);Je||(Je=[],S.set(Ne,Je)),Je.push(Ss.h.replaceMove(j.e.lift(Ce.textEdit.range),Ce.textEdit.text))}let Z=0,ae=0;for(const[Ce,Ne]of S)Ce.pushStackElement(),Ce.pushEditOperations([],Ne,()=>[]),Ce.pushStackElement(),ae+=1,Z+=Ne.length;return{ariaSummary:Xt.WU(_a.iN.bulkEditServiceSummary,Z,ae)}})}};Bm=pc([xr(0,_n.q)],Bm);let mu=class extends Us{constructor(l,g){super(l),this._codeEditorService=g}showContextView(l,g,S){if(!g){const Z=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Z&&(g=Z.getContainerDomNode())}return super.showContextView(l,g,S)}};mu=pc([xr(0,$i),xr(1,At.$)],mu);let ph=class extends wd{constructor(l,g,S,Z,ae){super(l,g,S,Z,ae),this.configure({blockMouse:!1})}};var cs;ph=pc([xr(0,Ur.b),xr(1,Hs.lT),xr(2,jr.u),xr(3,la.d),xr(4,Re.XE)],ph),(0,$n.z)(Jo.Ui,C_),(0,$n.z)(Mo.V,Fm),(0,$n.z)(Mo.y,Rd),(0,$n.z)(Es.ec,Zv),(0,$n.z)(zs.e,class Vm{getUriLabel(l,g){return"file"===l.scheme?l.fsPath:l.path}}),(0,$n.z)(Ur.b,class y_{publicLog(l,g){return Promise.resolve(void 0)}publicLog2(l,g){return this.publicLog(l,g)}}),(0,$n.z)(Dr.S,class fu{confirm(l){return this.doConfirm(l).then(g=>({confirmed:g,checkboxChecked:!1}))}doConfirm(l){let g=l.message;return l.detail&&(g=g+"\n\n"+l.detail),Promise.resolve(window.confirm(g))}show(l,g,S,Z){return Promise.resolve({choice:0})}}),(0,$n.z)(Hs.lT,Ra),(0,$n.z)(qo.lT,el),(0,$n.z)(jt.O,class Xv extends vd{constructor(){super()}}),(0,$n.z)(ua.Z,class Xf extends it.JT{constructor(){super(),this._onColorThemeChange=this._register(new Q.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Q.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new Lm,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(zc,jc(zc)),this._knownThemes.set(ch,jc(ch)),this._knownThemes.set(Ld,jc(Ld));const l=function Em(E){const l=new Q.Q5,g=(0,Dm.Ks)();return g.onDidChange(()=>l.fire()),null==E||E.onDidProductIconThemeChange(()=>l.fire()),{onDidChange:l.event,getCSS(){const S=E?E.getProductIconTheme():new Lm,Z={},ae=Ne=>{const Je=S.getIcon(Ne);if(!Je)return;const Lt=Je.font;return Lt?(Z[Lt.id]=Lt.getDefinition(),`.codicon-${Ne.id}:before { content: '${Je.fontCharacter}'; font-family: ${(0,zt._h)(Lt.id)}; }`):`.codicon-${Ne.id}:before { content: '${Je.fontCharacter}'; }`},Ce=[];for(let Ne of g.getIcons()){const Je=ae(Ne);Je&&Ce.push(Je)}for(let Ne in Z){const Je=Z[Ne];if(Je){const Lt=Je.weight?`font-weight: ${Je.weight};`:"",Bt=Je.style?`font-style: ${Je.style};`:"",gn=Je.src.map(Un=>`${(0,zt.wY)(Un.location)} format('${Un.format}')`).join(", ");Ce.push(`@font-face { src: ${gn}; font-family: ${(0,zt._h)(Ne)};${Lt}${Bt} font-display: block; }`)}}return Ce.join("\n")}}}(this);this._codiconCSS=l.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(zc),l.onDidChange(()=>{this._codiconCSS=l.getCSS(),this._updateCSS()}),zt.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(l){return zt.OO(l)?this._registerShadowDomContainer(l):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=zt.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),it.JT.None}_registerShadowDomContainer(l){const g=zt.dS(l);return g.className="monaco-colors",g.textContent=this._allCSS,this._styleElements.push(g),{dispose:()=>{for(let S=0;S<this._styleElements.length;S++)if(this._styleElements[S]===g)return void this._styleElements.splice(S,1)}}}defineTheme(l,g){if(!/^[a-z0-9\-]+$/i.test(l))throw new Error("Illegal theme name!");if(!cu(g.base)&&!cu(l))throw new Error("Illegal theme base!");this._knownThemes.set(l,new Uc(l,g)),cu(l)&&this._knownThemes.forEach(S=>{S.base===l&&S.notifyBaseUpdated()}),this._theme.themeName===l&&this.setTheme(l)}getColorTheme(){return this._theme}setColorMapOverride(l){this._colorMapOverride=l,this._updateThemeOrColorMap()}setTheme(l){let g;g=this._knownThemes.has(l)?this._knownThemes.get(l):this._knownThemes.get(zc),this._desiredTheme=g,this._updateActualTheme()}_updateActualTheme(){const l=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(Ld):this._desiredTheme;this._theme!==l&&(this._theme=l,this._updateThemeOrColorMap())}setAutoDetectHighContrast(l){this._autoDetectHighContrast=l,this._updateActualTheme()}_updateThemeOrColorMap(){const l=[],g={},S={addRule:Ce=>{g[Ce]||(l.push(Ce),g[Ce]=!0)}};__.getThemingParticipants().forEach(Ce=>Ce(this._theme,S,this._environment));const Z=[];for(const Ce of xm.getColors()){const Ne=this._theme.getColor(Ce.id,!0);Ne&&Z.push(`${(0,go.QO2)(Ce.id)}: ${Ne.toString()};`)}S.addRule(`.monaco-editor { ${Z.join("\n")} }`);const ae=this._colorMapOverride||this._theme.tokenTheme.getColorMap();S.addRule(function $v(E){const l=[];for(let g=1,S=E.length;g<S;g++)l[g]=`.mtk${g} { color: ${E[g]}; }`;return l.push(".mtki { font-style: italic; }"),l.push(".mtkb { font-weight: bold; }"),l.push(".mtku { text-decoration: underline; text-underline-position: under; }"),l.push(".mtks { text-decoration: line-through; }"),l.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),l.join("\n")}(ae)),this._themeCSS=l.join("\n"),this._updateCSS(),V.RW.setColorMap(ae),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(l=>l.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}),(0,$n.z)(Bo.VZ,class pu extends Bo.$V{constructor(){super(new Bo.kw)}}),(0,$n.z)(_n.q,r.b$),(0,$n.z)(st.i,ta),(0,$n.z)(Hn.i6,as),(0,$n.z)(ns.ek,Om),(0,$n.z)(Am.Uy,Am.vm),(0,$n.z)(Ln.p,Ii),(0,$n.z)(Qt.vu,Bm),(0,$n.z)(ur.Y,class Qv{constructor(){this._neverEmitter=new Q.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,$n.z)(Os.S,eg),(0,$n.z)(B.F,Im),(0,$n.z)(ru.Lw,ru.XN),(0,$n.z)(ts.Hy,gu),(0,$n.z)(la.d,mh),(0,$n.z)(lu.eJ,Yf),(0,$n.z)(jr.u,mu),(0,$n.z)(ca.v4,ea),(0,$n.z)(uh.p,Md),(0,$n.z)(jr.i,ph),(0,$n.z)(Aa.co,uu),function(E){const l=new Ad.y;for(const[Ce,Ne]of(0,$n.d)())l.set(Ce,Ne);const g=new hu(l,!0);l.set(yo.TG,g),E.get=function S(Ce){const Ne=l.get(Ce);if(!Ne)throw new Error("Missing service "+Ce);return Ne instanceof Gl.M?g.invokeFunction(Je=>Je.get(Ce)):Ne};let Z=!1;E.initialize=function ae(Ce){if(Z)return g;Z=!0;for(const[Ne,Je]of(0,$n.d)())l.get(Ne)||l.set(Ne,Je);for(const Ne in Ce)if(Ce.hasOwnProperty(Ne)){const Je=(0,yo.yh)(Ne);l.get(Je)instanceof Gl.M&&l.set(Je,Ce[Ne])}return g}}(cs||(cs={}));var _h=function(E,l,g,S){var Ce,Z=arguments.length,ae=Z<3?l:null===S?S=Object.getOwnPropertyDescriptor(l,g):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(E,l,g,S);else for(var Ne=E.length-1;Ne>=0;Ne--)(Ce=E[Ne])&&(ae=(Z<3?Ce(ae):Z>3?Ce(l,g,ae):Ce(l,g))||ae);return Z>3&&ae&&Object.defineProperty(l,g,ae),ae},Ns=function(E,l){return function(g,S){l(g,S,E)}};let Wm=0,$c=!1,vh=class extends _t.Gm{constructor(l,g,S,Z,ae,Ce,Ne,Je,Lt,Bt,gn){const Un=Object.assign({},g);Un.ariaLabel=Un.ariaLabel||_a.B8.editorViewAccessibleLabel,Un.ariaLabel=Un.ariaLabel+";"+_a.B8.accessibilityHelpMessage,super(l,Un,{},S,Z,ae,Ce,Je,Lt,Bt,gn),this._standaloneKeybindingService=Ne instanceof mh?Ne:null,function xl(E){if(!E){if($c)return;$c=!0}Fe.wW(E||document.body)}(Un.ariaContainerElement)}addCommand(l,g,S){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Z="DYNAMIC_"+ ++Wm,ae=Hn.Ao.deserialize(S);return this._standaloneKeybindingService.addDynamicKeybinding(Z,l,g,ae),Z}createContextKey(l,g){return this._contextKeyService.createKey(l,g)}addAction(l){if("string"!=typeof l.id||"string"!=typeof l.label||"function"!=typeof l.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),it.JT.None;const g=l.id,S=l.label,Z=Hn.Ao.and(Hn.Ao.equals("editorId",this.getId()),Hn.Ao.deserialize(l.precondition)),ae=l.keybindings,Ce=Hn.Ao.and(Z,Hn.Ao.deserialize(l.keybindingContext)),Ne=l.contextMenuGroupId||null,Je=l.contextMenuOrder||0,Lt=(di,...Zi)=>Promise.resolve(l.run(this,...Zi)),Bt=new it.SL,gn=this.getId()+":"+g;if(Bt.add(ts.P0.registerCommand(gn,Lt)),Ne&&Bt.add(Aa.BH.appendMenuItem(Aa.eH.EditorContext,{command:{id:gn,title:S},when:Z,group:Ne,order:Je})),Array.isArray(ae))for(const di of ae)Bt.add(this._standaloneKeybindingService.addDynamicKeybinding(gn,di,Lt,Ce));const Un=new an.p(gn,S,S,Z,Lt,this._contextKeyService);return this._actions[g]=Un,Bt.add((0,it.OF)(()=>{delete this._actions[g]})),Bt}_triggerCommand(l,g){if(this._codeEditorService instanceof No)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(l,g)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(l,g)}};vh=_h([Ns(2,yo.TG),Ns(3,At.$),Ns(4,ts.Hy),Ns(5,Hn.i6),Ns(6,la.d),Ns(7,Re.XE),Ns(8,Hs.lT),Ns(9,B.F),Ns(10,yt.c_)],vh);let Hm=class extends vh{constructor(l,g,S,Z,ae,Ce,Ne,Je,Lt,Bt,gn,Un,di,Zi){const bo=Object.assign({},g);tg(Bt,bo,!1);const os=Je.registerEditorContainer(l);"string"==typeof bo.theme&&Je.setTheme(bo.theme),void 0!==bo.autoDetectHighContrast&&Je.setAutoDetectHighContrast(Boolean(bo.autoDetectHighContrast));const ms=bo.model;let ps;if(delete bo.model,super(l,bo,S,Z,ae,Ce,Ne,Je,Lt,gn,Zi),this._configurationService=Bt,this._standaloneThemeService=Je,this._register(os),void 0===ms){const Ko=di.getLanguageIdByMimeType(bo.language)||bo.language||La.bd;ps=w_(Un,di,bo.value||"",Ko,void 0),this._ownsModel=!0}else ps=ms,this._ownsModel=!1;this._attachModel(ps),ps&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:ps.uri})}dispose(){super.dispose()}updateOptions(l){tg(this._configurationService,l,!1),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_postDetachModelCleanup(l){super._postDetachModelCleanup(l),l&&this._ownsModel&&(l.dispose(),this._ownsModel=!1)}};Hm=_h([Ns(2,yo.TG),Ns(3,At.$),Ns(4,ts.Hy),Ns(5,Hn.i6),Ns(6,la.d),Ns(7,ua.Z),Ns(8,Hs.lT),Ns(9,Jo.Ui),Ns(10,B.F),Ns(11,_n.q),Ns(12,jt.O),Ns(13,yt.c_)],Hm);let oa=class extends Gt.p{constructor(l,g,S,Z,ae,Ce,Ne,Je,Lt,Bt,gn,Un){const di=Object.assign({},g);tg(Lt,di,!0);const Zi=Ne.registerEditorContainer(l);"string"==typeof di.theme&&Ne.setTheme(di.theme),void 0!==di.autoDetectHighContrast&&Ne.setAutoDetectHighContrast(Boolean(di.autoDetectHighContrast)),super(l,di,{},Un,ae,Z,S,Ce,Ne,Je,Bt,gn),this._configurationService=Lt,this._standaloneThemeService=Ne,this._register(Zi)}dispose(){super.dispose()}updateOptions(l){tg(this._configurationService,l,!0),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_createInnerEditor(l,g,S){return l.createInstance(vh,g,S)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(l,g,S){return this.getModifiedEditor().addCommand(l,g,S)}createContextKey(l,g){return this.getModifiedEditor().createContextKey(l,g)}addAction(l){return this.getModifiedEditor().addAction(l)}};function w_(E,l,g,S,Z){if(g=g||"",!S){const ae=g.indexOf("\n");let Ce=g;return-1!==ae&&(Ce=g.substring(0,ae)),Pa(E,g,l.createByFilepathOrFirstLine(Z||null,Ce),Z)}return Pa(E,g,l.createById(S),Z)}function Pa(E,l,g,S){return E.createModel(l,g,S)}function ng(E,l,g){return cs.initialize(g||{}).createInstance(Hm,E,l)}function bh(E){return cs.get(At.$).onCodeEditorAdd(g=>{E(g)})}function S_(E,l,g){return cs.initialize(g||{}).createInstance(oa,E,l)}function Ch(E,l){return new Kt.F(E,l)}function Fa(E,l,g){const S=cs.get(jt.O),Z=S.getLanguageIdByMimeType(l)||l;return w_(cs.get(_n.q),S,E,Z,g)}function zm(E,l){const g=cs.get(jt.O);cs.get(_n.q).setMode(E,g.createById(l))}function Um(E,l,g){E&&cs.get(qo.lT).changeOne(l,E.uri,g)}function ig(E){return cs.get(qo.lT).read(E)}function _u(E){return cs.get(qo.lT).onMarkerChanged(E)}function jm(E){return cs.get(_n.q).getModel(E)}function Jv(){return cs.get(_n.q).getModels()}function Od(E){return cs.get(_n.q).onModelAdded(E)}function vu(E){return cs.get(_n.q).onModelRemoved(E)}function og(E){return cs.get(_n.q).onModelLanguageChanged(g=>{E({model:g.model,oldLanguage:g.oldLanguageId})})}function _c(E){return function Xi(E,l,g){return new Wo(E,l,g)}(cs.get(_n.q),cs.get(yt.c_),E)}function Pd(E,l){const g=cs.get(jt.O),S=cs.get(ua.Z);return S.registerEditorContainer(E),Yt.colorizeElement(S,g,E,l)}function Km(E,l,g){const S=cs.get(jt.O);return cs.get(ua.Z).registerEditorContainer(document.body),Yt.colorize(S,E,l,g)}function D_(E,l,g=4){return cs.get(ua.Z).registerEditorContainer(document.body),Yt.colorizeModelLine(E,l,g)}function Gm(E,l){V.RW.getOrCreate(l);const g=function $m(E){return V.RW.get(E)||{getInitialState:()=>Ht.TJ,tokenize:(g,S,Z)=>(0,Ht.Ri)(E,Z)}}(l),S=(0,Xt.uq)(E),Z=[];let ae=g.getInitialState();for(let Ce=0,Ne=S.length;Ce<Ne;Ce++){const Lt=g.tokenize(S[Ce],!0,ae);Z[Ce]=Lt.tokens,ae=Lt.endState}return Z}function yh(E,l){cs.get(ua.Z).defineTheme(E,l)}function Ym(E){cs.get(ua.Z).setTheme(E)}function wh(){ze.g.clearAllFontInfos()}function Sh(E,l){return ts.P0.registerCommand({id:E,handler:l})}function sg(E,l){return"boolean"==typeof E?E:l}function Gc(E,l){return"string"==typeof E?E:l}function rg(E,l=!1){l&&(E=E.map(function(S){return S.toLowerCase()}));const g=function Eh(E){const l={};for(const g of E)l[g]=!0;return l}(E);return l?function(S){return void 0!==g[S.toLowerCase()]&&g.hasOwnProperty(S.toLowerCase())}:function(S){return void 0!==g[S]&&g.hasOwnProperty(S)}}function ya(E,l){l=l.replace(/@@/g,"\x01");let S,g=0;do{S=!1,l=l.replace(/@(\w+)/g,function(ae,Ce){S=!0;let Ne="";if("string"==typeof E[Ce])Ne=E[Ce];else{if(!(E[Ce]&&E[Ce]instanceof RegExp))throw Co(E,void 0===E[Ce]?"language definition does not contain attribute '"+Ce+"', used at: "+l:"attribute reference '"+Ce+"' must be a string, used at: "+l);Ne=E[Ce].source}return Gs(Ne)?"":"(?:"+Ne+")"}),g++}while(S&&g<5);return l=l.replace(/\x01/g,"@"),new RegExp(l,(E.ignoreCase?"i":"")+(E.unicode?"u":""))}function Yc(E,l,g,S){let Z=-1,ae=g,Ce=g.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);Ce&&(Ce[3]&&(Z=parseInt(Ce[3]),Ce[2]&&(Z+=100)),ae=Ce[4]);let Lt,Ne="~",Je=ae;if(ae&&0!==ae.length?/^\w*$/.test(Je)?Ne="==":(Ce=ae.match(/^(@|!@|~|!~|==|!=)(.*)$/),Ce&&(Ne=Ce[1],Je=Ce[2])):(Ne="!=",Je=""),"~"!==Ne&&"!~"!==Ne||!/^(\w|\|)*$/.test(Je))if("@"===Ne||"!@"===Ne){const Bt=E[Je];if(!Bt)throw Co(E,"the @ match target '"+Je+"' is not defined, in rule: "+l);if(!function Ir(E,l){if(!l||!Array.isArray(l))return!1;for(const g of l)if(!E(g))return!1;return!0}(function(Un){return"string"==typeof Un},Bt))throw Co(E,"the @ match target '"+Je+"' must be an array of strings, in rule: "+l);const gn=rg(Bt,E.ignoreCase);Lt=function(Un){return"@"===Ne?gn(Un):!gn(Un)}}else if("~"===Ne||"!~"===Ne)if(Je.indexOf("$")<0){const Bt=ya(E,"^"+Je+"$");Lt=function(gn){return"~"===Ne?Bt.test(gn):!Bt.test(gn)}}else Lt=function(Bt,gn,Un,di){return ya(E,"^"+Bs(E,Je,gn,Un,di)+"$").test(Bt)};else if(Je.indexOf("$")<0){const Bt=ks(E,Je);Lt=function(gn){return"=="===Ne?gn===Bt:gn!==Bt}}else{const Bt=ks(E,Je);Lt=function(gn,Un,di,Zi,bo){const os=Bs(E,Bt,Un,di,Zi);return"=="===Ne?gn===os:gn!==os}}else{const Bt=rg(Je.split("|"),E.ignoreCase);Lt=function(gn){return"~"===Ne?Bt(gn):!Bt(gn)}}return-1===Z?{name:g,value:S,test:function(Bt,gn,Un,di){return Lt(Bt,Bt,gn,Un,di)}}:{name:g,value:S,test:function(Bt,gn,Un,di){const Zi=function Zm(E,l,g,S){if(S<0)return E;if(S<l.length)return l[S];if(S>=100){S-=100;const Z=g.split(".");if(Z.unshift(g),S<Z.length)return Z[S]}return null}(Bt,gn,Un,Z);return Lt(Zi||"",Bt,gn,Un,di)}}}function Lh(E,l,g){if(g){if("string"==typeof g)return g;if(g.token||""===g.token){if("string"!=typeof g.token)throw Co(E,"a 'token' attribute must be of type string, in rule: "+l);{const S={token:g.token};if(g.token.indexOf("$")>=0&&(S.tokenSubst=!0),"string"==typeof g.bracket)if("@open"===g.bracket)S.bracket=1;else{if("@close"!==g.bracket)throw Co(E,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);S.bracket=-1}if(g.next){if("string"!=typeof g.next)throw Co(E,"the next state must be a string value in rule: "+l);{let Z=g.next;if(!/^(@pop|@push|@popall)$/.test(Z)&&("@"===Z[0]&&(Z=Z.substr(1)),Z.indexOf("$")<0&&!function ir(E,l){let g=l;for(;g&&g.length>0;){if(E.stateNames[g])return!0;const Z=g.lastIndexOf(".");g=Z<0?null:g.substr(0,Z)}return!1}(E,Bs(E,Z,"",[],""))))throw Co(E,"the next state '"+g.next+"' is not defined in rule: "+l);S.next=Z}}return"number"==typeof g.goBack&&(S.goBack=g.goBack),"string"==typeof g.switchTo&&(S.switchTo=g.switchTo),"string"==typeof g.log&&(S.log=g.log),"string"==typeof g.nextEmbedded&&(S.nextEmbedded=g.nextEmbedded,E.usesEmbedded=!0),S}}if(Array.isArray(g)){const S=[];for(let Z=0,ae=g.length;Z<ae;Z++)S[Z]=Lh(E,l,g[Z]);return{group:S}}if(g.cases){const S=[];for(let ae in g.cases)if(g.cases.hasOwnProperty(ae)){const Ce=Lh(E,l,g.cases[ae]);S.push("@default"===ae||"@"===ae||""===ae?{test:void 0,value:Ce,name:ae}:"@eos"===ae?{test:function(Ne,Je,Lt,Bt){return Bt},value:Ce,name:ae}:Yc(E,l,ae,Ce))}const Z=E.defaultToken;return{test:function(ae,Ce,Ne,Je){for(const Lt of S)if(!Lt.test||Lt.test(ae,Ce,Ne,Je))return Lt.value;return Z}}}throw Co(E,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}return{token:""}}oa=_h([Ns(2,yo.TG),Ns(3,Hn.i6),Ns(4,Ln.p),Ns(5,At.$),Ns(6,ua.Z),Ns(7,Hs.lT),Ns(8,Jo.Ui),Ns(9,jr.i),Ns(10,ns.ek),Ns(11,uh.p)],oa);class bu{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,g){let S;if("string"==typeof g)S=g;else{if(!(g instanceof RegExp))throw Co(l,"rules must start with a match string or regular expression: "+this.name);S=g.source}this.matchOnlyAtLineStart=S.length>0&&"^"===S[0],this.name=this.name+": "+S,this.regex=ya(l,"^(?:"+(this.matchOnlyAtLineStart?S.substr(1):S)+")")}setAction(l,g){this.action=Lh(l,this.name,g)}}function ag(E,l){if(!l||"object"!=typeof l)throw new Error("Monarch: expecting a language definition object");const g={};g.languageId=E,g.includeLF=sg(l.includeLF,!1),g.noThrow=!1,g.maxStack=100,g.start="string"==typeof l.start?l.start:null,g.ignoreCase=sg(l.ignoreCase,!1),g.unicode=sg(l.unicode,!1),g.tokenPostfix=Gc(l.tokenPostfix,"."+g.languageId),g.defaultToken=Gc(l.defaultToken,"source"),g.usesEmbedded=!1;const S=l;function Z(Ce,Ne,Je){for(const Lt of Je){let Bt=Lt.include;if(Bt){if("string"!=typeof Bt)throw Co(g,"an 'include' attribute must be a string at: "+Ce);if("@"===Bt[0]&&(Bt=Bt.substr(1)),!l.tokenizer[Bt])throw Co(g,"include target '"+Bt+"' is not defined at: "+Ce);Z(Ce+"."+Bt,Ne,l.tokenizer[Bt])}else{const gn=new bu(Ce);if(Array.isArray(Lt)&&Lt.length>=1&&Lt.length<=3)if(gn.setRegex(S,Lt[0]),Lt.length>=3)if("string"==typeof Lt[1])gn.setAction(S,{token:Lt[1],next:Lt[2]});else{if("object"!=typeof Lt[1])throw Co(g,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Ce);{const Un=Lt[1];Un.next=Lt[2],gn.setAction(S,Un)}}else gn.setAction(S,Lt[1]);else{if(!Lt.regex)throw Co(g,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Ce);Lt.name&&"string"==typeof Lt.name&&(gn.name=Lt.name),Lt.matchOnlyAtStart&&(gn.matchOnlyAtLineStart=sg(Lt.matchOnlyAtLineStart,!1)),gn.setRegex(S,Lt.regex),gn.setAction(S,Lt.action)}Ne.push(gn)}}}if(S.languageId=E,S.includeLF=g.includeLF,S.ignoreCase=g.ignoreCase,S.unicode=g.unicode,S.noThrow=g.noThrow,S.usesEmbedded=g.usesEmbedded,S.stateNames=l.tokenizer,S.defaultToken=g.defaultToken,!l.tokenizer||"object"!=typeof l.tokenizer)throw Co(g,"a language definition must define the 'tokenizer' attribute as an object");g.tokenizer=[];for(let Ce in l.tokenizer)if(l.tokenizer.hasOwnProperty(Ce)){g.start||(g.start=Ce);const Ne=l.tokenizer[Ce];g.tokenizer[Ce]=new Array,Z("tokenizer."+Ce,g.tokenizer[Ce],Ne)}if(g.usesEmbedded=S.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw Co(g,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const ae=[];for(let Ce of l.brackets){let Ne=Ce;if(Ne&&Array.isArray(Ne)&&3===Ne.length&&(Ne={token:Ne[2],open:Ne[0],close:Ne[1]}),Ne.open===Ne.close)throw Co(g,"open and close brackets in a 'brackets' attribute must be different: "+Ne.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof Ne.open||"string"!=typeof Ne.token||"string"!=typeof Ne.close)throw Co(g,"every element in the 'brackets' array must be a '{open,close,token}' object or array");ae.push({token:Ne.token+g.tokenPostfix,open:ks(g,Ne.open),close:ks(g,Ne.close)})}return g.brackets=ae,g.noThrow=!0,g}function Qm(E){La.dQ.registerLanguage(E)}function Ih(){let E=[];return E=E.concat(La.dQ.getLanguages()),E}function lg(E){return cs.get(jt.O).languageIdCodec.encodeLanguageId(E)}function Mh(E,l){const S=cs.get(jt.O).onDidEncounterLanguage(Z=>{Z===E&&(S.dispose(),l())});return S}function Nh(E,l){if(!cs.get(jt.O).isRegisteredLanguageId(E))throw new Error(`Cannot set configuration for unknown language ${E}`);return yt.zu.register(E,l,100)}class Th{constructor(l,g){this._languageId=l,this._actual=g}getInitialState(){return this._actual.getInitialState()}tokenize(l,g,S){if("function"==typeof this._actual.tokenize)return Fd.adaptTokenize(this._languageId,this._actual,l,S);throw new Error("Not supported!")}tokenizeEncoded(l,g,S){const Z=this._actual.tokenizeEncoded(l,S);return new V.DI(Z.tokens,Z.endState)}}class Fd{constructor(l,g,S,Z){this._languageId=l,this._actual=g,this._languageService=S,this._standaloneThemeService=Z}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(l,g){const S=[];let Z=0;for(let ae=0,Ce=l.length;ae<Ce;ae++){const Ne=l[ae];let Je=Ne.startIndex;0===ae?Je=0:Je<Z&&(Je=Z),S[ae]=new V.WU(Je,Ne.scopes,g),Z=Je}return S}static adaptTokenize(l,g,S,Z){const ae=g.tokenize(S,Z),Ce=Fd._toClassicTokens(ae.tokens,l);let Ne;return Ne=ae.endState.equals(Z)?Z:ae.endState,new V.hG(Ce,Ne)}tokenize(l,g,S){return Fd.adaptTokenize(this._languageId,this._actual,l,S)}_toBinaryTokens(l,g){const S=l.encodeLanguageId(this._languageId),Z=this._standaloneThemeService.getColorTheme().tokenTheme,ae=[];let Ce=0,Ne=0;for(let Lt=0,Bt=g.length;Lt<Bt;Lt++){const gn=g[Lt],Un=Z.match(S,gn.scopes);if(Ce>0&&ae[Ce-1]===Un)continue;let di=gn.startIndex;0===Lt?di=0:di<Ne&&(di=Ne),ae[Ce++]=di,ae[Ce++]=Un,Ne=di}const Je=new Uint32Array(Ce);for(let Lt=0;Lt<Ce;Lt++)Je[Lt]=ae[Lt];return Je}tokenizeEncoded(l,g,S){const Z=this._actual.tokenize(l,S),ae=this._toBinaryTokens(this._languageService.languageIdCodec,Z.tokens);let Ce;return Ce=Z.endState.equals(S)?S:Z.endState,new V.DI(ae,Ce)}}function pl(E){return E&&"function"==typeof E.then}function vc(E){const l=cs.get(ua.Z);if(E){const g=[null];for(let S=1,Z=E.length;S<Z;S++)g[S]=le.Il.fromHex(E[S]);l.setColorMapOverride(g)}else l.setColorMapOverride(null)}function Il(E,l){return function cg(E){return"tokenizeEncoded"in E}(l)?new Th(E,l):new Fd(E,l,cs.get(jt.O),cs.get(ua.Z))}function Yl(E,l){return V.RW.registerFactory(E,{createTokenizationSupport:()=>function(E,l,g,S){return new(g||(g=Promise))(function(ae,Ce){function Ne(Bt){try{Lt(S.next(Bt))}catch(gn){Ce(gn)}}function Je(Bt){try{Lt(S.throw(Bt))}catch(gn){Ce(gn)}}function Lt(Bt){Bt.done?ae(Bt.value):function Z(ae){return ae instanceof g?ae:new g(function(Ce){Ce(ae)})}(Bt.value).then(Ne,Je)}Lt((S=S.apply(E,l||[])).next())})}(this,void 0,void 0,function*(){const S=yield Promise.resolve(l.create());return S?function Bd(E){return"function"==typeof E.getInitialState}(S)?Il(E,S):new Qe(cs.get(jt.O),cs.get(ua.Z),E,ag(E,S)):null})})}function E_(E,l){if(!cs.get(jt.O).isRegisteredLanguageId(E))throw new Error(`Cannot set tokens provider for unknown language ${E}`);return pl(l)?Yl(E,{create:()=>l}):V.RW.register(E,Il(E,l))}function L_(E,l){return pl(l)?Yl(E,{create:()=>l}):V.RW.register(E,(S=l,new Qe(cs.get(jt.O),cs.get(ua.Z),E,ag(E,S))));var S}function dg(E,l){return V.FL.register(E,l)}function ug(E,l){return V.G0.register(E,l)}function Xm(E,l){return V.nD.register(E,l)}function x_(E,l){return V.xp.register(E,{provideHover:(g,S,Z)=>{const ae=g.getWordAtPosition(S);return Promise.resolve(l.provideHover(g,S,Z)).then(Ce=>{if(Ce)return!Ce.range&&ae&&(Ce.range=new j.e(S.lineNumber,ae.startColumn,S.lineNumber,ae.endColumn)),Ce.range||(Ce.range=new j.e(S.lineNumber,S.column,S.lineNumber,S.column)),Ce})}})}function Ba(E,l){return V.vJ.register(E,l)}function I_(E,l){return V.vH.register(E,l)}function hg(E,l){return V.id.register(E,l)}function fg(E,l){return V.Ct.register(E,l)}function M_(E,l){return V.vI.register(E,l)}function tl(E,l){return V.tA.register(E,l)}function tr(E,l){return V.He.register(E,l)}function gg(E,l,g){return V.H9.register(E,{providedCodeActionKinds:null==g?void 0:g.providedCodeActionKinds,provideCodeActions:(S,Z,ae,Ce)=>{const Je=cs.get(qo.lT).read({resource:S.uri}).filter(Lt=>j.e.areIntersectingOrTouching(Lt,Z));return l.provideCodeActions(S,Z,{markers:Je,only:ae.only},Ce)},resolveCodeAction:l.resolveCodeAction})}function N_(E,l){return V.Az.register(E,l)}function T_(E,l){return V.vN.register(E,l)}function Jm(E,l){return V.ln.register(E,l)}function qm(E,l){return V.pM.register(E,l)}function ep(E,l){return V.KZ.register(E,l)}function A_(E,l){return V.OH.register(E,l)}function tp(E,l){return V.aC.register(E,l)}function Ml(E,l){return V.RN.register(E,l)}function Qo(E,l){return V.AC.register(E,l)}function np(E,l){return V.wT.register(E,l)}function ip(E,l){return V.K7.register(E,l)}function Zl(E,l){return V.zu.register(E,l)}function Ah(E,l){return V.mX.register(E,l)}var mg,op=m(9957);v.BH.wrappingIndent.defaultValue=0,v.BH.glyphMargin.defaultValue=!1,v.BH.autoIndent.defaultValue=3,v.BH.overviewRulerLanes.defaultValue=2,op.xC.setFormatterSelector((E,l,g)=>Promise.resolve(E[0]));const Mr=en();Mr.editor=function Dh(){return{create:ng,onDidCreateEditor:bh,createDiffEditor:S_,createDiffNavigator:Ch,createModel:Fa,setModelLanguage:zm,setModelMarkers:Um,getModelMarkers:ig,onDidChangeMarkers:_u,getModels:Jv,getModel:jm,onDidCreateModel:Od,onWillDisposeModel:vu,onDidChangeModelLanguage:og,createWebWorker:_c,colorizeElement:Pd,colorize:Km,colorizeModelLine:D_,tokenize:Gm,defineTheme:yh,setTheme:Ym,remeasureFonts:wh,registerCommand:Sh,AccessibilitySupport:x,ContentWidgetPositionPreference:T,CursorChangeReason:z,DefaultEndOfLine:I,EditorAutoIndentStrategy:K,EditorOption:N,EndOfLinePreference:M,EndOfLineSequence:P,MinimapPosition:_e,MouseTargetType:$,OverlayWidgetPositionPreference:X,OverviewRulerLane:pe,RenderLineNumbersType:ne,RenderMinimap:ce,ScrollbarVisibility:we,ScrollType:ue,TextEditorCursorBlinkingStyle:ct,TextEditorCursorStyle:Nt,TrackedRangeStickiness:un,WrappingIndent:Jt,InjectedTextCursorStops:J,PositionAffinity:re,ConfigurationChangedEvent:v.Bb,BareFontInfo:nn.E4,FontInfo:nn.pR,TextModelResolvedOptions:Nn.dJ,FindMatch:Nn.tk,ApplyUpdateResult:v.rk,EditorType:Mn.g,EditorOptions:v.BH}}(),Mr.languages=function _l(){return{register:Qm,getLanguages:Ih,onLanguage:Mh,getEncodedLanguageId:lg,setLanguageConfiguration:Nh,setColorMap:vc,registerTokensProviderFactory:Yl,setTokensProvider:E_,setMonarchTokensProvider:L_,registerReferenceProvider:dg,registerRenameProvider:ug,registerCompletionItemProvider:ep,registerSignatureHelpProvider:Xm,registerHoverProvider:x_,registerDocumentSymbolProvider:Ba,registerDocumentHighlightProvider:I_,registerLinkedEditingRangeProvider:hg,registerDefinitionProvider:fg,registerImplementationProvider:M_,registerTypeDefinitionProvider:tl,registerCodeLensProvider:tr,registerCodeActionProvider:gg,registerDocumentFormattingEditProvider:N_,registerDocumentRangeFormattingEditProvider:T_,registerOnTypeFormattingEditProvider:Jm,registerLinkProvider:qm,registerColorProvider:A_,registerFoldingRangeProvider:tp,registerDeclarationProvider:Ml,registerSelectionRangeProvider:Qo,registerDocumentSemanticTokensProvider:np,registerDocumentRangeSemanticTokensProvider:ip,registerInlineCompletionsProvider:Zl,registerInlayHintsProvider:Ah,DocumentHighlightKind:H,CompletionItemKind:D,CompletionItemTag:F,CompletionItemInsertTextRule:w,SymbolKind:ut,SymbolTag:Ve,IndentAction:W,CompletionTriggerKind:f,SignatureHelpTriggerKind:lt,InlayHintKind:he,InlineCompletionTriggerKind:ye,FoldingRangeKind:V.AD}}();const Ql=Mr.CancellationTokenSource,kh=Mr.Emitter,Nl=Mr.KeyCode,Cu=Mr.KeyMod,qv=Mr.Position,pg=Mr.Range,eb=Mr.Selection,Rh=Mr.SelectionDirection,Oh=Mr.MarkerSeverity,Ph=Mr.MarkerTag,_g=Mr.Uri,Vd=Mr.Token,tb=Mr.editor,Wd=Mr.languages;((null===(mg=bt.li.MonacoEnvironment)||void 0===mg?void 0:mg.globalAPI)||"function"==typeof define&&m.amdO)&&(self.monaco=Mr),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},3206:(vt,Ke,m)=>{m.d(Ke,{VD:()=>v.KeyCode,DC:()=>v.KeyMod});var v=m(178),h=m(5861),Q=Object.defineProperty,k=Object.getOwnPropertyDescriptor,R=Object.getOwnPropertyNames,se=Object.prototype.hasOwnProperty,Y={};((_,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let s of R(e))!se.call(_,s)&&"default"!==s&&Q(_,s,{get:()=>e[s],enumerable:!(n=k(e,s))||n.enumerable})})(Y,v);var V={},x={},w=class{constructor(_){ar(this,"_languageId"),ar(this,"_loadingTriggered"),ar(this,"_lazyLoadPromise"),ar(this,"_lazyLoadPromiseResolve"),ar(this,"_lazyLoadPromiseReject"),this._languageId=_,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(_){return x[_]||(x[_]=new w(_)),x[_]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,V[this._languageId].loader().then(_=>this._lazyLoadPromiseResolve(_),_=>this._lazyLoadPromiseReject(_))),this._lazyLoadPromise}};function f(_){const e=_.id;V[e]=_,Y.languages.register(_);const t=w.getOrCreate(e);var n;Y.languages.registerTokensProviderFactory(e,{create:(n=(0,h.Z)(function*(){return(yield t.load()).language}),function(){return n.apply(this,arguments)})}),Y.languages.onLanguage(e,(0,h.Z)(function*(){const n=yield t.load();Y.languages.setLanguageConfiguration(e,n.conf)}))}f({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>m.e(9892).then(m.bind(m,9892))}),f({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>m.e(1981).then(m.bind(m,1981))}),f({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>m.e(9432).then(m.bind(m,9432))}),f({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>m.e(8679).then(m.bind(m,8679))}),f({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>m.e(8186).then(m.bind(m,8186))}),f({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>m.e(5880).then(m.bind(m,5880))}),f({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>m.e(176).then(m.bind(m,176))}),f({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>m.e(7831).then(m.bind(m,7831))}),f({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>m.e(7381).then(m.bind(m,7381))}),f({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>m.e(7381).then(m.bind(m,7381))}),f({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>m.e(1863).then(m.bind(m,1863))}),f({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>m.e(4563).then(m.bind(m,4563))}),f({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>m.e(6982).then(m.bind(m,6982))}),f({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>m.e(8007).then(m.bind(m,8007))}),f({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>m.e(368).then(m.bind(m,368))}),f({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>m.e(1633).then(m.bind(m,1633))}),f({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>m.e(8896).then(m.bind(m,8896))}),f({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>m.e(472).then(m.bind(m,472))}),f({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>m.e(7616).then(m.bind(m,7747))}),f({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>m.e(4286).then(m.bind(m,4286)).then(_=>_.TagAutoInterpolationDollar)}),f({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>m.e(4286).then(m.bind(m,4286)).then(_=>_.TagAngleInterpolationDollar)}),f({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>m.e(4286).then(m.bind(m,4286)).then(_=>_.TagBracketInterpolationDollar)}),f({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>m.e(4286).then(m.bind(m,4286)).then(_=>_.TagAngleInterpolationBracket)}),f({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>m.e(4286).then(m.bind(m,4286)).then(_=>_.TagBracketInterpolationBracket)}),f({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>m.e(4286).then(m.bind(m,4286)).then(_=>_.TagAutoInterpolationDollar)}),f({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>m.e(4286).then(m.bind(m,4286)).then(_=>_.TagAutoInterpolationBracket)}),f({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>m.e(5733).then(m.bind(m,5733))}),f({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>m.e(4823).then(m.bind(m,4823))}),f({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>m.e(326).then(m.bind(m,326))}),f({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>m.e(8960).then(m.bind(m,8960))}),f({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>m.e(6073).then(m.bind(m,6595))}),f({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>m.e(4217).then(m.bind(m,4217))}),f({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>m.e(8992).then(m.bind(m,8992))}),f({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([m.e(8592),m.e(4121)]).then(m.bind(m,4121))}),f({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>m.e(8218).then(m.bind(m,8218))}),f({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>m.e(838).then(m.bind(m,838))}),f({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>m.e(5228).then(m.bind(m,5228))}),f({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>m.e(1138).then(m.bind(m,1138))}),f({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>m.e(3731).then(m.bind(m,3731))}),f({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>m.e(3109).then(m.bind(m,3109))}),f({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>m.e(4515).then(m.bind(m,4515))}),f({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>m.e(8353).then(m.bind(m,8353))}),f({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>m.e(8371).then(m.bind(m,8371))}),f({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>m.e(9313).then(m.bind(m,9313))}),f({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>m.e(8058).then(m.bind(m,8058))}),f({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>m.e(3190).then(m.bind(m,3190))}),f({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>m.e(1404).then(m.bind(m,1404))}),f({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>m.e(3510).then(m.bind(m,3510))}),f({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>m.e(9745).then(m.bind(m,9745))}),f({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>m.e(9621).then(m.bind(m,9621))}),f({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>m.e(9613).then(m.bind(m,9613))}),f({id:"pla",extensions:[".pla"],loader:()=>m.e(5124).then(m.bind(m,5124))}),f({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>m.e(7848).then(m.bind(m,7848))}),f({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>m.e(3180).then(m.bind(m,3180))}),f({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>m.e(9224).then(m.bind(m,9224))}),f({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>m.e(9063).then(m.bind(m,9063))}),f({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>m.e(5723).then(m.bind(m,5723))}),f({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>m.e(7769).then(m.bind(m,7769))}),f({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>m.e(2223).then(m.bind(m,2223))}),f({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>m.e(903).then(m.bind(m,903))}),f({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>m.e(8566).then(m.bind(m,8566))}),f({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>m.e(3371).then(m.bind(m,3371))}),f({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>m.e(4164).then(m.bind(m,4164))}),f({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>m.e(7526).then(m.bind(m,7526))}),f({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>m.e(7340).then(m.bind(m,7340))}),f({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>m.e(5554).then(m.bind(m,5554))}),f({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>m.e(1701).then(m.bind(m,1701))}),f({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>m.e(3085).then(m.bind(m,3085))}),f({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>m.e(665).then(m.bind(m,665))}),f({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>m.e(643).then(m.bind(m,643))}),f({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>m.e(5115).then(m.bind(m,5115))}),f({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>m.e(1808).then(m.bind(m,1808))}),f({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>m.e(8866).then(m.bind(m,8866))}),f({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>m.e(4553).then(m.bind(m,4553))}),f({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>m.e(4118).then(m.bind(m,4118))}),f({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>m.e(5638).then(m.bind(m,5638))}),f({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>m.e(8037).then(m.bind(m,8037))}),f({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>m.e(1755).then(m.bind(m,1755))}),f({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>m.e(1755).then(m.bind(m,1755))}),f({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>m.e(2026).then(m.bind(m,2026))}),f({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>m.e(5930).then(m.bind(m,5930))}),f({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>m.e(8592).then(m.bind(m,1696))}),f({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>m.e(5922).then(m.bind(m,5922))}),f({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>m.e(8844).then(m.bind(m,8844))}),f({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>m.e(2594).then(m.bind(m,2594))});var T=Object.defineProperty,z=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,H=Object.prototype.hasOwnProperty,N={};((_,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let s of I(e))!H.call(_,s)&&"default"!==s&&T(_,s,{get:()=>e[s],enumerable:!(n=z(e,s))||n.enumerable})})(N,v);var M=class{constructor(_,e,t){ar(this,"_onDidChange",new N.Emitter),ar(this,"_options"),ar(this,"_modeConfiguration"),ar(this,"_languageId"),this._languageId=_,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(_){this._options=_||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(_){this.setOptions(_)}setModeConfiguration(_){this._modeConfiguration=_||Object.create(null),this._onDidChange.fire(this)}},P={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},W={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},J=new M("css",P,W),he=new M("scss",P,W),ye=new M("less",P,W);function fe(){return m.e(3814).then(m.bind(m,3814))}N.languages.css={cssDefaults:J,lessDefaults:ye,scssDefaults:he},N.languages.onLanguage("less",()=>{fe().then(_=>_.setupMode(ye))}),N.languages.onLanguage("scss",()=>{fe().then(_=>_.setupMode(he))}),N.languages.onLanguage("css",()=>{fe().then(_=>_.setupMode(J))});var Se=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,_e=Object.getOwnPropertyNames,$=Object.prototype.hasOwnProperty,pe={};((_,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let s of _e(e))!$.call(_,s)&&"default"!==s&&Se(_,s,{get:()=>e[s],enumerable:!(n=Ie(e,s))||n.enumerable})})(pe,v);var ce={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function ue(_){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:_===we,documentFormattingEdits:_===we,documentRangeFormattingEdits:_===we}}var we="html",He="handlebars",ut=en(we,ce,ue(we)),Ve=ut.defaults,ct=en(He,ce,ue(He)),Nt=ct.defaults,un=en("razor",ce,ue("razor"));function en(_,e=ce,t=ue(_)){const n=new class{constructor(_,e,t){ar(this,"_onDidChange",new pe.Emitter),ar(this,"_options"),ar(this,"_modeConfiguration"),ar(this,"_languageId"),this._languageId=_,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(_){this._options=_||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(_){this._modeConfiguration=_||Object.create(null),this._onDidChange.fire(this)}}(_,e,t);let s;const a=pe.languages.onLanguage(_,(0,h.Z)(function*(){s=(yield function St(){return m.e(3606).then(m.bind(m,3606))}()).setupMode(n)}));return{defaults:n,dispose(){a.dispose(),null==s||s.dispose(),s=void 0}}}pe.languages.html={htmlDefaults:Ve,razorDefaults:un.defaults,handlebarDefaults:Nt,htmlLanguageService:ut,handlebarLanguageService:ct,razorLanguageService:un,registerHTMLLanguageService:en};var pn=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,ze=Object.getOwnPropertyNames,At=Object.prototype.hasOwnProperty,nn={};((_,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let s of ze(e))!At.call(_,s)&&"default"!==s&&pn(_,s,{get:()=>e[s],enumerable:!(n=Xt(e,s))||n.enumerable})})(nn,v);var Ht=new class{constructor(_,e,t){ar(this,"_onDidChange",new nn.Emitter),ar(this,"_diagnosticsOptions"),ar(this,"_modeConfiguration"),ar(this,"_languageId"),this._languageId=_,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(_){this._diagnosticsOptions=_||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(_){this._modeConfiguration=_||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});nn.languages.json={jsonDefaults:Ht},nn.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),nn.languages.onLanguage("json",()=>{(function jt(){return m.e(5447).then(m.bind(m,5447))})().then(_=>_.setupMode(Ht))}),m(1417);var In=m(1410),it=m(3656),Zt=(m(5637),m(3817),m(3619)),Rn=m(2468),vn=m(6950),pt=(m(1578),m(5172)),ei=m(3210),dt=m(9584),ke=m(402),ft=m(9776),on=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};const Tn=new ft.uy("selectionAnchorSet",!1);let Mi=class NE{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=Tn.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(NE.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),n=this.editor.deltaDecorations(this.decorationId?[this.decorationId]:[],[{range:ei.Y.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new Rn.W5).appendText((0,ke.N)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,Zt.Z9)((0,ke.N)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(ei.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var e;Mi.ID="editor.contrib.selectionAnchorController",Mi=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([(1,e=ft.i6,function(t,n){e(t,n,1)})],Mi),(0,pt._K)(Mi.ID,Mi),(0,pt.Qr)(class xn extends pt.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,ke.N)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2080),weight:100}})}run(e,t){var n;return on(this,void 0,void 0,function*(){null===(n=Mi.get(t))||void 0===n||n.setSelectionAnchor()})}}),(0,pt.Qr)(class rn extends pt.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,ke.N)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:Tn})}run(e,t){var n;return on(this,void 0,void 0,function*(){null===(n=Mi.get(t))||void 0===n||n.goToSelectionAnchor()})}}),(0,pt.Qr)(class tn extends pt.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,ke.N)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:Tn,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2089),weight:100}})}run(e,t){var n;return on(this,void 0,void 0,function*(){null===(n=Mi.get(t))||void 0===n||n.selectFromAnchorToCursor()})}}),(0,pt.Qr)(class bn extends pt.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,ke.N)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:Tn,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:9,weight:100}})}run(e,t){var n;return on(this,void 0,void 0,function*(){null===(n=Mi.get(t))||void 0===n||n.cancelSelectionAnchor()})}});var mt=m(3072),Xe=m(2425),An=(m(6700),m(4220)),Ye=m(8451),Te=m(2213),Ae=m(4412),ht=m(3448),Mt=m(1004),Ge=m(8708),ln=m(3024);const jn=(0,Ge.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},ke.N("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Qn{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class ii extends Xe.JT{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new mt.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(ii.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(n=>{const s=n.getStartPosition(),a=e.bracketPairs.matchBracket(s);let p=null;if(a)a[0].containsPosition(s)?p=a[1].getStartPosition():a[1].containsPosition(s)&&(p=a[0].getStartPosition());else{const L=e.bracketPairs.findEnclosingBrackets(s);if(L)p=L[0].getStartPosition();else{const q=e.bracketPairs.findNextBracket(s);q&&q.range&&(p=q.range.getStartPosition())}}return p?new ei.Y(p.lineNumber,p.column,p.lineNumber,p.column):new ei.Y(s.lineNumber,s.column,s.lineNumber,s.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach(s=>{const a=s.getStartPosition();let p=t.bracketPairs.matchBracket(a);if(!p&&(p=t.bracketPairs.findEnclosingBrackets(a),!p)){const ie=t.bracketPairs.findNextBracket(a);ie&&ie.range&&(p=t.bracketPairs.matchBracket(ie.range.getStartPosition()))}let L=null,q=null;if(p){p.sort(Ye.e.compareRangesUsingStarts);const[ie,te]=p;if(L=e?ie.getStartPosition():ie.getEndPosition(),q=e?te.getEndPosition():te.getStartPosition(),te.containsPosition(a)){const ve=L;L=q,q=ve}}L&&q&&n.push(new ei.Y(L.lineNumber,L.column,q.lineNumber,q.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const n of this._lastBracketsData){let s=n.brackets;s&&(e[t++]={range:s[0],options:n.options},e[t++]={range:s[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),n=t.getVersionId();let s=[];this._lastVersionId===n&&(s=this._lastBracketsData);let a=[],p=0;for(let ve=0,tt=e.length;ve<tt;ve++){let gt=e[ve];gt.isEmpty()&&(a[p++]=gt.getStartPosition())}a.length>1&&a.sort(An.L.compare);let L=[],q=0,ie=0,te=s.length;for(let ve=0,tt=a.length;ve<tt;ve++){let gt=a[ve];for(;ie<te&&s[ie].position.isBefore(gt);)ie++;if(ie<te&&s[ie].position.equals(gt))L[q++]=s[ie];else{let Vt=t.bracketPairs.matchBracket(gt),dn=ii._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Vt&&"always"===this._matchBrackets&&(Vt=t.bracketPairs.findEnclosingBrackets(gt,20),dn=ii._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),L[q++]=new Qn(gt,Vt,dn)}}this._lastBracketsData=L,this._lastVersionId=n}}ii.ID="editor.contrib.bracketMatchingController",ii._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Ae.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,ln.EN)(jn),position:Te.sh.Center}}),ii._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Ae.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,pt._K)(ii.ID,ii),(0,pt.Qr)(class qn extends pt.R6{constructor(){super({id:"editor.action.selectToBracket",label:ke.N("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){var s;let a=!0;n&&!1===n.selectBrackets&&(a=!1),null===(s=ii.get(t))||void 0===s||s.selectToBracket(a)}}),(0,pt.Qr)(class Jn extends pt.R6{constructor(){super({id:"editor.action.jumpToBracket",label:ke.N("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3160,weight:100}})}run(e,t){var n;null===(n=ii.get(t))||void 0===n||n.jumpToBracket()}}),(0,ln.Ic)((_,e)=>{const t=_.getColor(ht.TC);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);const n=_.getColor(ht.Dl);n&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)}),Mt.BH.appendMenuItem(Mt.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:ke.N({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class gi{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,s=this._selection.startColumn,a=this._selection.endColumn;if((!this._isMovingLeft||1!==s)&&(this._isMovingLeft||a!==e.getLineMaxColumn(n)))if(this._isMovingLeft){const p=new Ye.e(n,s-1,n,s),L=e.getValueInRange(p);t.addEditOperation(p,null),t.addEditOperation(new Ye.e(n,a,n,a),L)}else{const p=new Ye.e(n,a,n,a+1),L=e.getValueInRange(p);t.addEditOperation(p,null),t.addEditOperation(new Ye.e(n,s,n,s),L)}}computeCursorState(e,t){return this._isMovingLeft?new ei.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new ei.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class ui extends pt.R6{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const n=[],s=t.getSelections();for(const a of s)n.push(new gi(a,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}(0,pt.Qr)(class Ti extends ui{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:ke.N("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:dt.u.writable})}}),(0,pt.Qr)(class yi extends ui{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:ke.N("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:dt.u.writable})}});var Ni=m(5753),Ai=m(6696);(0,pt.Qr)(class to extends pt.R6{constructor(){super({id:"editor.action.transposeLetters",label:ke.N("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let n=t.getModel(),s=[],a=t.getSelections();for(let p of a){if(!p.isEmpty())continue;let L=p.startLineNumber,q=p.startColumn,ie=n.getLineMaxColumn(L);if(1===L&&(1===q||2===q&&2===ie))continue;let te=q===ie?p.getPosition():Ai.o.rightPosition(n,p.getPosition().lineNumber,p.getPosition().column),ve=Ai.o.leftPosition(n,te),tt=Ai.o.leftPosition(n,ve),gt=n.getValueInRange(Ye.e.fromPositions(tt,ve)),Vt=n.getValueInRange(Ye.e.fromPositions(ve,te)),dn=Ye.e.fromPositions(tt,te);s.push(new Ni.T4(dn,Vt+gt))}s.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop())}});var Kn=m(3366),Pn=m(8972),Ei=m(7462),vi=m(7221),Wi=m(777);const Ri="9_cutcopypaste",co=Pn.tY||document.queryCommandSupported("cut"),Pi=Pn.tY||document.queryCommandSupported("copy"),vo=void 0!==navigator.clipboard&&!Kn.isFirefox||document.queryCommandSupported("paste");function Li(_){return _.register(),_}const Di=co?Li(new pt.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Pn.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Mt.eH.MenubarEditMenu,group:"2_ccp",title:ke.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Mt.eH.EditorContext,group:Ri,title:ke.N("actions.clipboard.cutLabel","Cut"),when:dt.u.writable,order:1},{menuId:Mt.eH.CommandPalette,group:"",title:ke.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:Mt.eH.SimpleEditorContext,group:Ri,title:ke.N("actions.clipboard.cutLabel","Cut"),when:dt.u.writable,order:1}]})):void 0,Mo=Pi?Li(new pt.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Pn.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Mt.eH.MenubarEditMenu,group:"2_ccp",title:ke.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Mt.eH.EditorContext,group:Ri,title:ke.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Mt.eH.CommandPalette,group:"",title:ke.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:Mt.eH.SimpleEditorContext,group:Ri,title:ke.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Mt.BH.appendMenuItem(Mt.eH.MenubarEditMenu,{submenu:Mt.eH.MenubarCopy,title:{value:ke.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),Mt.BH.appendMenuItem(Mt.eH.EditorContext,{submenu:Mt.eH.EditorContextCopy,title:{value:ke.N("copy as","Copy As"),original:"Copy As"},group:Ri,order:3});const Yi=vo?Li(new pt.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Pn.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Mt.eH.MenubarEditMenu,group:"2_ccp",title:ke.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Mt.eH.EditorContext,group:Ri,title:ke.N("actions.clipboard.pasteLabel","Paste"),when:dt.u.writable,order:4},{menuId:Mt.eH.CommandPalette,group:"",title:ke.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Mt.eH.SimpleEditorContext,group:Ri,title:ke.N("actions.clipboard.pasteLabel","Paste"),when:dt.u.writable,order:4}]})):void 0;function Oo(_,e){!_||(_.addImplementation(1e4,"code-editor",(t,n)=>{const s=t.get(vi.$).getFocusedCodeEditor();if(s&&s.hasTextFocus()){const a=s.getOption(32),p=s.getSelection();return p&&p.isEmpty()&&!a||document.execCommand(e),!0}return!1}),_.addImplementation(0,"generic-dom",(t,n)=>(document.execCommand(e),!0)))}Oo(Di,"cut"),Oo(Mo,"copy"),Yi&&(Yi.addImplementation(1e4,"code-editor",(_,e)=>{const t=_.get(vi.$),n=_.get(Wi.p),s=t.getFocusedCodeEditor();return!(!s||!s.hasTextFocus())&&(!(!document.execCommand("paste")&&Pn.$L)||function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(void 0,void 0,void 0,function*(){const p=yield n.readText();if(""!==p){const L=Ei.Nl.INSTANCE.get(p);let q=!1,ie=null,te=null;L&&(q=s.getOption(32)&&!!L.isFromEmptySelection,ie=void 0!==L.multicursorText?L.multicursorText:null,te=L.mode),s.trigger("keyboard","paste",{text:p,pasteOnNewLine:q,multicursorText:ie,mode:te})}}))}),Yi.addImplementation(0,"generic-dom",(_,e)=>(document.execCommand("paste"),!0))),Pi&&(0,pt.Qr)(class Bo extends pt.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:ke.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(32)&&t.getSelection().isEmpty()||(Ei.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),Ei.RA.forceCopyWithSyntaxHighlighting=!1)}});var wi=m(152),$o=m(991),fi=m(4705),ss=m(4067),xi=m(8337),Ii=m(3663),xo=m(4672),Zo=m(3914),Gn=m(5283),ds=m(8648),oo=m(3884),Io=m(2534);class Xi{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+Xi.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Xi(this.value+Xi.sep+e)}}function Is(_,e,t){return!(!e.contains(_)||t&&e.contains(t))}Xi.sep=".",Xi.None=new Xi("@@none@@"),Xi.Empty=new Xi(""),Xi.QuickFix=new Xi("quickfix"),Xi.Refactor=new Xi("refactor"),Xi.Source=new Xi("source"),Xi.SourceOrganizeImports=Xi.Source.append("organizeImports"),Xi.SourceFixAll=Xi.Source.append("fixAll");class vs{constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}static fromUser(e,t){return e&&"object"==typeof e?new vs(vs.getKindFromUser(e,t.kind),vs.getApplyFromUser(e,t.apply),vs.getPreferredUser(e)):new vs(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new Xi(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}var Ks=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};const dr="editor.action.codeAction",wr="editor.action.refactor",$s="editor.action.sourceAction",Gs="editor.action.organizeImports",ks="editor.action.fixAll";class Ar{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return Ks(this,void 0,void 0,function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,e)}catch(s){(0,Ii.Cp)(s)}n&&(this.action.edit=n.edit)}return this})}}class qs extends Xe.JT{constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort(qs.codeActionsComparator),this.validActions=this.allActions.filter(({action:s})=>!s.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:(0,xi.Of)(e.diagnostics)?(0,xi.Of)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:(0,xi.Of)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Xi.QuickFix.contains(new Xi(e.kind))&&!!e.isPreferred)}}const Co={actions:[],documentation:void 0};function Bs(_,e,t,n,s){var a;const p=t.filter||{},L={only:null===(a=p.include)||void 0===a?void 0:a.value,trigger:t.type},q=new Zo.YQ(_,s),ie=function Qs(_,e){return Gn.H9.all(_).filter(t=>!t.providedCodeActionKinds||t.providedCodeActionKinds.some(n=>function Wo(_,e){return!(_.include&&!_.include.intersects(e)||_.excludes&&_.excludes.some(t=>Is(e,t,_.include))||!_.includeSourceActions&&Xi.Source.contains(e))}(e,new Xi(n))))}(_,p),te=new Xe.SL,ve=ie.map(gt=>Ks(this,void 0,void 0,function*(){try{n.report(gt);const Vt=yield gt.provideCodeActions(_,e,L,q.token);if(Vt&&te.add(Vt),q.token.isCancellationRequested)return Co;const dn=((null==Vt?void 0:Vt.actions)||[]).filter(On=>On&&function nr(_,e){const t=e.kind?new Xi(e.kind):void 0;return!(_.include&&(!t||!_.include.contains(t))||_.excludes&&t&&_.excludes.some(n=>Is(t,n,_.include))||!_.includeSourceActions&&t&&Xi.Source.contains(t)||_.onlyIncludePreferredActions&&!e.isPreferred)}(p,On)),kn=function ir(_,e,t){if(!_.documentation)return;const n=_.documentation.map(s=>({kind:new Xi(s.kind),command:s.command}));if(t){let s;for(const a of n)a.kind.contains(t)&&(s?s.kind.contains(a.kind)&&(s=a):s=a);if(s)return null==s?void 0:s.command}for(const s of e)if(s.kind)for(const a of n)if(a.kind.contains(new Xi(s.kind)))return a.command}(gt,dn,p.include);return{actions:dn.map(On=>new Ar(On,gt)),documentation:kn}}catch(Vt){if((0,Ii.n2)(Vt))throw Vt;return(0,Ii.Cp)(Vt),Co}})),tt=Gn.H9.onDidChange(()=>{const gt=Gn.H9.all(_);(0,xi.fS)(gt,ie)||q.cancel()});return Promise.all(ve).then(gt=>{const Vt=(0,xi.xH)(gt.map(kn=>kn.actions)),dn=(0,xi.kX)(gt.map(kn=>kn.documentation));return new qs(Vt,dn,te)}).finally(()=>{tt.dispose(),q.dispose()})}oo.P0.registerCommand("_executeCodeActionProvider",function(_,e,t,n,s){return Ks(this,void 0,void 0,function*(){if(!(e instanceof xo.o))throw(0,Ii.b1)();const a=_.get(ds.q).getModel(e);if(!a)throw(0,Ii.b1)();const p=ei.Y.isISelection(t)?ei.Y.liftSelection(t):Ye.e.isIRange(t)?a.validateRange(t):void 0;if(!p)throw(0,Ii.b1)();const L="string"==typeof n?new Xi(n):void 0,q=yield Bs(a,p,{type:1,filter:{includeSourceActions:!0,include:L}},Io.Ex.None,wi.T.None),ie=[],te=Math.min(q.validActions.length,"number"==typeof s?s:0);for(let ve=0;ve<te;ve++)ie.push(q.validActions[ve].resolve(wi.T.None));try{return yield Promise.all(ie),q.validActions.map(ve=>ve.action)}finally{setTimeout(()=>q.dispose(),100)}})}),m(3539);let C=class vD{constructor(e,t){this._messageWidget=new Xe.XK,this._messageListeners=new Xe.SL,this._editor=e,this._visible=vD.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(e){return e.getContribution(vD.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let n;(0,Zt.Z9)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new ee(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new mt._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(s=>{!s.target.position||(n?n.containsPosition(s.target.position)||this.closeMessage():n=new Ye.e(t.lineNumber-3,1,s.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(ee.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(ke.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};C.ID="editor.contrib.messageController",C.MESSAGE_VISIBLE=new ft.uy("messageVisible",!1,ke.N("messageVisible","Whether the editor is currently showing an inline message")),C=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,ft.i6)],C);const O=pt._l.bindToContribution(C.get);(0,pt.fK)(new O({id:"leaveEditorMessage",precondition:C.MESSAGE_VISIBLE,handler:_=>_.closeMessage(),kbOpts:{weight:130,primary:9}}));class ee{constructor(e,{lineNumber:t,column:n},s){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const a=document.createElement("div");a.classList.add("anchor","top"),this._domNode.appendChild(a);const p=document.createElement("div");p.classList.add("message"),p.textContent=s,this._domNode.appendChild(p);const L=document.createElement("div");L.classList.add("anchor","below"),this._domNode.appendChild(L),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const n=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}(0,pt._K)(C.ID,C);var de=m(4725),oe=m(8059),Qe=m(5113),et=m(4394),xt=m(7090),Ft=function(_,e){return function(t,n){e(t,n,_)}};class nt extends Qe.aU{constructor(e,t){super(e.command?e.command.id:e.title,function Le(_){return _.replace(/\r\n|\r|\n/g," ")}(e.title),void 0,!e.disabled,t),this.action=e}}let De=class extends Xe.JT{constructor(e,t,n,s){super(),this._editor=e,this._delegate=t,this._contextMenuService=n,this._visible=!1,this._showingActions=this._register(new Xe.XK),this._keybindingResolver=new Fe({getKeybindings:()=>s.getKeybindings()})}get isVisible(){return this._visible}show(e,t,n,s){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){const a=s.includeDisabledActions?t.allActions:t.validActions;if(!a.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,Ii.F0)();this._visible=!0,this._showingActions.value=t;const p=this.getMenuActions(e,a,t.documentation),L=An.L.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},q=this._keybindingResolver.getResolver(),ie=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:ie?this._editor.getDomNode():void 0,getAnchor:()=>L,getActions:()=>p,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:te=>te instanceof nt?q(te.action):void 0})})}getMenuActions(e,t,n){var s,a;const p=te=>new nt(te.action,()=>this._delegate.onSelectCodeAction(te)),L=t.map(p),q=[...n],ie=this._editor.getModel();if(ie&&L.length)for(const te of Gn.H9.all(ie))te._getAdditionalMenuItems&&q.push(...te._getAdditionalMenuItems({trigger:e.type,only:null===(a=null===(s=e.filter)||void 0===s?void 0:s.include)||void 0===a?void 0:a.value},t.map(ve=>ve.action)));return q.length&&L.push(new Qe.Z0,...q.map(te=>p(new Ar({title:te.title,command:te},void 0)))),L}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=(0,oe.i)(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}}};De=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Ft(2,et.i),Ft(3,xt.d)],De);let Fe=(()=>{class _{constructor(t){this._keybindingProvider=t}getResolver(){const t=new $o.o(()=>this._keybindingProvider.getKeybindings().filter(n=>_.codeActionCommands.indexOf(n.command)>=0).filter(n=>n.resolvedKeybinding).map(n=>{let s=n.commandArgs;return n.command===Gs?s={kind:Xi.SourceOrganizeImports.value}:n.command===ks&&(s={kind:Xi.SourceFixAll.value}),Object.assign({resolvedKeybinding:n.resolvedKeybinding},vs.fromUser(s,{kind:Xi.None,apply:"never"}))}));return n=>{if(n.kind){const s=this.bestKeybindingForCodeAction(n,t.getValue());return null==s?void 0:s.resolvedKeybinding}}}bestKeybindingForCodeAction(t,n){if(!t.kind)return;const s=new Xi(t.kind);return n.filter(a=>a.kind.contains(s)).filter(a=>!a.preferred||t.isPreferred).reduceRight((a,p)=>a?a.kind.contains(p.kind)?p:a:p,void 0)}}return _.codeActionCommands=[wr,dr,$s,Gs,ks],_})();var Ze,_t=m(3449),Gt=m(9680),an=m(2450),Ln=m(2787),ci=(m(5885),m(6589));!function(_){_.Hidden={type:0},_.Showing=class e{constructor(n,s,a,p){this.actions=n,this.trigger=s,this.editorPosition=a,this.widgetPosition=p,this.type=1}}}(Ze||(Ze={}));let Ot=class TE extends Xe.JT{constructor(e,t,n,s){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=s,this._onClick=this._register(new Ln.Q5),this.onClick=this._onClick.event,this._state=Ze.Hidden,this._domNode=document.createElement("div"),this._domNode.className=an.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(a=>{const p=this._editor.getModel();(1!==this.state.type||!p||this.state.editorPosition.lineNumber>=p.getLineCount())&&this.hide()})),Gt.o.ignoreTarget(this._domNode),this._register(oe.Gw(this._domNode,a=>{if(1!==this.state.type)return;this._editor.focus(),a.preventDefault();const{top:p,height:L}=oe.i(this._domNode),q=this._editor.getOption(59);let ie=Math.floor(q/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(ie+=q),this._onClick.fire({x:a.posx,y:p+L+ie,actions:this.state.actions,trigger:this.state.trigger})})),this._register(oe.nm(this._domNode,"mouseenter",a=>{if(1!=(1&a.buttons))return;this.hide();const p=new _t.Z;p.startMonitoring(a.target,a.buttons,_t.e,()=>{},()=>{p.dispose()})})),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(e,t,n){if(e.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(57).enabled)return this.hide();const a=this._editor.getModel();if(!a)return this.hide();const{lineNumber:p,column:L}=a.validatePosition(n),q=a.getOptions().tabSize,ie=s.get(44),te=a.getLineContent(p),ve=(0,ci.q)(te,q),gt=dn=>dn>2&&this._editor.getTopForLineNumber(dn)===this._editor.getTopForLineNumber(dn-1);let Vt=p;if(!(ie.spaceWidth*ve>22))if(p>1&&!gt(p-1))Vt-=1;else if(gt(p+1)){if(L*ie.spaceWidth<22)return this.hide()}else Vt+=1;this.state=new Ze.Showing(e,t,n,{position:{lineNumber:Vt,column:1},preference:TE._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Ze.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...an.lA.lightBulb.classNamesArray),this._domNode.classList.add(...an.lA.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t)return void(this.title=ke.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel()))}this._domNode.classList.remove(...an.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...an.lA.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?ke.N("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):ke.N("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};Ot._posPref=[0],Ot=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,3)}}(0,xt.d)],Ot),(0,ln.Ic)((_,e)=>{var t;const n=null===(t=_.getColor(Ge.cvW))||void 0===t?void 0:t.transparent(.7),s=_.getColor(Ge.Fu1);s&&e.addRule(`\n\t\t.monaco-editor .contentWidgets ${an.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${n};\n\t\t}`);const a=_.getColor(Ge.sKV);a&&e.addRule(`\n\t\t.monaco-editor .contentWidgets ${an.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${a};\n\t\t\tbackground-color: ${n};\n\t\t}`)});var No,$n=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let yo=class extends Xe.JT{constructor(e,t,n,s,a){super(),this._editor=e,this.delegate=s,this._activeCodeActions=this._register(new Xe.XK),No.set(this,!1),this._codeActionWidget=new $o.o(()=>this._register(a.createInstance(De,this._editor,{onSelectCodeAction:p=>$n(this,void 0,void 0,function*(){this.delegate.applyCodeAction(p,!0)})}))),this._lightBulbWidget=new $o.o(()=>{const p=this._register(a.createInstance(Ot,this._editor,t,n));return this._register(p.onClick(L=>this.showCodeActionList(L.trigger,L.actions,L,{includeDisabledActions:!1}))),p})}dispose(){(function(_,e,t,n,s){if("function"==typeof e||!e.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(_,t)})(this,No,!0),super.dispose()}update(e){var t,n,s,a,p;return $n(this,void 0,void 0,function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let L;try{L=yield e.actions}catch(q){return void(0,Ii.dL)(q)}if(!function(_,e,t,n){if("function"==typeof e||!e.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(_)}(this,No))if(this._lightBulbWidget.getValue().update(L,e.trigger,e.position),1===e.trigger.type){if(null===(n=e.trigger.filter)||void 0===n?void 0:n.include){const ie=this.tryGetValidActionToApply(e.trigger,L);if(ie){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(ie,!1)}finally{L.dispose()}return}if(e.trigger.context){const te=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,L);if(te&&te.action.disabled)return null===(s=C.get(this._editor))||void 0===s||s.showMessage(te.action.disabled,e.trigger.context.position),void L.dispose()}}const q=!!(null===(a=e.trigger.filter)||void 0===a?void 0:a.include);if(e.trigger.context&&(!L.allActions.length||!q&&!L.validActions.length))return null===(p=C.get(this._editor))||void 0===p||p.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=L,void L.dispose();this._activeCodeActions.value=L,this._codeActionWidget.getValue().show(e.trigger,L,e.position,{includeDisabledActions:q})}else this._codeActionWidget.getValue().isVisible?L.dispose():this._activeCodeActions.value=L})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&("first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length))return t.allActions.find(({action:n})=>n.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&("first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length))return t.validActions[0]}showCodeActionList(e,t,n,s){return $n(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,n,s)})}};No=new WeakMap,yo=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,4)}}(0,de.TG)],yo);var Vi,$i=m(2882),Xo=m(8782),Go=m(9881),So=m(5151),bs=function(_,e,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?_!==e||!n:!e.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(_):n?n.value:e.get(_)};const Dr=new ft.uy("supportedCodeAction","");class Hs extends Xe.JT{constructor(e,t,n,s=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=s,this._autoTriggerTimer=this._register(new mt._F),this._register(this._markerService.onMarkerChanged(a=>this._onMarkerChanges(a))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();!t||e.some(n=>(0,So.Xy)(n,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const n of this._markerService.read({resource:t.uri})){const s=t.validateRange(n);if(Ye.e.intersectRanges(s,e))return Ye.e.lift(s)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===e.type){const{lineNumber:s,column:a}=n.getPosition(),p=t.getLineContent(s);if(0===p.length)return;if(1===a){if(/\s/.test(p[0]))return}else if(a===t.getLineMaxColumn(s)){if(/\s/.test(p[p.length-1]))return}else if(/\s/.test(p[a-2])&&/\s/.test(p[a-1]))return}return n}_createEventAndSignalChange(e,t){const n=this._editor.getModel();if(!t||!n)return void this._signalChange(void 0);const s=this._getRangeOfMarker(t),a=s?s.getStartPosition():t.getStartPosition(),p={trigger:e,selection:t,position:a};return this._signalChange(p),p}}var Ys;!function(_){_.Empty={type:0},_.Triggered=class e{constructor(n,s,a,p){this.trigger=n,this.rangeOrSelection=s,this.position=a,this._cancellablePromise=p,this.type=1,this.actions=p.catch(L=>{if((0,Ii.n2)(L))return ra;throw L})}cancel(){this._cancellablePromise.cancel()}}}(Ys||(Ys={}));const ra={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class To extends Xe.JT{constructor(e,t,n,s){super(),this._editor=e,this._markerService=t,this._progressService=s,this._codeActionOracle=this._register(new Xe.XK),this._state=Ys.Empty,this._onDidChangeState=this._register(new Ln.Q5),this.onDidChangeState=this._onDidChangeState.event,Vi.set(this,!1),this._supportedCodeActions=Dr.bindTo(n),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(Gn.H9.onDidChange(()=>this._update())),this._update()}dispose(){bs(this,Vi,"f")||(function(_,e,t,n,s){if("function"==typeof e||!e.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(_,t)}(this,Vi,!0),super.dispose(),this.setState(Ys.Empty,!0))}_update(){if(bs(this,Vi,"f"))return;this._codeActionOracle.value=void 0,this.setState(Ys.Empty);const e=this._editor.getModel();if(e&&Gn.H9.has(e)&&!this._editor.getOption(81)){const t=[];for(const n of Gn.H9.all(e))Array.isArray(n.providedCodeActionKinds)&&t.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new Hs(this._editor,this._markerService,n=>{var s;if(!n)return void this.setState(Ys.Empty);const a=(0,mt.PG)(p=>Bs(e,n.selection,n.trigger,Io.Ex.None,p));1===n.trigger.type&&(null===(s=this._progressService)||void 0===s||s.showWhile(a,250)),this.setState(new Ys.Triggered(n.trigger,n.selection,n.position,a))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,!t&&!bs(this,Vi,"f")&&this._onDidChangeState.fire(e))}}Vi=new WeakMap;var aa=function(_,e){return function(t,n){e(t,n,_)}},qe=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};function Ue(_){return ft.Ao.regex(Dr.keys()[0],new RegExp("(\\s|^)"+(0,fi.ec)(_.value)+"\\b"))}const Be={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:ke.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:ke.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[ke.N("args.schema.apply.first","Always apply the first returned code action."),ke.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),ke.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:ke.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let kt=class AE extends Xe.JT{constructor(e,t,n,s,a){super(),this._instantiationService=a,this._editor=e,this._model=this._register(new To(this._editor,t,n,s)),this._register(this._model.onDidChangeState(p=>this.update(p))),this._ui=new $o.o(()=>this._register(new yo(e,er.Id,Tt.Id,{applyCodeAction:(p,L)=>qe(this,void 0,void 0,function*(){try{yield this._applyCodeAction(p)}finally{L&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(AE.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,n){var s;if(!this._editor.hasModel())return;null===(s=C.get(this._editor))||void 0===s||s.closeMessage();const a=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:n,context:{notAvailableMessage:e,position:a}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(ri,e,this._editor)}};function ri(_,e,t){return qe(this,void 0,void 0,function*(){const n=_.get(ss.vu),s=_.get(oo.Hy),a=_.get(Go.b),p=_.get(Xo.lT);if(a.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred}),yield e.resolve(wi.T.None),e.action.edit&&(yield n.apply(ss.fo.convert(e.action.edit),{editor:t,label:e.action.title})),e.action.command)try{yield s.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(L){const q=function Vn(_){return"string"==typeof _?_:_ instanceof Error&&"string"==typeof _.message?_.message:void 0}(L);p.error("string"==typeof q?q:ke.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function so(_,e,t,n){if(_.hasModel()){const s=kt.get(_);s&&s.manualTriggerAtCurrentPosition(e,t,n)}}kt.ID="editor.contrib.quickFixController",kt=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([aa(1,$i.lT),aa(2,ft.i6),aa(3,Io.ek),aa(4,de.TG)],kt);let er=(()=>{class _ extends pt.R6{constructor(){super({id:_.Id,label:ke.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:ft.Ao.and(dt.u.writable,dt.u.hasCodeActionsProvider),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2132,weight:100}})}run(t,n){return so(n,ke.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}return _.Id="editor.action.quickFix",_})(),Tt=(()=>{class _ extends pt.R6{constructor(){super({id:_.Id,label:ke.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:ft.Ao.and(dt.u.writable,Ue(Xi.QuickFix)),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(t,n){return so(n,ke.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Xi.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}return _.Id="editor.action.autoFix",_})();(0,pt._K)(kt.ID,kt),(0,pt.Qr)(er),(0,pt.Qr)(class Ct extends pt.R6{constructor(){super({id:wr,label:ke.N("refactor.label","Refactor..."),alias:"Refactor...",precondition:ft.Ao.and(dt.u.writable,dt.u.hasCodeActionsProvider),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:ft.Ao.and(dt.u.writable,Ue(Xi.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Be}]}})}run(e,t,n){const s=vs.fromUser(n,{kind:Xi.Refactor,apply:"never"});return so(t,"string"==typeof(null==n?void 0:n.kind)?s.preferred?ke.N("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):ke.N("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):s.preferred?ke.N("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):ke.N("editor.action.refactor.noneMessage","No refactorings available"),{include:Xi.Refactor.contains(s.kind)?s.kind:Xi.None,onlyIncludePreferredActions:s.preferred},s.apply)}}),(0,pt.Qr)(class me extends pt.R6{constructor(){super({id:$s,label:ke.N("source.label","Source Action..."),alias:"Source Action...",precondition:ft.Ao.and(dt.u.writable,dt.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ft.Ao.and(dt.u.writable,Ue(Xi.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Be}]}})}run(e,t,n){const s=vs.fromUser(n,{kind:Xi.Source,apply:"never"});return so(t,"string"==typeof(null==n?void 0:n.kind)?s.preferred?ke.N("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):ke.N("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):s.preferred?ke.N("editor.action.source.noneMessage.preferred","No preferred source actions available"):ke.N("editor.action.source.noneMessage","No source actions available"),{include:Xi.Source.contains(s.kind)?s.kind:Xi.None,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply)}}),(0,pt.Qr)(class be extends pt.R6{constructor(){super({id:Gs,label:ke.N("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:ft.Ao.and(dt.u.writable,Ue(Xi.SourceOrganizeImports)),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1581,weight:100}})}run(e,t){return so(t,ke.N("editor.action.organize.noneMessage","No organize imports action available"),{include:Xi.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}),(0,pt.Qr)(Tt),(0,pt.Qr)(class We extends pt.R6{constructor(){super({id:ks,label:ke.N("fixAll.label","Fix All"),alias:"Fix All",precondition:ft.Ao.and(dt.u.writable,Ue(Xi.SourceFixAll))})}run(e,t){return so(t,ke.N("fixAll.noneMessage","No fix all action available"),{include:Xi.SourceFixAll,includeSourceActions:!0},"ifSingle")}}),(0,pt.fK)(new class Ls extends pt._l{constructor(){super({id:dr,precondition:ft.Ao.and(dt.u.writable,dt.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Be}]}})}runEditorCommand(e,t,n){const s=vs.fromUser(n,{kind:Xi.Empty,apply:"ifSingle"});return so(t,"string"==typeof(null==n?void 0:n.kind)?s.preferred?ke.N("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):ke.N("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):s.preferred?ke.N("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):ke.N("editor.action.codeAction.noneMessage","No code actions available"),{include:s.kind,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply)}});var Qt=m(2638),fn=m(1210),cn=m(6367),wn=m(4435),ni=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class Hi{constructor(){this.lenses=[],this._disposables=new Xe.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const n of e.lenses)this.lenses.push({symbol:n,provider:t})}}function ro(_,e){return ni(this,void 0,void 0,function*(){const t=Gn.He.ordered(_),n=new Map,s=new Hi,a=t.map((p,L)=>ni(this,void 0,void 0,function*(){n.set(p,L);try{const q=yield Promise.resolve(p.provideCodeLenses(_,e));q&&s.add(q,p)}catch(q){(0,Ii.Cp)(q)}}));return yield Promise.all(a),s.lenses=s.lenses.sort((p,L)=>p.symbol.range.startLineNumber<L.symbol.range.startLineNumber?-1:p.symbol.range.startLineNumber>L.symbol.range.startLineNumber?1:n.get(p.provider)<n.get(L.provider)?-1:n.get(p.provider)>n.get(L.provider)?1:p.symbol.range.startColumn<L.symbol.range.startColumn?-1:p.symbol.range.startColumn>L.symbol.range.startColumn?1:0),s})}oo.P0.registerCommand("_executeCodeLensProvider",function(_,...e){let[t,n]=e;(0,wn.p_)(xo.o.isUri(t)),(0,wn.p_)("number"==typeof n||!n);const s=_.get(ds.q).getModel(t);if(!s)throw(0,Ii.b1)();const a=[],p=new Xe.SL;return ro(s,wi.T.None).then(L=>{p.add(L);let q=[];for(const ie of L.lenses)null==n||Boolean(ie.symbol.command)?a.push(ie.symbol):n-- >0&&ie.provider.resolveCodeLens&&q.push(Promise.resolve(ie.provider.resolveCodeLens(s,ie.symbol,wi.T.None)).then(te=>a.push(te||ie.symbol)));return Promise.all(q)}).then(()=>a).finally(()=>{setTimeout(()=>p.dispose(),100)})});var ao=m(2706),pi=m(7838),fo=m(7918),Lo=m(9571);const Os=(0,de.yh)("ICodeLensCache");class ts{constructor(e,t){this.lineCount=e,this.data=t}}let Jo=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new pi.z6(20,.75),(0,mt.To)(()=>e.remove("codelens/cache",1));const n="codelens/cache2",s=e.get(n,1,"{}");this._deserialize(s),(0,ao.I)(e.onWillSaveState)(a=>{a.reason===Lo.fk.SHUTDOWN&&e.store(n,this._serialize(),1,1)})}put(e,t){const n=t.lenses.map(p=>{var L;return{range:p.symbol.range,command:p.symbol.command&&{id:"",title:null===(L=p.symbol.command)||void 0===L?void 0:L.title}}}),s=new Hi;s.add({lenses:n,dispose:()=>{}},this._fakeProvider);const a=new ts(e.getLineCount(),s);this._cache.set(e.uri.toString(),a)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,n]of this._cache){const s=new Set;for(const a of n.data.lenses)s.add(a.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...s.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const n in t){const s=t[n],a=[];for(const L of s.lines)a.push({range:new Ye.e(L,1,L,11)});const p=new Hi;p.add({lenses:a,dispose(){}},this._fakeProvider),this._cache.set(n,new ts(s.lineCount,p))}}catch(t){}}};Jo=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,0)}}(0,Lo.Uy)],Jo),(0,fo.z)(Os,Jo);var io=m(4459);m(5087);class Ro{constructor(e,t,n){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let Cs=(()=>{class _{constructor(t,n,s){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id="codelens.widget-"+_._idPool++,this.updatePosition(s),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${n}`}withCommands(t,n){this._commands.clear();let s=[],a=!1;for(let p=0;p<t.length;p++){const L=t[p];if(L&&(a=!0,L.command)){const q=(0,io.T)(L.command.title.trim());L.command.id?(s.push(oe.$("a",{id:String(p),title:L.command.tooltip},...q)),this._commands.set(String(p),L.command)):s.push(oe.$("span",{title:L.command.tooltip},...q)),p+1<t.length&&s.push(oe.$("span",void 0,"\xa0|\xa0"))}}a?(oe.mc(this._domNode,...s),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):oe.mc(this._domNode,oe.$("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(t){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}return _._idPool=0,_})();class Ms{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,s=t.length;n<s;n++)this._addDecorationsCallbacks[n](t[n])}}class Ps{constructor(e,t,n,s,a,p,L){this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];let q,ie=[];this._data.forEach((te,ve)=>{te.symbol.command&&ie.push(te.symbol),s.addDecoration({range:te.symbol.range,options:Ae.qx.EMPTY},tt=>this._decorationIds[ve]=tt),q=q?Ye.e.plusRange(q,te.symbol.range):Ye.e.lift(te.symbol.range)}),this._viewZone=new Ro(q.startLineNumber-1,p,L),this._viewZoneId=a.addZone(this._viewZone),ie.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ie,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Cs(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const n=this._editor.getModel().getDecorationRange(e);return!(!n||Ye.e.isEmpty(this._data[t].symbol.range)!==n.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((n,s)=>{t.addDecoration({range:n.symbol.range,options:Ae.qx.EMPTY},a=>this._decorationIds[s]=a)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:s}=this._data[t];s.command=n.command||s.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var lr=m(7098),Er=m(9974),la=function(_,e){return function(t,n){e(t,n,_)}};let ji=class{constructor(e,t,n,s,a){this._editor=e,this._commandService=n,this._notificationService=s,this._codeLensCache=a,this._disposables=new Xe.SL,this._localToDispose=new Xe.SL,this._lenses=[],this._oldCodeLensModels=new Xe.SL,this._provideCodeLensDebounce=t.for(Gn.He,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=t.for(Gn.He,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new mt.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(p=>{(p.hasChanged(44)||p.hasChanged(16)||p.hasChanged(15))&&this._updateLensStyle(),p.hasChanged(14)&&this._onModelChange()})),this._disposables.add(Gn.He.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,Qt.vp)(this._editor.getId()).toString(16),this._styleElement=oe.dS(oe.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let t,e=this._editor.getOption(16);return!e||e<5?(e=.9*this._editor.getOption(46)|0,t=this._editor.getOption(59)):t=e*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:t,fontSize:e}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(15),s=this._editor.getOption(44),a=`--codelens-font-family${this._styleClassName}`,p=`--codelens-font-features${this._styleClassName}`;let L=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${p}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;n&&(L+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${a}), ${cn.hL.fontFamily}}`),this._styleElement.textContent=L,this._editor.getContainerDomNode().style.setProperty(a,null!=n?n:"inherit"),this._editor.getContainerDomNode().style.setProperty(p,s.fontFeatureSettings),this._editor.changeViewZones(q=>{for(let ie of this._lenses)ie.updateHeight(e,q)})}_localDispose(){var e,t,n;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!Gn.He.has(e))return void(t&&this._localToDispose.add((0,mt.Vg)(()=>{const s=this._codeLensCache.get(e);t===s&&(this._codeLensCache.delete(e),this._onModelChange())},3e4)));for(const s of Gn.He.all(e))if("function"==typeof s.onDidChange){let a=s.onDidChange(()=>n.schedule());this._localToDispose.add(a)}const n=new mt.pY(()=>{var s;const a=Date.now();null===(s=this._getCodeLensModelPromise)||void 0===s||s.cancel(),this._getCodeLensModelPromise=(0,mt.PG)(p=>ro(e,p)),this._getCodeLensModelPromise.then(p=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=p,this._codeLensCache.put(e,p);const L=this._provideCodeLensDebounce.update(e,Date.now()-a);n.delay=L,this._renderCodeLensSymbols(p),this._resolveCodeLensesInViewportSoon()},Ii.dL)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(n),this._localToDispose.add((0,Xe.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(s=>{this._editor.changeViewZones(a=>{let p=[],L=-1;this._lenses.forEach(ie=>{ie.isValid()&&L!==ie.getLineNumber()?(ie.update(a),L=ie.getLineNumber()):p.push(ie)});let q=new Ms;p.forEach(ie=>{ie.dispose(q,a),this._lenses.splice(this._lenses.indexOf(ie),1)}),q.commit(s)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(s=>{s.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,Xe.OF)(()=>{if(this._editor.getModel()){const s=fn.Z.capture(this._editor);this._editor.changeDecorations(a=>{this._editor.changeViewZones(p=>{this._disposeAllLenses(a,p)})}),s.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(s=>{if(9!==s.target.type)return;let a=s.target.element;if("SPAN"===(null==a?void 0:a.tagName)&&(a=a.parentElement),"A"===(null==a?void 0:a.tagName))for(const p of this._lenses){let L=p.getCommand(a);if(L){this._commandService.executeCommand(L.id,...L.arguments||[]).catch(q=>this._notificationService.error(q));break}}})),n.schedule()}_disposeAllLenses(e,t){const n=new Ms;for(const s of this._lenses)s.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let s,t=this._editor.getModel().getLineCount(),n=[];for(let L of e.lenses){let q=L.symbol.range.startLineNumber;q<1||q>t||(s&&s[s.length-1].symbol.range.startLineNumber===q?s.push(L):(s=[L],n.push(s)))}const a=fn.Z.capture(this._editor),p=this._getLayoutInfo();this._editor.changeDecorations(L=>{this._editor.changeViewZones(q=>{const ie=new Ms;let te=0,ve=0;for(;ve<n.length&&te<this._lenses.length;){let tt=n[ve][0].symbol.range.startLineNumber,gt=this._lenses[te].getLineNumber();gt<tt?(this._lenses[te].dispose(ie,q),this._lenses.splice(te,1)):gt===tt?(this._lenses[te].updateCodeLensSymbols(n[ve],ie),ve++,te++):(this._lenses.splice(te,0,new Ps(n[ve],this._editor,this._styleClassName,ie,q,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),te++,ve++)}for(;te<this._lenses.length;)this._lenses[te].dispose(ie,q),this._lenses.splice(te,1);for(;ve<n.length;)this._lenses.push(new Ps(n[ve],this._editor,this._styleClassName,ie,q,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ve++;ie.commit(L)})}),a.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const n=[],s=[];if(this._lenses.forEach(L=>{const q=L.computeIfNecessary(t);q&&(n.push(q),s.push(L))}),0===n.length)return;const a=Date.now(),p=(0,mt.PG)(L=>{const q=n.map((ie,te)=>{const ve=new Array(ie.length),tt=ie.map((gt,Vt)=>gt.symbol.command||"function"!=typeof gt.provider.resolveCodeLens?(ve[Vt]=gt.symbol,Promise.resolve(void 0)):Promise.resolve(gt.provider.resolveCodeLens(t,gt.symbol,L)).then(dn=>{ve[Vt]=dn},Ii.Cp));return Promise.all(tt).then(()=>{!L.isCancellationRequested&&!s[te].isDisposed()&&s[te].updateCommands(ve)})});return Promise.all(q)});this._resolveCodeLensesPromise=p,this._resolveCodeLensesPromise.then(()=>{const L=this._resolveCodeLensesDebounce.update(t,Date.now()-a);this._resolveCodeLensesScheduler.delay=L,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},L=>{(0,Ii.dL)(L),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};ji.ID="css.editor.codeLens",ji=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([la(1,Er.A),la(2,oo.Hy),la(3,Xo.lT),la(4,Os)],ji),(0,pt._K)(ji.ID,ji),(0,pt.Qr)(class extends pt.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:dt.u.hasCodeLensProvider,label:(0,ke.N)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(lr.eJ),s=e.get(oo.Hy),a=e.get(Xo.lT),p=t.getSelection().positionLineNumber,L=t.getContribution(ji.ID);if(!L)return;const q=L.getModel();if(!q)return;const ie=[];for(const ve of q.lenses)ve.symbol.command&&ve.symbol.range.startLineNumber===p&&ie.push({label:ve.symbol.command.title,command:ve.symbol.command});if(0===ie.length)return;const te=yield n.pick(ie,{canPickMany:!1});if(te){if(q.isDisposed)return yield s.executeCommand(this.id);try{yield s.executeCommand(te.command.id,...te.command.arguments||[])}catch(ve){a.error(ve)}}})}});var bi=m(8927),eo=m(6597);function Vs(_,e,t,n){return Promise.resolve(t.provideColorPresentations(_,e,n))}oo.P0.registerCommand("_executeDocumentColorProvider",function(_,...e){const[t]=e;if(!(t instanceof xo.o))throw(0,Ii.b1)();const n=_.get(ds.q).getModel(t);if(!n)throw(0,Ii.b1)();const s=[],p=Gn.OH.ordered(n).reverse().map(L=>Promise.resolve(L.provideDocumentColors(n,wi.T.None)).then(q=>{if(Array.isArray(q))for(let ie of q)s.push({range:ie.range,color:[ie.color.red,ie.color.green,ie.color.blue,ie.color.alpha]})}));return Promise.all(p).then(()=>s)}),oo.P0.registerCommand("_executeColorPresentationProvider",function(_,...e){const[t,n]=e,{uri:s,range:a}=n;if(!(s instanceof xo.o&&Array.isArray(t)&&4===t.length&&Ye.e.isIRange(a)))throw(0,Ii.b1)();const[p,L,q,ie]=t,te=_.get(ds.q).getModel(s);if(!te)throw(0,Ii.b1)();const ve={range:a,color:{red:p,green:L,blue:q,alpha:ie}},tt=[],Vt=Gn.OH.ordered(te).reverse().map(dn=>Promise.resolve(dn.provideColorPresentations(te,ve,wi.T.None)).then(kn=>{Array.isArray(kn)&&tt.push(...kn)}));return Promise.all(Vt).then(()=>tt)});var Ds=m(9869);const zs=Object.create({});let Ur=class kE extends Xe.JT{constructor(e,t){super(),this._editor=e,this._configurationService=t,this._localToDispose=this._register(new Xe.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new eo.t7(this._editor),this._colorDecorationClassRefs=this._register(new Xe.SL),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(Gn.OH.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let n=this._isEnabled;this._isEnabled=this.isEnabled(),n!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),n=this._configurationService.getValue(t);if(n&&"object"==typeof n){const s=n.colorDecorators;if(s&&void 0!==s.enable&&!s.enable)return s.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();!e||!Gn.OH.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new mt._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},kE.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,mt.PG)(e=>{const t=this._editor.getModel();return t?function rs(_,e){const t=[],s=Gn.OH.ordered(_).reverse().map(a=>Promise.resolve(a.provideDocumentColors(_,e)).then(p=>{if(Array.isArray(p))for(let L of p)t.push({colorInfo:L,provider:a})}));return Promise.all(s).then(()=>t)}(t,e):Promise.resolve([])}),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},Ii.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:Ae.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((n,s)=>this._colorDatas.set(n,e[s]))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let n=0;n<e.length&&t.length<500;n++){const{red:s,green:a,blue:p,alpha:L}=e[n].colorInfo.color,q=new bi.VS(Math.round(255*s),Math.round(255*a),Math.round(255*p),L),te=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${q.r}, ${q.g}, ${q.b}, ${q.a})`}));t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:fi.B4,inlineClassName:`${te.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:zs}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],t))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(Ye.e.fromPositions(e,e)).filter(s=>this._colorDatas.has(s.id));return 0===n.length?null:this._colorDatas.get(n[0].id)}isColorDecorationId(e){return this._colorDecoratorIds.has(e)}};Ur.ID="editor.contrib.colorDetector",Ur.RECOMPUTE_TIME=1e3,Ur=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,Ds.Ui)],Ur),(0,pt._K)(Ur.ID,Ur);var Es=m(7675),ur=(m(7547),m(7424));function jr(_,e){return!!_[e]}class Jr{constructor(e,t){this.target=e.target,this.hasTriggerModifier=jr(e.event,t.triggerModifier),this.hasSideBySideModifier=jr(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class Pl{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=jr(e,t.triggerModifier)}}class Fl{constructor(e,t,n,s){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=s}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function Ka(_){return"altKey"===_?Pn.dz?new Fl(57,"metaKey",6,"altKey"):new Fl(5,"ctrlKey",6,"altKey"):Pn.dz?new Fl(6,"altKey",57,"metaKey"):new Fl(6,"altKey",5,"ctrlKey")}class va extends Xe.JT{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new Ln.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new Ln.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new Ln.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._opts=Ka(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(70)){const n=Ka(this._editor.getOption(70));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new Jr(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new Jr(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new Jr(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new Pl(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new Pl(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(e.target.position?e.target.position.lineNumber:0)&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var rc=m(4039),Tc=m(5271),Bl=(m(834),m(2452)),Us=m(7372),kr=function(_,e){return function(t,n){e(t,n,_)}};let ba=class extends it.Gm{constructor(e,t,n,s,a,p,L,q,ie,te,ve){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},s,a,p,L,q,ie,te,ve),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(tt=>this._onParentConfigurationChanged(tt)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){Tc.jB(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};ba=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([kr(3,de.TG),kr(4,vi.$),kr(5,oo.Hy),kr(6,ft.i6),kr(7,ln.XE),kr(8,Xo.lT),kr(9,Bl.F),kr(10,Us.c_)],ba);var qr=m(7687),$a=m(8900);m(3271);const Ga=new bi.Il(new bi.VS(0,122,204)),fd={showArrow:!0,showFrame:!0,className:"",frameColor:Ga,arrowColor:Ga,keepEditorSelection:!1};class gd{constructor(e,t,n,s,a,p){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=s,this._onDomNodeTop=a,this._onComputedHeight=p}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class md{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class pd{constructor(e){this._editor=e,this._ruleName=pd._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),oe.uN(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){oe.uN(this._ruleName),oe.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){1===e.column&&(e={lineNumber:e.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Ye.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}pd._IdGenerator=new $a.R(".arrow-decoration-");var La=m(4616),wl=m(5909);m(5524);class Ac extends Qe.Wi{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new Ln.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,oe.R3)(e,(0,oe.$)(".monaco-dropdown")),this._label=(0,oe.R3)(this._element,(0,oe.$)(".dropdown-label"));let n=t.labelRenderer;n||(n=a=>(a.textContent=t.label||"",null));for(const a of[oe.tw.CLICK,oe.tw.MOUSE_DOWN,Gt.t.Tap])this._register((0,oe.nm)(this.element,a,p=>oe.zB.stop(p,!0)));for(const a of[oe.tw.MOUSE_DOWN,Gt.t.Tap])this._register((0,oe.nm)(this._label,a,p=>{p instanceof MouseEvent&&p.detail>1||(this.visible?this.hide():this.show())}));this._register((0,oe.nm)(this._label,oe.tw.KEY_UP,a=>{const p=new La.y(a);(p.equals(3)||p.equals(10))&&(oe.zB.stop(a,!0),this.visible?this.hide():this.show())}));const s=n(this._label);s&&this._register(s),this._register(Gt.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class _d extends Ac{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class vd extends wl.Y{constructor(e,t,n,s=Object.create(null)){super(null,e,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new Ln.Q5),this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const n=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new _d(e,{contextMenuProvider:this.contextMenuProvider,labelRenderer:a=>{this.element=(0,oe.R3)(a,(0,oe.$)("a.action-label"));let p=[];return"string"==typeof this.options.classNames?p=this.options.classNames.split(/\s+/g).filter(L=>!!L):this.options.classNames&&(p=this.options.classNames),p.find(L=>"icon"===L)||p.push("codicon"),this.element.classList.add(...p),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(a=>{var p;null===(p=this.element)||void 0===p||p.setAttribute("aria-expanded",`${a}`),this._onDidChangeVisibility.fire(a)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const a=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return a.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const n=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",n),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",n)}}var kc=m(27),Oc=(m(8412),function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}),hr=function(_,e){return function(t,n){e(t,n,_)}},Hl=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let Kr=class extends wl.g{constructor(e,t,n,s,a){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable}),this._keybindingService=n,this._notificationService=s,this._contextKeyService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Xe.XK),this._altKey=oe._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return Hl(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,n=this._altKey.keyStatus.altKey||(Pn.ED||Pn.IJ)&&this._altKey.keyStatus.shiftKey;const s=()=>{const a=t&&n;a!==this._wantsAltCommand&&(this._wantsAltCommand=a,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(a=>{n=a.altKey||(Pn.ED||Pn.IJ)&&a.shiftKey,s()})),this._register((0,oe.nm)(e,"mouseleave",a=>{t=!1,s()})),this._register((0,oe.nm)(e,"mouseenter",a=>{t=!0,s()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let s=t?(0,ke.N)("titleAndKb","{0} ({1})",n,t):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const a=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,p=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),L=p&&p.getLabel(),q=L?(0,ke.N)("titleAndKb","{0} ({1})",a,L):a;s+=`\n[${kc.xo.modifierLabels[Pn.OS].altKey}] ${q}`}this.label.title=s}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:n,label:s}=this;if(!n||!s)return;const a=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(a)if(ln.kS.isThemeIcon(a)){const p=ln.kS.asClassNameArray(a);s.classList.add(...p),this._itemClassDispose.value=(0,Xe.OF)(()=>{s.classList.remove(...p)})}else a.light&&s.style.setProperty("--menu-entry-icon-light",(0,oe.wY)(a.light)),a.dark&&s.style.setProperty("--menu-entry-icon-dark",(0,oe.wY)(a.dark)),s.classList.add("icon"),this._itemClassDispose.value=(0,Xe.OF)(()=>{s.classList.remove("icon"),s.style.removeProperty("--menu-entry-icon-light"),s.style.removeProperty("--menu-entry-icon-dark")})}};Kr=Oc([hr(2,xt.d),hr(3,Xo.lT),hr(4,ft.i6)],Kr);let xa=class extends vd{constructor(e,t,n){var s,a;const p=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null!==(s=null==t?void 0:t.menuAsChild)&&void 0!==s&&s,classNames:null!==(a=null==t?void 0:t.classNames)&&void 0!==a?a:ln.kS.isThemeIcon(e.item.icon)?ln.kS.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},n,p)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!ln.kS.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,oe.wY)(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,oe.wY)(t.dark)))}}};xa=Oc([hr(2,et.i)],xa);let Lr=class extends wl.Y{constructor(e,t,n,s,a,p,L,q){var ie,te,ve;super(null,e),this._keybindingService=n,this._notificationService=s,this._contextMenuService=a,this._menuService=p,this._instaService=L,this._storageService=q,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let tt,gt=q.get(this._storageKey,1);gt&&(tt=e.actions.find(dn=>gt===dn.id)),tt||(tt=e.actions[0]),this._defaultAction=this._instaService.createInstance(Kr,tt,void 0);const Vt=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null===(ie=null==t?void 0:t.menuAsChild)||void 0===ie||ie,classNames:null!==(te=null==t?void 0:t.classNames)&&void 0!==te?te:["codicon","codicon-chevron-down"],actionRunner:null!==(ve=null==t?void 0:t.actionRunner)&&void 0!==ve?ve:new Qe.Wi});this._dropdown=new vd(e,e.actions,this._contextMenuService,Vt),this._dropdown.actionRunner.onDidRun(dn=>{dn.action instanceof Mt.U8&&this.update(dn.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Kr,e,void 0),this._defaultAction.actionRunner=new class extends Qe.Wi{runAction(t,n){return Hl(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render((0,oe.Ce)(this._container,(0,oe.$)(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,oe.$)(".action-container");this._defaultAction.render((0,oe.R3)(this._container,t)),this._register((0,oe.nm)(t,oe.tw.KEY_DOWN,s=>{const a=new La.y(s);a.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),a.stopPropagation())}));const n=(0,oe.$)(".dropdown-action-container");this._dropdown.render((0,oe.R3)(this._container,n)),this._register((0,oe.nm)(n,oe.tw.KEY_DOWN,s=>{var a;const p=new La.y(s);p.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(a=this._defaultAction.element)||void 0===a||a.focus(),p.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function Pc(_,e,t){return e instanceof Mt.U8?_.createInstance(Kr,e,void 0):e instanceof Mt.NZ?_.createInstance(e.item.rememberDefaultAction?Lr:xa,e,t):void 0}Lr=Oc([hr(2,xt.d),hr(3,Xo.lT),hr(4,et.i),hr(5,Mt.co),hr(6,de.TG),hr(7,Lo.Uy)],Lr);var Fc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},zl=function(_,e){return function(t,n){e(t,n,_)}};const Rr=(0,de.yh)("IPeekViewService");var fr;(0,fo.z)(Rr,class{constructor(){this._widgets=new Map}addExclusiveWidget(_,e){const t=this._widgets.get(_);t&&(t.listener.dispose(),t.widget.dispose()),this._widgets.set(_,{widget:e,listener:e.onDidClose(()=>{const s=this._widgets.get(_);s&&s.widget===e&&(s.listener.dispose(),this._widgets.delete(_))})})}}),function(_){_.inPeekEditor=new ft.uy("inReferenceSearchEditor",!0,ke.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),_.notInPeekEditor=_.inPeekEditor.toNegated()}(fr||(fr={}));let Ya=class{constructor(e,t){e instanceof ba&&fr.inPeekEditor.bindTo(t)}dispose(){}};Ya.ID="editor.contrib.referenceController",Ya=Fc([zl(1,ft.i6)],Ya),(0,pt._K)(Ya.ID,Ya);const Sl={headerBackgroundColor:bi.Il.white,primaryHeadingColor:bi.Il.fromHex("#333333"),secondaryHeadingColor:bi.Il.fromHex("#6c6c6cb3")};let Ia=class extends class Qu{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Xe.SL,this.container=null,this._isShowing=!1,this.editor=e,this.options=Tc.I8(t),Tc.jB(this.options,fd,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(n=>{const s=this._getWidth(n);this.domNode.style.width=s+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(s)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new pd(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const n=t.getDecorationRange(e);return n?n.getStartPosition():void 0}show(e,t){const n=Ye.e.isIRange(e)?Ye.e.lift(e):Ye.e.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:Ae.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(59),t=0;return this.options.showArrow&&(t+=2*Math.round(e/3)),this.options.showFrame&&(t+=2*Math.round(e/9)),t}_showImpl(e,t){const n=e.getStartPosition(),s=this.editor.getLayoutInfo(),a=this._getWidth(s);this.domNode.style.width=`${a}px`,this.domNode.style.left=this._getLeft(s)+"px";const p=document.createElement("div");p.style.overflow="hidden";const L=this.editor.getOption(59),q=Math.max(12,this.editor.getLayoutInfo().height/L*.8);t=Math.min(t,q);let ie=0,te=0;if(this._arrow&&this.options.showArrow&&(ie=Math.round(L/3),this._arrow.height=ie,this._arrow.show(n)),this.options.showFrame&&(te=Math.round(L/9)),this.editor.changeViewZones(gt=>{this._viewZone&&gt.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new gd(p,n.lineNumber,n.column,t,Vt=>this._onViewZoneTop(Vt),Vt=>this._onViewZoneHeight(Vt)),this._viewZone.id=gt.addZone(this._viewZone),this._overlayWidget=new md("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const gt=this.options.frameWidth?this.options.frameWidth:te;this.container.style.borderTopWidth=gt+"px",this.container.style.borderBottomWidth=gt+"px"}let ve=t*L-this._decoratingElementsHeight();this.container&&(this.container.style.top=ie+"px",this.container.style.height=ve+"px",this.container.style.overflow="hidden"),this._doLayout(ve,a),this.options.keepEditorSelection||this.editor.setSelection(e);const tt=this.editor.getModel();if(tt){const gt=e.endLineNumber+1;gt<=tt.getLineCount()?this.revealLine(gt,!1):this.revealLine(tt.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new qr.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let n=(t.currentY-e.startY)/this.editor.getOption(59),s=n<0?Math.ceil(n):Math.floor(n),a=e.heightInLines+s;a>5&&a<35&&this._relayout(a)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}{constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new Ln.Q5,this.onDidClose=this._onDidClose.event,Tc.jB(this.options,Sl,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=oe.$(".head"),this._bodyElement=oe.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const n=oe.$(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),oe.mu(n,"click",p=>this._onTitleClick(p))),oe.R3(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=oe.$("span.filename"),this._secondaryHeading=oe.$("span.dirname"),this._metaHeading=oe.$("span.meta"),oe.R3(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const s=oe.$(".peekview-actions");oe.R3(this._headElement,s);const a=this._getActionBarOptions();this._actionbarWidget=new rc.o(s,a),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Qe.aU("peekview.close",ke.N("label.close","Close"),an.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Pc.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:oe.PO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,oe.$Z(this._metaHeading)):oe.Cp(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const n=Math.ceil(1.2*this.editor.getOption(59)),s=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(s,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};Ia=Fc([zl(2,de.TG)],Ia);const Ul=(0,Ge.P6G)("peekViewTitle.background",{dark:(0,Ge.ZnX)(Ge.c63,.1),light:(0,Ge.ZnX)(Ge.c63,.1),hc:null},ke.N("peekViewTitleBackground","Background color of the peek view title area.")),Za=(0,Ge.P6G)("peekViewTitleLabel.foreground",{dark:bi.Il.white,light:bi.Il.black,hc:bi.Il.white},ke.N("peekViewTitleForeground","Color of the peek view title.")),yd=(0,Ge.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},ke.N("peekViewTitleInfoForeground","Color of the peek view title info.")),lc=(0,Ge.P6G)("peekView.border",{dark:Ge.c63,light:Ge.c63,hc:Ge.lRK},ke.N("peekViewBorder","Color of the peek view borders and arrow.")),cc=(0,Ge.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:bi.Il.black},ke.N("peekViewResultsBackground","Background color of the peek view result list.")),ca=((0,Ge.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:bi.Il.white},ke.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,Ge.P6G)("peekViewResult.fileForeground",{dark:bi.Il.white,light:"#1E1E1E",hc:bi.Il.white},ke.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,Ge.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},ke.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,Ge.P6G)("peekViewResult.selectionForeground",{dark:bi.Il.white,light:"#6C6C6C",hc:bi.Il.white},ke.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,Ge.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:bi.Il.black},ke.N("peekViewEditorBackground","Background color of the peek view editor.")));(0,Ge.P6G)("peekViewEditorGutter.background",{dark:ca,light:ca,hc:ca},ke.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,Ge.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},ke.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,Ge.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},ke.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,Ge.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Ge.xL1},ke.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Ma=m(7109),ea=m(7550),qo=m(5717);class go{constructor(e,t,n,s){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=s,this.id=$a.a.nextId()}get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?(0,ke.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,So.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,ke.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,So.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class eh{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:s,startColumn:a,endLineNumber:p,endColumn:L}=e,q=n.getWordUntilPosition({lineNumber:s,column:a-t}),ie=new Ye.e(s,q.startColumn,s,a),te=new Ye.e(p,L,p,1073741824),ve=n.getValueInRange(ie).replace(/^\s+/,""),tt=n.getValueInRange(e);return{value:ve+tt+n.getValueInRange(te).replace(/\s+$/,""),highlight:{start:ve.length,end:ve.length+tt.length}}}}class dc{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new pi.Y9}dispose(){(0,Xe.B9)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?(0,ke.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,So.EZ)(this.uri),this.uri.fsPath):(0,ke.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,So.EZ)(this.uri),this.uri.fsPath)}resolve(e){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const n=yield e.createModelReference(t.uri);this._previews.set(t.uri,new eh(n))}catch(n){(0,Ii.dL)(n)}return this})}}class js{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Ln.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;let s;e.sort(js._compareReferences);for(let a of e)if((!s||!So.SF.isEqual(s.uri,a.uri,!0))&&(s=new dc(this,a.uri),this.groups.push(s)),0===s.children.length||0!==js._compareReferences(a,s.children[s.children.length-1])){const p=new go(n===a,s,a,L=>this._onDidChangeReferenceRange.fire(L));this.references.push(p),s.children.push(p)}}dispose(){(0,Xe.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new js(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,ke.N)("aria.result.0","No results found"):1===this.references.length?(0,ke.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,ke.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,ke.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:n}=e,s=n.children.indexOf(e),a=n.children.length,p=n.parent.groups.length;return 1===p||t&&s+1<a||!t&&s>0?(s=t?(s+1)%a:(s+a-1)%a,n.children[s]):(s=n.parent.groups.indexOf(n),t?(s=(s+1)%p,n.parent.groups[s].children[0]):(s=(s+p-1)%p,n.parent.groups[s].children[n.parent.groups[s].children.length-1]))}nearestReference(e,t){const n=this.references.map((s,a)=>({idx:a,prefixLen:fi.Mh(s.uri.toString(),e.toString()),offsetDist:100*Math.abs(s.range.startLineNumber-t.lineNumber)+Math.abs(s.range.startColumn-t.column)})).sort((s,a)=>s.prefixLen>a.prefixLen?-1:s.prefixLen<a.prefixLen?1:s.offsetDist<a.offsetDist?-1:s.offsetDist>a.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(const n of this.references)if(n.uri.toString()===e.toString()&&Ye.e.containsPosition(n.range,t))return n}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return So.SF.compare(e.uri,t.uri)||Ye.e.compareRangesUsingStarts(e.range,t.range)}}var ta=m(318),st=m(278),d=(m(6039),m(4669)),b=m(727),B=m(9450),U=m(200),le=m(1979),Ee=m(5170);function Oe(_){if(!_)return;"string"==typeof _&&(_=xo.o.file(_));const e=(0,So.EZ)(_)||(_.scheme===st.lg.file?_.fsPath:_.path);return Pn.ED&&(0,Ee.vY)(e)?je(e):e}function je(_,e){return(0,Ee.oP)(_,e)?_.charAt(0).toUpperCase()+_.slice(1):_}var Dt=m(203),Rt=m(2151),Wt=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},sn=function(_,e){return function(t,n){e(t,n,_)}};let Cn=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof js||e instanceof dc}getChildren(e){if(e instanceof js)return e.groups;if(e instanceof dc)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};Cn=Wt([sn(0,ur.S)],Cn);class En{getHeight(){return 23}getTemplateId(e){return e instanceof dc?Oi.id:Ui.id}}let Zn=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof go){const n=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(n)return n.value}return(0,So.EZ)(e.uri)}};Zn=Wt([sn(0,xt.d)],Zn);class ai{getId(e){return e instanceof go?e.id:e.uri}}let oi=class extends Xe.JT{constructor(e,t,n){super(),this._uriLabel=t;const s=document.createElement("div");s.classList.add("reference-file"),this.file=this._register(new U.g(s,{supportHighlights:!0})),this.badge=new b.Z(oe.R3(s,oe.$(".count"))),this._register((0,Rt.WZ)(this.badge,n)),e.appendChild(s)}set(e,t){let n=(0,So.XX)(e.uri);this.file.setLabel(Oe(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const s=e.children.length;this.badge.setCount(s),this.badge.setTitleFormat(s>1?(0,ke.N)("referencesCount","{0} references",s):(0,ke.N)("referenceCount","{0} reference",s))}};oi=Wt([sn(1,Dt.e),sn(2,ln.XE)],oi);let Oi=class RE{constructor(e){this._instantiationService=e,this.templateId=RE.id}renderTemplate(e){return this._instantiationService.createInstance(oi,e)}renderElement(e,t,n){n.set(e.element,(0,le.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};Oi.id="FileReferencesRenderer",Oi=Wt([sn(0,de.TG)],Oi);class zi{constructor(e){this.label=new B.q(e)}set(e,t){var n;const s=null===(n=e.parent.getPreview(e))||void 0===n?void 0:n.preview(e.range);if(s&&s.value){const{value:a,highlight:p}=s;t&&!le.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(a,(0,le.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(a,[p]))}else this.label.set(`${(0,So.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}let Ui=(()=>{class _{constructor(){this.templateId=_.id}renderTemplate(t){return new zi(t)}renderElement(t,n,s){s.set(t.element,t.filterData)}disposeTemplate(){}}return _.id="OneReferenceRenderer",_})();class Gi{getWidgetAriaLabel(){return(0,ke.N)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var Si=m(8846),wo=function(_,e){return function(t,n){e(t,n,_)}},uo=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class ys{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Xe.SL,this._callOnModelChange=new Xe.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],n=[];for(let a=0,p=e.children.length;a<p;a++){let L=e.children[a];this._decorationIgnoreSet.has(L.id)||L.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:L.range,options:ys.DecorationOptions}),n.push(a))}const s=this._editor.deltaDecorations([],t);for(let a=0;a<s.length;a++)this._decorations.set(s[a],e.children[n[a]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[n,s]of this._decorations){const a=t.getDecorationRange(n);if(!a)continue;let p=!1;Ye.e.equalsRange(a,s.range)||((Ye.e.spansMultipleLines(a)||s.range.endColumn-s.range.startColumn!=a.endColumn-a.startColumn)&&(p=!0),p?(this._decorationIgnoreSet.add(s.id),e.push(n)):s.range=a)}for(let n=0,s=e.length;n<s;n++)this._decorations.delete(e[n]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}ys.DecorationOptions=Ae.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Js extends qo.ls{}let Uo=class extends Ia{constructor(e,t,n,s,a,p,L,q,ie,te,ve,tt){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},p),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=a,this._instantiationService=p,this._peekViewService=L,this._uriLabel=q,this._undoRedoService=ie,this._keybindingService=te,this._languageService=ve,this._languageConfigurationService=tt,this._disposeOnNewModel=new Xe.SL,this._callOnDispose=new Xe.SL,this._onDidSelectReference=new Ln.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new oe.Ro(0,0),this._applyTheme(s.getColorTheme()),this._callOnDispose.add(s.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,Xe.B9)(this._preview),(0,Xe.B9)(this._previewNotAvailableMessage),(0,Xe.B9)(this._tree),(0,Xe.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(lc)||bi.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(Ul)||bi.Il.transparent,primaryHeadingColor:e.getColor(Za),secondaryHeadingColor:e.getColor(yd)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=oe.R3(e,oe.$("div.messages")),oe.Cp(this._messageContainer),this._splitView=new ta.z(e,{orientation:1}),this._previewContainer=oe.R3(e,oe.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(ba,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),oe.Cp(this._previewContainer),this._previewNotAvailableMessage=new Ae.yO(ke.N("missingPreviewMessage","no preview available"),d.bd,Ae.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=oe.R3(e,oe.$("div.ref-tree.inline"));const n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Gi,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Zn),identityProvider:new ai,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:cc}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(oe.mu(this._treeContainer,"keydown",a=>{a.equals(9)&&(this._keybindingService.dispatchEvent(a,a.target),a.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Js,"ReferencesWidget",this._treeContainer,new En,[this._instantiationService.createInstance(Oi),this._instantiationService.createInstance(Ui)],this._instantiationService.createInstance(Cn),n),this._splitView.addView({onDidChange:Ln.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:a=>{this._preview.layout({height:this._dim.height,width:a})}},ta.M.Distribute),this._splitView.addView({onDidChange:Ln.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:a=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${a}px`,this._tree.layout(this._dim.height,a)}},ta.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let s=(a,p)=>{a instanceof go&&("show"===p&&this._revealReference(a,!1),this._onDidSelectReference.fire({element:a,kind:p,source:"tree"}))};this._tree.onDidOpen(a=>{s(a.element,a.sideBySide?"side":a.editorOptions.pinned?"goto":"show")}),oe.Cp(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new oe.Ro(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=ke.N("noResults","No results"),oe.$Z(this._messageContainer),Promise.resolve(void 0)):(oe.Cp(this._messageContainer),this._decorationsManager=new ys(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:n}=e;if(2!==t.detail)return;const s=this._getFocusedReference();!s||this._onDidSelectReference.fire({element:{uri:s.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),oe.$Z(this._treeContainer),oe.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof go?e:e instanceof dc&&e.children.length>0?e.children[0]:void 0}revealReference(e){return uo(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return uo(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==st.lg.inMemory?this.setTitle((0,So.Hx)(e.uri),this._uriLabel.getUriLabel((0,So.XX)(e.uri))):this.setTitle(ke.N("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const s=yield n;if(!this._model)return void s.dispose();(0,Xe.B9)(this._previewModelReference);const a=s.object;if(a){const p=this._preview.getModel()===a.textEditorModel?0:1,L=Ye.e.lift(e.range).collapseToStart();this._previewModelReference=s,this._preview.setModel(a.textEditorModel),this._preview.setSelection(L),this._preview.revealRangeInCenter(L,p)}else this._preview.setModel(this._previewNotAvailableMessage),s.dispose()})}};Uo=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([wo(3,ln.XE),wo(4,ur.S),wo(5,de.TG),wo(6,Rr),wo(7,Dt.e),wo(8,Si.tJ),wo(9,xt.d),wo(10,Es.O),wo(11,Us.c_)],Uo);var Zs=function(_,e){return function(t,n){e(t,n,_)}},is=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};const mr=new ft.uy("referenceSearchVisible",!1,ke.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let uc=class bD{constructor(e,t,n,s,a,p,L,q){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=s,this._notificationService=a,this._instantiationService=p,this._storageService=L,this._configurationService=q,this._disposables=new Xe.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=mr.bindTo(n)}static get(e){return e.getContribution(bD.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let s;if(this._widget&&(s=this._widget.position),this.closeWidget(),s&&e.containsPosition(s))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const a="peekViewLayout",p=class Ts{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,n;try{const s=JSON.parse(e);t=s.ratio,n=s.heightInLines}catch(s){}return{ratio:t||.7,heightInLines:n||18}}}.fromJSON(this._storageService.get(a,0,"{}"));this._widget=this._instantiationService.createInstance(Uo,this._editor,this._defaultTreeKeyboardSupport,p),this._widget.setTitle(ke.N("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(a,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(q=>{let{element:ie,kind:te}=q;if(ie)switch(te){case"open":("editor"!==q.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(ie,!1,!1);break;case"side":this.openReference(ie,!0,!1);break;case"goto":n?this._gotoReference(ie):this.openReference(ie,!1,!0)}}));const L=++this._requestIdPool;t.then(q=>{var ie;if(L===this._requestIdPool&&this._widget)return null===(ie=this._model)||void 0===ie||ie.dispose(),this._model=q,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":ke.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let te=this._editor.getModel().uri,ve=new An.L(e.startLineNumber,e.startColumn),tt=this._model.nearestReference(te,ve);if(tt)return this._widget.setSelection(tt).then(()=>{this._widget&&"editor"===this._editor.getOption(77)&&this._widget.focusOnPreviewEditor()})}});q.dispose()},q=>{this._notificationService.error(q)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return is(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const s=this._model.nextOrPreviousReference(n,e),a=this._editor.hasTextFocus(),p=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(s),yield this._gotoReference(s),a?this._editor.focus():this._widget&&p&&this._widget.focusOnPreviewEditor()})}revealReference(e){return is(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,n;null===(t=this._widget)||void 0===t||t.dispose(),null===(n=this._model)||void 0===n||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const t=Ye.e.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t}},this._editor).then(n=>{var s;if(this._ignoreModelChangeEvent=!1,n&&this._widget)if(this._editor===n)this._widget.show(t),this._widget.focusOnReferenceTree();else{const a=bD.get(n),p=this._model.clone();this.closeWidget(),n.focus(),null==a||a.toggleWidget(t,(0,mt.PG)(L=>Promise.resolve(p)),null!==(s=this._peekMode)&&void 0!==s&&s)}else this.closeWidget()},n=>{this._ignoreModelChangeEvent=!1,(0,Ii.dL)(n)})}openReference(e,t,n){t||this.closeWidget();const{uri:s,range:a}=e;this._editorService.openCodeEditor({resource:s,options:{selection:a,pinned:n}},this._editor,t)}};function Kl(_,e){const t=function ac(_){let e=_.get(vi.$).getFocusedCodeEditor();return e instanceof ba?e.getParentEditor():e}(_);if(!t)return;const n=uc.get(t);n&&e(n)}uc.ID="editor.contrib.referencesController",uc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Zs(2,ft.i6),Zs(3,vi.$),Zs(4,Xo.lT),Zs(5,de.TG),Zs(6,Lo.Uy),Zs(7,Ds.Ui)],uc),ea.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,vn.gx)(2089,60),when:ft.Ao.or(mr,fr.inPeekEditor),handler(_){Kl(_,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),ea.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:ft.Ao.or(mr,fr.inPeekEditor),handler(_){Kl(_,e=>{e.goToNextOrPreviousReference(!0)})}}),ea.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:ft.Ao.or(mr,fr.inPeekEditor),handler(_){Kl(_,e=>{e.goToNextOrPreviousReference(!1)})}}),oo.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),oo.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),oo.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),oo.P0.registerCommand("closeReferenceSearch",_=>Kl(_,e=>e.closeWidget())),ea.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:ft.Ao.and(fr.inPeekEditor,ft.Ao.not("config.editor.stablePeek"))}),ea.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:ft.Ao.and(mr,ft.Ao.not("config.editor.stablePeek"))}),ea.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:ft.Ao.and(mr,qo.CQ,qo.PS.negate(),qo.uJ.negate()),handler(_){var e;const n=null===(e=_.get(qo.Lw).lastFocusedList)||void 0===e?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof go&&Kl(_,s=>s.revealReference(n[0]))}}),ea.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:ft.Ao.and(mr,qo.CQ,qo.PS.negate(),qo.uJ.negate()),handler(_){var e;const n=null===(e=_.get(qo.Lw).lastFocusedList)||void 0===e?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof go&&Kl(_,s=>s.openReference(n[0],!0,!0))}}),oo.P0.registerCommand("openReference",_=>{var e;const n=null===(e=_.get(qo.Lw).lastFocusedList)||void 0===e?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof go&&Kl(_,s=>s.openReference(n[0],!1,!0))});var Bc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Sd=function(_,e){return function(t,n){e(t,n,_)}};const Kf=new ft.uy("hasSymbols",!1,(0,ke.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Ta=(0,de.yh)("ISymbolNavigationService");let Dd=class{constructor(e,t,n,s){this._editorService=t,this._notificationService=n,this._keybindingService=s,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Kf.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new $l(this._editorService),s=n.onDidChange(a=>{if(this._ignoreEditorChange)return;const p=this._editorService.getActiveCodeEditor();if(!p)return;const L=p.getModel(),q=p.getPosition();if(!L||!q)return;let ie=!1,te=!1;for(const ve of t.references)if((0,So.Xy)(ve.uri,L.uri))ie=!0,te=te||Ye.e.containsPosition(ve.range,q);else if(ie)break;(!ie||!te)&&this.reset()});this._currentState=(0,Xe.F8)(n,s)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Ye.e.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?(0,ke.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,ke.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};Dd=Bc([Sd(0,ft.i6),Sd(1,vi.$),Sd(2,Xo.lT),Sd(3,xt.d)],Dd),(0,fo.z)(Ta,Dd,!0),(0,pt.fK)(new class extends pt._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Kf,kbOpts:{weight:100,primary:70}})}runEditorCommand(_,e){return _.get(Ta).revealNext(e)}}),ea.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Kf,primary:9,handler(_){_.get(Ta).reset()}});let $l=class{constructor(e){this._listener=new Map,this._disposables=new Xe.SL,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,Xe.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,Xe.F8)(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};$l=Bc([Sd(0,vi.$)],$l);var $f=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};function ws(_,e,t,n){const a=t.ordered(_).map(p=>Promise.resolve(n(p,_,e)).then(void 0,L=>{(0,Ii.Cp)(L)}));return Promise.all(a).then(p=>{const L=[];for(let q of p)Array.isArray(q)?L.push(...q):q&&L.push(q);return L})}function su(_,e,t){return ws(_,e,Gn.Ct,(n,s,a)=>n.provideDefinition(s,a,t))}function Gf(_,e,t){return ws(_,e,Gn.RN,(n,s,a)=>n.provideDeclaration(s,a,t))}function th(_,e,t){return ws(_,e,Gn.vI,(n,s,a)=>n.provideImplementation(s,a,t))}function Ed(_,e,t){return ws(_,e,Gn.tA,(n,s,a)=>n.provideTypeDefinition(s,a,t))}function Or(_,e,t,n){return ws(_,e,Gn.FL,(s,a,p)=>$f(this,void 0,void 0,function*(){const L=yield s.provideReferences(a,p,{includeDeclaration:!0},n);if(!t||!L||2!==L.length)return L;const q=yield s.provideReferences(a,p,{includeDeclaration:!1},n);return q&&1===q.length?q:L}))}function Vc(_){return $f(this,void 0,void 0,function*(){const e=yield _(),t=new js(e,""),n=t.references.map(s=>s.link);return t.dispose(),n})}(0,pt.sb)("_executeDefinitionProvider",(_,e)=>Vc(()=>su(_,e,wi.T.None))),(0,pt.sb)("_executeDeclarationProvider",(_,e)=>Vc(()=>Gf(_,e,wi.T.None))),(0,pt.sb)("_executeImplementationProvider",(_,e)=>Vc(()=>th(_,e,wi.T.None))),(0,pt.sb)("_executeTypeDefinitionProvider",(_,e)=>Vc(()=>Ed(_,e,wi.T.None))),(0,pt.sb)("_executeReferenceProvider",(_,e)=>Vc(()=>Or(_,e,!1,wi.T.None)));var Qa,Wc,ru,nh,au,lu,bm,ih,da=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};Mt.BH.appendMenuItem(Mt.eH.EditorContext,{submenu:Mt.eH.EditorContextPeek,title:ke.N("peek.submenu","Peek"),group:"navigation",order:100});const oh=new Set;function hl(_){const e=new _;return(0,pt.QG)(e),oh.add(e.id),e}class Xa{constructor(e,t){this.model=e,this.position=t}static is(e){return!(!e||"object"!=typeof e||!(e instanceof Xa||An.L.isIPosition(e.position)&&e.model))}}class fl extends pt.R6{constructor(e,t){super(t),this.configuration=e}run(e,t,n){if(!t.hasModel())return Promise.resolve(void 0);const s=e.get(Xo.lT),a=e.get(vi.$),p=e.get(Io.ek),L=e.get(Ta),q=t.getModel(),ie=t.getPosition(),te=Xa.is(n)?n:new Xa(q,ie),ve=new Zo.Dl(t,5),tt=(0,mt.eP)(this._getLocationModel(te.model,te.position,ve.token),ve.token).then(gt=>da(this,void 0,void 0,function*(){var Vt;if(!gt||ve.token.isCancellationRequested)return;let dn;if((0,Zt.Z9)(gt.ariaMessage),gt.referenceAt(q.uri,ie)){const On=this._getAlternativeCommand(t);On!==this.id&&oh.has(On)&&(dn=t.getAction(On))}const kn=gt.references.length;if(0===kn){if(!this.configuration.muteMessage){const On=q.getWordAtPosition(ie);null===(Vt=C.get(t))||void 0===Vt||Vt.showMessage(this._getNoResultFoundMessage(On),ie)}}else{if(1!==kn||!dn)return this._onResult(a,L,t,gt);dn.run()}}),gt=>{s.error(gt)}).finally(()=>{ve.dispose()});return p.showWhile(tt,250),tt}_onResult(e,t,n,s){return da(this,void 0,void 0,function*(){const a=this._getGoToPreference(n);if(n instanceof ba||!(this.configuration.openInPeek||"peek"===a&&s.references.length>1)){const p=s.firstReference(),L=s.references.length>1&&"gotoAndPeek"===a,q=yield this._openReference(n,e,p,this.configuration.openToSide,!L);L&&q?this._openInPeek(q,s):s.dispose(),"goto"===a&&t.put(p)}else this._openInPeek(n,s)})}_openReference(e,t,n,s,a){return da(this,void 0,void 0,function*(){let p;if((0,Gn.vx)(n)&&(p=n.targetSelectionRange),p||(p=n.range),!p)return;const L=yield t.openCodeEditor({resource:n.uri,options:{selection:Ye.e.collapseToStart(p),selectionRevealType:3}},e,s);if(L){if(a){const q=L.getModel(),ie=L.deltaDecorations([],[{range:p,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{L.getModel()===q&&L.deltaDecorations(ie,[])},350)}return L}})}_openInPeek(e,t){const n=uc.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),(0,mt.PG)(s=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}class gl extends fl{_getLocationModel(e,t,n){return da(this,void 0,void 0,function*(){return new js(yield su(e,t,n),ke.N("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?ke.N("noResultWord","No definition found for '{0}'",e.word):ke.N("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleDefinitions}}const hc=Pn.$L&&!Kn.isStandalone?2118:70;hl(((Qa=class CD extends gl{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:CD.id,label:ke.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:ft.Ao.and(dt.u.hasDefinitionProvider,dt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:hc,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),oo.P0.registerCommandAlias("editor.action.goToDeclaration",CD.id)}}).id="editor.action.revealDefinition",Qa)),hl(((Wc=class yD extends gl{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:yD.id,label:ke.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:ft.Ao.and(dt.u.hasDefinitionProvider,dt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,hc),weight:100}}),oo.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",yD.id)}}).id="editor.action.revealDefinitionAside",Wc)),hl(((ru=class wD extends gl{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:wD.id,label:ke.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:ft.Ao.and(dt.u.hasDefinitionProvider,fr.notInPeekEditor,dt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Mt.eH.EditorContextPeek,group:"peek",order:2}}),oo.P0.registerCommandAlias("editor.action.previewDeclaration",wD.id)}}).id="editor.action.peekDefinition",ru));class sh extends fl{_getLocationModel(e,t,n){return da(this,void 0,void 0,function*(){return new js(yield Gf(e,t,n),ke.N("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?ke.N("decl.noResultWord","No declaration found for '{0}'",e.word):ke.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(51).multipleDeclarations}}hl((nh=class OE extends sh{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:OE.id,label:ke.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:ft.Ao.and(dt.u.hasDeclarationProvider,dt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?ke.N("decl.noResultWord","No declaration found for '{0}'",e.word):ke.N("decl.generic.noResults","No declaration found")}},nh.id="editor.action.revealDeclaration",nh)),hl(class extends sh{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:ke.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:ft.Ao.and(dt.u.hasDeclarationProvider,fr.notInPeekEditor,dt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Mt.eH.EditorContextPeek,group:"peek",order:3}})}});class Yf extends fl{_getLocationModel(e,t,n){return da(this,void 0,void 0,function*(){return new js(yield Ed(e,t,n),ke.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?ke.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):ke.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleTypeDefinitions}}hl(((au=class PE extends Yf{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:PE.ID,label:ke.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:ft.Ao.and(dt.u.hasTypeDefinitionProvider,dt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",au)),hl(((lu=class FE extends Yf{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:FE.ID,label:ke.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:ft.Ao.and(dt.u.hasTypeDefinitionProvider,fr.notInPeekEditor,dt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Mt.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",lu));class Hc extends fl{_getLocationModel(e,t,n){return da(this,void 0,void 0,function*(){return new js(yield th(e,t,n),ke.N("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?ke.N("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):ke.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(51).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(51).multipleImplementations}}hl(((bm=class BE extends Hc{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:BE.ID,label:ke.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:ft.Ao.and(dt.u.hasImplementationProvider,dt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",bm)),hl(((ih=class VE extends Hc{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:VE.ID,label:ke.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:ft.Ao.and(dt.u.hasImplementationProvider,fr.notInPeekEditor,dt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Mt.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",ih));class rh extends fl{_getNoResultFoundMessage(e){return e?ke.N("references.no","No references found for '{0}'",e.word):ke.N("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(51).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(51).multipleReferences}}hl(class extends rh{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:ke.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:ft.Ao.and(dt.u.hasReferenceProvider,fr.notInPeekEditor,dt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,n){return da(this,void 0,void 0,function*(){return new js(yield Or(e,t,!0,n),ke.N("ref.title","References"))})}}),hl(class extends rh{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:ke.N("references.action.label","Peek References"),alias:"Peek References",precondition:ft.Ao.and(dt.u.hasReferenceProvider,fr.notInPeekEditor,dt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Mt.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,n){return da(this,void 0,void 0,function*(){return new js(yield Or(e,t,!1,n),ke.N("ref.title","References"))})}});class Cm extends fl{constructor(e,t,n){super(e,{id:"editor.action.goToLocation",label:ke.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:ft.Ao.and(fr.notInPeekEditor,dt.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}_getLocationModel(e,t,n){return da(this,void 0,void 0,function*(){return new js(this._references,ke.N("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&ke.N("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}oo.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:xo.o},{name:"position",description:"The position at which to start",constraint:An.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(_,e,t,n,s,a,p)=>da(void 0,void 0,void 0,function*(){(0,wn.p_)(xo.o.isUri(e)),(0,wn.p_)(An.L.isIPosition(t)),(0,wn.p_)(Array.isArray(n)),(0,wn.p_)(void 0===s||"string"==typeof s),(0,wn.p_)(void 0===p||"boolean"==typeof p);const L=_.get(vi.$),q=yield L.openCodeEditor({resource:e},L.getFocusedCodeEditor());if((0,Ma.CL)(q))return q.setPosition(t),q.revealPositionInCenterIfOutsideViewport(t,0),q.invokeWithinContext(ie=>{const te=new class extends Cm{_getNoResultFoundMessage(ve){return a||super._getNoResultFoundMessage(ve)}}({muteMessage:!Boolean(a),openInPeek:Boolean(p),openToSide:!1},n,s);ie.get(de.TG).invokeFunction(te.run.bind(te),q)})})}),oo.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:xo.o},{name:"position",description:"The position at which to start",constraint:An.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(_,e,t,n,s)=>da(void 0,void 0,void 0,function*(){_.get(oo.Hy).executeCommand("editor.action.goToLocations",e,t,n,s,void 0,!0)})}),oo.P0.registerCommand({id:"editor.action.findReferences",handler:(_,e,t)=>{(0,wn.p_)(xo.o.isUri(e)),(0,wn.p_)(An.L.isIPosition(t));const n=_.get(vi.$);return n.openCodeEditor({resource:e},n.getFocusedCodeEditor()).then(s=>{if(!(0,Ma.CL)(s)||!s.hasModel())return;const a=uc.get(s);if(!a)return;const p=(0,mt.PG)(q=>Or(s.getModel(),An.L.lift(t),!1,q).then(ie=>new js(ie,ke.N("ref.title","References")))),L=new Ye.e(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(a.toggleWidget(L,p,!1))})}}),oo.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Mt.BH.appendMenuItems([{id:Mt.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:ke.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Mt.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:ke.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Mt.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:ke.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Mt.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:ke.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Mt.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:ke.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var Zf=function(_,e){return function(t,n){e(t,n,_)}};let fc=class jv{constructor(e,t,n){this.textModelResolverService=t,this.languageService=n,this.toUnhook=new Xe.SL,this.toUnhookForKeyboard=new Xe.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let s=new va(e);this.toUnhook.add(s),this.toUnhook.add(s.onMouseMoveOrRelevantKeyDown(([a,p])=>{this.startFindDefinitionFromMouse(a,(0,wn.f6)(p))})),this.toUnhook.add(s.onExecute(a=>{this.isEnabled(a)&&this.gotoDefinition(a.target.position,a.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},p=>{this.removeLinkDecorations(),(0,Ii.dL)(p)})})),this.toUnhook.add(s.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(jv.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(e,t)?void this.startFindDefinition(e.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const n=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let s=new Zo.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,mt.PG)(a=>this.findDefinition(e,a)),this.previousPromise.then(a=>{if(a&&a.length&&s.validate(this.editor))if(a.length>1)this.addDecoration(new Ye.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),(new Rn.W5).appendText(ke.N("multipleResults","Click to show {0} definitions.",a.length)));else{let p=a[0];if(!p.uri)return;this.textModelResolverService.createModelReference(p.uri).then(L=>{if(!L.object||!L.object.textEditorModel)return void L.dispose();const{object:{textEditorModel:q}}=L,{startLineNumber:ie}=p.range;if(ie<1||ie>q.getLineCount())return void L.dispose();const te=this.getPreviewValue(q,ie,p);let ve;ve=p.originSelectionRange?Ye.e.lift(p.originSelectionRange):new Ye.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);const tt=this.languageService.guessLanguageIdByFilepathOrFirstLine(q.uri);this.addDecoration(ve,(new Rn.W5).appendCodeblock(tt||"",te)),L.dispose()})}else this.removeLinkDecorations()}).then(void 0,Ii.dL)}getPreviewValue(e,t,n){let s=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(e,t);return s.endLineNumber-s.startLineNumber>=jv.MAX_SOURCE_PREVIEW_LINES&&(s=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,s)}stripIndentationFromPreviewRange(e,t,n){let a=e.getLineFirstNonWhitespaceColumn(t);for(let L=t+1;L<n.endLineNumber;L++){const q=e.getLineFirstNonWhitespaceColumn(L);a=Math.min(a,q)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${a-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const n=e.getLineFirstNonWhitespaceColumn(t),s=Math.min(e.getLineCount(),t+jv.MAX_SOURCE_PREVIEW_LINES);let a=t+1;for(;a<s&&n!==e.getLineFirstNonWhitespaceColumn(a);a++);return new Ye.e(t,1,a+1,1)}getPreviewRangeBasedOnBrackets(e,t){const n=Math.min(e.getLineCount(),t+jv.MAX_SOURCE_PREVIEW_LINES),s=[];let a=!0,p=e.bracketPairs.findNextBracket(new An.L(t,1));for(;null!==p;){if(0===s.length)s.push(p);else{const te=s[s.length-1];if(te.open[0]===p.open[0]&&te.isOpen&&!p.isOpen?s.pop():s.push(p),0===s.length){if(!a)return new Ye.e(t,1,p.range.endLineNumber+1,1);a=!1}}const L=e.getLineMaxColumn(t);let q=p.range.endLineNumber,ie=p.range.endColumn;if(L===p.range.endColumn&&(q++,ie=1),q>n)return new Ye.e(t,1,n+1,1);p=e.bracketPairs.findNextBracket(new An.L(q,ie))}return new Ye.e(t,1,n+1,1)}addDecoration(e,t){this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[{range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}}])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&Gn.Ct.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?su(n,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(n=>{const s=!t&&this.editor.getOption(78)&&!this.isInPeekEditor(n);return new gl({openToSide:t,openInPeek:s,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(n,this.editor)})}isInPeekEditor(e){const t=e.get(ft.i6);return fr.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};fc.ID="editor.contrib.gotodefinitionatposition",fc.MAX_SOURCE_PREVIEW_LINES=8,fc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Zf(1,ur.S),Zf(2,Es.O)],fc),(0,pt._K)(fc.ID,fc),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge._Yy);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});var ah=m(8152);m(1541);const lh=oe.$;class wm extends Xe.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new ah.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class Qf extends Xe.JT{constructor(e,t,n){super(),this.actionContainer=oe.R3(e,lh("div.action-container")),this.action=oe.R3(this.actionContainer,lh("a.action")),this.action.setAttribute("role","button"),t.iconClass&&oe.R3(this.action,lh(`span.icon.${t.iconClass}`)),oe.R3(this.action,lh("span")).textContent=n?`${t.label} (${n})`:t.label,this._register(oe.nm(this.actionContainer,oe.tw.MOUSE_DOWN,a=>{a.stopPropagation(),a.preventDefault(),t.run(this.actionContainer)})),this.setEnabled(!0)}static render(e,t,n){return new Qf(e,t,n)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}class Dl{constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new Ln.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Ln.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Ln.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var Ca=m(3568);m(6299);const El=oe.$;class Gv extends Xe.JT{constructor(e,t,n){super(),this.model=t,this.domNode=El(".colorpicker-header"),oe.R3(e,this.domNode),this.pickedColorNode=oe.R3(this.domNode,El(".picked-color"));const s=(0,ke.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",s);const a=oe.R3(this.domNode,El(".original-color"));a.style.backgroundColor=bi.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(Ge.yJx)||bi.Il.white,this._register((0,ln.Ic)((p,L)=>{this.backgroundColor=p.getColor(Ge.yJx)||bi.Il.white})),this._register(oe.nm(this.pickedColorNode,oe.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(oe.nm(a,oe.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=bi.Il.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=bi.Il.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(El(".codicon.codicon-color-mode"))}}class Yv extends Xe.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this.domNode=El(".colorpicker-body"),oe.R3(e,this.domNode),this.saturationBox=new Sm(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Em(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Lm(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new bi.Il(new bi.tx(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new bi.Il(new bi.tx(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=360*(1-e);this.model.color=new bi.Il(new bi.tx(360===n?0:n,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Sm extends Xe.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ln.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=El(".saturation-wrap"),oe.R3(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",oe.R3(this.domNode,this.canvas),this.selection=El(".saturation-selection"),oe.R3(this.domNode,this.selection),this.layout(),this._register(oe.Lo(this.domNode,s=>this.onMouseDown(s))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new _t.Z);const t=oe.i(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,_t.e,s=>this.onDidChangePosition(s.posx-t.left,s.posy-t.top),()=>null);const n=oe.qV(document,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),s=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,s),this._onDidChange.fire({s:n,v:s})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const t=new bi.Il(new bi.tx(this.model.color.hsva.h,1,1,1)),n=this.canvas.getContext("2d"),s=n.createLinearGradient(0,0,this.canvas.width,0);s.addColorStop(0,"rgba(255, 255, 255, 1)"),s.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),s.addColorStop(1,"rgba(255, 255, 255, 0)");const a=n.createLinearGradient(0,0,0,this.canvas.height);a.addColorStop(0,"rgba(0, 0, 0, 0)"),a.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=bi.Il.Format.CSS.format(t),n.fill(),n.fillStyle=s,n.fill(),n.fillStyle=a,n.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class Dm extends Xe.JT{constructor(e,t){super(),this.model=t,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ln.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=oe.R3(e,El(".strip")),this.overlay=oe.R3(this.domNode,El(".overlay")),this.slider=oe.R3(this.domNode,El(".slider")),this.slider.style.top="0px",this._register(oe.Lo(this.domNode,n=>this.onMouseDown(n))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new _t.Z),n=oe.i(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,_t.e,a=>this.onDidChangeTop(a.posy-n.top),()=>null);const s=oe.qV(document,()=>{this._onColorFlushed.fire(),s.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class Em extends Dm{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:n,b:s}=e.rgba,a=new bi.Il(new bi.VS(t,n,s,1)),p=new bi.Il(new bi.VS(t,n,s,0));this.overlay.style.background=`linear-gradient(to bottom, ${a} 0%, ${p} 100%)`}getValue(e){return e.hsva.a}}class Lm extends Dm{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class zc extends Ca.${constructor(e,t,n,s){super(),this.model=t,this.pixelRatio=n,this._register(Kn.PixelRatio.onDidChange(()=>this.layout()));const a=El(".colorpicker-widget");e.appendChild(a);const p=new Gv(a,this.model,s);this.body=new Yv(a,this.model,this.pixelRatio),this._register(p),this._register(this.body)}layout(){this.body.layout()}}var xm=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class __{constructor(e,t,n,s){this.owner=e,this.range=t,this.model=n,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Uc=class{constructor(e,t){this._editor=e,this._themeService=t}computeSync(e,t){return[]}computeAsync(e,t,n){return mt.Aq.fromPromise(this._computeAsync(e,t,n))}_computeAsync(e,t,n){return xm(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const s=Ur.get(this._editor);if(!s)return[];for(const a of t){if(!s.isColorDecorationId(a.id))continue;const p=s.getColorData(a.range.getStartPosition());if(p)return[yield this._createColorHover(this._editor.getModel(),p.colorInfo,p.provider)]}return[]})}_createColorHover(e,t,n){return xm(this,void 0,void 0,function*(){const s=e.getValueInRange(t.range),{red:a,green:p,blue:L,alpha:q}=t.color,ie=new bi.VS(Math.round(255*a),Math.round(255*p),Math.round(255*L),q),te=new bi.Il(ie),ve=yield Vs(e,t,n,wi.T.None),tt=new Dl(te,[],0);return tt.colorPresentations=ve||[],tt.guessColorPresentation(te,s),new __(this,Ye.e.lift(t.range),tt,n)})}renderHoverParts(e,t){if(0===t.length||!this._editor.hasModel())return Xe.JT.None;const n=new Xe.SL,s=t[0],a=this._editor.getModel(),p=s.model,L=n.add(new zc(e.fragment,p,this._editor.getOption(129),this._themeService));e.setColorPicker(L);let q=new Ye.e(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const ie=()=>{let ve,tt;if(p.presentation.textEdit){ve=[p.presentation.textEdit],tt=new Ye.e(p.presentation.textEdit.range.startLineNumber,p.presentation.textEdit.range.startColumn,p.presentation.textEdit.range.endLineNumber,p.presentation.textEdit.range.endColumn);const gt=this._editor.getModel()._setTrackedRange(null,tt,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ve),tt=this._editor.getModel()._getTrackedRange(gt)||tt}else ve=[{identifier:null,range:q,text:p.presentation.label,forceMoveMarkers:!1}],tt=q.setEndPosition(q.endLineNumber,q.startColumn+p.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ve);p.presentation.additionalTextEdits&&(ve=[...p.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",ve),e.hide()),this._editor.pushUndoStop(),q=tt},te=ve=>Vs(a,{range:q,color:{red:ve.rgba.r/255,green:ve.rgba.g/255,blue:ve.rgba.b/255,alpha:ve.rgba.a}},s.provider,wi.T.None).then(tt=>{p.colorPresentations=tt||[]});return n.add(p.onColorFlushed(ve=>{te(ve).then(ie)})),n.add(p.onDidChangeColor(te)),n}};Uc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,ln.XE)],Uc);class jc{constructor(e,t,n){this.value=e,this.isComplete=t,this.hasLoadingMessage=n}}class Xf extends Xe.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new Ln.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new mt.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new mt.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new mt.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,mt.zS)(e=>this._computer.computeAsync(e)),function(_,e,t,n){new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){var e,t;try{try{for(var s,n=function(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=_[Symbol.asyncIterator];return e?e.call(_):(_="function"==typeof __values?__values(_):_[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=_[a]&&function(p){return new Promise(function(L,q){!function s(a,p,L,q){Promise.resolve(q).then(function(ie){a({value:ie,done:L})},p)}(L,q,(p=_[a](p)).done,p.value)})}}}(this._asyncIterable);!(s=yield n.next()).done;){const a=s.value;a&&(this._result.push(a),this._fireResult())}}catch(a){e={error:a}}finally{try{s&&!s.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(a){(0,Ii.dL)(a)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const e=0===this._state,t=4===this._state;this._onResult.fire(new jc(this._result.slice(0),e,t))}start(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class ua{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}class du{constructor(e,t,n){this.priority=e,this.owner=t,this.range=n,this.type=2}equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}}var Im=Object.hasOwnProperty,Aa=Object.setPrototypeOf,dh=Object.isFrozen,xd=Object.getPrototypeOf,uu=Object.getOwnPropertyDescriptor,na=Object.freeze,gc=Object.seal,Jf=Object.create,Id="undefined"!=typeof Reflect&&Reflect,Md=Id.apply,uh=Id.construct;Md||(Md=function(e,t,n){return e.apply(t,n)}),na||(na=function(e){return e}),gc||(gc=function(e){return e}),uh||(uh=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function v_(_){if(Array.isArray(_)){for(var e=0,t=Array(_.length);e<_.length;e++)t[e]=_[e];return t}return Array.from(_)}(t))))});var Nd=qa(Array.prototype.forEach),qf=qa(Array.prototype.pop),mc=qa(Array.prototype.push),ml=qa(String.prototype.toLowerCase),Td=qa(String.prototype.match),ka=qa(String.prototype.replace),vr=qa(String.prototype.indexOf),b_=qa(String.prototype.trim),Ll=qa(RegExp.prototype.test),hh=function Mm(_){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return uh(_,t)}}(TypeError);function qa(_){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Md(_,e,n)}}function as(_,e){Aa&&Aa(_,null);for(var t=e.length;t--;){var n=e[t];if("string"==typeof n){var s=ml(n);s!==n&&(dh(e)||(e[t]=s),n=s)}_[n]=!0}return _}function Kc(_){var e=Jf(null),t=void 0;for(t in _)Md(Im,_,[t])&&(e[t]=_[t]);return e}function fh(_,e){for(;null!==_;){var t=uu(_,e);if(t){if(t.get)return qa(t.get);if("function"==typeof t.value)return qa(t.value)}_=xd(_)}return function n(s){return console.warn("fallback value for",s),null}}var Gl=na(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nm=na(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tm=na(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ad=na(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pr=na(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),gh=na(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hu=na(["#text"]),ia=na(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Fr=na(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kd=na(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),el=na(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Am=gc(/\{\{[\s\S]*|[\s\S]*\}\}/gm),pc=gc(/<%[\s\S]*|[\s\S]*%>/gm),xr=gc(/^data-[\-\w.\u00B7-\uFFFF]/),km=gc(/^aria-[\-\w]+$/),Rm=gc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eg=gc(/^(?:\w+script|data):/i),Om=gc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _};function Ra(_){if(Array.isArray(_)){for(var e=0,t=Array(_.length);e<_.length;e++)t[e]=_[e];return t}return Array.from(_)}var gu=function(){return"undefined"==typeof window?null:window},mh=function(e,t){if("object"!==(void 0===e?"undefined":fu(e))||"function"!=typeof e.createPolicy)return null;var n=null,s="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(s)&&(n=t.currentScript.getAttribute(s));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(L){return L}})}catch(p){return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Oa=function Pm(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gu(),e=function(Yn){return Pm(Yn)};if(e.version="2.3.1",e.removed=[],!_||!_.document||9!==_.document.nodeType)return e.isSupported=!1,e;var t=_.document,n=_.document,s=_.DocumentFragment,a=_.HTMLTemplateElement,p=_.Node,L=_.Element,q=_.NodeFilter,ie=_.NamedNodeMap,te=void 0===ie?_.NamedNodeMap||_.MozNamedAttrMap:ie,ve=_.Text,tt=_.Comment,gt=_.DOMParser,Vt=_.trustedTypes,dn=L.prototype,kn=fh(dn,"cloneNode"),On=fh(dn,"nextSibling"),li=fh(dn,"childNodes"),Xn=fh(dn,"parentNode");if("function"==typeof a){var Ki=n.createElement("template");Ki.content&&Ki.content.ownerDocument&&(n=Ki.content.ownerDocument)}var Bi=mh(Vt,t),Eo=Bi&&f_?Bi.createHTML(""):"",us=n,Cr=us.implementation,ga=us.createNodeIterator,ma=us.createDocumentFragment,Nc=us.getElementsByTagName,ld=t.importNode,ja={};try{ja=Kc(n).documentMode?n.documentMode:{}}catch(jo){}var al={};e.isSupported="function"==typeof Xn&&Cr&&void 0!==Cr.createHTMLDocument&&9!==ja;var cd=Am,Pf=pc,um=xr,hm=km,iy=eg,oy=Om,Ff=Rm,mo=null,po=as({},[].concat(Ra(Gl),Ra(Nm),Ra(Tm),Ra(Pr),Ra(hu))),Ea=null,Bv=as({},[].concat(Ra(ia),Ra(Fr),Ra(kd),Ra(el))),dd=null,Bf=null,u_=!0,fm=!0,nu=!1,Fo=!1,Vf=!1,Vv=!1,Wv=!1,Wf=!1,h_=!1,sy=!0,f_=!1,ry=!0,ti=!0,Bn=!1,zn={},Pt=null,Ut=as({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Sn=null,mn=as({},["audio","video","img","source","image","track"]),si=null,mi=as({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ho="http://www.w3.org/1998/Math/MathML",no="http://www.w3.org/2000/svg",Ho="http://www.w3.org/1999/xhtml",zo=Ho,Ws=!1,gs=null,_o=n.createElement("form"),yr=function(Yn){gs&&gs===Yn||((!Yn||"object"!==(void 0===Yn?"undefined":fu(Yn)))&&(Yn={}),Yn=Kc(Yn),mo="ALLOWED_TAGS"in Yn?as({},Yn.ALLOWED_TAGS):po,Ea="ALLOWED_ATTR"in Yn?as({},Yn.ALLOWED_ATTR):Bv,si="ADD_URI_SAFE_ATTR"in Yn?as(Kc(mi),Yn.ADD_URI_SAFE_ATTR):mi,Sn="ADD_DATA_URI_TAGS"in Yn?as(Kc(mn),Yn.ADD_DATA_URI_TAGS):mn,Pt="FORBID_CONTENTS"in Yn?as({},Yn.FORBID_CONTENTS):Ut,dd="FORBID_TAGS"in Yn?as({},Yn.FORBID_TAGS):{},Bf="FORBID_ATTR"in Yn?as({},Yn.FORBID_ATTR):{},u_=!1!==Yn.ALLOW_ARIA_ATTR,fm=!1!==Yn.ALLOW_DATA_ATTR,nu=Yn.ALLOW_UNKNOWN_PROTOCOLS||!1,Vf=Yn.WHOLE_DOCUMENT||!1,Wf=Yn.RETURN_DOM||!1,sy=!1!==Yn.RETURN_DOM_IMPORT,f_=Yn.RETURN_TRUSTED_TYPE||!1,Wv=Yn.FORCE_BODY||!1,ry=!1!==Yn.SANITIZE_DOM,ti=!1!==Yn.KEEP_CONTENT,Bn=Yn.IN_PLACE||!1,Ff=Yn.ALLOWED_URI_REGEXP||Ff,zo=Yn.NAMESPACE||Ho,(Fo=Yn.SAFE_FOR_TEMPLATES||!1)&&(fm=!1),(h_=Yn.RETURN_DOM_FRAGMENT||!1)&&(Wf=!0),(zn="USE_PROFILES"in Yn&&Yn.USE_PROFILES)&&(mo=as({},[].concat(Ra(hu))),Ea=[],!0===zn.html&&(as(mo,Gl),as(Ea,ia)),!0===zn.svg&&(as(mo,Nm),as(Ea,Fr),as(Ea,el)),!0===zn.svgFilters&&(as(mo,Tm),as(Ea,Fr),as(Ea,el)),!0===zn.mathMl&&(as(mo,Pr),as(Ea,kd),as(Ea,el))),Yn.ADD_TAGS&&(mo===po&&(mo=Kc(mo)),as(mo,Yn.ADD_TAGS)),Yn.ADD_ATTR&&(Ea===Bv&&(Ea=Kc(Ea)),as(Ea,Yn.ADD_ATTR)),Yn.ADD_URI_SAFE_ATTR&&as(si,Yn.ADD_URI_SAFE_ATTR),Yn.FORBID_CONTENTS&&(Pt===Ut&&(Pt=Kc(Pt)),as(Pt,Yn.FORBID_CONTENTS)),ti&&(mo["#text"]=!0),Vf&&as(mo,["html","head","body"]),mo.table&&(as(mo,["tbody"]),delete dd.tbody),na&&na(Yn),gs=Yn)},cr=as({},["mi","mo","mn","ms","mtext"]),sc=as({},["foreignobject","desc","title","annotation-xml"]),sr=as({},Nm);as(sr,Tm),as(sr,Ad);var Zr=as({},Pr);as(Zr,gh);var gm=function(Yn){var Ji=Xn(Yn);(!Ji||!Ji.tagName)&&(Ji={namespaceURI:Ho,tagName:"template"});var ko=ml(Yn.tagName),rr=ml(Ji.tagName);if(Yn.namespaceURI===no)return Ji.namespaceURI===Ho?"svg"===ko:Ji.namespaceURI===ho?"svg"===ko&&("annotation-xml"===rr||cr[rr]):Boolean(sr[ko]);if(Yn.namespaceURI===ho)return Ji.namespaceURI===Ho?"math"===ko:Ji.namespaceURI===no?"math"===ko&&sc[rr]:Boolean(Zr[ko]);if(Yn.namespaceURI===Ho){if(Ji.namespaceURI===no&&!sc[rr]||Ji.namespaceURI===ho&&!cr[rr])return!1;var ll=as({},["title","style","font","a","script"]);return!Zr[ko]&&(ll[ko]||!sr[ko])}return!1},Ol=function(Yn){mc(e.removed,{element:Yn});try{Yn.parentNode.removeChild(Yn)}catch(Ji){try{Yn.outerHTML=Eo}catch(ko){Yn.remove()}}},ud=function(Yn,Ji){try{mc(e.removed,{attribute:Ji.getAttributeNode(Yn),from:Ji})}catch(ko){mc(e.removed,{attribute:null,from:Ji})}if(Ji.removeAttribute(Yn),"is"===Yn&&!Ea[Yn])if(Wf||h_)try{Ol(Ji)}catch(ko){}else try{Ji.setAttribute(Yn,"")}catch(ko){}},Hf=function(Yn){var Ji=void 0,ko=void 0;if(Wv)Yn="<remove></remove>"+Yn;else{var rr=Td(Yn,/^[\r\n\t ]+/);ko=rr&&rr[0]}var ll=Bi?Bi.createHTML(Yn):Yn;if(zo===Ho)try{Ji=(new gt).parseFromString(ll,"text/html")}catch(dl){}if(!Ji||!Ji.documentElement){Ji=Cr.createDocument(zo,"template",null);try{Ji.documentElement.innerHTML=Ws?"":ll}catch(dl){}}var cl=Ji.body||Ji.documentElement;return Yn&&ko&&cl.insertBefore(n.createTextNode(ko),cl.childNodes[0]||null),zo===Ho?Nc.call(Ji,Vf?"html":"body")[0]:Vf?Ji.documentElement:cl},Gu=function(Yn){return ga.call(Yn.ownerDocument||Yn,Yn,q.SHOW_ELEMENT|q.SHOW_COMMENT|q.SHOW_TEXT,null,!1)},g_=function(Yn){return!(Yn instanceof ve||Yn instanceof tt||"string"==typeof Yn.nodeName&&"string"==typeof Yn.textContent&&"function"==typeof Yn.removeChild&&Yn.attributes instanceof te&&"function"==typeof Yn.removeAttribute&&"function"==typeof Yn.setAttribute&&"string"==typeof Yn.namespaceURI&&"function"==typeof Yn.insertBefore)},zf=function(Yn){return"object"===(void 0===p?"undefined":fu(p))?Yn instanceof p:Yn&&"object"===(void 0===Yn?"undefined":fu(Yn))&&"number"==typeof Yn.nodeType&&"string"==typeof Yn.nodeName},hd=function(Yn,Ji,ko){!al[Yn]||Nd(al[Yn],function(rr){rr.call(e,Ji,ko,gs)})},Hv=function(Yn){var Ji=void 0;if(hd("beforeSanitizeElements",Yn,null),g_(Yn)||Td(Yn.nodeName,/[\u0080-\uFFFF]/))return Ol(Yn),!0;var ko=ml(Yn.nodeName);if(hd("uponSanitizeElement",Yn,{tagName:ko,allowedTags:mo}),!zf(Yn.firstElementChild)&&(!zf(Yn.content)||!zf(Yn.content.firstElementChild))&&Ll(/<[/\w]/g,Yn.innerHTML)&&Ll(/<[/\w]/g,Yn.textContent)||"select"===ko&&Ll(/<template/i,Yn.innerHTML))return Ol(Yn),!0;if(!mo[ko]||dd[ko]){if(ti&&!Pt[ko]){var rr=Xn(Yn)||Yn.parentNode,ll=li(Yn)||Yn.childNodes;if(ll&&rr)for(var dl=ll.length-1;dl>=0;--dl)rr.insertBefore(kn(ll[dl],!0),On(Yn))}return Ol(Yn),!0}return Yn instanceof L&&!gm(Yn)||("noscript"===ko||"noembed"===ko)&&Ll(/<\/no(script|embed)/i,Yn.innerHTML)?(Ol(Yn),!0):(Fo&&3===Yn.nodeType&&(Ji=ka(Ji=Yn.textContent,cd," "),Ji=ka(Ji,Pf," "),Yn.textContent!==Ji&&(mc(e.removed,{element:Yn.cloneNode()}),Yn.textContent=Ji)),hd("afterSanitizeElements",Yn,null),!1)},ay=function(Yn,Ji,ko){if(ry&&("id"===Ji||"name"===Ji)&&(ko in n||ko in _o))return!1;if((!fm||Bf[Ji]||!Ll(um,Ji))&&(!u_||!Ll(hm,Ji))){if(!Ea[Ji]||Bf[Ji])return!1;if(!si[Ji]&&!Ll(Ff,ka(ko,oy,""))&&("src"!==Ji&&"xlink:href"!==Ji&&"href"!==Ji||"script"===Yn||0!==vr(ko,"data:")||!Sn[Yn])&&(!nu||Ll(iy,ka(ko,oy,"")))&&ko)return!1}return!0},IE=function(Yn){var Ji=void 0,ko=void 0,rr=void 0,ll=void 0;hd("beforeSanitizeAttributes",Yn,null);var cl=Yn.attributes;if(cl){var dl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ea};for(ll=cl.length;ll--;){var zv=(Ji=cl[ll]).name,ME=Ji.namespaceURI;if(ko=b_(Ji.value),rr=ml(zv),dl.attrName=rr,dl.attrValue=ko,dl.keepAttr=!0,dl.forceKeepAttr=void 0,hd("uponSanitizeAttribute",Yn,dl),ko=dl.attrValue,!dl.forceKeepAttr&&(ud(zv,Yn),dl.keepAttr)){if(Ll(/\/>/i,ko)){ud(zv,Yn);continue}Fo&&(ko=ka(ko,cd," "),ko=ka(ko,Pf," "));var _L=Yn.nodeName.toLowerCase();if(ay(_L,rr,ko))try{ME?Yn.setAttributeNS(ME,zv,ko):Yn.setAttribute(zv,ko),qf(e.removed)}catch(CL){}}}hd("afterSanitizeAttributes",Yn,null)}},pL=function jo(Yn){var Ji=void 0,ko=Gu(Yn);for(hd("beforeSanitizeShadowDOM",Yn,null);Ji=ko.nextNode();)hd("uponSanitizeShadowNode",Ji,null),!Hv(Ji)&&(Ji.content instanceof s&&jo(Ji.content),IE(Ji));hd("afterSanitizeShadowDOM",Yn,null)};return e.sanitize=function(jo,Yn){var Ji=void 0,ko=void 0,rr=void 0,ll=void 0,cl=void 0;if((Ws=!jo)&&(jo="\x3c!--\x3e"),"string"!=typeof jo&&!zf(jo)){if("function"!=typeof jo.toString)throw hh("toString is not a function");if("string"!=typeof(jo=jo.toString()))throw hh("dirty is not a string, aborting")}if(!e.isSupported){if("object"===fu(_.toStaticHTML)||"function"==typeof _.toStaticHTML){if("string"==typeof jo)return _.toStaticHTML(jo);if(zf(jo))return _.toStaticHTML(jo.outerHTML)}return jo}if(Vv||yr(Yn),e.removed=[],"string"==typeof jo&&(Bn=!1),!Bn)if(jo instanceof p)1===(ko=(Ji=Hf("\x3c!----\x3e")).ownerDocument.importNode(jo,!0)).nodeType&&"BODY"===ko.nodeName||"HTML"===ko.nodeName?Ji=ko:Ji.appendChild(ko);else{if(!Wf&&!Fo&&!Vf&&-1===jo.indexOf("<"))return Bi&&f_?Bi.createHTML(jo):jo;if(!(Ji=Hf(jo)))return Wf?null:Eo}Ji&&Wv&&Ol(Ji.firstChild);for(var dl=Gu(Bn?jo:Ji);rr=dl.nextNode();)3===rr.nodeType&&rr===ll||Hv(rr)||(rr.content instanceof s&&pL(rr.content),IE(rr),ll=rr);if(ll=null,Bn)return jo;if(Wf){if(h_)for(cl=ma.call(Ji.ownerDocument);Ji.firstChild;)cl.appendChild(Ji.firstChild);else cl=Ji;return sy&&(cl=ld.call(t,cl,!0)),cl}var Yu=Vf?Ji.outerHTML:Ji.innerHTML;return Fo&&(Yu=ka(Yu,cd," "),Yu=ka(Yu,Pf," ")),Bi&&f_?Bi.createHTML(Yu):Yu},e.setConfig=function(jo){yr(jo),Vv=!0},e.clearConfig=function(){gs=null,Vv=!1},e.isValidAttribute=function(jo,Yn,Ji){gs||yr({});var ko=ml(jo),rr=ml(Yn);return ay(ko,rr,Ji)},e.addHook=function(jo,Yn){"function"==typeof Yn&&(al[jo]=al[jo]||[],mc(al[jo],Yn))},e.removeHook=function(jo){al[jo]&&qf(al[jo])},e.removeHooks=function(jo){al[jo]&&(al[jo]=[])},e.removeAllHooks=function(){al={}},e}();const y_=Oa.sanitize,Vm=Oa.addHook,mu=Oa.removeHook;var pu=m(5691),ph=m(5109),cs=m(8394),_h=m(661);let Ns={};!function(){function _(e,t){t(Ns)}_.amd=!0,function(e,t){"object"==typeof exports?t(exports):_.amd?_(0,t):t((e="undefined"!=typeof globalThis?globalThis:e||self).marked={})}(this,function(e){function t(ti,Bn){for(var zn=0;zn<Bn.length;zn++){var Pt=Bn[zn];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(ti,Pt.key,Pt)}}function a(ti,Bn){(null==Bn||Bn>ti.length)&&(Bn=ti.length);for(var zn=0,Pt=new Array(Bn);zn<Bn;zn++)Pt[zn]=ti[zn];return Pt}function p(ti,Bn){var zn="undefined"!=typeof Symbol&&ti[Symbol.iterator]||ti["@@iterator"];if(zn)return(zn=zn.call(ti)).next.bind(zn);if(Array.isArray(ti)||(zn=function s(ti,Bn){if(ti){if("string"==typeof ti)return a(ti,Bn);var zn=Object.prototype.toString.call(ti).slice(8,-1);if("Object"===zn&&ti.constructor&&(zn=ti.constructor.name),"Map"===zn||"Set"===zn)return Array.from(ti);if("Arguments"===zn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zn))return a(ti,Bn)}}(ti))||Bn&&ti&&"number"==typeof ti.length){zn&&(ti=zn);var Pt=0;return function(){return Pt>=ti.length?{done:!0}:{done:!1,value:ti[Pt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var ie=/[&<>"']/,te=/[&<>"']/g,ve=/[<>"']|&(?!#?\w+;)/,tt=/[<>"']|&(?!#?\w+;)/g,gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vt=function(Bn){return gt[Bn]};function dn(ti,Bn){if(Bn){if(ie.test(ti))return ti.replace(te,Vt)}else if(ve.test(ti))return ti.replace(tt,Vt);return ti}var kn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function On(ti){return ti.replace(kn,function(Bn,zn){return"colon"===(zn=zn.toLowerCase())?":":"#"===zn.charAt(0)?"x"===zn.charAt(1)?String.fromCharCode(parseInt(zn.substring(2),16)):String.fromCharCode(+zn.substring(1)):""})}var li=/(^|[^\[])\^/g;function Xn(ti,Bn){ti=ti.source||ti,Bn=Bn||"";var zn={replace:function(Ut,Sn){return Sn=(Sn=Sn.source||Sn).replace(li,"$1"),ti=ti.replace(Ut,Sn),zn},getRegex:function(){return new RegExp(ti,Bn)}};return zn}var Ki=/[^\w:]/g,Bi=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Eo(ti,Bn,zn){if(ti){var Pt;try{Pt=decodeURIComponent(On(zn)).replace(Ki,"").toLowerCase()}catch(Ut){return null}if(0===Pt.indexOf("javascript:")||0===Pt.indexOf("vbscript:")||0===Pt.indexOf("data:"))return null}Bn&&!Bi.test(zn)&&(zn=function Nc(ti,Bn){us[" "+ti]||(us[" "+ti]=Cr.test(ti)?ti+"/":cd(ti,"/",!0));var zn=-1===(ti=us[" "+ti]).indexOf(":");return"//"===Bn.substring(0,2)?zn?Bn:ti.replace(ga,"$1")+Bn:"/"===Bn.charAt(0)?zn?Bn:ti.replace(ma,"$1")+Bn:ti+Bn}(Bn,zn));try{zn=encodeURI(zn).replace(/%25/g,"%")}catch(Ut){return null}return zn}var us={},Cr=/^[^:]+:\/*[^/]*$/,ga=/^([^:]+:)[\s\S]*$/,ma=/^([^:]+:\/*[^/]*)[\s\S]*$/,ld={exec:function(){}};function ja(ti){for(var zn,Pt,Bn=1;Bn<arguments.length;Bn++)for(Pt in zn=arguments[Bn])Object.prototype.hasOwnProperty.call(zn,Pt)&&(ti[Pt]=zn[Pt]);return ti}function al(ti,Bn){var Pt=ti.replace(/\|/g,function(Sn,mn,si){for(var mi=!1,ho=mn;--ho>=0&&"\\"===si[ho];)mi=!mi;return mi?"|":" |"}).split(/ \|/),Ut=0;if(Pt[0].trim()||Pt.shift(),Pt[Pt.length-1].trim()||Pt.pop(),Pt.length>Bn)Pt.splice(Bn);else for(;Pt.length<Bn;)Pt.push("");for(;Ut<Pt.length;Ut++)Pt[Ut]=Pt[Ut].trim().replace(/\\\|/g,"|");return Pt}function cd(ti,Bn,zn){var Pt=ti.length;if(0===Pt)return"";for(var Ut=0;Ut<Pt;){var Sn=ti.charAt(Pt-Ut-1);if(Sn!==Bn||zn){if(Sn===Bn||!zn)break;Ut++}else Ut++}return ti.substr(0,Pt-Ut)}function um(ti){ti&&ti.sanitize&&!ti.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function hm(ti,Bn){if(Bn<1)return"";for(var zn="";Bn>1;)1&Bn&&(zn+=ti),Bn>>=1,ti+=ti;return zn+ti}function iy(ti,Bn,zn,Pt){var Ut=Bn.href,Sn=Bn.title?dn(Bn.title):null,mn=ti[1].replace(/\\([\[\]])/g,"$1");if("!"!==ti[0].charAt(0)){Pt.state.inLink=!0;var si={type:"link",raw:zn,href:Ut,title:Sn,text:mn,tokens:Pt.inlineTokens(mn,[])};return Pt.state.inLink=!1,si}return{type:"image",raw:zn,href:Ut,title:Sn,text:dn(mn)}}var Ff=function(){function ti(zn){this.options=zn||e.defaults}var Bn=ti.prototype;return Bn.space=function(Pt){var Ut=this.rules.block.newline.exec(Pt);if(Ut&&Ut[0].length>0)return{type:"space",raw:Ut[0]}},Bn.code=function(Pt){var Ut=this.rules.block.code.exec(Pt);if(Ut){var Sn=Ut[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ut[0],codeBlockStyle:"indented",text:this.options.pedantic?Sn:cd(Sn,"\n")}}},Bn.fences=function(Pt){var Ut=this.rules.block.fences.exec(Pt);if(Ut){var Sn=Ut[0],mn=function oy(ti,Bn){var zn=ti.match(/^(\s+)(?:```)/);if(null===zn)return Bn;var Pt=zn[1];return Bn.split("\n").map(function(Ut){var Sn=Ut.match(/^\s+/);return null===Sn?Ut:Sn[0].length>=Pt.length?Ut.slice(Pt.length):Ut}).join("\n")}(Sn,Ut[3]||"");return{type:"code",raw:Sn,lang:Ut[2]?Ut[2].trim():Ut[2],text:mn}}},Bn.heading=function(Pt){var Ut=this.rules.block.heading.exec(Pt);if(Ut){var Sn=Ut[2].trim();if(/#$/.test(Sn)){var mn=cd(Sn,"#");(this.options.pedantic||!mn||/ $/.test(mn))&&(Sn=mn.trim())}var si={type:"heading",raw:Ut[0],depth:Ut[1].length,text:Sn,tokens:[]};return this.lexer.inline(si.text,si.tokens),si}},Bn.hr=function(Pt){var Ut=this.rules.block.hr.exec(Pt);if(Ut)return{type:"hr",raw:Ut[0]}},Bn.blockquote=function(Pt){var Ut=this.rules.block.blockquote.exec(Pt);if(Ut){var Sn=Ut[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Ut[0],tokens:this.lexer.blockTokens(Sn,[]),text:Sn}}},Bn.list=function(Pt){var Ut=this.rules.block.list.exec(Pt);if(Ut){var Sn,mn,si,mi,ho,no,Ho,zo,Ws,gs,_o,yr,cr=Ut[1].trim(),sc=cr.length>1,sr={type:"list",raw:"",ordered:sc,start:sc?+cr.slice(0,-1):"",loose:!1,items:[]};cr=sc?"\\d{1,9}\\"+cr.slice(-1):"\\"+cr,this.options.pedantic&&(cr=sc?cr:"[*+-]");for(var Zr=new RegExp("^( {0,3}"+cr+")((?: [^\\n]*)?(?:\\n|$))");Pt&&(yr=!1,(Ut=Zr.exec(Pt))&&!this.rules.block.hr.test(Pt));){if(Pt=Pt.substring((Sn=Ut[0]).length),zo=Ut[2].split("\n",1)[0],Ws=Pt.split("\n",1)[0],this.options.pedantic?(mi=2,_o=zo.trimLeft()):(mi=Ut[2].search(/[^ ]/),_o=zo.slice(mi=mi>4?1:mi),mi+=Ut[1].length),no=!1,!zo&&/^ *$/.test(Ws)&&(Sn+=Ws+"\n",Pt=Pt.substring(Ws.length+1),yr=!0),!yr)for(var gm=new RegExp("^ {0,"+Math.min(3,mi-1)+"}(?:[*+-]|\\d{1,9}[.)])");Pt&&(zo=gs=Pt.split("\n",1)[0],this.options.pedantic&&(zo=zo.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!gm.test(zo));){if(zo.search(/[^ ]/)>=mi||!zo.trim())_o+="\n"+zo.slice(mi);else{if(no)break;_o+="\n"+zo}!no&&!zo.trim()&&(no=!0),Sn+=gs+"\n",Pt=Pt.substring(gs.length+1)}sr.loose||(Ho?sr.loose=!0:/\n *\n *$/.test(Sn)&&(Ho=!0)),this.options.gfm&&(mn=/^\[[ xX]\] /.exec(_o))&&(si="[ ] "!==mn[0],_o=_o.replace(/^\[[ xX]\] +/,"")),sr.items.push({type:"list_item",raw:Sn,task:!!mn,checked:si,loose:!1,text:_o}),sr.raw+=Sn}sr.items[sr.items.length-1].raw=Sn.trimRight(),sr.items[sr.items.length-1].text=_o.trimRight(),sr.raw=sr.raw.trimRight();var Ol=sr.items.length;for(ho=0;ho<Ol;ho++){this.lexer.state.top=!1,sr.items[ho].tokens=this.lexer.blockTokens(sr.items[ho].text,[]);var ud=sr.items[ho].tokens.filter(function(Gu){return"space"===Gu.type}),Hf=ud.every(function(Gu){for(var Hv,zf=0,hd=p(Gu.raw.split(""));!(Hv=hd()).done;)if("\n"===Hv.value&&(zf+=1),zf>1)return!0;return!1});!sr.loose&&ud.length&&Hf&&(sr.loose=!0,sr.items[ho].loose=!0)}return sr}},Bn.html=function(Pt){var Ut=this.rules.block.html.exec(Pt);if(Ut){var Sn={type:"html",raw:Ut[0],pre:!this.options.sanitizer&&("pre"===Ut[1]||"script"===Ut[1]||"style"===Ut[1]),text:Ut[0]};return this.options.sanitize&&(Sn.type="paragraph",Sn.text=this.options.sanitizer?this.options.sanitizer(Ut[0]):dn(Ut[0]),Sn.tokens=[],this.lexer.inline(Sn.text,Sn.tokens)),Sn}},Bn.def=function(Pt){var Ut=this.rules.block.def.exec(Pt);if(Ut)return Ut[3]&&(Ut[3]=Ut[3].substring(1,Ut[3].length-1)),{type:"def",tag:Ut[1].toLowerCase().replace(/\s+/g," "),raw:Ut[0],href:Ut[2],title:Ut[3]}},Bn.table=function(Pt){var Ut=this.rules.block.table.exec(Pt);if(Ut){var Sn={type:"table",header:al(Ut[1]).map(function(Ho){return{text:Ho}}),align:Ut[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ut[3]?Ut[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(Sn.header.length===Sn.align.length){Sn.raw=Ut[0];var si,mi,ho,no,mn=Sn.align.length;for(si=0;si<mn;si++)Sn.align[si]=/^ *-+: *$/.test(Sn.align[si])?"right":/^ *:-+: *$/.test(Sn.align[si])?"center":/^ *:-+ *$/.test(Sn.align[si])?"left":null;for(mn=Sn.rows.length,si=0;si<mn;si++)Sn.rows[si]=al(Sn.rows[si],Sn.header.length).map(function(Ho){return{text:Ho}});for(mn=Sn.header.length,mi=0;mi<mn;mi++)Sn.header[mi].tokens=[],this.lexer.inlineTokens(Sn.header[mi].text,Sn.header[mi].tokens);for(mn=Sn.rows.length,mi=0;mi<mn;mi++)for(no=Sn.rows[mi],ho=0;ho<no.length;ho++)no[ho].tokens=[],this.lexer.inlineTokens(no[ho].text,no[ho].tokens);return Sn}}},Bn.lheading=function(Pt){var Ut=this.rules.block.lheading.exec(Pt);if(Ut){var Sn={type:"heading",raw:Ut[0],depth:"="===Ut[2].charAt(0)?1:2,text:Ut[1],tokens:[]};return this.lexer.inline(Sn.text,Sn.tokens),Sn}},Bn.paragraph=function(Pt){var Ut=this.rules.block.paragraph.exec(Pt);if(Ut){var Sn={type:"paragraph",raw:Ut[0],text:"\n"===Ut[1].charAt(Ut[1].length-1)?Ut[1].slice(0,-1):Ut[1],tokens:[]};return this.lexer.inline(Sn.text,Sn.tokens),Sn}},Bn.text=function(Pt){var Ut=this.rules.block.text.exec(Pt);if(Ut){var Sn={type:"text",raw:Ut[0],text:Ut[0],tokens:[]};return this.lexer.inline(Sn.text,Sn.tokens),Sn}},Bn.escape=function(Pt){var Ut=this.rules.inline.escape.exec(Pt);if(Ut)return{type:"escape",raw:Ut[0],text:dn(Ut[1])}},Bn.tag=function(Pt){var Ut=this.rules.inline.tag.exec(Pt);if(Ut)return!this.lexer.state.inLink&&/^<a /i.test(Ut[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ut[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ut[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ut[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ut[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ut[0]):dn(Ut[0]):Ut[0]}},Bn.link=function(Pt){var Ut=this.rules.inline.link.exec(Pt);if(Ut){var Sn=Ut[2].trim();if(!this.options.pedantic&&/^</.test(Sn)){if(!/>$/.test(Sn))return;var mn=cd(Sn.slice(0,-1),"\\");if((Sn.length-mn.length)%2==0)return}else{var si=function Pf(ti,Bn){if(-1===ti.indexOf(Bn[1]))return-1;for(var zn=ti.length,Pt=0,Ut=0;Ut<zn;Ut++)if("\\"===ti[Ut])Ut++;else if(ti[Ut]===Bn[0])Pt++;else if(ti[Ut]===Bn[1]&&--Pt<0)return Ut;return-1}(Ut[2],"()");if(si>-1){var ho=(0===Ut[0].indexOf("!")?5:4)+Ut[1].length+si;Ut[2]=Ut[2].substring(0,si),Ut[0]=Ut[0].substring(0,ho).trim(),Ut[3]=""}}var no=Ut[2],Ho="";if(this.options.pedantic){var zo=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(no);zo&&(no=zo[1],Ho=zo[3])}else Ho=Ut[3]?Ut[3].slice(1,-1):"";return no=no.trim(),/^</.test(no)&&(no=this.options.pedantic&&!/>$/.test(Sn)?no.slice(1):no.slice(1,-1)),iy(Ut,{href:no&&no.replace(this.rules.inline._escapes,"$1"),title:Ho&&Ho.replace(this.rules.inline._escapes,"$1")},Ut[0],this.lexer)}},Bn.reflink=function(Pt,Ut){var Sn;if((Sn=this.rules.inline.reflink.exec(Pt))||(Sn=this.rules.inline.nolink.exec(Pt))){var mn=(Sn[2]||Sn[1]).replace(/\s+/g," ");if(!(mn=Ut[mn.toLowerCase()])||!mn.href){var si=Sn[0].charAt(0);return{type:"text",raw:si,text:si}}return iy(Sn,mn,Sn[0],this.lexer)}},Bn.emStrong=function(Pt,Ut,Sn){void 0===Sn&&(Sn="");var mn=this.rules.inline.emStrong.lDelim.exec(Pt);if(mn&&(!mn[3]||!Sn.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var si=mn[1]||mn[2]||"";if(!si||si&&(""===Sn||this.rules.inline.punctuation.exec(Sn))){var ho,no,mi=mn[0].length-1,Ho=mi,zo=0,Ws="*"===mn[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ws.lastIndex=0,Ut=Ut.slice(-1*Pt.length+mi);null!=(mn=Ws.exec(Ut));)if(ho=mn[1]||mn[2]||mn[3]||mn[4]||mn[5]||mn[6]){if(no=ho.length,mn[3]||mn[4]){Ho+=no;continue}if((mn[5]||mn[6])&&mi%3&&!((mi+no)%3)){zo+=no;continue}if(!((Ho-=no)>0)){if(no=Math.min(no,no+Ho+zo),Math.min(mi,no)%2){var gs=Pt.slice(1,mi+mn.index+no);return{type:"em",raw:Pt.slice(0,mi+mn.index+no+1),text:gs,tokens:this.lexer.inlineTokens(gs,[])}}var _o=Pt.slice(2,mi+mn.index+no-1);return{type:"strong",raw:Pt.slice(0,mi+mn.index+no+1),text:_o,tokens:this.lexer.inlineTokens(_o,[])}}}}}},Bn.codespan=function(Pt){var Ut=this.rules.inline.code.exec(Pt);if(Ut){var Sn=Ut[2].replace(/\n/g," "),mn=/[^ ]/.test(Sn),si=/^ /.test(Sn)&&/ $/.test(Sn);return mn&&si&&(Sn=Sn.substring(1,Sn.length-1)),Sn=dn(Sn,!0),{type:"codespan",raw:Ut[0],text:Sn}}},Bn.br=function(Pt){var Ut=this.rules.inline.br.exec(Pt);if(Ut)return{type:"br",raw:Ut[0]}},Bn.del=function(Pt){var Ut=this.rules.inline.del.exec(Pt);if(Ut)return{type:"del",raw:Ut[0],text:Ut[2],tokens:this.lexer.inlineTokens(Ut[2],[])}},Bn.autolink=function(Pt,Ut){var mn,si,Sn=this.rules.inline.autolink.exec(Pt);if(Sn)return si="@"===Sn[2]?"mailto:"+(mn=dn(this.options.mangle?Ut(Sn[1]):Sn[1])):mn=dn(Sn[1]),{type:"link",raw:Sn[0],text:mn,href:si,tokens:[{type:"text",raw:mn,text:mn}]}},Bn.url=function(Pt,Ut){var Sn;if(Sn=this.rules.inline.url.exec(Pt)){var mn,si;if("@"===Sn[2])si="mailto:"+(mn=dn(this.options.mangle?Ut(Sn[0]):Sn[0]));else{var mi;do{mi=Sn[0],Sn[0]=this.rules.inline._backpedal.exec(Sn[0])[0]}while(mi!==Sn[0]);mn=dn(Sn[0]),si="www."===Sn[1]?"http://"+mn:mn}return{type:"link",raw:Sn[0],text:mn,href:si,tokens:[{type:"text",raw:mn,text:mn}]}}},Bn.inlineText=function(Pt,Ut){var mn,Sn=this.rules.inline.text.exec(Pt);if(Sn)return mn=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Sn[0]):dn(Sn[0]):Sn[0]:dn(this.options.smartypants?Ut(Sn[0]):Sn[0]),{type:"text",raw:Sn[0],text:mn}},ti}(),mo={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ld,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};mo.def=Xn(mo.def).replace("label",mo._label).replace("title",mo._title).getRegex(),mo.bullet=/(?:[*+-]|\d{1,9}[.)])/,mo.listItemStart=Xn(/^( *)(bull) */).replace("bull",mo.bullet).getRegex(),mo.list=Xn(mo.list).replace(/bull/g,mo.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+mo.def.source+")").getRegex(),mo._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mo._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,mo.html=Xn(mo.html,"i").replace("comment",mo._comment).replace("tag",mo._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),mo.paragraph=Xn(mo._paragraph).replace("hr",mo.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mo._tag).getRegex(),mo.blockquote=Xn(mo.blockquote).replace("paragraph",mo.paragraph).getRegex(),mo.normal=ja({},mo),mo.gfm=ja({},mo.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),mo.gfm.table=Xn(mo.gfm.table).replace("hr",mo.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mo._tag).getRegex(),mo.gfm.paragraph=Xn(mo._paragraph).replace("hr",mo.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",mo.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mo._tag).getRegex(),mo.pedantic=ja({},mo.normal,{html:Xn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",mo._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ld,paragraph:Xn(mo.normal._paragraph).replace("hr",mo.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",mo.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var po={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ld,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ld,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Ea(ti){return ti.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Bv(ti){var zn,Pt,Bn="",Ut=ti.length;for(zn=0;zn<Ut;zn++)Pt=ti.charCodeAt(zn),Math.random()>.5&&(Pt="x"+Pt.toString(16)),Bn+="&#"+Pt+";";return Bn}po._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",po.punctuation=Xn(po.punctuation).replace(/punctuation/g,po._punctuation).getRegex(),po.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,po.escapedEmSt=/\\\*|\\_/g,po._comment=Xn(mo._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),po.emStrong.lDelim=Xn(po.emStrong.lDelim).replace(/punct/g,po._punctuation).getRegex(),po.emStrong.rDelimAst=Xn(po.emStrong.rDelimAst,"g").replace(/punct/g,po._punctuation).getRegex(),po.emStrong.rDelimUnd=Xn(po.emStrong.rDelimUnd,"g").replace(/punct/g,po._punctuation).getRegex(),po._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,po._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,po._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,po.autolink=Xn(po.autolink).replace("scheme",po._scheme).replace("email",po._email).getRegex(),po._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,po.tag=Xn(po.tag).replace("comment",po._comment).replace("attribute",po._attribute).getRegex(),po._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,po._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,po._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,po.link=Xn(po.link).replace("label",po._label).replace("href",po._href).replace("title",po._title).getRegex(),po.reflink=Xn(po.reflink).replace("label",po._label).replace("ref",mo._label).getRegex(),po.nolink=Xn(po.nolink).replace("ref",mo._label).getRegex(),po.reflinkSearch=Xn(po.reflinkSearch,"g").replace("reflink",po.reflink).replace("nolink",po.nolink).getRegex(),po.normal=ja({},po),po.pedantic=ja({},po.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Xn(/^!?\[(label)\]\((.*?)\)/).replace("label",po._label).getRegex(),reflink:Xn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",po._label).getRegex()}),po.gfm=ja({},po.normal,{escape:Xn(po.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),po.gfm.url=Xn(po.gfm.url,"i").replace("email",po.gfm._extended_email).getRegex(),po.breaks=ja({},po.gfm,{br:Xn(po.br).replace("{2,}","*").getRegex(),text:Xn(po.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var dd=function(){function ti(zn){this.tokens=[],this.tokens.links=Object.create(null),this.options=zn||e.defaults,this.options.tokenizer=this.options.tokenizer||new Ff,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Pt={block:mo.normal,inline:po.normal};this.options.pedantic?(Pt.block=mo.pedantic,Pt.inline=po.pedantic):this.options.gfm&&(Pt.block=mo.gfm,Pt.inline=this.options.breaks?po.breaks:po.gfm),this.tokenizer.rules=Pt}ti.lex=function(Pt,Ut){return new ti(Ut).lex(Pt)},ti.lexInline=function(Pt,Ut){return new ti(Ut).inlineTokens(Pt)};var Bn=ti.prototype;return Bn.lex=function(Pt){Pt=Pt.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(Pt,this.tokens);for(var Ut;Ut=this.inlineQueue.shift();)this.inlineTokens(Ut.src,Ut.tokens);return this.tokens},Bn.blockTokens=function(Pt,Ut){var mn,si,mi,ho,Sn=this;for(void 0===Ut&&(Ut=[]),this.options.pedantic&&(Pt=Pt.replace(/^ +$/gm,""));Pt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ho){return!!(mn=Ho.call({lexer:Sn},Pt,Ut))&&(Pt=Pt.substring(mn.raw.length),Ut.push(mn),!0)}))){if(mn=this.tokenizer.space(Pt)){Pt=Pt.substring(mn.raw.length),1===mn.raw.length&&Ut.length>0?Ut[Ut.length-1].raw+="\n":Ut.push(mn);continue}if(mn=this.tokenizer.code(Pt)){Pt=Pt.substring(mn.raw.length),!(si=Ut[Ut.length-1])||"paragraph"!==si.type&&"text"!==si.type?Ut.push(mn):(si.raw+="\n"+mn.raw,si.text+="\n"+mn.text,this.inlineQueue[this.inlineQueue.length-1].src=si.text);continue}if(mn=this.tokenizer.fences(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.heading(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.hr(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.blockquote(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.list(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.html(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.def(Pt)){Pt=Pt.substring(mn.raw.length),!(si=Ut[Ut.length-1])||"paragraph"!==si.type&&"text"!==si.type?this.tokens.links[mn.tag]||(this.tokens.links[mn.tag]={href:mn.href,title:mn.title}):(si.raw+="\n"+mn.raw,si.text+="\n"+mn.raw,this.inlineQueue[this.inlineQueue.length-1].src=si.text);continue}if(mn=this.tokenizer.table(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.lheading(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mi=Pt,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ho=1/0,zo=Pt.slice(1),Ws=void 0;Sn.options.extensions.startBlock.forEach(function(gs){"number"==typeof(Ws=gs.call({lexer:this},zo))&&Ws>=0&&(Ho=Math.min(Ho,Ws))}),Ho<1/0&&Ho>=0&&(mi=Pt.substring(0,Ho+1))}(),this.state.top&&(mn=this.tokenizer.paragraph(mi))){si=Ut[Ut.length-1],ho&&"paragraph"===si.type?(si.raw+="\n"+mn.raw,si.text+="\n"+mn.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=si.text):Ut.push(mn),ho=mi.length!==Pt.length,Pt=Pt.substring(mn.raw.length);continue}if(mn=this.tokenizer.text(Pt)){Pt=Pt.substring(mn.raw.length),(si=Ut[Ut.length-1])&&"text"===si.type?(si.raw+="\n"+mn.raw,si.text+="\n"+mn.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=si.text):Ut.push(mn);continue}if(Pt){var no="Infinite loop on byte: "+Pt.charCodeAt(0);if(this.options.silent){console.error(no);break}throw new Error(no)}}return this.state.top=!0,Ut},Bn.inline=function(Pt,Ut){this.inlineQueue.push({src:Pt,tokens:Ut})},Bn.inlineTokens=function(Pt,Ut){var Sn=this;void 0===Ut&&(Ut=[]);var mn,si,mi,no,Ho,zo,ho=Pt;if(this.tokens.links){var Ws=Object.keys(this.tokens.links);if(Ws.length>0)for(;null!=(no=this.tokenizer.rules.inline.reflinkSearch.exec(ho));)Ws.includes(no[0].slice(no[0].lastIndexOf("[")+1,-1))&&(ho=ho.slice(0,no.index)+"["+hm("a",no[0].length-2)+"]"+ho.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(no=this.tokenizer.rules.inline.blockSkip.exec(ho));)ho=ho.slice(0,no.index)+"["+hm("a",no[0].length-2)+"]"+ho.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(no=this.tokenizer.rules.inline.escapedEmSt.exec(ho));)ho=ho.slice(0,no.index)+"++"+ho.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Pt;)if(Ho||(zo=""),Ho=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(_o){return!!(mn=_o.call({lexer:Sn},Pt,Ut))&&(Pt=Pt.substring(mn.raw.length),Ut.push(mn),!0)}))){if(mn=this.tokenizer.escape(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.tag(Pt)){Pt=Pt.substring(mn.raw.length),(si=Ut[Ut.length-1])&&"text"===mn.type&&"text"===si.type?(si.raw+=mn.raw,si.text+=mn.text):Ut.push(mn);continue}if(mn=this.tokenizer.link(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.reflink(Pt,this.tokens.links)){Pt=Pt.substring(mn.raw.length),(si=Ut[Ut.length-1])&&"text"===mn.type&&"text"===si.type?(si.raw+=mn.raw,si.text+=mn.text):Ut.push(mn);continue}if(mn=this.tokenizer.emStrong(Pt,ho,zo)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.codespan(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.br(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.del(Pt)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mn=this.tokenizer.autolink(Pt,Bv)){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(!this.state.inLink&&(mn=this.tokenizer.url(Pt,Bv))){Pt=Pt.substring(mn.raw.length),Ut.push(mn);continue}if(mi=Pt,this.options.extensions&&this.options.extensions.startInline&&function(){var _o=1/0,yr=Pt.slice(1),cr=void 0;Sn.options.extensions.startInline.forEach(function(sc){"number"==typeof(cr=sc.call({lexer:this},yr))&&cr>=0&&(_o=Math.min(_o,cr))}),_o<1/0&&_o>=0&&(mi=Pt.substring(0,_o+1))}(),mn=this.tokenizer.inlineText(mi,Ea)){Pt=Pt.substring(mn.raw.length),"_"!==mn.raw.slice(-1)&&(zo=mn.raw.slice(-1)),Ho=!0,(si=Ut[Ut.length-1])&&"text"===si.type?(si.raw+=mn.raw,si.text+=mn.text):Ut.push(mn);continue}if(Pt){var gs="Infinite loop on byte: "+Pt.charCodeAt(0);if(this.options.silent){console.error(gs);break}throw new Error(gs)}}return Ut},function n(ti,Bn,zn){Bn&&t(ti.prototype,Bn),zn&&t(ti,zn),Object.defineProperty(ti,"prototype",{writable:!1})}(ti,null,[{key:"rules",get:function(){return{block:mo,inline:po}}}]),ti}(),Bf=function(){function ti(zn){this.options=zn||e.defaults}var Bn=ti.prototype;return Bn.code=function(Pt,Ut,Sn){var mn=(Ut||"").match(/\S*/)[0];if(this.options.highlight){var si=this.options.highlight(Pt,mn);null!=si&&si!==Pt&&(Sn=!0,Pt=si)}return Pt=Pt.replace(/\n$/,"")+"\n",mn?'<pre><code class="'+this.options.langPrefix+dn(mn,!0)+'">'+(Sn?Pt:dn(Pt,!0))+"</code></pre>\n":"<pre><code>"+(Sn?Pt:dn(Pt,!0))+"</code></pre>\n"},Bn.blockquote=function(Pt){return"<blockquote>\n"+Pt+"</blockquote>\n"},Bn.html=function(Pt){return Pt},Bn.heading=function(Pt,Ut,Sn,mn){return this.options.headerIds?"<h"+Ut+' id="'+this.options.headerPrefix+mn.slug(Sn)+'">'+Pt+"</h"+Ut+">\n":"<h"+Ut+">"+Pt+"</h"+Ut+">\n"},Bn.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Bn.list=function(Pt,Ut,Sn){var mn=Ut?"ol":"ul";return"<"+mn+(Ut&&1!==Sn?' start="'+Sn+'"':"")+">\n"+Pt+"</"+mn+">\n"},Bn.listitem=function(Pt){return"<li>"+Pt+"</li>\n"},Bn.checkbox=function(Pt){return"<input "+(Pt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Bn.paragraph=function(Pt){return"<p>"+Pt+"</p>\n"},Bn.table=function(Pt,Ut){return Ut&&(Ut="<tbody>"+Ut+"</tbody>"),"<table>\n<thead>\n"+Pt+"</thead>\n"+Ut+"</table>\n"},Bn.tablerow=function(Pt){return"<tr>\n"+Pt+"</tr>\n"},Bn.tablecell=function(Pt,Ut){var Sn=Ut.header?"th":"td";return(Ut.align?"<"+Sn+' align="'+Ut.align+'">':"<"+Sn+">")+Pt+"</"+Sn+">\n"},Bn.strong=function(Pt){return"<strong>"+Pt+"</strong>"},Bn.em=function(Pt){return"<em>"+Pt+"</em>"},Bn.codespan=function(Pt){return"<code>"+Pt+"</code>"},Bn.br=function(){return this.options.xhtml?"<br/>":"<br>"},Bn.del=function(Pt){return"<del>"+Pt+"</del>"},Bn.link=function(Pt,Ut,Sn){if(null===(Pt=Eo(this.options.sanitize,this.options.baseUrl,Pt)))return Sn;var mn='<a href="'+dn(Pt)+'"';return Ut&&(mn+=' title="'+Ut+'"'),mn+">"+Sn+"</a>"},Bn.image=function(Pt,Ut,Sn){if(null===(Pt=Eo(this.options.sanitize,this.options.baseUrl,Pt)))return Sn;var mn='<img src="'+Pt+'" alt="'+Sn+'"';return Ut&&(mn+=' title="'+Ut+'"'),mn+(this.options.xhtml?"/>":">")},Bn.text=function(Pt){return Pt},ti}(),u_=function(){function ti(){}var Bn=ti.prototype;return Bn.strong=function(Pt){return Pt},Bn.em=function(Pt){return Pt},Bn.codespan=function(Pt){return Pt},Bn.del=function(Pt){return Pt},Bn.html=function(Pt){return Pt},Bn.text=function(Pt){return Pt},Bn.link=function(Pt,Ut,Sn){return""+Sn},Bn.image=function(Pt,Ut,Sn){return""+Sn},Bn.br=function(){return""},ti}(),fm=function(){function ti(){this.seen={}}var Bn=ti.prototype;return Bn.serialize=function(Pt){return Pt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Bn.getNextSafeSlug=function(Pt,Ut){var Sn=Pt,mn=0;if(this.seen.hasOwnProperty(Sn)){mn=this.seen[Pt];do{Sn=Pt+"-"+ ++mn}while(this.seen.hasOwnProperty(Sn))}return Ut||(this.seen[Pt]=mn,this.seen[Sn]=0),Sn},Bn.slug=function(Pt,Ut){void 0===Ut&&(Ut={});var Sn=this.serialize(Pt);return this.getNextSafeSlug(Sn,Ut.dryrun)},ti}(),nu=function(){function ti(zn){this.options=zn||e.defaults,this.options.renderer=this.options.renderer||new Bf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new u_,this.slugger=new fm}ti.parse=function(Pt,Ut){return new ti(Ut).parse(Pt)},ti.parseInline=function(Pt,Ut){return new ti(Ut).parseInline(Pt)};var Bn=ti.prototype;return Bn.parse=function(Pt,Ut){void 0===Ut&&(Ut=!0);var mn,si,mi,ho,no,Ho,zo,Ws,gs,_o,yr,cr,sc,sr,Zr,gm,Ol,ud,Hf,Sn="",Gu=Pt.length;for(mn=0;mn<Gu;mn++)if(_o=Pt[mn],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_o.type]&&(!1!==(Hf=this.options.extensions.renderers[_o.type].call({parser:this},_o))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_o.type)))Sn+=Hf||"";else switch(_o.type){case"space":continue;case"hr":Sn+=this.renderer.hr();continue;case"heading":Sn+=this.renderer.heading(this.parseInline(_o.tokens),_o.depth,On(this.parseInline(_o.tokens,this.textRenderer)),this.slugger);continue;case"code":Sn+=this.renderer.code(_o.text,_o.lang,_o.escaped);continue;case"table":for(Ws="",zo="",ho=_o.header.length,si=0;si<ho;si++)zo+=this.renderer.tablecell(this.parseInline(_o.header[si].tokens),{header:!0,align:_o.align[si]});for(Ws+=this.renderer.tablerow(zo),gs="",ho=_o.rows.length,si=0;si<ho;si++){for(zo="",no=(Ho=_o.rows[si]).length,mi=0;mi<no;mi++)zo+=this.renderer.tablecell(this.parseInline(Ho[mi].tokens),{header:!1,align:_o.align[mi]});gs+=this.renderer.tablerow(zo)}Sn+=this.renderer.table(Ws,gs);continue;case"blockquote":gs=this.parse(_o.tokens),Sn+=this.renderer.blockquote(gs);continue;case"list":for(yr=_o.ordered,cr=_o.start,sc=_o.loose,ho=_o.items.length,gs="",si=0;si<ho;si++)gm=(Zr=_o.items[si]).checked,Ol=Zr.task,sr="",Zr.task&&(ud=this.renderer.checkbox(gm),sc?Zr.tokens.length>0&&"paragraph"===Zr.tokens[0].type?(Zr.tokens[0].text=ud+" "+Zr.tokens[0].text,Zr.tokens[0].tokens&&Zr.tokens[0].tokens.length>0&&"text"===Zr.tokens[0].tokens[0].type&&(Zr.tokens[0].tokens[0].text=ud+" "+Zr.tokens[0].tokens[0].text)):Zr.tokens.unshift({type:"text",text:ud}):sr+=ud),sr+=this.parse(Zr.tokens,sc),gs+=this.renderer.listitem(sr,Ol,gm);Sn+=this.renderer.list(gs,yr,cr);continue;case"html":Sn+=this.renderer.html(_o.text);continue;case"paragraph":Sn+=this.renderer.paragraph(this.parseInline(_o.tokens));continue;case"text":for(gs=_o.tokens?this.parseInline(_o.tokens):_o.text;mn+1<Gu&&"text"===Pt[mn+1].type;)gs+="\n"+((_o=Pt[++mn]).tokens?this.parseInline(_o.tokens):_o.text);Sn+=Ut?this.renderer.paragraph(gs):gs;continue;default:var g_='Token with "'+_o.type+'" type was not found.';if(this.options.silent)return void console.error(g_);throw new Error(g_)}return Sn},Bn.parseInline=function(Pt,Ut){Ut=Ut||this.renderer;var mn,si,mi,Sn="",ho=Pt.length;for(mn=0;mn<ho;mn++)if(si=Pt[mn],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[si.type]&&(!1!==(mi=this.options.extensions.renderers[si.type].call({parser:this},si))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(si.type)))Sn+=mi||"";else switch(si.type){case"escape":case"text":Sn+=Ut.text(si.text);break;case"html":Sn+=Ut.html(si.text);break;case"link":Sn+=Ut.link(si.href,si.title,this.parseInline(si.tokens,Ut));break;case"image":Sn+=Ut.image(si.href,si.title,si.text);break;case"strong":Sn+=Ut.strong(this.parseInline(si.tokens,Ut));break;case"em":Sn+=Ut.em(this.parseInline(si.tokens,Ut));break;case"codespan":Sn+=Ut.codespan(si.text);break;case"br":Sn+=Ut.br();break;case"del":Sn+=Ut.del(this.parseInline(si.tokens,Ut));break;default:var no='Token with "'+si.type+'" type was not found.';if(this.options.silent)return void console.error(no);throw new Error(no)}return Sn},ti}();function Fo(ti,Bn,zn){if(null==ti)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof ti)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ti)+", string expected");if("function"==typeof Bn&&(zn=Bn,Bn=null),um(Bn=ja({},Fo.defaults,Bn||{})),zn){var Ut,Pt=Bn.highlight;try{Ut=dd.lex(ti,Bn)}catch(mi){return zn(mi)}var Sn=function(ho){var no;if(!ho)try{Bn.walkTokens&&Fo.walkTokens(Ut,Bn.walkTokens),no=nu.parse(Ut,Bn)}catch(Ho){ho=Ho}return Bn.highlight=Pt,ho?zn(ho):zn(null,no)};if(!Pt||Pt.length<3||(delete Bn.highlight,!Ut.length))return Sn();var mn=0;return Fo.walkTokens(Ut,function(mi){"code"===mi.type&&(mn++,setTimeout(function(){Pt(mi.text,mi.lang,function(ho,no){if(ho)return Sn(ho);null!=no&&no!==mi.text&&(mi.text=no,mi.escaped=!0),0==--mn&&Sn()})},0))}),void(0===mn&&Sn())}try{var si=dd.lex(ti,Bn);return Bn.walkTokens&&Fo.walkTokens(si,Bn.walkTokens),nu.parse(si,Bn)}catch(mi){if(mi.message+="\nPlease report this to https://github.com/markedjs/marked.",Bn.silent)return"<p>An error occurred:</p><pre>"+dn(mi.message+"",!0)+"</pre>";throw mi}}Fo.options=Fo.setOptions=function(ti){return ja(Fo.defaults,ti),function q(ti){e.defaults=ti}(Fo.defaults),Fo},Fo.getDefaults=L,Fo.defaults=e.defaults,Fo.use=function(){for(var ti=arguments.length,Bn=new Array(ti),zn=0;zn<ti;zn++)Bn[zn]=arguments[zn];var Sn,Pt=ja.apply(void 0,[{}].concat(Bn)),Ut=Fo.defaults.extensions||{renderers:{},childTokens:{}};Bn.forEach(function(mn){if(mn.extensions&&(Sn=!0,mn.extensions.forEach(function(mi){if(!mi.name)throw new Error("extension name required");if(mi.renderer){var ho=Ut.renderers?Ut.renderers[mi.name]:null;Ut.renderers[mi.name]=ho?function(){for(var no=arguments.length,Ho=new Array(no),zo=0;zo<no;zo++)Ho[zo]=arguments[zo];var Ws=mi.renderer.apply(this,Ho);return!1===Ws&&(Ws=ho.apply(this,Ho)),Ws}:mi.renderer}if(mi.tokenizer){if(!mi.level||"block"!==mi.level&&"inline"!==mi.level)throw new Error("extension level must be 'block' or 'inline'");Ut[mi.level]?Ut[mi.level].unshift(mi.tokenizer):Ut[mi.level]=[mi.tokenizer],mi.start&&("block"===mi.level?Ut.startBlock?Ut.startBlock.push(mi.start):Ut.startBlock=[mi.start]:"inline"===mi.level&&(Ut.startInline?Ut.startInline.push(mi.start):Ut.startInline=[mi.start]))}mi.childTokens&&(Ut.childTokens[mi.name]=mi.childTokens)})),mn.renderer&&function(){var mi=Fo.defaults.renderer||new Bf,ho=function(zo){var Ws=mi[zo];mi[zo]=function(){for(var gs=arguments.length,_o=new Array(gs),yr=0;yr<gs;yr++)_o[yr]=arguments[yr];var cr=mn.renderer[zo].apply(mi,_o);return!1===cr&&(cr=Ws.apply(mi,_o)),cr}};for(var no in mn.renderer)ho(no);Pt.renderer=mi}(),mn.tokenizer&&function(){var mi=Fo.defaults.tokenizer||new Ff,ho=function(zo){var Ws=mi[zo];mi[zo]=function(){for(var gs=arguments.length,_o=new Array(gs),yr=0;yr<gs;yr++)_o[yr]=arguments[yr];var cr=mn.tokenizer[zo].apply(mi,_o);return!1===cr&&(cr=Ws.apply(mi,_o)),cr}};for(var no in mn.tokenizer)ho(no);Pt.tokenizer=mi}(),mn.walkTokens){var si=Fo.defaults.walkTokens;Pt.walkTokens=function(mi){mn.walkTokens.call(this,mi),si&&si.call(this,mi)}}Sn&&(Pt.extensions=Ut),Fo.setOptions(Pt)})},Fo.walkTokens=function(ti,Bn){for(var Ut,zn=function(){var mn=Ut.value;switch(Bn.call(Fo,mn),mn.type){case"table":for(var mi,si=p(mn.header);!(mi=si()).done;)Fo.walkTokens(mi.value.tokens,Bn);for(var Ho,no=p(mn.rows);!(Ho=no()).done;)for(var gs,Ws=p(Ho.value);!(gs=Ws()).done;)Fo.walkTokens(gs.value.tokens,Bn);break;case"list":Fo.walkTokens(mn.items,Bn);break;default:Fo.defaults.extensions&&Fo.defaults.extensions.childTokens&&Fo.defaults.extensions.childTokens[mn.type]?Fo.defaults.extensions.childTokens[mn.type].forEach(function(yr){Fo.walkTokens(mn[yr],Bn)}):mn.tokens&&Fo.walkTokens(mn.tokens,Bn)}},Pt=p(ti);!(Ut=Pt()).done;)zn()},Fo.parseInline=function(ti,Bn){if(null==ti)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof ti)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ti)+", string expected");um(Bn=ja({},Fo.defaults,Bn||{}));try{var zn=dd.lexInline(ti,Bn);return Bn.walkTokens&&Fo.walkTokens(zn,Bn.walkTokens),nu.parseInline(zn,Bn)}catch(Pt){if(Pt.message+="\nPlease report this to https://github.com/markedjs/marked.",Bn.silent)return"<p>An error occurred:</p><pre>"+dn(Pt.message+"",!0)+"</pre>";throw Pt}},Fo.Parser=nu,Fo.parser=nu.parse,Fo.Renderer=Bf,Fo.TextRenderer=u_,Fo.Lexer=dd,Fo.lexer=dd.lex,Fo.Tokenizer=Ff,Fo.Slugger=fm,Fo.parse=Fo;var Vf=Fo.options,Vv=Fo.setOptions,Wv=Fo.use,Wf=Fo.walkTokens,h_=Fo.parseInline,sy=Fo,f_=nu.parse,ry=dd.lex;e.Lexer=dd,e.Parser=nu,e.Renderer=Bf,e.Slugger=fm,e.TextRenderer=u_,e.Tokenizer=Ff,e.getDefaults=L,e.lexer=ry,e.marked=Fo,e.options=Vf,e.parse=sy,e.parseInline=h_,e.parser=f_,e.setOptions=Vv,e.use=Wv,e.walkTokens=Wf,Object.defineProperty(e,"__esModule",{value:!0})})}();var Wm=Ns||exports,$c=m(3314);function xl(_,e={},t={}){var n;const s=new Xe.SL;let a=!1;const p=s.add(new wi.A),L=(0,ph.az)(e),q=function(On){let li;try{li=(0,$c.Q)(decodeURIComponent(On))}catch(Xn){}return li?(li=(0,Tc.rs)(li,Xn=>{if(_.uris&&_.uris[Xn])return xo.o.revive(_.uris[Xn])}),encodeURIComponent(JSON.stringify(li))):On},ie=function(On,li){let Ki=xo.o.revive(_.uris&&_.uris[On]);return li?On.startsWith(st.lg.data+":")?On:(Ki||(Ki=xo.o.parse(On)),st.Gi.asBrowserUri(Ki).toString(!0)):Ki&&xo.o.parse(On).toString()!==Ki.toString()?(Ki.query&&(Ki=Ki.with({query:q(Ki.query)})),Ki.toString()):On};let te;const ve=new Promise(On=>te=On),tt=new Wm.Renderer;if(tt.image=(On,li,Xn)=>{let Ki=[],Bi=[];return On&&(({href:On,dimensions:Ki}=(0,Rn.v1)(On)),Bi.push(`src="${On}"`)),Xn&&Bi.push(`alt="${Xn}"`),li&&Bi.push(`title="${li}"`),Ki.length&&(Bi=Bi.concat(Ki)),"<img "+Bi.join(" ")+">"},tt.link=(On,li,Xn)=>"string"!=typeof On?"":(On===Xn&&(Xn=(0,Rn.oR)(Xn)),On=ie(On,!1),e.baseUrl&&(/^\w[\w\d+.-]*:/.test(On)||(On=(0,So.i3)(e.baseUrl,On).toString())),li="string"==typeof li?(0,Rn.oR)(li):"",!(On=(0,Rn.oR)(On))||On.match(/^data:|javascript:/i)||On.match(/^command:/i)&&!_.isTrusted||On.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?Xn:`<a data-href="${On=On.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${li||On}">${Xn}</a>`),tt.paragraph=On=>`<p>${On}</p>`,e.codeBlockRenderer&&(tt.code=(On,li)=>{if("string"!=typeof li)return"";const Xn=e.codeBlockRenderer(li,On),Ki=$a.a.nextId();return(0,mt.eP)(Promise.all([Xn,ve]),p.token).then(Bi=>{var Eo;if(!a&&Bi){const us=L.querySelector(`div[data-code="${Ki}"]`);us&&oe.mc(us,Bi[0]),null===(Eo=e.asyncRenderCallback)||void 0===Eo||Eo.call(e)}}).catch(()=>{}),`<div class="code" data-code="${Ki}">${(0,fi.YU)(On)}</div>`}),e.actionHandler){const On=e.actionHandler.disposables.add(new pu.Y(L,"click")),li=e.actionHandler.disposables.add(new pu.Y(L,"auxclick"));e.actionHandler.disposables.add(Ln.ju.any(On.event,li.event)(Xn=>{const Ki=new cs.n(Xn);if(!Ki.leftButton&&!Ki.middleButton)return;let Bi=Ki.target;if("A"===Bi.tagName||(Bi=Bi.parentElement,Bi&&"A"===Bi.tagName))try{const Eo=Bi.dataset.href;Eo&&e.actionHandler.callback(Eo,Ki)}catch(Eo){(0,Ii.dL)(Eo)}finally{Ki.preventDefault()}}))}_.supportHtml||(t.sanitizer=On=>(_.isTrusted?On.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?On:"",t.sanitize=!0,t.silent=!0),t.renderer=tt;let gt=null!==(n=_.value)&&void 0!==n?n:"";gt.length>1e5&&(gt=`${gt.substr(0,1e5)}\u2026`),_.supportThemeIcons&&(gt=(0,_h.f$)(gt));let Vt=Wm.parse(gt,t);_.supportThemeIcons&&(Vt=(0,io.T)(Vt).map(li=>"string"==typeof li?li:li.outerHTML).join(""));const kn=(new DOMParser).parseFromString(vh(_,Vt),"text/html");if(kn.body.querySelectorAll("img").forEach(On=>{if(On.src){let li=ie(On.src,!0);try{const Xn=xo.o.parse(li);e.baseUrl&&Xn.scheme===st.lg.file&&(li=(0,So.i3)(e.baseUrl,li).toString())}catch(Xn){}On.src=li}}),L.innerHTML=vh(_,kn.body.innerHTML),te(),e.asyncRenderCallback)for(const On of L.getElementsByTagName("img")){const li=s.add(oe.nm(On,"load",()=>{li.dispose(),e.asyncRenderCallback()}))}return{element:L,dispose:()=>{a=!0,p.cancel(),s.dispose()}}}function vh(_,e){const{config:t,allowedSchemes:n}=function Hm(_){const e=[st.lg.http,st.lg.https,st.lg.mailto,st.lg.data,st.lg.file,st.lg.vscodeFileResource,st.lg.vscodeRemote,st.lg.vscodeRemoteResource];return _.isTrusted&&e.push(st.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}(_);Vm("uponSanitizeAttribute",(a,p)=>{if("style"!==p.attrName&&"class"!==p.attrName);else{if("SPAN"===a.tagName){if("style"===p.attrName)return void(p.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(p.attrValue));if("class"===p.attrName)return void(p.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(p.attrValue))}p.keepAttr=!1}});const s=document.createElement("a");Vm("afterSanitizeAttributes",a=>{for(const p of["href","src"])a.hasAttribute(p)&&(s.href=a.getAttribute(p),n.includes(s.protocol.replace(/:$/,""))||a.removeAttribute(p))});try{return y_(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{mu("uponSanitizeAttribute"),mu("afterSanitizeAttributes")}}var Ch,oa=m(8661),w_=m(6689),Pa=m(5748),bh=function(_,e){return function(t,n){e(t,n,_)}};let Fa=class WE{constructor(e,t,n){this._options=e,this._languageService=t,this._openerService=n,this._onDidRenderAsync=new Ln.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,n){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const s=new Xe.SL;return{element:s.add(xl(e,Object.assign(Object.assign({},this._getRenderOptions(e,s)),t),n)).element,dispose:()=>s.dispose()}}_getRenderOptions(e,t){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(n,s)=>function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){var a,p,L;let q;n?q=this._languageService.getLanguageIdByLanguageName(n):this._options.editor&&(q=null===(a=this._options.editor.getModel())||void 0===a?void 0:a.getLanguageId()),q||(q=d.bd);const ie=yield(0,w_.C2)(this._languageService,s,q),te=document.createElement("span");if(te.innerHTML=null!==(L=null===(p=WE._ttpTokenizer)||void 0===p?void 0:p.createHTML(ie))&&void 0!==L?L:ie,this._options.editor){const ve=this._options.editor.getOption(44);(0,Pa.N)(te,ve)}else this._options.codeBlockFontFamily&&(te.style.fontFamily=this._options.codeBlockFontFamily);return te}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>this._openerService.open(n,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(Ii.dL),disposables:t}}}};Fa._ttpTokenizer=null===(Ch=window.trustedTypes)||void 0===Ch?void 0:Ch.createPolicy("tokenizeToString",{createHTML:_=>_}),Fa=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([bh(1,Es.O),bh(2,oa.v4)],Fa);class Um{constructor(e,t,n){this.provider=e,this.hover=t,this.ordinal=n}}function _u(_,e,t){const s=Gn.xp.ordered(_).map((a,p)=>function ig(_,e,t,n,s){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){try{const a=yield Promise.resolve(_.provideHover(t,n,s));if(a&&function Jv(_){return void 0!==_.range&&void 0!==_.contents&&_.contents&&_.contents.length>0}(a))return new Um(_,a,e)}catch(a){(0,Ii.Cp)(a)}})}(a,p,_,e,t));return mt.Aq.fromPromises(s).coalesce()}(0,pt.sb)("_executeHoverProvider",(_,e)=>function jm(_,e,t){return _u(_,e,t).map(n=>n.hover).toPromise()}(_,e,wi.T.None));var vu=function(_,e){return function(t,n){e(t,n,_)}};const og=oe.$;class _c{constructor(e,t,n,s){this.owner=e,this.range=t,this.contents=n,this.ordinal=s}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Pd=class{constructor(e,t,n,s){this._editor=e,this._languageService=t,this._openerService=n,this._configurationService=s}createLoadingMessage(e){return new _c(this,e.range,[(new Rn.W5).appendText(ke.N("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),s=e.range.startLineNumber,a=n.getLineMaxColumn(s),p=[];let L=1e3;const q=n.getLineLength(s),ie=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),te=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:ie});"number"==typeof te&&q>=te&&p.push(new _c(this,e.range,[{value:ke.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],L++));for(const ve of t){const tt=ve.range.startLineNumber===s?ve.range.startColumn:1,gt=ve.range.endLineNumber===s?ve.range.endColumn:a,Vt=ve.options.hoverMessage;if(!Vt||(0,Rn.CP)(Vt))continue;const dn=new Ye.e(e.range.startLineNumber,tt,e.range.startLineNumber,gt);p.push(new _c(this,dn,(0,xi._2)(Vt),L++))}return p}computeAsync(e,t,n){if(!this._editor.hasModel()||1!==e.type)return mt.Aq.EMPTY;const s=this._editor.getModel();return Gn.xp.has(s)?_u(s,new An.L(e.range.startLineNumber,e.range.startColumn),n).filter(p=>!(0,Rn.CP)(p.hover.contents)).map(p=>{const L=p.hover.range?Ye.e.lift(p.hover.range):e.range;return new _c(this,L,p.hover.contents,p.ordinal)}):mt.Aq.EMPTY}renderHoverParts(e,t){return Km(e,t,this._editor,this._languageService,this._openerService)}};function Km(_,e,t,n,s){e.sort((p,L)=>p.ordinal-L.ordinal);const a=new Xe.SL;for(const p of e)for(const L of p.contents){if((0,Rn.CP)(L))continue;const q=og("div.hover-row.markdown-hover"),ie=oe.R3(q,og("div.hover-contents")),te=a.add(new Fa({editor:t},n,s));a.add(te.onDidRenderAsync(()=>{ie.className="hover-contents code-hover-contents",_.onContentsChanged()}));const ve=a.add(te.render(L));ie.appendChild(ve.element),_.fragment.appendChild(q)}return a}Pd=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([vu(1,Es.O),vu(2,oa.v4),vu(3,Ds.Ui)],Pd);var D_=m(2945),$m=m(8460),Gm=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},yh=function(_,e){return function(t,n){e(t,n,_)}};class Ym{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let wh=class{constructor(e,t,n){this._markerService=t,this._configService=n,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new Xe.SL,this._markers=[],this._nextIdx=-1,xo.o.isUri(e)?this._resourceFilter=L=>L.toString()===e.toString():e&&(this._resourceFilter=e);const s=this._configService.getValue("problems.sortOrder"),a=(L,q)=>{let ie=(0,fi.qu)(L.resource.toString(),q.resource.toString());return ie="position"===s?Ye.e.compareRangesUsingStarts(L,q)||$i.ZL.compare(L.severity,q.severity):$i.ZL.compare(L.severity,q.severity)||Ye.e.compareRangesUsingStarts(L,q),ie},p=()=>{this._markers=this._markerService.read({resource:xo.o.isUri(e)?e:void 0,severities:$i.ZL.Error|$i.ZL.Warning|$i.ZL.Info}),"function"==typeof e&&(this._markers=this._markers.filter(L=>this._resourceFilter(L.resource))),this._markers.sort(a)};p(),this._dispoables.add(t.onMarkerChanged(L=>{(!this._resourceFilter||L.some(q=>this._resourceFilter(q)))&&(p(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new Ym(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let s=!1,a=this._markers.findIndex(p=>p.resource.toString()===e.uri.toString());a<0&&(a=(0,xi.ry)(this._markers,{resource:e.uri},(p,L)=>(0,fi.qu)(p.resource.toString(),L.resource.toString())),a<0&&(a=~a));for(let p=a;p<this._markers.length;p++){let L=Ye.e.lift(this._markers[p]);if(L.isEmpty()){const q=e.getWordAtPosition(L.getStartPosition());q&&(L=new Ye.e(L.startLineNumber,q.startColumn,L.startLineNumber,q.endColumn))}if(t&&(L.containsPosition(t)||t.isBeforeOrEqual(L.getStartPosition()))){this._nextIdx=p,s=!0;break}if(this._markers[p].resource.toString()!==e.uri.toString())break}s||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(0===this._markers.length)return!1;let s=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),s!==this._nextIdx}find(e,t){let n=this._markers.findIndex(s=>s.resource.toString()===e.toString());if(!(n<0))for(;n<this._markers.length;n++)if(Ye.e.containsPosition(this._markers[n],t))return new Ym(this._markers[n],n+1,this._markers.length)}};wh=Gm([yh(1,$i.lT),yh(2,Ds.Ui)],wh);const Sh=(0,de.yh)("IMarkerNavigationService");let Dh=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new $m.S}getMarkerList(e){for(let t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new wh(e,this._markerService,this._configService)}};Dh=Gm([yh(0,$i.lT),yh(1,Ds.Ui)],Dh),(0,fo.z)(Sh,Dh,!0);var Eh,Ir=m(5836),Gc=(m(9161),m(3570));(function(_){_.className=function e(t){switch(t){case Gc.Z.Ignore:return"severity-ignore "+an.lA.info.classNames;case Gc.Z.Info:return an.lA.info.classNames;case Gc.Z.Warning:return an.lA.warning.classNames;case Gc.Z.Error:return an.lA.error.classNames;default:return""}}})(Eh||(Eh={})),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.JpG);if(t){const a=an.lA.error.cssSelector;e.addRule(`\n\t\t\t.monaco-editor .zone-widget ${a},\n\t\t\t.markers-panel .marker-icon${a},\n\t\t\t.text-search-provider-messages .providerMessage ${a},\n\t\t\t.extensions-viewlet > .extensions ${a} {\n\t\t\t\tcolor: ${t};\n\t\t\t}\n\t\t`)}const n=_.getColor(Ge.BOY);if(n){const a=an.lA.warning.cssSelector;e.addRule(`\n\t\t\t.monaco-editor .zone-widget ${a},\n\t\t\t.markers-panel .marker-icon${a},\n\t\t\t.extensions-viewlet > .extensions ${a},\n\t\t\t.extension-editor ${a},\n\t\t\t.text-search-provider-messages .providerMessage ${a},\n\t\t\t.preferences-editor ${a} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const s=_.getColor(Ge.OLZ);if(s){const a=an.lA.info.cssSelector;e.addRule(`\n\t\t\t.monaco-editor .zone-widget ${a},\n\t\t\t.markers-panel .marker-icon${a},\n\t\t\t.extensions-viewlet > .extensions ${a},\n\t\t\t.text-search-provider-messages .providerMessage ${a},\n\t\t\t.extension-editor ${a} {\n\t\t\t\tcolor: ${s};\n\t\t\t}\n\t\t`)}});var ya=function(_,e){return function(t,n){e(t,n,_)}};class Zm{constructor(e,t,n,s,a){this._openerService=s,this._labelService=a,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Xe.SL,this._editor=t;const p=document.createElement("div");p.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),p.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),p.appendChild(this._relatedBlock),this._disposables.add(oe.mu(this._relatedBlock,"click",L=>{L.preventDefault();const q=this._relatedDiagnostics.get(L.target);q&&n(q)})),this._scrollable=new ah.NB(p,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(L=>{p.style.left=`-${L.scrollLeft}px`,p.style.top=`-${L.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,Xe.B9)(this._disposables)}update(e){const{source:t,message:n,relatedInformation:s,code:a}=e;let p=((null==t?void 0:t.length)||0)+2;a&&(p+="string"==typeof a?a.length:a.value.length);const L=(0,fi.uq)(n);this._lines=L.length,this._longestLineLength=0;for(const tt of L)this._longestLineLength=Math.max(tt.length+p,this._longestLineLength);oe.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let q=this._messageBlock;for(const tt of L)q=document.createElement("div"),q.innerText=tt,""===tt&&(q.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(q);if(t||a){const tt=document.createElement("span");if(tt.classList.add("details"),q.appendChild(tt),t){const gt=document.createElement("span");gt.innerText=t,gt.classList.add("source"),tt.appendChild(gt)}if(a)if("string"==typeof a){const gt=document.createElement("span");gt.innerText=`(${a})`,gt.classList.add("code"),tt.appendChild(gt)}else this._codeLink=oe.$("a.code-link"),this._codeLink.setAttribute("href",`${a.target.toString()}`),this._codeLink.onclick=Vt=>{this._openerService.open(a.target,{allowCommands:!0}),Vt.preventDefault(),Vt.stopPropagation()},oe.R3(this._codeLink,oe.$("span")).innerText=a.value,tt.appendChild(this._codeLink)}if(oe.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,xi.Of)(s)){const tt=this._relatedBlock.appendChild(document.createElement("div"));tt.style.paddingTop=`${Math.floor(.66*this._editor.getOption(59))}px`,this._lines+=1;for(const gt of s){let Vt=document.createElement("div"),dn=document.createElement("a");dn.classList.add("filename"),dn.innerText=`${Oe(gt.resource)}(${gt.startLineNumber}, ${gt.startColumn}): `,dn.title=this._labelService.getUriLabel(gt.resource),this._relatedDiagnostics.set(dn,gt);let kn=document.createElement("span");kn.innerText=gt.message,Vt.appendChild(dn),Vt.appendChild(kn),this._lines+=1,tt.appendChild(Vt)}}const ie=this._editor.getOption(44),te=Math.ceil(ie.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:te,scrollHeight:ie.lineHeight*this._lines})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case $i.ZL.Error:t=ke.N("Error","Error");break;case $i.ZL.Warning:t=ke.N("Warning","Warning");break;case $i.ZL.Info:t=ke.N("Info","Info");break;case $i.ZL.Hint:t=ke.N("Hint","Hint")}let n=ke.N("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const s=this._editor.getModel();return s&&e.startLineNumber<=s.getLineCount()&&e.startLineNumber>=1&&(n=`${s.getLineContent(e.startLineNumber)}, ${n}`),n}}let Yc=class HE extends Ia{constructor(e,t,n,s,a,p,L){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},a),this._themeService=t,this._openerService=n,this._menuService=s,this._contextKeyService=p,this._labelService=L,this._callOnDispose=new Xe.SL,this._onDidSelectRelatedInformation=new Ln.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=$i.ZL.Warning,this._backgroundColor=bi.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(Th);let t=xh,n=Qm;this._severity===$i.ZL.Warning?(t=Ih,n=lg):this._severity===$i.ZL.Info&&(t=Mh,n=Nh);const s=e.getColor(t),a=e.getColor(n);this.style({arrowColor:s,frameColor:s,headerBackgroundColor:a,primaryHeadingColor:e.getColor(Za),secondaryHeadingColor:e.getColor(yd)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(s=>this.editor.focus()));const t=[],n=this._menuService.createMenu(HE.TitleMenu,this._contextKeyService);(function bd(_,e,t,n,s,a,p){const L=_.getActions(e);return function Cd(_,e,t,n=(L=>"navigation"===L),s=Number.MAX_SAFE_INTEGER,a=(()=>!1),p=!1){let L,q;Array.isArray(e)?(L=e,q=e):(L=e.primary,q=e.secondary);const ie=new Set;for(const[te,ve]of _){let tt;n(te)?(tt=L,tt.length>0&&p&&tt.push(new Qe.Z0)):(tt=q,tt.length>0&&tt.push(new Qe.Z0));for(let gt of ve){t&&(gt=gt instanceof Mt.U8&&gt.alt?gt.alt:gt);const Vt=tt.push(gt);gt instanceof Qe.wY&&ie.add({group:te,action:gt,index:Vt-1})}}for(const{group:te,action:ve,index:tt}of ie){const gt=n(te)?L:q,Vt=ve.actions;(Vt.length<=1||gt.length+Vt.length-2<=s)&&a(ve,te,gt.length)&&gt.splice(tt,1,...Vt)}if(L!==q&&L.length>s){const te=L.splice(s,L.length-s);q.unshift(...te,new Qe.Z0)}}(L,t,!1,"string"==typeof n?ie=>ie===n:n,s,a,p),function Xu(_){const e=new Xe.SL;for(const[,t]of _)for(const n of t)e.add(n);return e}(L)})(n,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=oe.R3(e,oe.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new Zm(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let s=Ye.e.lift(e);const a=this.editor.getPosition();let p=a&&s.containsPosition(a)?a:s.getStartPosition();super.show(p,this.computeRequiredHeight());const L=this.editor.getModel();if(L){const q=n>1?ke.N("problems","{0} of {1} problems",t,n):ke.N("change","{0} of {1} problem",t,n);this.setTitle((0,So.EZ)(L.uri),q)}this._icon.className=`codicon ${Eh.className($i.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(p,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Yc.TitleMenu=new Mt.eH("gotoErrorTitleMenu"),Yc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([ya(1,ln.XE),ya(2,oa.v4),ya(3,Mt.co),ya(4,de.TG),ya(5,ft.i6),ya(6,Dt.e)],Yc);let Lh=(0,Ge.kwl)(Ge.lXJ,Ge.b6y),bu=(0,Ge.kwl)(Ge.uoC,Ge.pW3),ag=(0,Ge.kwl)(Ge.c63,Ge.T83);const xh=(0,Ge.P6G)("editorMarkerNavigationError.background",{dark:Lh,light:Lh,hc:Ge.lRK},ke.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),Qm=(0,Ge.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,Ge.ZnX)(xh,.1),light:(0,Ge.ZnX)(xh,.1),hc:null},ke.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Ih=(0,Ge.P6G)("editorMarkerNavigationWarning.background",{dark:bu,light:bu,hc:Ge.lRK},ke.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),lg=(0,Ge.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,Ge.ZnX)(Ih,.1),light:(0,Ge.ZnX)(Ih,.1),hc:"#0C141F"},ke.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Mh=(0,Ge.P6G)("editorMarkerNavigationInfo.background",{dark:ag,light:ag,hc:Ge.lRK},ke.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Nh=(0,Ge.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,Ge.ZnX)(Mh,.1),light:(0,Ge.ZnX)(Mh,.1),hc:null},ke.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Th=(0,Ge.P6G)("editorMarkerNavigation.background",{dark:Ge.cvW,light:Ge.cvW,hc:Ge.cvW},ke.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Bd=function(_,e){return function(t,n){e(t,n,_)}},cg=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let pl=class cy{constructor(e,t,n,s,a){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=s,this._instantiationService=a,this._sessionDispoables=new Xe.SL,this._editor=e,this._widgetVisible=dg.bindTo(this._contextKeyService)}static get(e){return e.getContribution(cy.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Yc,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(n=>{var s,a,p;(!(null===(s=this._model)||void 0===s?void 0:s.selected)||!Ye.e.containsPosition(null===(a=this._model)||void 0===a?void 0:a.selected.marker,n.position))&&(null===(p=this._model)||void 0===p||p.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(n=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:Ye.e.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new An.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var n,s;return cg(this,void 0,void 0,function*(){if(this._editor.hasModel()){const a=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(a.move(e,this._editor.getModel(),this._editor.getPosition()),!a.selected)return;if(a.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const p=yield this._editorService.openCodeEditor({resource:a.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:a.selected.marker}},this._editor);p&&(null===(n=cy.get(p))||void 0===n||n.close(),null===(s=cy.get(p))||void 0===s||s.nagivate(e,t))}else this._widget.showAtMarker(a.selected.marker,a.selected.index,a.selected.total)}})}};pl.ID="editor.contrib.markerController",pl=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Bd(1,Sh),Bd(2,ft.i6),Bd(3,vi.$),Bd(4,de.TG)],pl);class vc extends pt.R6{constructor(e,t,n){super(n),this._next=e,this._multiFile=t}run(e,t){var n;return cg(this,void 0,void 0,function*(){t.hasModel()&&(null===(n=pl.get(t))||void 0===n||n.nagivate(this._next,this._multiFile))})}}class Il extends vc{constructor(){super(!0,!1,{id:Il.ID,label:Il.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:578,weight:100},menuOpts:{menuId:Yc.TitleMenu,title:Il.LABEL,icon:(0,Ir.q5)("marker-navigation-next",an.lA.arrowDown,ke.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Il.ID="editor.action.marker.next",Il.LABEL=ke.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Yl extends vc{constructor(){super(!1,!1,{id:Yl.ID,label:Yl.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:1602,weight:100},menuOpts:{menuId:Yc.TitleMenu,title:Il.LABEL,icon:(0,Ir.q5)("marker-navigation-previous",an.lA.arrowUp,ke.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Yl.ID="editor.action.marker.prev",Yl.LABEL=ke.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,pt._K)(pl.ID,pl),(0,pt.Qr)(Il),(0,pt.Qr)(Yl),(0,pt.Qr)(class E_ extends vc{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:ke.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:66,weight:100},menuOpts:{menuId:Mt.eH.MenubarGoMenu,title:ke.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,pt.Qr)(class L_ extends vc{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:ke.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:1090,weight:100},menuOpts:{menuId:Mt.eH.MenubarGoMenu,title:ke.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const dg=new ft.uy("markersNavigationVisible",!1),ug=pt._l.bindToContribution(pl.get);(0,pt.fK)(new ug({id:"closeMarkersNavigation",precondition:dg,handler:_=>_.close(),kbOpts:{weight:150,kbExpr:dt.u.focus,primary:9,secondary:[1033]}}));var x_=function(_,e){return function(t,n){e(t,n,_)}};const Ba=oe.$;class I_{constructor(e,t,n){this.owner=e,this.range=t,this.marker=n}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const hg={type:1,filter:{include:Xi.QuickFix}};let fg=class{constructor(e,t,n){this._editor=e,this._markerDecorationsService=t,this._openerService=n,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),s=e.range.startLineNumber,a=n.getLineMaxColumn(s),p=[];for(const L of t){const q=L.range.startLineNumber===s?L.range.startColumn:1,ie=L.range.endLineNumber===s?L.range.endColumn:a,te=this._markerDecorationsService.getMarker(n.uri,L);if(!te)continue;const ve=new Ye.e(e.range.startLineNumber,q,e.range.startLineNumber,ie);p.push(new I_(this,ve,te))}return p}renderHoverParts(e,t){if(!t.length)return Xe.JT.None;const n=new Xe.SL;t.forEach(a=>e.fragment.appendChild(this.renderMarkerHover(a,n)));const s=1===t.length?t[0]:t.sort((a,p)=>$i.ZL.compare(a.marker.severity,p.marker.severity))[0];return this.renderMarkerStatusbar(e,s,n),n}renderMarkerHover(e,t){const n=Ba("div.hover-row"),s=oe.R3(n,Ba("div.marker.hover-contents")),{source:a,message:p,code:L,relatedInformation:q}=e.marker;this._editor.applyFontInfo(s);const ie=oe.R3(s,Ba("span"));if(ie.style.whiteSpace="pre-wrap",ie.innerText=p,a||L)if(L&&"string"!=typeof L){const te=Ba("span");a&&(oe.R3(te,Ba("span")).innerText=a);const ve=oe.R3(te,Ba("a.code-link"));ve.setAttribute("href",L.target.toString()),t.add(oe.nm(ve,"click",Vt=>{this._openerService.open(L.target,{allowCommands:!0}),Vt.preventDefault(),Vt.stopPropagation()})),oe.R3(ve,Ba("span")).innerText=L.value;const gt=oe.R3(s,te);gt.style.opacity="0.6",gt.style.paddingLeft="6px"}else{const te=oe.R3(s,Ba("span"));te.style.opacity="0.6",te.style.paddingLeft="6px",te.innerText=a&&L?`${a}(${L})`:a||`(${L})`}if((0,xi.Of)(q))for(const{message:te,resource:ve,startLineNumber:tt,startColumn:gt}of q){const Vt=oe.R3(s,Ba("div"));Vt.style.marginTop="8px";const dn=oe.R3(Vt,Ba("a"));dn.innerText=`${(0,So.EZ)(ve)}(${tt}, ${gt}): `,dn.style.cursor="pointer",t.add(oe.nm(dn,"click",On=>{On.stopPropagation(),On.preventDefault(),this._openerService&&this._openerService.open(ve,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:tt,startColumn:gt}}}).catch(Ii.dL)}));const kn=oe.R3(Vt,Ba("span"));kn.innerText=te,this._editor.applyFontInfo(kn)}return n}renderMarkerStatusbar(e,t,n){if((t.marker.severity===$i.ZL.Error||t.marker.severity===$i.ZL.Warning||t.marker.severity===$i.ZL.Info)&&e.statusBar.addAction({label:ke.N("view problem","View Problem"),commandId:Il.ID,run:()=>{var s;e.hide(),null===(s=pl.get(this._editor))||void 0===s||s.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(81)){const s=e.statusBar.append(Ba("div"));this.recentMarkerCodeActionsInfo&&($i.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===$i.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=ke.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const a=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Xe.JT.None:n.add((0,mt.Vg)(()=>s.textContent=ke.N("checkingForQuickFixes","Checking for quick fixes..."),200));s.textContent||(s.textContent=String.fromCharCode(160));const p=this.getCodeActions(t.marker);n.add((0,Xe.OF)(()=>p.cancel())),p.then(L=>{if(a.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:L.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return L.dispose(),void(s.textContent=ke.N("noQuickFixes","No quick fixes available"));s.style.display="none";let q=!1;n.add((0,Xe.OF)(()=>{q||L.dispose()})),e.statusBar.addAction({label:ke.N("quick fixes","Quick Fix..."),commandId:er.Id,run:ie=>{q=!0;const te=kt.get(this._editor),ve=oe.i(ie);e.hide(),null==te||te.showCodeActions(hg,L,{x:ve.left+6,y:ve.top+ve.height+6})}})},Ii.dL)}}getCodeActions(e){return(0,mt.PG)(t=>Bs(this._editor.getModel(),new Ye.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),hg,Io.Ex.None,t))}};fg=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([x_(1,D_.i),x_(2,oa.v4)],fg),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.url);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);const n=_.getColor(Ge.sgC);n&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});var M_=m(4826);const tl="editor.action.inlineSuggest.commit";var tr=m(2033);class gg{constructor(e,t,n=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=n}renderForScreenReader(e){return 0===this.parts.length?"":function T_(_,e){const t=new N_(_),n=e.map(s=>{const a=Ye.e.lift(s.range);return{startOffset:t.getOffset(a.getStartPosition()),endOffset:t.getOffset(a.getEndPosition()),text:s.text}});n.sort((s,a)=>a.startOffset-s.startOffset);for(const s of n)_=_.substring(0,s.startOffset)+s.text+_.substring(s.endOffset);return _}(e.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(a=>({range:{startLineNumber:1,endLineNumber:1,startColumn:a.column,endColumn:a.column},text:a.lines.join("\n")}))).substring(this.parts[0].column-1)}}class N_{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}class Jm{constructor(e,t,n){this.column=e,this.lines=t,this.preview=n}}class qm extends Xe.JT{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new Ln.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(106)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var ep=m(4171);function tp(_,e,t,n,s=0){if(_.range.startLineNumber!==_.range.endLineNumber)return;const a=e.getLineContent(_.range.startLineNumber),p=fi.V8(a).length;if(_.range.startColumn-1<=p){const gt=fi.V8(_.text).length,Vt=a.substring(_.range.startColumn-1,p),dn=Ye.e.fromPositions(_.range.getStartPosition().delta(0,Vt.length),_.range.getEndPosition()),kn=_.text.startsWith(Vt)?_.text.substring(Vt.length):_.text.substring(gt);_={range:dn,text:kn,command:_.command}}const q=e.getValueInRange(_.range),ie=function Qo(_,e){if((null==Ml?void 0:Ml.originalValue)===_&&(null==Ml?void 0:Ml.newValue)===e)return null==Ml?void 0:Ml.changes;{const t=function np(_,e){if(_.length>5e3||e.length>5e3)return;function t(q){let ie=0;for(let te=0,ve=q.length;te<ve;te++){const tt=q.charCodeAt(te);tt>ie&&(ie=tt)}return ie}const n=Math.max(t(_),t(e));function s(q){if(q<0)throw new Error("unexpected");return n+q+1}function a(q){let ie=0,te=0;const ve=new Int32Array(q.length);for(let tt=0,gt=q.length;tt<gt;tt++){const Vt=100*te+ie;"("===q[tt]?(ve[tt]=s(2*Vt),ie++):")"===q[tt]?(ve[tt]=s(2*Vt+1),1===ie&&te++,ie=Math.max(ie-1,0)):ve[tt]=q.charCodeAt(tt)}return ve}const p=a(_),L=a(e);return new ep.Hs({getElements:()=>p},{getElements:()=>L}).ComputeDiff(!1).changes}(_,e);return Ml={originalValue:_,newValue:e,changes:t},t}}(q,_.text);if(!ie)return;const te=_.range.startLineNumber,ve=new Array;if("prefix"===t){const gt=ie.filter(Vt=>0===Vt.originalLength);if(gt.length>1||1===gt.length&&gt[0].originalStart!==q.length)return}const tt=_.text.length-s;for(const gt of ie){const Vt=_.range.startColumn+gt.originalStart+gt.originalLength;if("subwordSmart"===t&&n&&n.lineNumber===_.range.startLineNumber&&Vt<n.column||gt.originalLength>0)return;if(0===gt.modifiedLength)continue;const dn=gt.modifiedStart+gt.modifiedLength,kn=Math.max(gt.modifiedStart,Math.min(dn,tt)),On=_.text.substring(gt.modifiedStart,kn),li=_.text.substring(kn,Math.max(gt.modifiedStart,dn));if(On.length>0){const Xn=fi.uq(On);ve.push(new Jm(Vt,Xn,!1))}if(li.length>0){const Xn=fi.uq(li);ve.push(new Jm(Vt,Xn,!0))}}return new gg(te,ve,0)}let Ml;var ip=m(3087),Zl=m(9329),Ah=m(4778),_l=m(830),op=m(9462);class Mr{constructor(e){this.lines=e}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}getLineTokens(e){return this.lines[e-1]}}var kh=function(_,e){return function(t,n){e(t,n,_)}},Nl=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let Cu=class extends Xe.JT{constructor(e,t,n,s){super(),this.editor=e,this.cache=t,this.commandService=n,this.languageConfigurationService=s,this.onDidChangeEmitter=new Ln.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Xe.XK),this.active=!1,this.disposed=!1,this._register(n.onDidExecuteCommand(a=>{new Set([In.wk.Tab.id,In.wk.DeleteLeft.id,In.wk.DeleteRight.id,tl,"acceptSelectedSuggestion"]).has(a.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(a=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(a=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,Xe.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(Gn.bw.Automatic)}trigger(e){this.completionSession.value?e===Gn.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new qv(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Nl(this,void 0,void 0,function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t})}};Cu=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([kh(2,oo.Hy),kh(3,Us.c_)],Cu);class qv extends qm{constructor(e,t,n,s,a,p,L){let q;super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=s,this.cache=a,this.initialTriggerKind=p,this.languageConfigurationService=L,this.minReservedLineCount=0,this.updateOperation=this._register(new Xe.XK),this.updateSoon=this._register(new mt.pY(()=>{let ie=this.initialTriggerKind;return this.initialTriggerKind=Gn.bw.Automatic,this.update(ie)},50)),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{const ie=this.currentCompletion;if(ie&&ie.sourceInlineCompletion!==q){q=ie.sourceInlineCompletion;const te=ie.sourceProvider;te.handleItemDidShow&&te.handleItemDidShow(ie.sourceInlineCompletions,q)}})),this._register((0,Xe.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(ie=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(ie=>{this.scheduleAutomaticUpdate()})),this._register(Gn.zu.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return Nl(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var e;return Nl(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return Nl(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===Gn.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(Gn.bw.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==Gn.bw.Explicit&&(yield this.update(Gn.bw.Explicit))})}hasMultipleInlineCompletions(){var e;return Nl(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1})}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(55).mode;return e?tp(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return Nl(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=(0,mt.PG)(a=>Nl(this,void 0,void 0,function*(){let p;try{p=yield Ph(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},a,this.languageConfigurationService)}catch(L){return void(0,Ii.dL)(L)}a.isCancellationRequested||(this.cache.setValue(this.editor,p,e),this.onDidChangeEmitter.fire())})),s=new pg(n,e);this.updateOperation.value=s,yield n,this.updateOperation.value===s&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[tr.h.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null==t||t.dispose()}).then(void 0,Ii.Cp):null==t||t.dispose(),this.onDidChangeEmitter.fire()}}class pg{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class eb extends Xe.JT{constructor(e,t,n,s){super(),this.triggerKind=s;const a=e.deltaDecorations([],t.items.map(p=>({range:p.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,Xe.OF)(()=>{e.deltaDecorations(a,[])})),this.completions=t.items.map((p,L)=>new Rh(p,a[L])),this._register(e.onDidChangeModelContent(()=>{let p=!1;const L=e.getModel();for(const q of this.completions){const ie=L.getDecorationRange(q.decorationId);ie?q.synchronizedRange.equalsRange(ie)||(p=!0,q.synchronizedRange=ie):(0,Ii.dL)(new Error("Decoration has no range"))}p&&n()})),this._register(t)}}class Rh{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function Ph(_,e,t,n=wi.T.None,s){return Nl(this,void 0,void 0,function*(){const a=function Oh(_,e){const t=e.getWordAtPosition(_),n=e.getLineMaxColumn(_.lineNumber);return t?new Ye.e(_.lineNumber,t.startColumn,_.lineNumber,n):Ye.e.fromPositions(_,_.with(void 0,n))}(_,e),p=Gn.zu.all(e),L=yield Promise.all(p.map(ie=>Nl(this,void 0,void 0,function*(){const te=yield ie.provideInlineCompletions(e,_,t,n);return{completions:te,provider:ie,dispose:()=>{te&&ie.freeInlineCompletions(te)}}}))),q=new Map;for(const ie of L){const te=ie.completions;if(te)for(const ve of te.items){const tt=ve.range?Ye.e.lift(ve.range):a;if(tt.startLineNumber!==tt.endLineNumber)continue;const gt=s&&ve.completeBracketPairs?_g(ve.text,tt.getStartPosition(),e,s):ve.text,Vt={text:gt,range:tt,command:ve.command,sourceProvider:ie.provider,sourceInlineCompletions:te,sourceInlineCompletion:ve};q.set(JSON.stringify({text:gt,range:ve.range}),Vt)}}return{items:[...q.values()],dispose:()=>{for(const ie of L)ie.dispose()}}})}function _g(_,e,t,n){const a=t.getLineContent(e.lineNumber).substring(0,e.column-1)+_,p=t.tokenizeLineWithEdit(e,a.length-(e.column-1),_),L=null==p?void 0:p.sliceAndInflate(e.column-1,a.length,0);return L?(console.log(L),function mg(_,e){const t=new _l.FE,n=new ip.Z(t,ie=>e.getLanguageConfiguration(ie)),s=new op.xH(new Mr([_]),n),a=(0,Ah.w)(s,[],void 0,!0);let p="";const L=_.getLineContent();return function q(ie,te){if(2===ie.kind)q(ie.openingBracket,te),te=(0,Zl.Ii)(te,ie.openingBracket.length),ie.child&&(q(ie.child,te),te=(0,Zl.Ii)(te,ie.child.length)),ie.closingBracket?(q(ie.closingBracket,te),te=(0,Zl.Ii)(te,ie.closingBracket.length)):p+=n.getSingleLanguageBracketTokens(ie.openingBracket.languageId).findClosingTokenText(ie.openingBracket.bracketIds);else if(3!==ie.kind)if(0===ie.kind||1===ie.kind)p+=L.substring((0,Zl.F_)(te),(0,Zl.F_)((0,Zl.Ii)(te,ie.length)));else if(4===ie.kind)for(const ve of ie.children)q(ve,te),te=(0,Zl.Ii)(te,ve.length)}(a,Zl.xl),p}(L,n)):_}function Vd(_,e){if(!e)return e;const t=_.getValueInRange(e.range),n=(0,fi.Mh)(t,e.text),s=_.getOffsetAt(e.range.getStartPosition())+n,a=_.getPositionAt(s),p=t.substr(n),L=(0,fi.P1)(p,e.text),q=_.getPositionAt(Math.max(s,_.getOffsetAt(e.range.getEndPosition())-L));return{range:Ye.e.fromPositions(a,q),text:e.text.substr(n,e.text.length-n-L)}}let tb=(()=>{class _{constructor(){this.value="",this.pos=0}static isDigitCharacter(t){return t>=48&&t<=57}static isVariableCharacter(t){return 95===t||t>=97&&t<=122||t>=65&&t<=90}text(t){this.value=t,this.pos=0}tokenText(t){return this.value.substr(t.pos,t.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let a,t=this.pos,n=0,s=this.value.charCodeAt(t);if(a=_._table[s],"number"==typeof a)return this.pos+=1,{type:a,pos:t,len:1};if(_.isDigitCharacter(s)){a=8;do{n+=1,s=this.value.charCodeAt(t+n)}while(_.isDigitCharacter(s));return this.pos+=n,{type:a,pos:t,len:n}}if(_.isVariableCharacter(s)){a=9;do{s=this.value.charCodeAt(t+ ++n)}while(_.isVariableCharacter(s)||_.isDigitCharacter(s));return this.pos+=n,{type:a,pos:t,len:n}}a=10;do{n+=1,s=this.value.charCodeAt(t+n)}while(!isNaN(s)&&void 0===_._table[s]&&!_.isDigitCharacter(s)&&!_.isVariableCharacter(s));return this.pos+=n,{type:a,pos:t,len:n}}}return _._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},_})();class Wd{constructor(){this._children=[]}appendChild(e){return e instanceof E&&this._children[this._children.length-1]instanceof E?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,s=n.children.indexOf(e),a=n.children.slice(0);a.splice(s,1,...t),n._children=a,function p(L,q){for(const ie of L)ie.parent=q,p(ie.children,ie)}(t,n)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof Je)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class E extends Wd{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new E(this.value)}}class l extends Wd{}class g extends l{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof S?this._children[0]:void 0}clone(){let e=new g(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class S extends Wd{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof E&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new S;return this.options.forEach(e.appendChild,e),e}}class Z extends Wd{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let n=!1,s=e.replace(this.regexp,function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(a=>a instanceof ae&&Boolean(a.elseValue))&&(s=this._replace([])),s}_replace(e){let t="";for(const n of this._children)if(n instanceof ae){let s=e[n.index]||"";s=n.resolve(s),t+=s}else t+=n.toString();return t}toString(){return""}clone(){let e=new Z;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class ae extends Wd{constructor(e,t,n,s){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=s}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((n,s)=>0===s?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}clone(){return new ae(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Ce extends l{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new E(t)],!0)}clone(){const e=new Ce(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function Ne(_,e){const t=[..._];for(;t.length>0;){const n=t.shift();if(!e(n))break;t.unshift(...n.children)}}class Je extends Wd{get placeholderInfo(){if(!this._placeholders){let t,e=[];this.walk(function(n){return n instanceof g&&(e.push(n),t=!t||t.index<n.index?n:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk(s=>s===e?(n=!0,!1):(t+=s.len(),!0)),n?t:-1}fullLen(e){let t=0;return Ne([e],n=>(t+=n.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:n}=e;for(;n;)n instanceof g&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Ce&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new Je;return this._children=this.children.map(t=>t.clone()),e}walk(e){Ne(this.children,e)}}class Lt{constructor(){this._scanner=new tb,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){this._scanner.text(e),this._token=this._scanner.next();const s=new Je;for(;this._parse(s););const a=new Map,p=[];let L=0;s.walk(q=>(q instanceof g&&(L+=1,q.isFinalTabstop?a.set(0,void 0):!a.has(q.index)&&q.children.length>0?a.set(q.index,q.children):p.push(q)),!0));for(const q of p){const ie=a.get(q.index);if(ie){const te=new g(q.index);te.transform=q.transform;for(const ve of ie)te.appendChild(ve.clone());s.replace(q,[te])}}return n||(n=L>0&&t),!a.has(0)&&n&&s.appendChild(new g(0)),s}_accept(e,t){if(void 0===e||this._token.type===e){let n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const s=this._scanner.next();if(0!==s.type&&4!==s.type&&5!==s.type)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new E(t)),!0)}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new g(Number(t)):new Ce(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const a=new g(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(a),!0;if(!this._parse(a))return e.appendChild(new E("${"+t+":")),a.children.forEach(e.appendChild,e),!0}else{if(!(a.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(a)?(e.appendChild(a),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(a),!0):this._backTo(n);{const p=new S;for(;;){if(this._parseChoiceElement(p)){if(this._accept(2))continue;if(this._accept(7)&&(a.appendChild(p),this._accept(4)))return e.appendChild(a),!0}return this._backTo(n),!1}}}}_parseChoiceElement(e){const t=this._token,n=[];for(;2!==this._token.type&&7!==this._token.type;){let s;if(s=(s=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:this._accept(void 0,!0),!s)return this._backTo(t),!1;n.push(s)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new E(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const a=new Ce(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(a)?(e.appendChild(a),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(a),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(a),!0;if(!this._parse(a))return e.appendChild(new E("${"+t+":")),a.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new Z,n="",s="";for(;!this._accept(6);){let a;if(a=this._accept(5,!0))a=this._accept(6,!0)||a,n+=a;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){let a;if(a=this._accept(5,!0))a=this._accept(5,!0)||this._accept(6,!0)||a,t.appendChild(new E(a));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;s+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,s)}catch(a){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let s=this._accept(8,!0);if(!s)return this._backTo(t),!1;if(!n)return e.appendChild(new ae(Number(s))),!0;if(this._accept(4))return e.appendChild(new ae(Number(s))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let a=this._accept(9,!0);return a&&this._accept(4)?(e.appendChild(new ae(Number(s),a)),!0):(this._backTo(t),!1)}if(this._accept(11)){let a=this._until(4);if(a)return e.appendChild(new ae(Number(s),void 0,a,void 0)),!0}else if(this._accept(12)){let a=this._until(4);if(a)return e.appendChild(new ae(Number(s),void 0,void 0,a)),!0}else if(this._accept(13)){let a=this._until(1);if(a){let p=this._until(4);if(p)return e.appendChild(new ae(Number(s),void 0,a,p)),!0}}else{let a=this._until(4);if(a)return e.appendChild(new ae(Number(s),void 0,void 0,a)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new E(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}m(900);var gn=m(2405),Un=m(4163);const di=new Uint8Array(16),Zi=[];for(let _=0;_<256;_++)Zi.push(_.toString(16).padStart(2,"0"));let bo;bo="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(_){for(let e=0;e<_.length;e++)_[e]=Math.floor(256*Math.random());return _};const ms="code-workspace";function Ko(_){return"string"==typeof(null==_?void 0:_.id)&&xo.o.isUri(_.uri)}(0,ke.N)("codeWorkspace","Code Workspace"),Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class vl{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let n=t.resolve(e);if(void 0!==n)return n}}}class Br{constructor(e,t,n,s){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=s}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let n=this._model.getValueInRange(this._selection)||void 0,s=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const a=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);a&&(n=a.value,s=a.multiline)}if(n&&s&&e.snippet){const a=this._model.getLineContent(this._selection.startLineNumber),p=(0,fi.V8)(a,0,this._selection.startColumn-1);let L=p;e.snippet.walk(ie=>ie!==e&&(ie instanceof E&&(L=(0,fi.V8)((0,fi.uq)(ie.value).pop())),!0));const q=(0,fi.Mh)(L,p);n=n.replace(/(\r\n|\r|\n)(.*)/g,(ie,te,ve)=>`${te}${L.substr(q)}${ve}`)}return n}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}class nl{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return Un.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const n=Un.EZ(this._model.uri.fsPath),s=n.lastIndexOf(".");return s<=0?n:n.slice(0,s)}return"TM_DIRECTORY"===t?"."===Un.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,So.XX)(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class fs{constructor(e,t,n,s){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=s}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const n=t.split(/\r\n|\n|\r/).filter(s=>!(0,fi.m5)(s));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}class pr{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),s=Us.zu.getComments(n);if(s){if("LINE_COMMENT"===t)return s.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===t)return s.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===t)return s.blockCommentEndToken||void 0}}}class Po{constructor(){this._date=new Date}resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===t?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===t?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?Po.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===t?Po.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===t?Po.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?Po.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(this._date.getTime()/1e3)):void 0}}Po.dayNames=[ke.N("Sunday","Sunday"),ke.N("Monday","Monday"),ke.N("Tuesday","Tuesday"),ke.N("Wednesday","Wednesday"),ke.N("Thursday","Thursday"),ke.N("Friday","Friday"),ke.N("Saturday","Saturday")],Po.dayNamesShort=[ke.N("SundayShort","Sun"),ke.N("MondayShort","Mon"),ke.N("TuesdayShort","Tue"),ke.N("WednesdayShort","Wed"),ke.N("ThursdayShort","Thu"),ke.N("FridayShort","Fri"),ke.N("SaturdayShort","Sat")],Po.monthNames=[ke.N("January","January"),ke.N("February","February"),ke.N("March","March"),ke.N("April","April"),ke.N("May","May"),ke.N("June","June"),ke.N("July","July"),ke.N("August","August"),ke.N("September","September"),ke.N("October","October"),ke.N("November","November"),ke.N("December","December")],Po.monthNamesShort=[ke.N("JanuaryShort","Jan"),ke.N("FebruaryShort","Feb"),ke.N("MarchShort","Mar"),ke.N("AprilShort","Apr"),ke.N("MayShort","May"),ke.N("JuneShort","Jun"),ke.N("JulyShort","Jul"),ke.N("AugustShort","Aug"),ke.N("SeptemberShort","Sep"),ke.N("OctoberShort","Oct"),ke.N("NovemberShort","Nov"),ke.N("DecemberShort","Dec")];class il{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=function ls(_){return _.configuration?{id:_.id,configPath:_.configuration}:1===_.folders.length?{id:_.id,uri:_.folders[0].uri}:void 0}(this._workspaceService.getWorkspace());if(t){if("WORKSPACE_NAME"===e.name)return this._resolveWorkspaceName(t);if("WORKSPACE_FOLDER"===e.name)return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(Ko(e))return Un.EZ(e.uri.path);let t=Un.EZ(e.configPath.path);return t.endsWith(ms)&&(t=t.substr(0,t.length-ms.length-1)),t}_resoveWorkspacePath(e){if(Ko(e))return je(e.uri.fsPath);let t=Un.EZ(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?je(n):"/"}}class bl{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?function os(){bo(di),di[6]=15&di[6]|64,di[8]=63&di[8]|128;let _=0,e="";return e+=Zi[di[_++]],e+=Zi[di[_++]],e+=Zi[di[_++]],e+=Zi[di[_++]],e+="-",e+=Zi[di[_++]],e+=Zi[di[_++]],e+="-",e+=Zi[di[_++]],e+=Zi[di[_++]],e+="-",e+=Zi[di[_++]],e+=Zi[di[_++]],e+="-",e+=Zi[di[_++]],e+=Zi[di[_++]],e+=Zi[di[_++]],e+=Zi[di[_++]],e+=Zi[di[_++]],e+=Zi[di[_++]],e}():void 0}}class Vr{constructor(e,t,n,s){this._editor=e,this._snippet=t,this._offset=n,this._snippetLineLeadingWhitespace=s,this._nestingLevel=1,this._placeholderGroups=(0,xi.vM)(t.placeholders,g.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const n of this._snippet.placeholders){const s=this._snippet.offset(n),a=this._snippet.fullLen(n),p=Ye.e.fromPositions(e.getPositionAt(this._offset+s),e.getPositionAt(this._offset+s+a)),q=t.addDecoration(p,n.isFinalTabstop?Vr._decor.inactiveFinal:Vr._decor.inactive);this._placeholderDecorations.set(n,q)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let s=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx])if(a.transform){const p=this._placeholderDecorations.get(a),L=this._editor.getModel().getDecorationRange(p),q=this._editor.getModel().getValueInRange(L),ie=a.transform.resolve(q).split(/\r\n|\r|\n/);for(let te=1;te<ie.length;te++)ie[te]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+ie[te]);s.push(tr.h.replace(L,ie.join(this._editor.getModel().getEOL())))}s.length>0&&this._editor.executeEdits("snippet.placeholderTransform",s)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations(s=>{const a=new Set,p=[];for(const L of this._placeholderGroups[this._placeholderGroupsIdx]){const q=this._placeholderDecorations.get(L),ie=this._editor.getModel().getDecorationRange(q);p.push(new ei.Y(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(L),s.changeDecorationOptions(q,L.isFinalTabstop?Vr._decor.activeFinal:Vr._decor.active),a.add(L);for(const te of this._snippet.enclosingPlaceholders(L)){const ve=this._placeholderDecorations.get(te);s.changeDecorationOptions(ve,te.isFinalTabstop?Vr._decor.activeFinal:Vr._decor.active),a.add(te)}}for(const[L,q]of this._placeholderDecorations)a.has(L)||s.changeDecorationOptions(q,L.isFinalTabstop?Vr._decor.inactiveFinal:Vr._decor.inactive);return p});return t?this.move(e):null!=n?n:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof g){const n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let n;for(const s of t){if(s.isFinalTabstop)break;n||(n=[],e.set(s.index,n));const a=this._placeholderDecorations.get(s),p=this._editor.getModel().getDecorationRange(a);if(!p){e.delete(s.index);break}n.push(p)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const a=e.shift();console.assert(!a._placeholderDecorations);const p=a._snippet.placeholderInfo.last.index;for(const q of a._snippet.placeholderInfo.all)q.index=q.isFinalTabstop?s.index+(p+1)/this._nestingLevel:s.index+q.index/this._nestingLevel;this._snippet.replace(s,a._snippet.children);const L=this._placeholderDecorations.get(s);n.removeDecoration(L),this._placeholderDecorations.delete(s);for(const q of a._snippet.placeholders){const ie=a._snippet.offset(q),te=a._snippet.fullLen(q),ve=Ye.e.fromPositions(t.getPositionAt(a._offset+ie),t.getPositionAt(a._offset+ie+te)),tt=n.addDecoration(ve,Vr._decor.inactive);this._placeholderDecorations.set(q,tt)}}this._placeholderGroups=(0,xi.vM)(this._snippet.placeholders,g.compareByIndex)})}}Vr._decor={active:Ae.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Ae.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Ae.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Ae.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const nb={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class Tl{constructor(e,t,n=nb){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=n}static adjustWhitespace(e,t,n,s,a){const p=e.getLineContent(t.lineNumber),L=(0,fi.V8)(p,0,t.column-1);let q;return n.walk(ie=>{if(!(ie instanceof E)||ie.parent instanceof S)return!0;const te=ie.value.split(/\r\n|\r|\n/);if(s){const tt=n.offset(ie);if(0===tt)te[0]=e.normalizeIndentation(te[0]);else{q=null!=q?q:n.toString();let gt=q.charCodeAt(tt-1);(10===gt||13===gt)&&(te[0]=e.normalizeIndentation(L+te[0]))}for(let gt=1;gt<te.length;gt++)te[gt]=e.normalizeIndentation(L+te[gt])}const ve=te.join(e.getEOL());return ve!==ie.value&&(ie.parent.replace(ie,[new E(ve)]),q=void 0),!0}),L}static adjustSelection(e,t,n,s){if(0!==n||0!==s){const{positionLineNumber:a,positionColumn:p}=t,ie=e.validateRange({startLineNumber:a,startColumn:p-n,endLineNumber:a,endColumn:p+s});t=ei.Y.createWithDirection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,n,s,a,p,L,q){const ie=[],te=[];if(!e.hasModel())return{edits:ie,snippets:te};const ve=e.getModel(),tt=e.invokeWithinContext(Ki=>Ki.get(gn.ec)),gt=e.invokeWithinContext(Ki=>new nl(Ki.get(Dt.e),ve)),Vt=()=>L;let dn=0,kn=ve.getValueInRange(Tl.adjustSelection(ve,e.getSelection(),n,0)),On=ve.getValueInRange(Tl.adjustSelection(ve,e.getSelection(),0,s)),li=ve.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const Xn=e.getSelections().map((Ki,Bi)=>({selection:Ki,idx:Bi})).sort((Ki,Bi)=>Ye.e.compareRangesUsingStarts(Ki.selection,Bi.selection));for(const{selection:Ki,idx:Bi}of Xn){let Eo=Tl.adjustSelection(ve,Ki,n,0),us=Tl.adjustSelection(ve,Ki,0,s);kn!==ve.getValueInRange(Eo)&&(Eo=Ki),On!==ve.getValueInRange(us)&&(us=Ki);const Cr=Ki.setStartPosition(Eo.startLineNumber,Eo.startColumn).setEndPosition(us.endLineNumber,us.endColumn),ga=(new Lt).parse(t,!0,a),ma=Cr.getStartPosition(),Nc=Tl.adjustWhitespace(ve,ma,ga,p||Bi>0&&li!==ve.getLineFirstNonWhitespaceColumn(Ki.positionLineNumber),!0);ga.resolveVariables(new vl([gt,new fs(Vt,Bi,Xn.length,"spread"===e.getOption(71)),new Br(ve,Ki,Bi,q),new pr(ve,Ki),new Po,new il(tt),new bl]));const ld=ve.getOffsetAt(ma)+dn;dn+=ga.toString().length-ve.getValueLengthInRange(Cr),ie[Bi]=tr.h.replace(Cr,ga.toString()),ie[Bi].identifier={major:Bi,minor:0},te[Bi]=new Vr(e,ga,ld,Nc)}return{edits:ie,snippets:te}}dispose(){(0,Xe.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=Tl.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,n=>this._snippets[0].hasPlaceholder?this._move(!0):n.filter(s=>!!s.identifier).map(s=>ei.Y.fromPositions(s.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=nb){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:s}=Tl.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",n,a=>{for(const p of this._snippets)p.merge(s);return console.assert(0===s.length),this._snippets[0].hasPlaceholder?this._move(void 0):a.filter(p=>!!p.identifier).map(p=>ei.Y.fromPositions(p.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){const s=n.move(e);t.push(...s)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const n of this._snippets){const s=n.computePossibleSelections();if(0===t.size)for(const[a,p]of s){p.sort(Ye.e.compareRangesUsingStarts);for(const L of e)if(p[0].containsRange(L)){t.set(a,[]);break}}if(0===t.size)return!1;t.forEach((a,p)=>{a.push(...s.get(p))})}e.sort(Ye.e.compareRangesUsingStarts);for(let[n,s]of t)if(s.length===e.length){s.sort(Ye.e.compareRangesUsingStarts);for(let a=0;a<s.length;a++)if(!s[a].containsRange(e[a])){t.delete(n);continue}}else t.delete(n);return t.size>0}}var ib=m(5016),Hd=m(1724),vg=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};const Yo={Visible:new ft.uy("suggestWidgetVisible",!1,(0,ke.N)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new ft.uy("suggestWidgetDetailsVisible",!1,(0,ke.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new ft.uy("suggestWidgetMultipleSuggestions",!1,(0,ke.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new ft.uy("suggestionMakesTextEdit",!0,(0,ke.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new ft.uy("acceptSuggestionOnEnter",!0,(0,ke.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new ft.uy("suggestionHasInsertAndReplaceRange",!1,(0,ke.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new ft.uy("suggestionInsertMode",void 0,{type:"string",description:(0,ke.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new ft.uy("suggestionCanResolve",!1,(0,ke.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Al=new Mt.eH("suggestWidgetStatusBar");class Fh{constructor(e,t,n,s){this.position=e,this.completion=t,this.container=n,this.provider=s,this.isInvalid=!1,this.score=le.CL.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),Ye.e.isIRange(t.range)?(this.editStart=new An.L(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new An.L(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new An.L(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||Ye.e.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new An.L(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new An.L(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new An.L(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||Ye.e.spansMultipleLines(t.range.insert)||Ye.e.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof s.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return vg(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(n=>{Object.assign(this.completion,n),this._isResolved=!0,t.dispose()},n=>{(0,Ii.n2)(n)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class Bh{constructor(e=2,t=new Set,n=new Set,s=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n,this.showDeprecated=s}}Bh.default=new Bh;class Vh{constructor(e,t,n,s){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=s}}function ob(_,e,t=Bh.default,n={triggerKind:0},s=wi.T.None){return vg(this,void 0,void 0,function*(){const a=new Hd.G(!0);e=e.clone();const p=_.getWordAtPosition(e),L=p?new Ye.e(e.lineNumber,p.startColumn,e.lineNumber,p.endColumn):Ye.e.fromPositions(e),q={replace:L,insert:L.setEndPosition(e.lineNumber,e.column)},ie=[],te=new Xe.SL,ve=[];let tt=!1;const gt=(dn,kn,On)=>{var li,Xn,Ki;let Bi=!1;if(!kn)return Bi;for(let Eo of kn.suggestions)if(!t.kindFilter.has(Eo.kind)){if(!t.showDeprecated&&(null===(li=null==Eo?void 0:Eo.tags)||void 0===li?void 0:li.includes(1)))continue;Eo.range||(Eo.range=q),Eo.sortText||(Eo.sortText="string"==typeof Eo.label?Eo.label:Eo.label.label),!tt&&Eo.insertTextRules&&4&Eo.insertTextRules&&(tt=Lt.guessNeedsClipboard(Eo.insertText)),ie.push(new Fh(e,Eo,kn,dn)),Bi=!0}return(0,Xe.Wf)(kn)&&te.add(kn),ve.push({providerName:null!==(Xn=dn._debugDisplayName)&&void 0!==Xn?Xn:"unkown_provider",elapsedProvider:null!==(Ki=kn.duration)&&void 0!==Ki?Ki:-1,elapsedOverall:On.elapsed()}),Bi},Vt=(()=>vg(this,void 0,void 0,function*(){}))();for(let dn of Gn.KZ.orderedGroups(_)){let kn=!1;if(yield Promise.all(dn.map(On=>vg(this,void 0,void 0,function*(){if(!(t.providerFilter.size>0)||t.providerFilter.has(On))try{const li=new Hd.G(!0),Xn=yield On.provideCompletionItems(_,e,n,s);kn=gt(On,Xn,li)||kn}catch(li){(0,Ii.Cp)(li)}}))),kn||s.isCancellationRequested)break}return yield Vt,s.isCancellationRequested?(te.dispose(),Promise.reject((0,Ii.F0)())):new Vh(ie.sort(R_(t.snippetSortOrder)),tt,{entries:ve,elapsed:a.elapsed()},te)})}function sp(_,e){if(_.sortTextLow&&e.sortTextLow){if(_.sortTextLow<e.sortTextLow)return-1;if(_.sortTextLow>e.sortTextLow)return 1}return _.completion.label<e.completion.label?-1:_.completion.label>e.completion.label?1:_.completion.kind-e.completion.kind}const Wh=new Map;function R_(_){return Wh.get(_)}Wh.set(0,function sb(_,e){if(_.completion.kind!==e.completion.kind){if(27===_.completion.kind)return-1;if(27===e.completion.kind)return 1}return sp(_,e)}),Wh.set(2,function k_(_,e){if(_.completion.kind!==e.completion.kind){if(27===_.completion.kind)return 1;if(27===e.completion.kind)return-1}return sp(_,e)}),Wh.set(1,sp),oo.P0.registerCommand("_executeCompletionItemProvider",(_,...e)=>vg(void 0,void 0,void 0,function*(){const[t,n,s,a]=e;(0,wn.p_)(xo.o.isUri(t)),(0,wn.p_)(An.L.isIPosition(n)),(0,wn.p_)("string"==typeof s||!s),(0,wn.p_)("number"==typeof a||!a);const p=yield _.get(ur.S).createModelReference(t);try{const L={incomplete:!1,suggestions:[]},q=[],ie=yield ob(p.object.textEditorModel,An.L.lift(n),void 0,{triggerCharacter:s,triggerKind:s?1:0});for(const te of ie.items)q.length<(null!=a?a:0)&&q.push(te.resolve(wi.T.None)),L.incomplete=L.incomplete||te.container.incomplete,L.suggestions.push(te.completion);try{return yield Promise.all(q),L}finally{setTimeout(()=>ie.disposable.dispose(),100)}}finally{p.dispose()}}));const Hh=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};Gn.KZ.register("*",Hh);var Cg=m(2241),O_=function(_,e){return function(t,n){e(t,n,_)}};const P_={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Wr=class Kv{constructor(e,t,n){this._editor=e,this._logService=t,this._snippetListener=new Xe.SL,this._modelVersionId=-1,this._inSnippet=Kv.InSnippetMode.bindTo(n),this._hasNextTabstop=Kv.HasNextTabstop.bindTo(n),this._hasPrevTabstop=Kv.HasPrevTabstop.bindTo(n)}static get(e){return e.getContribution(Kv.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?P_:Object.assign(Object.assign({},P_),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){!this._editor.hasModel()||(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Tl(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(n=>ei.Y.fromPositions(n.getStartPosition())));const[t]=e.options;!function py(_,e){setTimeout(()=>{var t;Hh.onlyOnceSuggestions.push(...e),null===(t=_.getContribution("editor.contrib.suggestController"))||void 0===t||t.triggerSuggest((new Set).add(Hh))},0)}(this._editor,e.options.map((n,s)=>({kind:13,label:n.value,insertText:n.value,sortText:"a".repeat(s+1),range:Ye.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Wr.ID="snippetController2",Wr.InSnippetMode=new ft.uy("inSnippetMode",!1,(0,ke.N)("inSnippetMode","Whether the editor in current in snippet mode")),Wr.HasNextTabstop=new ft.uy("hasNextTabstop",!1,(0,ke.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Wr.HasPrevTabstop=new ft.uy("hasPrevTabstop",!1,(0,ke.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Wr=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([O_(1,Cg.VZ),O_(2,ft.i6)],Wr),(0,pt._K)(Wr.ID,Wr);const yg=pt._l.bindToContribution(Wr.get);(0,pt.fK)(new yg({id:"jumpToNextSnippetPlaceholder",precondition:ft.Ao.and(Wr.InSnippetMode,Wr.HasNextTabstop),handler:_=>_.next(),kbOpts:{weight:130,kbExpr:dt.u.editorTextFocus,primary:2}})),(0,pt.fK)(new yg({id:"jumpToPrevSnippetPlaceholder",precondition:ft.Ao.and(Wr.InSnippetMode,Wr.HasPrevTabstop),handler:_=>_.prev(),kbOpts:{weight:130,kbExpr:dt.u.editorTextFocus,primary:1026}})),(0,pt.fK)(new yg({id:"leaveSnippet",precondition:Wr.InSnippetMode,handler:_=>_.cancel(!0),kbOpts:{weight:130,kbExpr:dt.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,pt.fK)(new yg({id:"acceptSnippet",precondition:Wr.InSnippetMode,handler:_=>_.finish()}));var rb=function(_,e){return function(t,n){e(t,n,_)}};class Va{constructor(e){this.name=e}select(e,t,n){if(0===n.length)return 0;let s=n[0].score[0];for(let a=0;a<n.length;a++){const{score:p,completion:L}=n[a];if(p[0]!==s)break;if(L.preselect)return a}return 0}}class ab extends Va{constructor(){super("first")}memorize(e,t,n){}toJSON(){}fromJSON(){}}let rp=class dy{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new Xe.SL,this._persistSoon=new mt.pY(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(n=>{n.reason===Lo.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(e,t){var n;const s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==s){this._saveState();const a=dy._strategyCtors.get(s)||ab;this._strategy=new a;try{const L=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,q=this._storageService.get(`${dy._storagePrefix}/${s}`,L);q&&this._strategy.fromJSON(JSON.parse(q))}catch(p){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${dy._storagePrefix}/${this._strategy.name}`,n,t,1)}}};rp._strategyCtors=new Map([["recentlyUsedByPrefix",class ND extends Va{constructor(){super("recentlyUsedByPrefix"),this._trie=pi.Id.forStrings(),this._seq=0}memorize(e,t,n){const{word:s}=e.getWordUntilPosition(t),a=`${e.getLanguageId()}/${s}`;this._trie.set(a,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){let{word:s}=e.getWordUntilPosition(t);if(!s)return super.select(e,t,n);let a=`${e.getLanguageId()}/${s}`,p=this._trie.get(a);if(p||(p=this._trie.findSubstr(a)),p)for(let L=0;L<n.length;L++){let{kind:q,insertText:ie}=n[L].completion;if(q===p.type&&ie===p.insertText)return L}return super.select(e,t,n)}toJSON(){let e=[];return this._trie.forEach((t,n)=>e.push([n,t])),e.sort((t,n)=>-(t[1].touch-n[1].touch)).forEach((t,n)=>t[1].touch=n),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,n]of e)n.type="number"==typeof n.type?n.type:Gn.gX.fromString(n.type),this._trie.set(t,n)}}}],["recentlyUsed",class vy extends Va{constructor(){super("recentlyUsed"),this._cache=new pi.z6(300,.66),this._seq=0}memorize(e,t,n){const s=`${e.getLanguageId()}/${n.textLabel}`;this._cache.set(s,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(0===n.length)return 0;const s=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(s))return super.select(e,t,n);let a=n[0].score[0],L=-1,q=-1;for(let ie=0;ie<n.length&&n[ie].score[0]===a;ie++){const te=`${e.getLanguageId()}/${n[ie].textLabel}`,ve=this._cache.peek(te);if(ve&&ve.touch>q&&ve.type===n[ie].completion.kind&&ve.insertText===n[ie].completion.insertText&&(q=ve.touch,L=ie),n[ie].completion.preselect)return ie}return-1!==L?L:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[n,s]of e)s.touch=0,s.type="number"==typeof s.type?s.type:Gn.gX.fromString(s.type),this._cache.set(n,s);this._seq=this._cache.size}}],["first",ab]]),rp._storagePrefix="suggest/memories",rp=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([rb(0,Lo.Uy),rb(1,Ds.Ui)],rp);const F_=(0,de.yh)("ISuggestMemories");(0,fo.z)(F_,rp,!0);let yu=class zE{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=zE.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(n=>n.hasChanged(111)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(111);if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const n=this._editor.getModel(),s=this._editor.getSelection(),a=n.getWordAtPosition(s.getStartPosition());this._ckAtEnd.set(!!a&&a.endColumn===s.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};yu.AtEnd=new ft.uy("atEndOfWord",!1),yu=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,ft.i6)],yu);let wu=class uy{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=uy.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},n){0!==e.items.length&&uy._moveIndex(!0,e,t)!==t?(this._acceptNext=n,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,n){let s=n;for(;s=(s+t.items.length+(e?1:-1))%t.items.length,s!==n&&t.items[s].completion.additionalTextEdits;);return s}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=uy._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};wu.OtherSuggestions=new ft.uy("hasOtherSuggestions",!1),wu=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,ft.i6)],wu);var zh=m(7686);class cb{constructor(e,t,n){this._disposables=new Xe.SL,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(s=>{if(this._active&&!t.isFrozen()){const a=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(a)&&e.getOption(0)&&n(this._active.item)}}))}_onItem(e){if(!e||!(0,xi.Of)(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new zh.q;for(const n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var wg=m(4084);let ub=(()=>{class _{provideSelectionRanges(t,n){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){const s=[];for(const a of n){const p=[];s.push(p);const L=new Map;yield new Promise(q=>_._bracketsRightYield(q,0,t,a,L)),yield new Promise(q=>_._bracketsLeftYield(q,0,t,a,L,p))}return s})}static _bracketsRightYield(t,n,s,a,p){const L=new Map,q=Date.now();for(;;){if(n>=_._maxRounds){t();break}if(!a){t();break}let ie=s.bracketPairs.findNextBracket(a);if(!ie){t();break}if(Date.now()-q>_._maxDuration){setTimeout(()=>_._bracketsRightYield(t,n+1,s,a,p));break}const ve=ie.close[0];if(ie.isOpen){let tt=L.has(ve)?L.get(ve):0;L.set(ve,tt+1)}else{let tt=L.has(ve)?L.get(ve):0;if(tt-=1,L.set(ve,Math.max(0,tt)),tt<0){let gt=p.get(ve);gt||(gt=new $m.S,p.set(ve,gt)),gt.push(ie.range)}}a=ie.range.getEndPosition()}}static _bracketsLeftYield(t,n,s,a,p,L){const q=new Map,ie=Date.now();for(;;){if(n>=_._maxRounds&&0===p.size){t();break}if(!a){t();break}let te=s.bracketPairs.findPrevBracket(a);if(!te){t();break}if(Date.now()-ie>_._maxDuration){setTimeout(()=>_._bracketsLeftYield(t,n+1,s,a,p,L));break}const tt=te.close[0];if(te.isOpen){let gt=q.has(tt)?q.get(tt):0;if(gt-=1,q.set(tt,Math.max(0,gt)),gt<0){let Vt=p.get(tt);if(Vt){let dn=Vt.shift();0===Vt.size&&p.delete(tt);const kn=Ye.e.fromPositions(te.range.getEndPosition(),dn.getStartPosition()),On=Ye.e.fromPositions(te.range.getStartPosition(),dn.getEndPosition());L.push({range:kn}),L.push({range:On}),_._addBracketLeading(s,On,L)}}}else{let gt=q.has(tt)?q.get(tt):0;q.set(tt,gt+1)}a=te.range.getStartPosition()}}static _addBracketLeading(t,n,s){if(n.startLineNumber===n.endLineNumber)return;const a=n.startLineNumber,p=t.getLineFirstNonWhitespaceColumn(a);0!==p&&p!==n.startColumn&&(s.push({range:Ye.e.fromPositions(new An.L(a,p),n.getEndPosition())}),s.push({range:Ye.e.fromPositions(new An.L(a,1),n.getEndPosition())}));const L=a-1;if(L>0){const q=t.getLineFirstNonWhitespaceColumn(L);q===n.startColumn&&q!==t.getLineLastNonWhitespaceColumn(L)&&(s.push({range:Ye.e.fromPositions(new An.L(L,q),n.getEndPosition())}),s.push({range:Ye.e.fromPositions(new An.L(L,1),n.getEndPosition())}))}}}return _._maxDuration=30,_._maxRounds=2,_})();class Xl{static create(e,t){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){if(!t.getOption(106).localityBonus||!t.hasModel())return Xl.None;const n=t.getModel(),s=t.getPosition();if(!e.canComputeWordRanges(n.uri))return Xl.None;const[a]=yield(new ub).provideSelectionRanges(n,[s]);if(0===a.length)return Xl.None;const p=yield e.computeWordRanges(n.uri,a[0].range);if(!p)return Xl.None;const L=n.getWordUntilPosition(s);return delete p[L.word],new class extends Xl{distance(q,ie){if(!s.equals(t.getPosition()))return 0;if(17===ie.kind)return 2<<20;let ve=p["string"==typeof ie.label?ie.label:ie.label.label];if((0,xi.XY)(ve))return 2<<20;let tt=(0,xi.ry)(ve,Ye.e.fromPositions(q),Ye.e.compareRangesUsingStarts),gt=tt>=0?ve[tt]:ve[Math.max(0,~tt-1)],Vt=a.length;for(const dn of a){if(!Ye.e.containsRange(dn.range,gt))break;Vt-=1}return Vt}}})}}Xl.None=new class extends Xl{distance(){return 0}};class Su{constructor(e,t,n,s,a,p,L){this.clipboardText=L,this._snippetCompareFn=Su._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=s,this._options=a,this._refilterKind=1,this._lineContext=n,"top"===p?this._snippetCompareFn=Su._compareCompletionItemsSnippetsUp:"bottom"===p&&(this._snippetCompareFn=Su._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,n]of this._providerInfo)n&&e.add(t);return e}adopt(e){let t=[];for(let n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let s="",a="";const p=1===this._refilterKind?this._items:this._filteredItems,L=[],q=!this._options.filterGraceful||p.length>2e3?le.EW:le.l7;for(let ie=0;ie<p.length;ie++){const te=p[ie];if(te.isInvalid)continue;this._providerInfo.set(te.provider,Boolean(te.container.incomplete));const ve=te.position.column-te.editStart.column,tt=ve+n-(te.position.column-this._column);if(s.length!==tt&&(s=0===tt?"":t.slice(-tt),a=s.toLowerCase()),te.word=s,0===tt)te.score=le.CL.Default;else{let gt=0;for(;gt<ve;){const Vt=s.charCodeAt(gt);if(32!==Vt&&9!==Vt)break;gt+=1}if(gt>=tt)te.score=le.CL.Default;else if("string"==typeof te.completion.filterText){let Vt=q(s,a,gt,te.completion.filterText,te.filterTextLow,0,!1);if(!Vt)continue;0===(0,fi.zY)(te.completion.filterText,te.textLabel)?te.score=Vt:(te.score=(0,le.jB)(s,a,gt,te.textLabel,te.labelLow,0),te.score[0]=Vt[0])}else{let Vt=q(s,a,gt,te.textLabel,te.labelLow,0,!1);if(!Vt)continue;te.score=Vt}}te.idx=ie,te.distance=this._wordDistance.distance(te.position,te.completion),L.push(te),e.push(te.textLabel.length)}this._filteredItems=L.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,xi.HW)(e.length-.85,e,(ie,te)=>ie-te):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return Su._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return Su._compareCompletionItems(e,t)}}var zd=function(_,e){return function(t,n){e(t,n,_)}};class Uh{constructor(e,t,n,s){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=s}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);const s=t.getWordAtPosition(n);return!(!s||s.endColumn!==n.column||!isNaN(Number(s.word)))}}let B_=class UE{constructor(e,t,n,s,a,p,L){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=s,this._logService=a,this._contextKeyService=p,this._configurationService=L,this._toDispose=new Xe.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new Xe.SL,this._triggerQuickSuggest=new mt._F,this._state=0,this._completionDisposables=new Xe.SL,this._onDidCancel=new Ln.Q5,this._onDidTrigger=new Ln.Q5,this._onDidSuggest=new Ln.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ei.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(Gn.KZ.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let q=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{q=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{q=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(ie=>{q||this._onCursorChange(ie)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{q||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,Xe.B9)(this._triggerCharacterListener),(0,Xe.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const e=new Map;for(const n of Gn.KZ.all(this._editor.getModel()))for(const s of n.triggerCharacters||[]){let a=e.get(s);a||(a=new Set,a.add(undefined),e.set(s,a)),a.add(n)}const t=n=>{if(!function Dy(_,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||Uh.shouldAutoTrigger(this._editor))return;if(!n){const p=this._editor.getPosition();n=this._editor.getModel().getLineContent(p.lineNumber).substr(0,p.column-1)}let s="";(0,fi.YK)(n.charCodeAt(n.length-1))?(0,fi.ZG)(n.charCodeAt(n.length-2))&&(s=n.substr(n.length-2)):s=n.charAt(n.length-1);const a=e.get(s);if(a){const p=this._completionModel?{items:this._completionModel.adopt(a),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:s},Boolean(this._completionModel),a,p)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&Gn.KZ.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():0===this._state&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===e.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;!1!==this._editor.getOption(79)&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&(null===(e=Wr.get(this._editor))||void 0===e?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!Uh.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getPosition(),s=this._editor.getOption(79);if(!1!==s){if(!0!==s){t.tokenizeIfCheap(n.lineNumber);const a=t.getLineTokens(n.lineNumber),p=a.getStandardTokenType(a.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(!(s.other&&0===p||s.comments&&1===p||s.strings&&2===p))return}!function hb(_,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||!Gn.KZ.has(t)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=new Uh(e,t,2===this._state,!1);this._onNewContext(n)})}trigger(e,t=!1,n,s){var a;if(!this._editor.hasModel())return;const p=this._editor.getModel(),L=e.auto,q=new Uh(p,this._editor.getPosition(),L,e.shy);this.cancel(t),this._state=L?2:1,this._onDidTrigger.fire({auto:L,shy:e.shy,position:this._editor.getPosition()}),this._context=q;let ie={triggerKind:null!==(a=e.triggerKind)&&void 0!==a?a:0};e.triggerCharacter&&(ie={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new wi.A;const te=this._editor.getOption(101);let ve=1;switch(te){case"top":ve=0;break;case"bottom":ve=2}const{itemKind:tt,showDeprecated:gt}=UE._createSuggestFilter(this._editor),Vt=Xl.create(this._editorWorkerService,this._editor),dn=ob(p,this._editor.getPosition(),new Bh(ve,tt,n,gt),ie,this._requestToken.token);Promise.all([dn,Vt]).then(([kn,On])=>function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){var li;if(null===(li=this._requestToken)||void 0===li||li.dispose(),!this._editor.hasModel())return;let Xn=null==s?void 0:s.clipboardText;if(!Xn&&kn.needsClipboard&&(Xn=yield this._clipboardService.readText()),0===this._state)return;const Ki=this._editor.getModel();let Bi=kn.items;if(s){const us=R_(ve);Bi=Bi.concat(s.items).sort(us)}const Eo=new Uh(Ki,this._editor.getPosition(),L,e.shy);this._completionModel=new Su(Bi,this._context.column,{leadingLineContent:Eo.leadingLineContent,characterCountDelta:Eo.column-this._context.column},On,this._editor.getOption(106),this._editor.getOption(101),Xn),this._completionDisposables.add(kn.disposable),this._onNewContext(Eo),this._reportDurationsTelemetry(kn.durations)})).catch(Ii.dL)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;"none"===e.getOption(101)&&t.add(27);const s=e.getOption(106);return s.showMethods||t.add(0),s.showFunctions||t.add(1),s.showConstructors||t.add(2),s.showFields||t.add(3),s.showVariables||t.add(4),s.showClasses||t.add(5),s.showStructs||t.add(6),s.showInterfaces||t.add(7),s.showModules||t.add(8),s.showProperties||t.add(9),s.showEvents||t.add(10),s.showOperators||t.add(11),s.showUnits||t.add(12),s.showValues||t.add(13),s.showConstants||t.add(14),s.showEnums||t.add(15),s.showEnumMembers||t.add(16),s.showKeywords||t.add(17),s.showWords||t.add(18),s.showColors||t.add(19),s.showFiles||t.add(20),s.showReferences||t.add(21),s.showColors||t.add(22),s.showFolders||t.add(23),s.showTypeParameters||t.add(24),s.showSnippets||t.add(27),s.showUsers||t.add(25),s.showIssues||t.add(26),{itemKind:t,showDeprecated:s.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,fi.V8)(e.leadingLineContent)!==(0,fi.V8)(this._context.leadingLineContent))return void this.cancel();if(e.column<this._context.column)return void(e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel());if(this._completionModel){if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const t=new Set(Gn.KZ.all(this._editor.getModel()));for(let s of this._completionModel.allProvider)t.delete(s);const n=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:n,clipboardText:this._completionModel.clipboardText})}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:t}=this._completionModel,n=this._completionModel.adopt(t);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,t,{items:n,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(Uh.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}}}};B_=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([zd(1,wg.p),zd(2,Wi.p),zd(3,Go.b),zd(4,Cg.VZ),zd(5,ft.i6),zd(6,Ds.Ui)],B_);let Ey=(()=>{class _{constructor(t,n){this._disposables=new Xe.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(t.onWillType(()=>{if(!this._empty||!t.hasModel())return;const s=t.getSelections(),a=s.length;let p=!1;for(let q=0;q<a;q++)if(!s[q].isEmpty()){p=!0;break}if(!p)return;this._lastOvertyped=[];const L=t.getModel();for(let q=0;q<a;q++){const ie=s[q];if(L.getValueLengthInRange(ie)>_._maxSelectionLength)return;this._lastOvertyped[q]={value:L.getValueInRange(ie),multiline:ie.startLineNumber!==ie.endLineNumber}}this._empty=!1})),this._disposables.add(n.onDidCancel(s=>{!this._empty&&!s.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(t){if(!this._empty&&t>=0&&t<this._lastOvertyped.length)return this._lastOvertyped[t]}dispose(){this._disposables.dispose()}}return _._maxSelectionLength=51200,_})();m(4202);var Ly=m(7367),xy=m(8829),H_=(m(8119),function(_,e){return function(t,n){e(t,n,_)}});class Sg extends Kr{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,ke.N)("ddd","{0} ({1})",this._action.label,Sg.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"\u23ce")}}let Dg=class{constructor(e,t,n,s){this._menuService=n,this._contextKeyService=s,this._menuDisposables=new Xe.SL,this.element=oe.R3(e,oe.$(".suggest-status-bar"));const a=p=>p instanceof Mt.U8?t.createInstance(Sg,p,void 0):void 0;this._leftActions=new rc.o(this.element,{actionViewItemProvider:a}),this._rightActions=new rc.o(this.element,{actionViewItemProvider:a}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(Al,this._contextKeyService),t=()=>{const n=[],s=[];for(let[a,p]of e.getActions())"left"===a?n.push(...p):s.push(...p);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};Dg=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([H_(1,de.TG),H_(2,Mt.co),H_(3,ft.i6)],Dg);const gb=(0,Ge.P6G)("symbolIcon.arrayForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Iy=(0,Ge.P6G)("symbolIcon.booleanForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),My=(0,Ge.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,ke.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z_=(0,Ge.P6G)("symbolIcon.colorForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),AD=(0,Ge.P6G)("symbolIcon.constantForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ny=(0,Ge.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,ke.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mb=(0,Ge.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,ke.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pb=(0,Ge.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ke.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_b=(0,Ge.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,ke.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vb=(0,Ge.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ke.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bb=(0,Ge.P6G)("symbolIcon.fileForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Zc=(0,Ge.P6G)("symbolIcon.folderForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ap=(0,Ge.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,ke.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ty=(0,Ge.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ke.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ay=(0,Ge.P6G)("symbolIcon.keyForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kD=(0,Ge.P6G)("symbolIcon.keywordForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U_=(0,Ge.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,ke.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cb=(0,Ge.P6G)("symbolIcon.moduleForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j_=(0,Ge.P6G)("symbolIcon.namespaceForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Eg=(0,Ge.P6G)("symbolIcon.nullForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ky=(0,Ge.P6G)("symbolIcon.numberForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K_=(0,Ge.P6G)("symbolIcon.objectForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yb=(0,Ge.P6G)("symbolIcon.operatorForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wb=(0,Ge.P6G)("symbolIcon.packageForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sb=(0,Ge.P6G)("symbolIcon.propertyForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ry=(0,Ge.P6G)("symbolIcon.referenceForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$_=(0,Ge.P6G)("symbolIcon.snippetForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Oy=(0,Ge.P6G)("symbolIcon.stringForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Py=(0,Ge.P6G)("symbolIcon.structForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Db=(0,Ge.P6G)("symbolIcon.textForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jh=(0,Ge.P6G)("symbolIcon.typeParameterForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Eb=(0,Ge.P6G)("symbolIcon.unitForeground",{dark:Ge.dRz,light:Ge.dRz,hc:Ge.dRz},(0,ke.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fy=(0,Ge.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ke.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,ln.Ic)((_,e)=>{const t=_.getColor(gb);t&&e.addRule(`${an.lA.symbolArray.cssSelector} { color: ${t}; }`);const n=_.getColor(Iy);n&&e.addRule(`${an.lA.symbolBoolean.cssSelector} { color: ${n}; }`);const s=_.getColor(My);s&&e.addRule(`${an.lA.symbolClass.cssSelector} { color: ${s}; }`);const a=_.getColor(U_);a&&e.addRule(`${an.lA.symbolMethod.cssSelector} { color: ${a}; }`);const p=_.getColor(z_);p&&e.addRule(`${an.lA.symbolColor.cssSelector} { color: ${p}; }`);const L=_.getColor(AD);L&&e.addRule(`${an.lA.symbolConstant.cssSelector} { color: ${L}; }`);const q=_.getColor(Ny);q&&e.addRule(`${an.lA.symbolConstructor.cssSelector} { color: ${q}; }`);const ie=_.getColor(mb);ie&&e.addRule(`\n\t\t\t${an.lA.symbolValue.cssSelector},${an.lA.symbolEnum.cssSelector} { color: ${ie}; }`);const te=_.getColor(pb);te&&e.addRule(`${an.lA.symbolEnumMember.cssSelector} { color: ${te}; }`);const ve=_.getColor(_b);ve&&e.addRule(`${an.lA.symbolEvent.cssSelector} { color: ${ve}; }`);const tt=_.getColor(vb);tt&&e.addRule(`${an.lA.symbolField.cssSelector} { color: ${tt}; }`);const gt=_.getColor(bb);gt&&e.addRule(`${an.lA.symbolFile.cssSelector} { color: ${gt}; }`);const Vt=_.getColor(Zc);Vt&&e.addRule(`${an.lA.symbolFolder.cssSelector} { color: ${Vt}; }`);const dn=_.getColor(ap);dn&&e.addRule(`${an.lA.symbolFunction.cssSelector} { color: ${dn}; }`);const kn=_.getColor(Ty);kn&&e.addRule(`${an.lA.symbolInterface.cssSelector} { color: ${kn}; }`);const On=_.getColor(Ay);On&&e.addRule(`${an.lA.symbolKey.cssSelector} { color: ${On}; }`);const li=_.getColor(kD);li&&e.addRule(`${an.lA.symbolKeyword.cssSelector} { color: ${li}; }`);const Xn=_.getColor(Cb);Xn&&e.addRule(`${an.lA.symbolModule.cssSelector} { color: ${Xn}; }`);const Ki=_.getColor(j_);Ki&&e.addRule(`${an.lA.symbolNamespace.cssSelector} { color: ${Ki}; }`);const Bi=_.getColor(Eg);Bi&&e.addRule(`${an.lA.symbolNull.cssSelector} { color: ${Bi}; }`);const Eo=_.getColor(ky);Eo&&e.addRule(`${an.lA.symbolNumber.cssSelector} { color: ${Eo}; }`);const us=_.getColor(K_);us&&e.addRule(`${an.lA.symbolObject.cssSelector} { color: ${us}; }`);const Cr=_.getColor(yb);Cr&&e.addRule(`${an.lA.symbolOperator.cssSelector} { color: ${Cr}; }`);const ga=_.getColor(wb);ga&&e.addRule(`${an.lA.symbolPackage.cssSelector} { color: ${ga}; }`);const ma=_.getColor(Sb);ma&&e.addRule(`${an.lA.symbolProperty.cssSelector} { color: ${ma}; }`);const Nc=_.getColor(Ry);Nc&&e.addRule(`${an.lA.symbolReference.cssSelector} { color: ${Nc}; }`);const ld=_.getColor($_);ld&&e.addRule(`${an.lA.symbolSnippet.cssSelector} { color: ${ld}; }`);const ja=_.getColor(Oy);ja&&e.addRule(`${an.lA.symbolString.cssSelector} { color: ${ja}; }`);const al=_.getColor(Py);al&&e.addRule(`${an.lA.symbolStruct.cssSelector} { color: ${al}; }`);const cd=_.getColor(Db);cd&&e.addRule(`${an.lA.symbolText.cssSelector} { color: ${cd}; }`);const Pf=_.getColor(jh);Pf&&e.addRule(`${an.lA.symbolTypeParameter.cssSelector} { color: ${Pf}; }`);const um=_.getColor(Eb);um&&e.addRule(`${an.lA.symbolUnit.cssSelector} { color: ${um}; }`);const hm=_.getColor(Fy);hm&&e.addRule(`${an.lA.symbolVariable.cssSelector} { color: ${hm}; }`)});class Lb{constructor(){this._onDidWillResize=new Ln.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Ln.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new Xe.SL,this._size=new oe.Ro(0,0),this._minSize=new oe.Ro(0,0),this._maxSize=new oe.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new qr.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new qr.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new qr.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:qr.l.North}),this._southSash=new qr.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:qr.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,n=0;this._sashListener.add(Ln.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)})),this._sashListener.add(Ln.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==e&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{e&&(n=s.currentX-s.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{e&&(n=-(s.currentX-s.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{e&&(t=-(s.currentY-s.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{e&&(t=s.currentY-s.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Ln.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Ln.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,n,s){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=s?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:s}=this._minSize,{height:a,width:p}=this._maxSize;e=Math.max(n,Math.min(a,e)),t=Math.max(s,Math.min(p,t));const L=new oe.Ro(t,e);oe.Ro.equals(L,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=L,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}function G_(_){return!!_&&Boolean(_.completion.documentation||_.completion.detail&&_.completion.detail!==_.completion.label)}let Y_=class{constructor(e,t){this._editor=e,this._onDidClose=new Ln.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Ln.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Xe.SL,this._renderDisposeable=new Xe.SL,this._borderWidth=1,this._size=new oe.Ro(330,0),this.domNode=oe.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Fa,{editor:e}),this._body=oe.$(".body"),this._scrollbar=new ah.s$(this._body,{}),oe.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=oe.R3(this._body,oe.$(".header")),this._close=oe.R3(this._header,oe.$("span"+an.lA.close.cssSelector)),this._close.title=ke.N("details.close","Close"),this._type=oe.R3(this._header,oe.$("p.type")),this._docs=oe.R3(this._body,oe.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(44),n=t.getMassagedFontFamily(Kn.isSafari?cn.hL.fontFamily:null),s=e.get(107)||t.fontSize,a=e.get(108)||t.lineHeight,p=t.fontWeight,q=`${a}px`;this.domNode.style.fontSize=`${s}px`,this.domNode.style.lineHeight=""+a/s,this.domNode.style.fontWeight=p,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=q,this._close.style.width=q}getLayoutInfo(){const e=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=ke.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var n,s;this._renderDisposeable.clear();let{detail:a,documentation:p}=e.completion;if(t){let L="";L+=`score: ${e.score[0]}\n`,L+=`prefix: ${null!==(n=e.word)&&void 0!==n?n:"(no prefix)"}\n`,L+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,L+=`distance: ${e.distance} (localityBonus-setting)\n`,L+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,L+=`commit_chars: ${null===(s=e.completion.commitCharacters)||void 0===s?void 0:s.join("")}\n`,p=(new Rn.W5).appendCodeblock("empty",L),a=`Provider: ${e.provider._debugDisplayName}`}if(t||G_(e)){if(this.domNode.classList.remove("no-docs","no-type"),a){const L=a.length>1e5?`${a.substr(0,1e5)}\u2026`:a;this._type.textContent=L,this._type.title=L,oe.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(L))}else oe.PO(this._type),this._type.title="",oe.Cp(this._type),this.domNode.classList.add("no-type");if(oe.PO(this._docs),"string"==typeof p)this._docs.classList.remove("markdown-docs"),this._docs.textContent=p;else if(p){this._docs.classList.add("markdown-docs"),oe.PO(this._docs);const L=this._markdownRenderer.render(p);this._docs.appendChild(L.element),this._renderDisposeable.add(L),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=L=>{L.preventDefault(),L.stopPropagation()},this._close.onclick=L=>{L.preventDefault(),L.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const n=new oe.Ro(e,t);oe.Ro.equals(n,this._size)||(this._size=n,oe.dp(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};Y_=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,de.TG)],Y_);class Vy{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new Xe.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Lb,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,s,a=0,p=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(L=>{if(n&&s){this.widget.layout(L.dimension.width,L.dimension.height);let q=!1;L.west&&(p=s.width-L.dimension.width,q=!0),L.north&&(a=s.height-L.dimension.height,q=!0),q&&this._applyTopLeft({top:n.top+a,left:n.left+p})}L.done&&(n=void 0,s=void 0,a=0,p=0,this._userSize=L.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var L;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(L=this._userSize)&&void 0!==L?L:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var n;const s=e.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,null!==(n=this._userSize)&&void 0!==n?n:this.widget.size,t)}_placeAtAnchor(e,t,n){var s;const a=oe.D6(document.body),p=this.widget.getLayoutInfo(),L=new oe.Ro(220,2*p.lineHeight),q=e.top,ie=function(){const Xn=a.width-(e.left+e.width+p.borderWidth+p.horizontalPadding),Ki=-p.borderWidth+e.left+e.width,Bi=new oe.Ro(Xn,a.height-e.top-p.borderHeight-p.verticalPadding),Eo=Bi.with(void 0,e.top+e.height-p.borderHeight-p.verticalPadding);return{top:q,left:Ki,fit:Xn-t.width,maxSizeTop:Bi,maxSizeBottom:Eo,minSize:L.with(Math.min(Xn,L.width))}}(),tt=[ie,function(){const Xn=e.left-p.borderWidth-p.horizontalPadding,Ki=Math.max(p.horizontalPadding,e.left-t.width-p.borderWidth),Bi=new oe.Ro(Xn,a.height-e.top-p.borderHeight-p.verticalPadding),Eo=Bi.with(void 0,e.top+e.height-p.borderHeight-p.verticalPadding);return{top:q,left:Ki,fit:Xn-t.width,maxSizeTop:Bi,maxSizeBottom:Eo,minSize:L.with(Math.min(Xn,L.width))}}(),function(){const Xn=e.left,Ki=-p.borderWidth+e.top+e.height,Bi=new oe.Ro(e.width-p.borderHeight,a.height-e.top-e.height-p.verticalPadding);return{top:Ki,left:Xn,fit:Bi.height-t.height,maxSizeBottom:Bi,maxSizeTop:Bi,minSize:L.with(Bi.width)}}()],gt=null!==(s=tt.find(Xn=>Xn.fit>=0))&&void 0!==s?s:tt.sort((Xn,Ki)=>Ki.fit-Xn.fit)[0],Vt=e.top+e.height-p.borderHeight;let dn,kn=t.height;const On=Math.max(gt.maxSizeTop.height,gt.maxSizeBottom.height);let li;kn>On&&(kn=On),n?kn<=gt.maxSizeTop.height?(dn=!0,li=gt.maxSizeTop):(dn=!1,li=gt.maxSizeBottom):kn<=gt.maxSizeBottom.height?(dn=!1,li=gt.maxSizeBottom):(dn=!0,li=gt.maxSizeTop),this._applyTopLeft({left:gt.left,top:dn?gt.top:Vt-kn}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!dn,gt===ie,dn,gt!==ie),this._resizable.minSize=gt.minSize,this._resizable.maxSize=li,this._resizable.layout(kn,Math.min(li.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Tr=(()=>(function(_){_[_.FILE=0]="FILE",_[_.FOLDER=1]="FOLDER",_[_.ROOT_FOLDER=2]="ROOT_FOLDER"}(Tr||(Tr={})),Tr))();function $h(_,e,t,n){const s=n===Tr.ROOT_FOLDER?["rootfolder-icon"]:n===Tr.FOLDER?["folder-icon"]:["file-icon"];if(t){let a;if(a=t.scheme===st.lg.data?So.Vb.parseMetaData(t).get(So.Vb.META_DATA_LABEL):Z_((0,So.Hx)(t).toLowerCase()),n===Tr.FOLDER)s.push(`${a}-name-folder-icon`);else{if(a){if(s.push(`${a}-name-file-icon`),a.length<=255){const L=a.split(".");for(let q=1;q<L.length;q++)s.push(`${L.slice(q).join(".")}-ext-file-icon`)}s.push("ext-file-icon")}const p=function xb(_,e,t){if(!t)return null;let n=null;if(t.scheme===st.lg.data){const a=So.Vb.parseMetaData(t).get(So.Vb.META_DATA_MIME);a&&(n=e.getLanguageIdByMimeType(a))}else{const s=_.getModel(t);s&&(n=s.getLanguageId())}return n&&n!==d.bd?n:e.guessLanguageIdByFilepathOrFirstLine(t)}(_,e,t);p&&s.push(`${Z_(p)}-lang-file-icon`)}}return s}function Z_(_){return _.replace(/[\11\12\14\15\40]/g,"/")}var Lg,lp=function(_,e){return function(t,n){e(t,n,_)}};function Mb(_){return`suggest-aria-id:${_}`}const Wy=(0,Ir.q5)("suggest-more-info",an.lA.chevronRight,ke.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Hy=new(Lg=class hy{extract(e,t){if(e.textLabel.match(hy._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(hy._regexStrict))return t[0]=e.completion.detail,!0;if("string"==typeof e.completion.documentation){const n=hy._regexRelaxed.exec(e.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===e.completion.documentation.length))return t[0]=n[0],!0}return!1}},Lg._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Lg._regexStrict=new RegExp(`^${Lg._regexRelaxed.source}$`,"i"),Lg);let cp=class{constructor(e,t,n,s){this._editor=e,this._modelService=t,this._languageService=n,this._themeService=s,this._onDidToggleDetails=new Ln.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new Xe.SL,t.root=e,t.root.classList.add("show-file-icons"),t.icon=(0,oe.R3)(e,(0,oe.$)(".icon")),t.colorspan=(0,oe.R3)(t.icon,(0,oe.$)("span.colorspan"));const n=(0,oe.R3)(e,(0,oe.$)(".contents")),s=(0,oe.R3)(n,(0,oe.$)(".main"));t.iconContainer=(0,oe.R3)(s,(0,oe.$)(".icon-label.codicon")),t.left=(0,oe.R3)(s,(0,oe.$)("span.left")),t.right=(0,oe.R3)(s,(0,oe.$)("span.right")),t.iconLabel=new U.g(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=(0,oe.R3)(t.left,(0,oe.$)("span.signature-label")),t.qualifierLabel=(0,oe.R3)(t.left,(0,oe.$)("span.qualifier-label")),t.detailsLabel=(0,oe.R3)(t.right,(0,oe.$)("span.details-label")),t.readMore=(0,oe.R3)(t.right,(0,oe.$)("span.readMore"+ln.kS.asCSSSelector(Wy))),t.readMore.title=ke.N("readMore","Read More");const a=()=>{const p=this._editor.getOptions(),L=p.get(44),q=L.getMassagedFontFamily(Kn.isSafari?cn.hL.fontFamily:null),ie=L.fontFeatureSettings,te=p.get(107)||L.fontSize,ve=p.get(108)||L.lineHeight,tt=L.fontWeight,Vt=`${ve}px`;t.root.style.fontSize=`${te}px`,t.root.style.fontWeight=tt,s.style.fontFamily=q,s.style.fontFeatureSettings=ie,s.style.lineHeight=Vt,t.icon.style.height=Vt,t.icon.style.width=Vt,t.readMore.style.height=Vt,t.readMore.style.width=Vt};return a(),t.disposables.add(this._editor.onDidChangeConfiguration(p=>{(p.hasChanged(44)||p.hasChanged(107)||p.hasChanged(108))&&a()})),t}renderElement(e,t,n){const{completion:s}=e;n.root.id=Mb(t),n.colorspan.style.backgroundColor="";const a={labelEscapeNewLines:!0,matches:(0,le.mB)(e.score)};let p=[];if(19===s.kind&&Hy.extract(e,p))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=p[0];else if(20===s.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const L=$h(this._modelService,this._languageService,xo.o.from({scheme:"fake",path:e.textLabel}),Tr.FILE),q=$h(this._modelService,this._languageService,xo.o.from({scheme:"fake",path:s.detail}),Tr.FILE);a.extraClasses=L.length>q.length?L:q}else 23===s.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",a.extraClasses=(0,xi.xH)([$h(this._modelService,this._languageService,xo.o.from({scheme:"fake",path:e.textLabel}),Tr.FOLDER),$h(this._modelService,this._languageService,xo.o.from({scheme:"fake",path:s.detail}),Tr.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...an.dT.asClassNameArray(Gn.gX.toIcon(s.kind))));s.tags&&s.tags.indexOf(1)>=0&&(a.extraClasses=(a.extraClasses||[]).concat(["deprecated"]),a.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,a),"string"==typeof s.label?(n.parametersLabel.textContent="",n.detailsLabel.textContent=Nb(s.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=Nb(s.label.detail||""),n.detailsLabel.textContent=Nb(s.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,oe.$Z)(n.detailsLabel):(0,oe.Cp)(n.detailsLabel),G_(e)?(n.right.classList.add("can-expand-details"),(0,oe.$Z)(n.readMore),n.readMore.onmousedown=L=>{L.stopPropagation(),L.preventDefault()},n.readMore.onclick=L=>{L.stopPropagation(),L.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,oe.Cp)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function Nb(_){return _.replace(/\r\n|\r|\n/g,"")}cp=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([lp(1,ds.q),lp(2,Es.O),lp(3,ln.XE)],cp);var dp=function(_,e){return function(t,n){e(t,n,_)}};(0,Ge.P6G)("editorSuggestWidget.background",{dark:Ge.D0T,light:Ge.D0T,hc:Ge.D0T},ke.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,Ge.P6G)("editorSuggestWidget.border",{dark:Ge.D1_,light:Ge.D1_,hc:Ge.D1_},ke.N("editorSuggestWidgetBorder","Border color of the suggest widget."));const xg=(0,Ge.P6G)("editorSuggestWidget.foreground",{dark:Ge.NOs,light:Ge.NOs,hc:Ge.NOs},ke.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Ab=((0,Ge.P6G)("editorSuggestWidget.selectedForeground",{dark:Ge.NPS,light:Ge.NPS,hc:Ge.NPS},ke.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,Ge.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Ge.cbQ,light:Ge.cbQ,hc:Ge.cbQ},ke.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,Ge.P6G)("editorSuggestWidget.selectedBackground",{dark:Ge.Vqd,light:Ge.Vqd,hc:Ge.Vqd},ke.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,Ge.P6G)("editorSuggestWidget.highlightForeground",{dark:Ge.Gwp,light:Ge.Gwp,hc:Ge.Gwp},ke.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,Ge.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Ge.PX0,light:Ge.PX0,hc:Ge.PX0},ke.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,Ge.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Ge.ZnX)(xg,.5),light:(0,Ge.ZnX)(xg,.5),hc:(0,Ge.ZnX)(xg,.5)},ke.N("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class OD{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof ba}`}restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const n=JSON.parse(t);if(oe.Ro.is(n))return oe.Ro.lift(n)}catch(n){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let Gh=class SD{constructor(e,t,n,s,a){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new mt._F,this._disposables=new Xe.SL,this._onDidSelect=new Ln.Q5,this._onDidFocus=new Ln.Q5,this._onDidHide=new Ln.Q5,this._onDidShow=new Ln.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Ln.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Lb,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new kb(this,e),this._persistedSize=new OD(t,e);class p{constructor(gt,Vt,dn=!1,kn=!1){this.persistedSize=gt,this.currentSize=Vt,this.persistHeight=dn,this.persistWidth=kn}}let L;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),L=new p(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(tt=>{var gt,Vt,dn,kn;if(this._resize(tt.dimension.width,tt.dimension.height),L&&(L.persistHeight=L.persistHeight||!!tt.north||!!tt.south,L.persistWidth=L.persistWidth||!!tt.east||!!tt.west),tt.done){if(L){const{itemHeight:On,defaultSize:li}=this.getLayoutInfo(),Xn=Math.round(On/2);let{width:Ki,height:Bi}=this.element.size;(!L.persistHeight||Math.abs(L.currentSize.height-Bi)<=Xn)&&(Bi=null!==(Vt=null===(gt=L.persistedSize)||void 0===gt?void 0:gt.height)&&void 0!==Vt?Vt:li.height),(!L.persistWidth||Math.abs(L.currentSize.width-Ki)<=Xn)&&(Ki=null!==(kn=null===(dn=L.persistedSize)||void 0===dn?void 0:dn.width)&&void 0!==kn?kn:li.width),this._persistedSize.store(new oe.Ro(Ki,Bi))}this._contentWidget.unlockPreference(),L=void 0}})),this._messageElement=oe.R3(this.element.domNode,oe.$(".message")),this._listElement=oe.R3(this.element.domNode,oe.$(".tree"));const q=a.createInstance(Y_,this.editor);q.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Vy(q,this.editor);const ie=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);ie();const te=a.createInstance(cp,this.editor);this._disposables.add(te),this._disposables.add(te.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Ly.aV("SuggestWidget",this._listElement,{getHeight:tt=>this.getLayoutInfo().itemHeight,getTemplateId:tt=>"suggestion"},[te],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>ke.N("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:tt=>{let gt=tt.textLabel;if("string"!=typeof tt.completion.label){const{detail:On,description:li}=tt.completion.label;On&&li?gt=ke.N("label.full","{0}{1}, {2}",gt,On,li):On?gt=ke.N("label.detail","{0}{1}",gt,On):li&&(gt=ke.N("label.desc","{0}, {1}",gt,li))}if(!tt.isResolved||!this._isDetailsVisible())return gt;const{documentation:Vt,detail:dn}=tt.completion,kn=fi.WU("{0}{1}",dn||"",Vt?"string"==typeof Vt?Vt:Vt.value:"");return ke.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",gt,kn)}}}),this._status=a.createInstance(Dg,this.element.domNode);const ve=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);ve(),this._disposables.add((0,Rt.Jl)(this._list,s,{listInactiveFocusBackground:Ab,listInactiveFocusOutline:Ge.xL1})),this._disposables.add(s.onDidColorThemeChange(tt=>this._onThemeChange(tt))),this._onThemeChange(s.getColorTheme()),this._disposables.add(this._list.onMouseDown(tt=>this._onListMouseDownOrTap(tt))),this._disposables.add(this._list.onTap(tt=>this._onListMouseDownOrTap(tt))),this._disposables.add(this._list.onDidChangeSelection(tt=>this._onListSelection(tt))),this._disposables.add(this._list.onDidChangeFocus(tt=>this._onListFocus(tt))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(tt=>{tt.hasChanged(106)&&(ve(),ie())})),this._ctxSuggestWidgetVisible=Yo.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=Yo.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=Yo.MultipleSuggestions.bindTo(n),this._disposables.add(oe.mu(this._details.widget.domNode,"keydown",tt=>{this._onDetailsKeydown.fire(tt)})),this._disposables.add(this.editor.onMouseDown(tt=>this._onEditorMouseDown(tt)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0===e.element||void 0===e.index||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth="hc"===e.type?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const n=e.elements[0],s=e.indexes[0];n!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(s),this._currentSuggestionDetails=(0,mt.PG)(a=>function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){const p=(0,mt.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);a.onCancellationRequested(()=>p.dispose());const L=yield n.resolve(a);return p.dispose(),L})),this._currentSuggestionDetails.then(()=>{s>=this._list.length||n!==this._list.element(s)||(this._ignoreFocusEvents=!0,this._list.splice(s,1,[n]),this._list.setFocus([s]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Mb(s)}))}).catch(Ii.dL)),this._onDidFocus.fire({item:n,index:s,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",4===e),this.element.domNode.classList.remove("message"),e){case 0:oe.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=SD.LOADING_MESSAGE,oe.Cp(this._listElement,this._status.element),oe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=SD.NO_SUGGESTIONS_MESSAGE,oe.Cp(this._listElement,this._status.element),oe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:oe.Cp(this._messageElement),oe.$Z(this._listElement,this._status.element),this._show();break;case 5:oe.Cp(this._messageElement),oe.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,mt.Vg)(()=>this._setState(1),t)))}showSuggestions(e,t,n,s){var a,p;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(a=this._loadingTimeout)||void 0===a||a.dispose(),null===(p=this._currentSuggestionDetails)||void 0===p||p.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&2!==this._state&&0!==this._state)return void this._setState(4);const L=this._completionModel.items.length,q=0===L;if(this._ctxSuggestWidgetMultipleSuggestions.set(L>1),q)return this._setState(s?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(G_(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,n,s;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const a=oe.D6(document.body),p=this.getLayoutInfo();e||(e=p.defaultSize);let L=e.height,q=e.width;if(this._status.element.style.lineHeight=`${p.itemHeight}px`,2===this._state||1===this._state)L=p.itemHeight+p.borderHeight,q=p.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new oe.Ro(q,L),this._contentWidget.setPreference(2);else{const ie=a.width-p.borderHeight-2*p.horizontalPadding;q>ie&&(q=ie);const te=this._completionModel?this._completionModel.stats.pLabelLen*p.typicalHalfwidthCharacterWidth:q,ve=p.statusBarHeight+this._list.contentHeight+p.borderHeight,tt=p.itemHeight+p.statusBarHeight,gt=oe.i(this.editor.getDomNode()),Vt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),kn=Math.min(a.height-(gt.top+Vt.top+Vt.height)-p.verticalPadding,ve),On=gt.top+Vt.top-p.verticalPadding,li=Math.min(On,ve);let Xn=Math.min(Math.max(li,kn)+p.borderHeight,ve);L===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(L=this._cappedHeight.wanted),L<tt&&(L=tt),L>Xn&&(L=Xn);const Ki=150;L>kn||this._forceRenderingAbove&&On>Ki?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Xn=li):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Xn=kn),this.element.preferredSize=new oe.Ro(te,p.defaultSize.height),this.element.maxSize=new oe.Ro(ie,Xn),this.element.minSize=new oe.Ro(220,tt),this._cappedHeight=L===ve?{wanted:null!==(s=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==s?s:e.height,capped:L}:void 0}this._resize(q,L)}_resize(e,t){const{width:n,height:s}=this.element.maxSize;e=Math.min(n,e),t=Math.min(s,t);const{statusBarHeight:a}=this.getLayoutInfo();this._list.layout(t-a,e),this._listElement.style.height=t-a+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(e=this._contentWidget.getPosition())||void 0===e?void 0:e.preference[0]))}getLayoutInfo(){const e=this.editor.getOption(44),t=(0,xy.uZ)(this.editor.getOption(108)||e.lineHeight,8,1e3),n=this.editor.getOption(106).showStatusBar&&2!==this._state&&1!==this._state?t:0,s=this._details.widget.borderWidth,a=2*s;return{itemHeight:t,statusBarHeight:n,borderWidth:s,borderHeight:a,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new oe.Ro(430,n+12*t+a)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Gh.LOADING_MESSAGE=ke.N("suggestWidget.loading","Loading..."),Gh.NO_SUGGESTIONS_MESSAGE=ke.N("suggestWidget.noSuggestions","No suggestions."),Gh=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([dp(1,Lo.Uy),dp(2,ft.i6),dp(3,ln.XE),dp(4,de.TG)],Gh);class kb{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:s}=this._widget.getLayoutInfo();return new oe.Ro(t+2*n+s,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var Yh=function(_,e){return function(t,n){e(t,n,_)}};class Ob{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const s=e.getOffsetAt(t),a=e.getPositionAt(s+1);this._marker=e.deltaDecorations([],[{range:Ye.e.fromPositions(t,a),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let ol=class jE{constructor(e,t,n,s,a,p,L){this._memoryService=t,this._commandService=n,this._contextKeyService=s,this._instantiationService=a,this._logService=p,this._telemetryService=L,this._lineSuffix=new Xe.XK,this._toDispose=new Xe.SL,this._selectors=new jy(ve=>ve.priority),this._telemetryGate=0,this.editor=e,this.model=a.createInstance(B_,this.editor);const q=Yo.InsertMode.bindTo(s);q.set(e.getOption(106).insertMode),this.model.onDidTrigger(()=>q.set(e.getOption(106).insertMode)),this.widget=this._toDispose.add(new mt.Ue(()=>{const ve=this._instantiationService.createInstance(Gh,this.editor);this._toDispose.add(ve),this._toDispose.add(ve.onDidSelect(kn=>this._insertSuggestion(kn,0),this));const tt=new cb(this.editor,ve,kn=>this._insertSuggestion(kn,2));this._toDispose.add(tt),this._toDispose.add(this.model.onDidSuggest(kn=>{0===kn.completionModel.items.length&&tt.reset()}));const gt=Yo.MakesTextEdit.bindTo(this._contextKeyService),Vt=Yo.HasInsertAndReplaceRange.bindTo(this._contextKeyService),dn=Yo.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,Xe.OF)(()=>{gt.reset(),Vt.reset(),dn.reset()})),this._toDispose.add(ve.onDidFocus(({item:kn})=>{const On=this.editor.getPosition(),li=kn.editStart.column,Xn=On.column;let Ki=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!kn.completion.additionalTextEdits&&!(4&kn.completion.insertTextRules)&&Xn-li===kn.completion.insertText.length&&(Ki=this.editor.getModel().getValueInRange({startLineNumber:On.lineNumber,startColumn:li,endLineNumber:On.lineNumber,endColumn:Xn})!==kn.completion.insertText),gt.set(Ki),Vt.set(!An.L.equals(kn.editInsertEnd,kn.editReplaceEnd)),dn.set(Boolean(kn.provider.resolveCompletionItem)||Boolean(kn.completion.documentation)||kn.completion.detail!==kn.completion.label)})),this._toDispose.add(ve.onDetailsKeyDown(kn=>{kn.toKeybinding().equals(new ib.QC(!0,!1,!1,!1,33))||Pn.dz&&kn.toKeybinding().equals(new ib.QC(!1,!1,!1,!0,33))?kn.stopPropagation():kn.toKeybinding().isModifierKey()||this.editor.focus()})),ve})),this._overtypingCapturer=this._toDispose.add(new mt.Ue(()=>this._toDispose.add(new Ey(this.editor,this.model)))),this._alternatives=this._toDispose.add(new mt.Ue(()=>this._toDispose.add(new wu(this.editor,this._contextKeyService)))),this._toDispose.add(a.createInstance(yu,e)),this._toDispose.add(this.model.onDidTrigger(ve=>{this.widget.value.showTriggered(ve.auto,ve.shy?250:50),this._lineSuffix.value=new Ob(this.editor.getModel(),ve.position)})),this._toDispose.add(this.model.onDidSuggest(ve=>{if(!ve.shy){let tt=-1;for(const gt of this._selectors.itemsOrderedByPriorityDesc)if(tt=gt.select(this.editor.getModel(),this.editor.getPosition(),ve.completionModel.items),-1!==tt)break;-1===tt&&(tt=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ve.completionModel.items)),this.widget.value.showSuggestions(ve.completionModel,tt,ve.isFrozen,ve.auto)}})),this._toDispose.add(this.model.onDidCancel(ve=>{ve.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let ie=Yo.AcceptSuggestionsOnEnter.bindTo(s),te=()=>{const ve=this.editor.getOption(1);ie.set("on"===ve||"smart"===ve)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>te())),te()}static get(e){return e.getContribution(jE.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const n=Wr.get(this.editor);if(!n)return;const s=this.editor.getModel(),a=s.getAlternativeVersionId(),{item:p}=e,L=[],q=new wi.A;1&t||this.editor.pushUndoStop();const ie=this.getOverwriteInfo(p,Boolean(8&t));if(this._memoryService.memorize(s,this.editor.getPosition(),p),Array.isArray(p.completion.additionalTextEdits)){const ve=fn.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",p.completion.additionalTextEdits.map(tt=>tr.h.replace(Ye.e.lift(tt.range),tt.text))),ve.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!p.isResolved){const ve=new Hd.G(!0);let tt;const gt=s.onDidChangeContent(On=>{if(On.isFlush)return q.cancel(),void gt.dispose();for(let li of On.changes){const Xn=Ye.e.getEndPosition(li.range);(!tt||An.L.isBefore(Xn,tt))&&(tt=Xn)}});let Vt=t;t|=2;let dn=!1,kn=this.editor.onWillType(()=>{kn.dispose(),dn=!0,2&Vt||this.editor.pushUndoStop()});L.push(p.resolve(q.token).then(()=>{if(!p.completion.additionalTextEdits||q.token.isCancellationRequested||tt&&p.completion.additionalTextEdits.some(li=>An.L.isBefore(tt,Ye.e.getStartPosition(li.range))))return!1;dn&&this.editor.pushUndoStop();const On=fn.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",p.completion.additionalTextEdits.map(li=>tr.h.replace(Ye.e.lift(li.range),li.text))),On.restoreRelativeVerticalPositionOfCursor(this.editor),(dn||!(2&Vt))&&this.editor.pushUndoStop(),!0}).then(On=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ve.elapsed(),On),gt.dispose(),kn.dispose()}))}let{insertText:te}=p.completion;4&p.completion.insertTextRules||(te=Lt.escape(te)),n.insert(te,{overwriteBefore:ie.overwriteBefore,overwriteAfter:ie.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&p.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),p.completion.command?p.completion.command.id===up.id?this.model.trigger({auto:!0,shy:!1},!0):(L.push(this._commandService.executeCommand(p.completion.command.id,...p.completion.command.arguments?[...p.completion.command.arguments]:[]).catch(Ii.dL)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,ve=>{for(q.cancel();s.canUndo();){a!==s.getAlternativeVersionId()&&s.undo(),this._insertSuggestion(ve,3|(8&t?8:0));break}}),this._alertCompletionItem(p),Promise.all(L).finally(()=>{this._reportSuggestionAcceptedTelemetry(s,e),this.model.clear(),q.dispose()})}_reportSuggestionAcceptedTelemetry(e,t){var n;if(this._telemetryGate++%100!=0)return;const s=(null!==(n=t.item.provider._debugDisplayName)&&void 0!==n?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:s,basenameHash:(0,Qt.vp)((0,So.EZ)(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:(0,So.DZ)(e.uri)})}getOverwriteInfo(e,t){(0,wn.p_)(this.editor.hasModel());let n="replace"===this.editor.getOption(106).insertMode;t&&(n=!n);const a=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:e.position.column-e.editStart.column+(this.editor.getPosition().column-e.position.column),overwriteAfter:a+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if((0,xi.Of)(e.completion.additionalTextEdits)){let t=ke.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,Zt.Z9)(t)}}triggerSuggest(e,t){this.editor.hasModel()&&(this.model.trigger({auto:null!=t&&t,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},s=a=>{if(4&a.completion.insertTextRules||a.completion.additionalTextEdits)return!0;const p=this.editor.getPosition(),L=a.editStart.column,q=p.column;return q-L!==a.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:p.lineNumber,startColumn:L,endLineNumber:p.lineNumber,endColumn:q})!==a.completion.insertText};Ln.ju.once(this.model.onDidTrigger)(a=>{let p=[];Ln.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,Xe.B9)(p),n()},void 0,p),this.model.onDidSuggest(({completionModel:L})=>{if((0,Xe.B9)(p),0===L.items.length)return void n();const q=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),L.items),ie=L.items[q];s(ie)?(this.editor.pushUndoStop(),this._insertSuggestion({index:q,item:ie,model:L},7)):n()},void 0,p)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let s=0;e&&(s|=4),t&&(s|=8),this._insertSuggestion(n,s)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};ol.ID="editor.contrib.suggestController",ol=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Yh(1,F_),Yh(2,oo.Hy),Yh(3,ft.i6),Yh(4,de.TG),Yh(5,Cg.VZ),Yh(6,Go.b)],ol);class jy{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,n)=>this.prioritySelector(n)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let up=(()=>{class _ extends pt.R6{constructor(){super({id:_.id,label:ke.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:ft.Ao.and(dt.u.writable,dt.u.hasCompletionItemProvider),kbOpts:{kbExpr:dt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(t,n,s){const a=ol.get(n);if(!a)return;let p;s&&"object"==typeof s&&!0===s.auto&&(p=!0),a.triggerSuggest(void 0,p)}}return _.id="editor.action.triggerSuggest",_})();(0,pt._K)(ol.ID,ol),(0,pt.Qr)(up);const Cl=190,Wa=pt._l.bindToContribution(ol.get);(0,pt.fK)(new Wa({id:"acceptSelectedSuggestion",precondition:Yo.Visible,handler(_){_.acceptSelectedSuggestion(!0,!1)}})),ea.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:ft.Ao.and(Yo.Visible,dt.u.textInputFocus),primary:2,weight:Cl}),ea.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:ft.Ao.and(Yo.Visible,dt.u.textInputFocus,Yo.AcceptSuggestionsOnEnter,Yo.MakesTextEdit),primary:3,weight:Cl}),Mt.BH.appendMenuItem(Al,{command:{id:"acceptSelectedSuggestion",title:ke.N("accept.insert","Insert")},group:"left",order:1,when:Yo.HasInsertAndReplaceRange.toNegated()}),Mt.BH.appendMenuItem(Al,{command:{id:"acceptSelectedSuggestion",title:ke.N("accept.insert","Insert")},group:"left",order:1,when:ft.Ao.and(Yo.HasInsertAndReplaceRange,Yo.InsertMode.isEqualTo("insert"))}),Mt.BH.appendMenuItem(Al,{command:{id:"acceptSelectedSuggestion",title:ke.N("accept.replace","Replace")},group:"left",order:1,when:ft.Ao.and(Yo.HasInsertAndReplaceRange,Yo.InsertMode.isEqualTo("replace"))}),(0,pt.fK)(new Wa({id:"acceptAlternativeSelectedSuggestion",precondition:ft.Ao.and(Yo.Visible,dt.u.textInputFocus),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:1027,secondary:[1026]},handler(_){_.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Al,group:"left",order:2,when:ft.Ao.and(Yo.HasInsertAndReplaceRange,Yo.InsertMode.isEqualTo("insert")),title:ke.N("accept.replace","Replace")},{menuId:Al,group:"left",order:2,when:ft.Ao.and(Yo.HasInsertAndReplaceRange,Yo.InsertMode.isEqualTo("replace")),title:ke.N("accept.insert","Insert")}]})),oo.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,pt.fK)(new Wa({id:"hideSuggestWidget",precondition:Yo.Visible,handler:_=>_.cancelSuggestWidget(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:9,secondary:[1033]}})),(0,pt.fK)(new Wa({id:"selectNextSuggestion",precondition:ft.Ao.and(Yo.Visible,Yo.MultipleSuggestions),handler:_=>_.selectNextSuggestion(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,pt.fK)(new Wa({id:"selectNextPageSuggestion",precondition:ft.Ao.and(Yo.Visible,Yo.MultipleSuggestions),handler:_=>_.selectNextPageSuggestion(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:12,secondary:[2060]}})),(0,pt.fK)(new Wa({id:"selectLastSuggestion",precondition:ft.Ao.and(Yo.Visible,Yo.MultipleSuggestions),handler:_=>_.selectLastSuggestion()})),(0,pt.fK)(new Wa({id:"selectPrevSuggestion",precondition:ft.Ao.and(Yo.Visible,Yo.MultipleSuggestions),handler:_=>_.selectPrevSuggestion(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,pt.fK)(new Wa({id:"selectPrevPageSuggestion",precondition:ft.Ao.and(Yo.Visible,Yo.MultipleSuggestions),handler:_=>_.selectPrevPageSuggestion(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:11,secondary:[2059]}})),(0,pt.fK)(new Wa({id:"selectFirstSuggestion",precondition:ft.Ao.and(Yo.Visible,Yo.MultipleSuggestions),handler:_=>_.selectFirstSuggestion()})),(0,pt.fK)(new Wa({id:"toggleSuggestionDetails",precondition:Yo.Visible,handler:_=>_.toggleSuggestionDetails(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Al,group:"right",order:1,when:ft.Ao.and(Yo.DetailsVisible,Yo.CanResolve),title:ke.N("detail.more","show less")},{menuId:Al,group:"right",order:1,when:ft.Ao.and(Yo.DetailsVisible.toNegated(),Yo.CanResolve),title:ke.N("detail.less","show more")}]})),(0,pt.fK)(new Wa({id:"toggleExplainMode",precondition:Yo.Visible,handler:_=>_.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,pt.fK)(new Wa({id:"toggleSuggestionFocus",precondition:Yo.Visible,handler:_=>_.toggleSuggestionFocus(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,pt.fK)(new Wa({id:"insertBestCompletion",precondition:ft.Ao.and(dt.u.textInputFocus,ft.Ao.equals("config.editor.tabCompletion","on"),yu.AtEnd,Yo.Visible.toNegated(),wu.OtherSuggestions.toNegated(),Wr.InSnippetMode.toNegated()),handler:(_,e)=>{_.triggerSuggestAndAcceptBest((0,wn.Kn)(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:Cl,primary:2}})),(0,pt.fK)(new Wa({id:"insertNextSuggestion",precondition:ft.Ao.and(dt.u.textInputFocus,ft.Ao.equals("config.editor.tabCompletion","on"),wu.OtherSuggestions,Yo.Visible.toNegated(),Wr.InSnippetMode.toNegated()),handler:_=>_.acceptNextSuggestion(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:2}})),(0,pt.fK)(new Wa({id:"insertPrevSuggestion",precondition:ft.Ao.and(dt.u.textInputFocus,ft.Ao.equals("config.editor.tabCompletion","on"),wu.OtherSuggestions,Yo.Visible.toNegated(),Wr.InSnippetMode.toNegated()),handler:_=>_.acceptPrevSuggestion(),kbOpts:{weight:Cl,kbExpr:dt.u.textInputFocus,primary:1026}})),(0,pt.Qr)(class extends pt.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:ke.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(_,e){var t;null===(t=ol.get(e))||void 0===t||t.resetWidgetSize()}});class Ky extends Xe.JT{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new Ln.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new mt.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(s=>{s.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(s=>{s.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=ol.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(p,L,q)=>{const ie=this.editor.getModel(),te=Vd(ie,this.suggestControllerPreselector());if(!te)return-1;const ve=An.L.lift(L),tt=q.map((Vt,dn)=>{const kn=Pb(n,ve,Vt,this.isShiftKeyPressed),On=Vd(ie,null==kn?void 0:kn.normalizedInlineCompletion);if(!On)return;const li=function $y(_,e){return e.startLineNumber===_.startLineNumber&&e.startColumn===_.startColumn&&(e.endLineNumber<_.endLineNumber||e.endLineNumber===_.endLineNumber&&e.endColumn<=_.endColumn)}(te.range,On.range)&&te.text.startsWith(On.text);return{index:dn,valid:li,prefixLength:On.text.length,suggestItem:Vt}}).filter(Vt=>Vt&&Vt.valid),gt=(0,xi.Dc)(tt,(0,xi.tT)(Vt=>Vt.prefixLength,xi.fv));return gt?gt.index:-1}}));let s=!1;const a=()=>{s||(s=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Ln.ju.once(n.model.onDidTrigger)(p=>{a()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let n=!1;(function Gy(_,e){return _===e||!(!_||!e)&&_.completionItemKind===e.completionItemKind&&_.isSnippetText===e.isSnippetText&&function A_(_,e){return _===e||!(!_||!e)&&_.range.equalsRange(e.range)&&_.text===e.text&&_.command===e.command}(_.normalizedInlineCompletion,e.normalizedInlineCompletion)})(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,n=!0),this._isActive!==e&&(this._isActive=e,n=!0),n&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=ol.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?Pb(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=ol.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=ol.get(this.editor);e&&e.forceRenderingAbove()}}function Pb(_,e,t,n){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:Ye.e.fromPositions(e,e),text:""}};let{insertText:s}=t.completion,a=!1;if(4&t.completion.insertTextRules){const L=(new Lt).parse(s),q=_.editor.getModel();if(L.children.length>100)return;Tl.adjustWhitespace(q,e,L,!0,!0),s=L.toString(),a=!0}const p=_.getOverwriteInfo(t,n);return{isSnippetText:a,completionItemKind:t.completion.kind,normalizedInlineCompletion:{text:s,range:Ye.e.fromPositions(e.delta(0,-p.overwriteBefore),e.delta(0,Math.max(p.overwriteAfter,0)))}}}var Ig=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class Zh extends qm{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new Ky(this.editor,()=>{var n,s;return null===(s=null===(n=this.cache.value)||void 0===n?void 0:n.completions[0])||void 0===s?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new Xe.XK),this.updateCacheSoon=this._register(new mt.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function Yy(_){return _.reduce((e,t)=>e+t,0)}(s.parts.map(a=>a.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(n=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,Xe.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Ig(this,void 0,void 0,function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.text,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},n=this.editor.getPosition(),s=(0,mt.PG)(p=>Ig(this,void 0,void 0,function*(){let L;try{L=yield Ph(n,this.editor.getModel(),{triggerKind:Gn.bw.Automatic,selectedSuggestionInfo:t},p)}catch(q){return void(0,Ii.dL)(q)}p.isCancellationRequested||(this.cache.setValue(this.editor,L,Gn.bw.Automatic),this.onDidChangeEmitter.fire())})),a=new pg(s,Gn.bw.Automatic);this.updateOperation.value=a,yield s,this.updateOperation.value===a&&this.updateOperation.clear()})}get ghostText(){var e,t,n;const s=this.isSuggestionPreviewEnabled(),a=Vd(this.editor.getModel(),null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),p=this.suggestionInlineCompletionSource.state,L=Vd(this.editor.getModel(),null===(n=null==p?void 0:p.selectedItem)||void 0===n?void 0:n.normalizedInlineCompletion),q=a&&L&&a.text.startsWith(L.text)&&a.range.equalsRange(L.range);if(!s&&!q)return;const ie=q?a:L||a;return this.toGhostText(ie,q?ie.text.length-L.text.length:0)}toGhostText(e,t){const n=this.editor.getOptions().get(106).previewMode;return e?tp(e,this.editor.getModel(),n,this.editor.getPosition(),t)||new gg(e.range.endLineNumber,[],this.minReservedLineCount):void 0}}var Fb=function(_,e){return function(t,n){e(t,n,_)}};class wc extends Xe.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new Ln.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Xe.XK)}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?function Mg(_,e){return{object:_,dispose:()=>null==e?void 0:e.dispose()}}(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Du=class extends wc{constructor(e,t,n){super(),this.editor=e,this.commandService=t,this.languageConfigurationService=n,this.sharedCache=this._register(new wa),this.suggestWidgetAdapterModel=this._register(new Zh(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new Cu(this.editor,this.sharedCache,this.commandService,this.languageConfigurationService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const n=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!n&&n.parts.some(s=>e.containsPosition(new An.L(n.lineNumber,s.column)))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(Gn.bw.Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t})}};Du=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Fb(1,oo.Hy),Fb(2,Us.c_)],Du);class wa extends Xe.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new Ln.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Xe.XK)}get value(){return this.cache.value}setValue(e,t,n){this.cache.value=new eb(e,t,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}m(1964);var Ud,hp=m(8028),kl=m(8511),fp=m(4500),Eu=m(6145),Lu=function(_,e){return function(t,n){e(t,n,_)}};const xu=null===(Ud=window.trustedTypes)||void 0===Ud?void 0:Ud.createPolicy("editorGhostText",{createHTML:_=>_});let jd=class extends Xe.JT{constructor(e,t,n,s){super(),this.editor=e,this.model=t,this.instantiationService=n,this.languageService=s,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Jh,this.editor)),this.additionalLinesWidget=this._register(new qh(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(a=>{(a.hasChanged(29)||a.hasChanged(105)||a.hasChanged(88)||a.hasChanged(83)||a.hasChanged(45)||a.hasChanged(44)||a.hasChanged(59))&&this.update()})),this._register((0,Xe.OF)(()=>{var a;this.disposed=!0,this.update(),null===(a=this.viewMoreContentWidget)||void 0===a||a.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const n=new Array,s=new Array;function a(ie,te){if(s.length>0){const ve=s[s.length-1];te&&ve.decorations.push(new fp.Kp(ve.content.length+1,ve.content.length+1+ie[0].length,te,0)),ve.content+=ie[0],ie=ie.slice(1)}for(const ve of ie)s.push({content:ve,decorations:te?[new fp.Kp(1,ve.length+1,te,0)]:[]})}const p=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let L,q=0;for(const ie of t.parts){let te=ie.lines;void 0===L?(n.push({column:ie.column,text:te[0],preview:ie.preview}),te=te.slice(1)):a([p.substring(q,ie.column-1)],void 0),te.length>0&&(a(te,"ghost-text"),void 0===L&&ie.column<=p.length&&(L=ie.column)),q=ie.column-1}void 0!==L&&a([p.substring(q)],void 0),this.partsWidget.setParts(t.lineNumber,n,void 0!==L?{column:L,length:p.length+1-L}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,s,t.additionalReservedLineCount),t.parts.some(ie=>ie.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new An.L(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,n){const s=this.editor.getOption(44),a=document.createElement("div");a.className="suggest-preview-additional-widget",(0,Pa.N)(a,s);const p=document.createElement("span");p.className="content-spacer",p.append(t),a.append(p);const L=document.createElement("span");L.className="content-newline suggest-preview-text",L.append("\u23ce  "),a.append(L);const q=new Xe.SL,ie=document.createElement("div");return ie.className="button suggest-preview-text",ie.append(`+${n} lines\u2026`),q.add(oe.mu(ie,"mousedown",te=>{var ve;null===(ve=this.model)||void 0===ve||ve.setExpanded(!0),te.preventDefault(),this.editor.focus()})),a.append(ie),new Bb(this.editor,e,a,q)}};jd=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Lu(2,de.TG),Lu(3,Es.O)],jd);class Jh{constructor(e){this.editor=e,this.decorationIds=[],this.disposableStore=new Xe.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,n){if(this.disposableStore.clear(),!this.editor.getModel())return;const a=new Array;n&&a.push({range:Ye.e.fromPositions(new An.L(e,n.column),new An.L(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(p=>({range:Ye.e.fromPositions(new An.L(e,p.column)),options:{description:"ghost-text",after:{content:p.text,inlineClassName:p.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(a))}}class qh{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,n){const s=this.editor.getModel();if(!s)return;const{tabSize:a}=s.getOptions();this.editor.changeViewZones(p=>{this._viewZoneId&&(p.removeZone(this._viewZoneId),this._viewZoneId=void 0);const L=Math.max(t.length,n);if(L>0){const q=document.createElement("div");(function ef(_,e,t,n,s){const a=n.get(29),p=n.get(105),q=n.get(83),ie=n.get(45),te=n.get(44),ve=n.get(59),tt=(0,kl.l$)(1e4);tt.appendASCIIString('<div class="suggest-preview-text">');for(let dn=0,kn=t.length;dn<kn;dn++){const On=t[dn],li=On.content;tt.appendASCIIString('<div class="view-line'),tt.appendASCIIString('" style="top:'),tt.appendASCIIString(String(dn*ve)),tt.appendASCIIString('px;width:1000000px;">');const Xn=fi.$i(li),Ki=fi.Ut(li),Bi=hp.A.createEmpty(li,s);(0,Eu.d1)(new Eu.IJ(te.isMonospace&&!a,te.canUseHalfwidthRightwardsArrow,li,!1,Xn,Ki,0,Bi,On.decorations,e,0,te.spaceWidth,te.middotWidth,te.wsmiddotWidth,p,"none",q,ie!==cn.n0.OFF,null),tt),tt.appendASCIIString("</div>")}tt.appendASCIIString("</div>"),(0,Pa.N)(_,te);const gt=tt.build(),Vt=xu?xu.createHTML(gt):gt;_.innerHTML=Vt})(q,a,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=p.addZone({afterLineNumber:e,heightInLines:L,domNode:q,afterColumnAffinity:1})}})}}class Bb extends Xe.JT{constructor(e,t,n,s){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(s),this._register((0,Xe.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,ln.Ic)((_,e)=>{const t=_.getColor(ht.N5);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));const n=_.getColor(ht.IO);n&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const s=_.getColor(ht.x3);s&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${s}; }`))});var X_=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},gp=function(_,e){return function(t,n){e(t,n,_)}},Ng=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let _r=class KE extends Xe.JT{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new Xe.XK),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(n=>{n.hasChanged(106)&&this.updateModelController(),n.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(KE.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(106),t=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(mp,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,n;return(null===(n=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Ng(this,void 0,void 0,function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t})}};_r.inlineSuggestionVisible=new ft.uy("inlineSuggestionVisible",!1,ke.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),_r.inlineSuggestionHasIndentation=new ft.uy("inlineSuggestionHasIndentation",!1,ke.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),_r.inlineSuggestionHasIndentationLessThanTabSize=new ft.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,ke.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),_r.ID="editor.contrib.ghostTextController",_r=X_([gp(1,de.TG)],_r);class Vb{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=_r.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=_r.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=_r.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let mp=class extends Xe.JT{constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.contextKeys=new Vb(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Du,this.editor)),this.widget=this._register(this.instantiationService.createInstance(jd,this.editor,this.model)),this._register((0,Xe.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));let t=!1,n=!0;const s=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&s&&s.parts.length>0){const{column:a,lines:p}=s.parts[0],L=p[0];if(a<=this.editor.getModel().getLineIndentColumn(s.lineNumber)){let te=(0,fi.LC)(L);-1===te&&(te=L.length-1),t=te>0;const ve=this.editor.getModel().getOptions().tabSize;n=M_.i.visibleColumnFromColumn(L,te+1,ve)<ve}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};mp=X_([gp(1,de.TG),gp(2,ft.i6)],mp);const J_=pt._l.bindToContribution(_r.get),tf=new J_({id:tl,precondition:_r.inlineSuggestionVisible,handler(_){_.commit(),_.editor.focus()}});(0,pt.fK)(tf),ea.W.registerKeybindingRule({primary:2,weight:200,id:tf.id,when:ft.Ao.and(tf.precondition,dt.u.tabMovesFocus.toNegated(),_r.inlineSuggestionHasIndentationLessThanTabSize)}),(0,pt.fK)(new J_({id:"editor.action.inlineSuggest.hide",precondition:_r.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(_){_.hide()}}));let q_=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ft.Ao.and(dt.u.writable,_r.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(t,n){return Ng(this,void 0,void 0,function*(){const s=_r.get(n);s&&(s.showNextInlineCompletion(),n.focus())})}}return _.ID="editor.action.inlineSuggest.showNext",_})(),pp=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ft.Ao.and(dt.u.writable,_r.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(t,n){return Ng(this,void 0,void 0,function*(){const s=_r.get(n);s&&(s.showPreviousInlineCompletion(),n.focus())})}}return _.ID="editor.action.inlineSuggest.showPrevious",_})();(0,pt._K)(_r.ID,_r),(0,pt.Qr)(class Qy extends pt.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:ke.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:dt.u.writable})}run(e,t){return Ng(this,void 0,void 0,function*(){const n=_r.get(t);n&&n.trigger()})}}),(0,pt.Qr)(q_),(0,pt.Qr)(pp);var Iu=function(_,e){return function(t,n){e(t,n,_)}};class Xy{constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let e0=class{constructor(e,t,n,s,a,p,L){this._editor=e,this._commandService=t,this._menuService=n,this._contextKeyService=s,this._languageService=a,this._openerService=p,this.accessibilityService=L}suggestHoverAnchor(e){const t=_r.get(this._editor);if(!t)return null;const n=e.target;if(8===n.type){const s=n.detail;if(t.shouldShowHoverAtViewZone(s.viewZoneId))return new du(1e3,this,Ye.e.fromPositions(s.positionBefore||s.position,s.positionBefore||s.position))}return 7===n.type&&t.shouldShowHoverAt(n.range)||6===n.type&&n.detail.mightBeForeignElement&&t.shouldShowHoverAt(n.range)?new du(1e3,this,n.range):null}computeSync(e,t){const n=_r.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new Xy(this,e.range,n)]:[]}renderHoverParts(e,t){const n=new Xe.SL,s=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,s,n);const a=n.add(this._menuService.createMenu(Mt.eH.InlineCompletionsActions,this._contextKeyService)),p=e.statusBar.addAction({label:ke.N("showNextInlineSuggestion","Next"),commandId:q_.ID,run:()=>this._commandService.executeCommand(q_.ID)}),L=e.statusBar.addAction({label:ke.N("showPreviousInlineSuggestion","Previous"),commandId:pp.ID,run:()=>this._commandService.executeCommand(pp.ID)});e.statusBar.addAction({label:ke.N("acceptInlineSuggestion","Accept"),commandId:tf.id,run:()=>this._commandService.executeCommand(tf.id)});const q=[p,L];for(const ie of q)ie.setEnabled(!1);s.hasMultipleSuggestions().then(ie=>{for(const te of q)te.setEnabled(ie)});for(const[ie,te]of a.getActions())for(const ve of te)ve instanceof Mt.U8&&e.statusBar.addAction({label:ve.label,commandId:ve.item.id,run:()=>this._commandService.executeCommand(ve.item.id)});return n}renderScreenReaderText(e,t,n){var s,a;const p=oe.$,L=p("div.hover-row.markdown-hover"),q=oe.R3(L,p("div.hover-contents")),ie=n.add(new Fa({editor:this._editor},this._languageService,this._openerService)),ve=null===(a=null===(s=t.controller.activeModel)||void 0===s?void 0:s.inlineCompletionsModel)||void 0===a?void 0:a.ghostText;if(ve){const tt=this._editor.getModel().getLineContent(ve.lineNumber);(tt=>{n.add(ie.onDidRenderAsync(()=>{q.className="hover-contents code-hover-contents",e.onContentsChanged()}));const gt=ke.N("inlineSuggestionFollows","Suggestion:"),Vt=n.add(ie.render((new Rn.W5).appendText(gt).appendCodeblock("text",tt)));q.replaceChildren(Vt.element)})(ve.renderForScreenReader(tt))}e.fragment.appendChild(L)}};e0=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Iu(1,oo.Hy),Iu(2,Mt.co),Iu(3,ft.i6),Iu(4,Es.O),Iu(5,oa.v4),Iu(6,Bl.F)],e0),m(3112);var Hb=m(5234),Mu=m(1322);m(5344);let t0=class extends Xe.JT{constructor(e,t,n={},s){var a;super(),this._link=t,this._enabled=!0,this.el=(0,oe.R3)(e,(0,oe.$)("a.monaco-link",{tabIndex:null!==(a=t.tabIndex)&&void 0!==a?a:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const p=this._register(new pu.Y(this.el,"click")),L=this._register(new pu.Y(this.el,"keypress")),q=Ln.ju.chain(L.event).map(ve=>new La.y(ve)).filter(ve=>3===ve.keyCode).event,ie=this._register(new pu.Y(this.el,Gt.t.Tap)).event;this._register(Gt.o.addTarget(this.el));const te=Ln.ju.any(p.event,q,ie);this._register(te(ve=>{!this.enabled||(oe.zB.stop(ve,!0),(null==n?void 0:n.opener)?n.opener(this._link.href):s.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};t0=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,3)}}(0,oa.v4)],t0),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.url);t&&e.addRule(`.monaco-link { color: ${t}; }`);const n=_.getColor(Ge.sgC);n&&e.addRule(`.monaco-link:hover { color: ${n}; }`)});var _p=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},vp=function(_,e){return function(t,n){e(t,n,_)}};let zb=class extends Xe.JT{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(Ub))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{this.hide(),e.onClose&&e.onClose()}})),this._editor.setBanner(this.banner.element,26)}};zb=_p([vp(1,de.TG)],zb);let Ub=class extends Xe.JT{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Fa,{}),this.element=(0,oe.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){return e.ariaLabel?e.ariaLabel:"string"==typeof e.message?e.message:void 0}getBannerMessage(e){if("string"==typeof e){const t=(0,oe.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,oe.PO)(this.element)}show(e){(0,oe.PO)(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const n=(0,oe.R3)(this.element,(0,oe.$)("div.icon-container"));n.setAttribute("aria-hidden","true"),e.icon&&n.appendChild((0,oe.$)(`div${ln.kS.asCSSSelector(e.icon)}`));const s=(0,oe.R3)(this.element,(0,oe.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,oe.R3)(this.element,(0,oe.$)("div.message-actions-container")),e.actions)for(const p of e.actions)this._register(this.instantiationService.createInstance(t0,this.messageActionsContainer,Object.assign(Object.assign({},p),{tabIndex:-1}),{}));const a=(0,oe.R3)(this.element,(0,oe.$)("div.action-container"));this.actionBar=this._register(new rc.o(a)),this.actionBar.push(this._register(new Qe.aU("banner.close","Close Banner",ln.kS.asClassName(Ir.s_),!0,()=>{"function"==typeof e.onClose&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};Ub=_p([vp(0,de.TG)],Ub);var VD=m(6031),n0=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Nu=function(_,e){return function(t,n){e(t,n,_)}},sa=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};const tw=(0,Ir.q5)("extensions-warning-message",an.lA.warning,ke.N("warningIcon","Icon shown with a warning message in the extensions editor."));let Jl=class extends Xe.JT{constructor(e,t,n,s){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=a=>{if(a&&a.hasMore){if(this._bannerClosed)return;const p=Math.max(a.ambiguousCharacterCount,a.nonBasicAsciiCharacterCount,a.invisibleCharacterCount);let L;if(a.nonBasicAsciiCharacterCount>=p)L={message:ke.N("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new o0};else if(a.ambiguousCharacterCount>=p)L={message:ke.N("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Tg};else{if(!(a.invisibleCharacterCount>=p))throw new Error("Unreachable");L={message:ke.N("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new yp}}this._bannerController.show({id:"unicodeHighlightBanner",message:L.message,icon:tw,actions:[{label:L.command.shortLabel,href:`command:${L.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(s.createInstance(zb,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(113),this._register(n.onDidChangeTrust(a=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(a=>{a.hasChanged(113)&&(this._options=e.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=function nw(_,e){return{nonBasicASCII:e.nonBasicASCII===cn.Av?!_:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===cn.Av?!_:e.includeComments,includeStrings:e.includeStrings===cn.Av?!_:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(n=>!1===n))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(n=>n.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(n=>"_os"===n?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===n?Pn.dK:n)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new bp(this._editor,t,this._updateState,this._editorWorkerService):new iw(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};Jl.ID="editor.contrib.unicodeHighlighter",Jl=n0([Nu(1,wg.p),Nu(2,VD.Y),Nu(3,de.TG)],Jl);let bp=class extends Xe.JT{constructor(e,t,n,s){super(),this._editor=e,this._options=t,this._updateState=n,this._editorWorkerService=s,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new mt.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const n=[];if(!t.hasMore)for(const s of t.ranges)n.push({range:s,options:sf.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),n))})}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e),s={range:n,options:sf.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};return(0,Mu.Fd)(t,s)?{reason:$b(t.getValueInRange(n),this._options),inComment:(0,Mu.$t)(t,s),inString:(0,Mu.zg)(t,s)}:null}};bp=n0([Nu(3,wg.p)],bp);class iw extends Xe.JT{constructor(e,t,n){super(),this._editor=e,this._options=t,this._updateState=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new mt.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const e=this._editor.getVisibleRanges(),t=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const s of e){const a=Hb.a.computeUnicodeHighlights(this._model,this._options,s);for(const p of a.ranges)n.ranges.push(p);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||a.hasMore}if(!n.hasMore)for(const s of n.ranges)t.push({range:s,options:sf.instance.getDecorationFromOptions(this._options)});this._updateState(n),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),t))}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e),s=t.getValueInRange(n),a={range:n,options:sf.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};return(0,Mu.Fd)(t,a)?{reason:$b(s,this._options),inComment:(0,Mu.$t)(t,a),inString:(0,Mu.zg)(t,a)}:null}}let Cp=class{constructor(e,t,n){this._editor=e,this._languageService=t,this._openerService=n}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),s=this._editor.getContribution(Jl.ID);if(!s)return[];const a=[];let p=300;for(const L of t){const q=s.getDecorationInfo(L.id);if(!q)continue;const te=n.getValueInRange(L.range).codePointAt(0),ve=jb(te);let tt;switch(q.reason.kind){case 0:tt=ke.N("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",ve,jb(q.reason.confusableWith.codePointAt(0)));break;case 1:tt=ke.N("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",ve);break;case 2:tt=ke.N("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",ve)}const gt={codePoint:te,reason:q.reason,inComment:q.inComment,inString:q.inString},dn=[{value:`${tt} [${ke.N("unicodeHighlight.adjustSettings","Adjust settings")}](command:${s0.ID}?${encodeURIComponent(JSON.stringify(gt))})`,isTrusted:!0}];a.push(new _c(this,L.range,dn,p++))}return a}renderHoverParts(e,t){return Km(e,t,this._editor,this._languageService,this._openerService)}};function nf(_){return`U+${_.toString(16).padStart(4,"0")}`}function jb(_){let e=`\`${nf(_)}\``;return fi.vU.isInvisibleCharacter(_)||(e+=` "${function Kb(_){return 96===_?"`` ` ``":"`"+String.fromCodePoint(_)+"`"}(_)}"`),e}function $b(_,e){return Hb.a.computeUnicodeHighlightReason(_,e)}Cp=n0([Nu(1,Es.O),Nu(2,oa.v4)],Cp);class sf{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const n=`${e}${t}`;let s=this.map.get(n);return s||(s=Ae.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(n,s)),s}}sf.instance=new sf;class ow extends pt.R6{constructor(){super({id:Tg.ID,label:ke.N("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=ke.N("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,n){return sa(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Ds.Ui);s&&this.runAction(s)})}runAction(e){return sa(this,void 0,void 0,function*(){yield e.updateValue(cn.qt.includeComments,!1,1)})}}class sw extends pt.R6{constructor(){super({id:Tg.ID,label:ke.N("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=ke.N("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,n){return sa(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Ds.Ui);s&&this.runAction(s)})}runAction(e){return sa(this,void 0,void 0,function*(){yield e.updateValue(cn.qt.includeStrings,!1,1)})}}let Tg=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=ke.N("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(t,n,s){return sa(this,void 0,void 0,function*(){let a=null==t?void 0:t.get(Ds.Ui);a&&this.runAction(a)})}runAction(t){return sa(this,void 0,void 0,function*(){yield t.updateValue(cn.qt.ambiguousCharacters,!1,1)})}}return _.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",_})(),yp=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=ke.N("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(t,n,s){return sa(this,void 0,void 0,function*(){let a=null==t?void 0:t.get(Ds.Ui);a&&this.runAction(a)})}runAction(t){return sa(this,void 0,void 0,function*(){yield t.updateValue(cn.qt.invisibleCharacters,!1,1)})}}return _.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",_})(),o0=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=ke.N("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(t,n,s){return sa(this,void 0,void 0,function*(){let a=null==t?void 0:t.get(Ds.Ui);a&&this.runAction(a)})}runAction(t){return sa(this,void 0,void 0,function*(){yield t.updateValue(cn.qt.nonBasicASCII,!1,1)})}}return _.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",_})(),s0=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(t,n,s){return sa(this,void 0,void 0,function*(){const{codePoint:a,reason:p,inString:L,inComment:q}=s,ie=String.fromCodePoint(a),te=t.get(lr.eJ),ve=t.get(Ds.Ui),gt=[];if(0===p.kind)for(const dn of p.notAmbiguousInLocales)gt.push({label:ke.N("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',dn),run:()=>sa(this,void 0,void 0,function*(){r0(ve,[dn])})});if(gt.push({label:function tt(dn){return fi.vU.isInvisibleCharacter(dn)?ke.N("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",nf(dn)):ke.N("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${nf(dn)} "${ie}"`)}(a),run:()=>function Gb(_,e){return sa(this,void 0,void 0,function*(){const t=_.getValue(cn.qt.allowedCharacters);let n;n="object"==typeof t&&t?t:{};for(const s of e)n[String.fromCodePoint(s)]=!0;yield _.updateValue(cn.qt.allowedCharacters,n,1)})}(ve,[a])}),q){const dn=new ow;gt.push({label:dn.label,run:()=>sa(this,void 0,void 0,function*(){return dn.runAction(ve)})})}else if(L){const dn=new sw;gt.push({label:dn.label,run:()=>sa(this,void 0,void 0,function*(){return dn.runAction(ve)})})}if(0===p.kind){const dn=new Tg;gt.push({label:dn.label,run:()=>sa(this,void 0,void 0,function*(){return dn.runAction(ve)})})}else if(1===p.kind){const dn=new yp;gt.push({label:dn.label,run:()=>sa(this,void 0,void 0,function*(){return dn.runAction(ve)})})}else if(2===p.kind){const dn=new o0;gt.push({label:dn.label,run:()=>sa(this,void 0,void 0,function*(){return dn.runAction(ve)})})}else!function WD(_){throw new Error(`Unexpected value: ${_}`)}(p);const Vt=yield te.pick(gt,{title:ke.N("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Vt&&(yield Vt.run())})}}return _.ID="editor.action.unicodeHighlight.showExcludeOptions",_})();function r0(_,e){var t;return sa(this,void 0,void 0,function*(){const n=null===(t=_.inspect(cn.qt.allowedLocales).user)||void 0===t?void 0:t.value;let s;s="object"==typeof n&&n?Object.assign({},n):{};for(const a of e)s[a]=!0;yield _.updateValue(cn.qt.allowedLocales,s,1)})}(0,pt.Qr)(Tg),(0,pt.Qr)(yp),(0,pt.Qr)(o0),(0,pt.Qr)(s0),(0,pt._K)(Jl.ID,Jl);var rf=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class Yb{constructor(e,t){this.range=e,this.direction=t}}class Zb{constructor(e,t,n){this.hint=e,this.anchor=t,this.provider=n,this._isResolved=!1}with(e){const t=new Zb(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return rf(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,n;return rf(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=null!==(t=null==s?void 0:s.tooltip)&&void 0!==t?t:this.hint.tooltip,this.hint.label=null!==(n=null==s?void 0:s.label)&&void 0!==n?n:this.hint.label,this._isResolved=!0}catch(s){(0,Ii.Cp)(s),this._isResolved=!1}})}}class Qc{constructor(e,t,n){this._disposables=new Xe.SL,this.ranges=e,this.provider=new Set;const s=[];for(const[a,p]of t){this._disposables.add(a),this.provider.add(p);for(const L of a.hints){let q=n.validatePosition(L.position),ie="before";const te=Qc._getRangeAtPosition(n,q);let ve;te.getStartPosition().isBefore(q)?(ve=Ye.e.fromPositions(te.getStartPosition(),q),ie="after"):(ve=Ye.e.fromPositions(q,te.getEndPosition()),ie="before"),s.push(new Zb(L,new Yb(ve,ie),p))}}this.items=s.sort((a,p)=>An.L.compare(a.hint.position,p.hint.position))}static create(e,t,n){return rf(this,void 0,void 0,function*(){const s=[],a=Gn.mX.ordered(e).reverse().map(p=>t.map(L=>rf(this,void 0,void 0,function*(){try{const q=yield p.provideInlayHints(e,L,n);(null==q?void 0:q.hints.length)&&s.push([q,p])}catch(q){(0,Ii.Cp)(q)}})));if(yield Promise.all(a.flat()),n.isCancellationRequested||e.isDisposed())throw new Ii.FU;return new Qc(t,s,e)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const n=t.lineNumber,s=e.getWordAtPosition(t);if(s)return new Ye.e(n,s.startColumn,n,s.endColumn);e.tokenizeIfCheap(n);const a=e.getLineTokens(n),p=t.column-1,L=a.findTokenIndexAtOffset(p);let q=a.getStartOffset(L),ie=a.getEndOffset(L);return ie-q==1&&(q===p&&L>1?(q=a.getStartOffset(L-1),ie=a.getEndOffset(L-1)):ie===p&&L<a.getCount()-1&&(q=a.getStartOffset(L+1),ie=a.getEndOffset(L+1))),new Ye.e(n,q+1,n,ie+1)}}var Ag=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};function a0(_,e,t,n){var s;return Ag(this,void 0,void 0,function*(){const a=_.get(ur.S),p=_.get(et.i),L=_.get(oo.Hy),q=_.get(de.TG),ie=_.get(Xo.lT);if(yield n.item.resolve(wi.T.None),!n.part.location)return;const te=n.part.location,ve=[],tt=new Set(Mt.BH.getMenuItems(Mt.eH.EditorContext).map(Vt=>(0,Mt.vr)(Vt)?Vt.command.id:""));for(const Vt of pt.Uc.getEditorActions())Vt instanceof fl&&tt.has(Vt.id)&&ve.push(new Qe.aU(Vt.id,Vt.label,void 0,!0,()=>Ag(this,void 0,void 0,function*(){const dn=yield a.createModelReference(te.uri);try{yield q.invokeFunction(Vt.run.bind(Vt),e,new Xa(dn.object.textEditorModel,Ye.e.getStartPosition(te.range)))}finally{dn.dispose()}})));if(n.part.command){const{command:Vt}=n.part;ve.push(new Qe.Z0),ve.push(new Qe.aU(Vt.id,Vt.title,void 0,!0,()=>Ag(this,void 0,void 0,function*(){var dn;try{yield L.executeCommand(Vt.id,...null!==(dn=Vt.arguments)&&void 0!==dn?dn:[])}catch(kn){ie.notify({severity:Xo.zb.Error,source:n.item.provider.displayName,message:kn})}})))}const gt=e.getOption(115);p.showContextMenu({domForShadowRoot:gt&&null!==(s=e.getDomNode())&&void 0!==s?s:void 0,getAnchor:()=>{const Vt=oe.i(t);return{x:Vt.left,y:Vt.top+Vt.height+8}},getActions:()=>ve,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function l0(_,e,t,n){return Ag(this,void 0,void 0,function*(){const a=yield _.get(ur.S).createModelReference(n.uri);yield t.invokeWithinContext(p=>Ag(this,void 0,void 0,function*(){const L=e.hasSideBySideModifier,q=p.get(ft.i6),ie=fr.inPeekEditor.getValue(q),te=!L&&t.getOption(78)&&!ie;return new gl({openToSide:L,openInPeek:te,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(p,t,{model:a.object.textEditorModel,position:Ye.e.getStartPosition(n.range)})})),a.dispose()})}var Kd=function(_,e){return function(t,n){e(t,n,_)}},Tu=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class af{constructor(){this._entries=new pi.z6(50)}get(e){const t=af._key(e);return this._entries.get(t)}set(e,t){const n=af._key(e);this._entries.set(n,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const aw=(0,de.yh)("IInlayHintsCache");(0,fo.z)(aw,af,!0);class c0{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return"string"==typeof e?{label:e}:e[this.index]}}let Sc=class DD{constructor(e,t,n,s,a,p){this._editor=e,this._inlayHintsCache=n,this._commandService=s,this._notificationService=a,this._instaService=p,this._disposables=new Xe.SL,this._sessionDisposables=new Xe.SL,this._decorationsMetadata=new Map,this._ruleFactory=new eo.t7(this._editor),this._debounceInfo=t.for(Gn.mX,"InlayHint",{min:25}),this._disposables.add(Gn.mX.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(L=>{L.hasChanged(127)&&this._update()})),this._update()}static get(e){var t;return null!==(t=e.getContribution(DD.ID))&&void 0!==t?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const e=this._editor.getModel();if(!e||!Gn.mX.has(e))return;const t=this._inlayHintsCache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t),this._sessionDisposables.add((0,Xe.OF)(()=>{e.isDisposed()||this._cacheHintsForFastRestore(e)}));let n,s=new Set;const a=new mt.pY(()=>Tu(this,void 0,void 0,function*(){const p=Date.now();null==n||n.dispose(!0),n=new wi.A;const L=e.onWillDispose(()=>null==n?void 0:n.cancel());try{const q=n.token,ie=yield Qc.create(e,this._getHintsRanges(),q);if(a.delay=this._debounceInfo.update(e,Date.now()-p),q.isCancellationRequested)return void ie.dispose();for(const te of ie.provider)"function"==typeof te.onDidChangeInlayHints&&!s.has(te)&&(s.add(te),this._sessionDisposables.add(te.onDidChangeInlayHints(()=>{a.isScheduled()||a.schedule()})));this._sessionDisposables.add(ie),this._updateHintsDecorators(ie.ranges,ie.items),this._cacheHintsForFastRestore(e)}catch(q){(0,Ii.dL)(q)}finally{n.dispose(),L.dispose()}}),this._debounceInfo.get(e));this._sessionDisposables.add(a),this._sessionDisposables.add((0,Xe.OF)(()=>null==n?void 0:n.dispose(!0))),a.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(p=>{(p.scrollTopChanged||!a.isScheduled())&&a.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(p=>{const L=Math.max(a.delay,1250);a.schedule(L)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let e=()=>{};const t=new va(this._editor);return t.onMouseMoveOrRelevantKeyDown(n=>{const[s]=n,a=this._getInlayHintLabelPart(s),p=this._editor.getModel();if(a&&s.hasTriggerModifier&&p){if(s.hasTriggerModifier&&(a.part.command||a.part.location)){const L=new wi.A;a.item.resolve(L.token),this._activeInlayHintPart=a;const q=this._activeInlayHintPart.item.hint.position.lineNumber,ie=new Ye.e(q,1,q,p.getLineMaxColumn(q)),te=new Set;for(const ve of this._decorationsMetadata.values())ie.containsRange(ve.item.anchor.range)&&te.add(ve.item);this._updateHintsDecorators([ie],Array.from(te)),e=()=>{L.dispose(!0),this._activeInlayHintPart=void 0,this._updateHintsDecorators([ie],Array.from(te))}}}else e()}),t.onCancel(e),t.onExecute(n=>Tu(this,void 0,void 0,function*(){var s;const a=this._getInlayHintLabelPart(n);if(a){const p=a.part;if(p.location)this._instaService.invokeFunction(l0,n,this._editor,p.location);else if(Gn.mY.is(p.command))try{yield this._commandService.executeCommand(p.command.id,...null!==(s=p.command.arguments)&&void 0!==s?s:[])}catch(L){this._notificationService.notify({severity:Xo.zb.Error,source:a.item.provider.displayName,message:L})}}})),t}_installContextMenu(){return this._editor.onContextMenu(e=>Tu(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(a0,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(6!==e.target.type)return;const n=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return n instanceof Ae.HS&&(null==n?void 0:n.attachedData)instanceof c0?n.attachedData:void 0}_cacheHintsForFastRestore(e){const t=new Map;for(const[n,s]of this._decorationsMetadata){if(t.has(s.item))continue;let a=s.item;const p=e.getDecorationRange(n);if(p){const L=new Yb(p,s.item.anchor.direction);a=s.item.with({anchor:L})}t.set(s.item,a)}this._inlayHintsCache.set(e,Array.from(t.values()))}_getHintsRanges(){const t=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),s=[];for(const a of n.sort(Ye.e.compareRangesUsingStarts)){const p=t.validateRange(new Ye.e(a.startLineNumber-30,a.startColumn,a.endLineNumber+30,a.endColumn));0!==s.length&&Ye.e.areIntersectingOrTouching(s[s.length-1],p)?s[s.length-1]=Ye.e.plusRange(s[s.length-1],p):s.push(p)}return s}_updateHintsDecorators(e,t){var n,s;const a=[],p=(gt,Vt,dn,kn,On)=>{a.push({item:gt,classNameRef:Vt,decoration:{range:gt.anchor.range,options:{description:"InlayHint",showIfCollapsed:gt.anchor.range.isEmpty(),collapseOnReplaceEdit:!gt.anchor.range.isEmpty(),stickiness:0,[gt.anchor.direction]:{content:dn,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Vt.className,cursorStops:kn,attachedData:On}}}})},L=(gt,Vt)=>{const dn=this._ruleFactory.createClassNameRef({width:(q/3|0)+"px",display:"inline-block"});p(gt,dn,"\u200a",Vt?Te.RM.Right:Te.RM.None)},{fontSize:q,fontFamily:ie}=this._getLayoutInfo(),te="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(te,ie);for(const gt of t){gt.hint.paddingLeft&&L(gt,!1);const Vt="string"==typeof gt.hint.label?[{label:gt.hint.label}]:gt.hint.label;for(let dn=0;dn<Vt.length;dn++){const kn=Vt[dn],On=0===dn,li=dn===Vt.length-1,Xn={fontSize:`${q}px`,fontFamily:`var(${te}), ${cn.hL.fontFamily}`,verticalAlign:"middle"};this._fillInColors(Xn,gt.hint),(kn.command||kn.location)&&(null===(n=this._activeInlayHintPart)||void 0===n?void 0:n.item)===gt&&this._activeInlayHintPart.index===dn&&(Xn.textDecoration="underline",Xn.cursor="pointer",Xn.color=(0,ln.EN)(Ge._Yy)),On&&li?(Xn.padding=`1px ${0|Math.max(1,q/4)}px`,Xn.borderRadius=(q/4|0)+"px"):On?(Xn.padding=`1px 0 1px ${0|Math.max(1,q/4)}px`,Xn.borderRadius=`${q/4|0}px 0 0 ${q/4|0}px`):li?(Xn.padding=`1px ${0|Math.max(1,q/4)}px 1px 0`,Xn.borderRadius=`0 ${q/4|0}px ${q/4|0}px 0`):Xn.padding="1px 0 1px 0",p(gt,this._ruleFactory.createClassNameRef(Xn),wp(kn.label),li&&!gt.hint.paddingRight?Te.RM.Right:Te.RM.None,new c0(gt,dn))}if(gt.hint.paddingRight&&L(gt,!0),a.length>DD._MAX_DECORATORS)break}const ve=[];for(const gt of e)for(const{id:Vt}of null!==(s=this._editor.getDecorationsInRange(gt))&&void 0!==s?s:[]){const dn=this._decorationsMetadata.get(Vt);dn&&(ve.push(Vt),dn.classNameRef.dispose(),this._decorationsMetadata.delete(Vt))}const tt=this._editor.deltaDecorations(ve,a.map(gt=>gt.decoration));for(let gt=0;gt<tt.length;gt++){const Vt=a[gt];this._decorationsMetadata.set(tt[gt],{item:Vt.item,classNameRef:Vt.classNameRef})}}_fillInColors(e,t){t.kind===Gn.gl.Parameter?(e.backgroundColor=(0,ln.EN)(Ge.phM),e.color=(0,ln.EN)(Ge.HCL)):t.kind===Gn.gl.Type?(e.backgroundColor=(0,ln.EN)(Ge.bKB),e.color=(0,ln.EN)(Ge.hX8)):(e.backgroundColor=(0,ln.EN)(Ge.PpC),e.color=(0,ln.EN)(Ge.VVv))}_getLayoutInfo(){const e=this._editor.getOption(127),t=this._editor.getOption(46);let n=e.fontSize;return(!n||n<5||n>t)&&(n=.9*t|0),{fontSize:n,fontFamily:e.fontFamily||this._editor.getOption(43)}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};function wp(_){return _.replace(/[ \t]/g,"\xa0")}Sc.ID="editor.contrib.InlayHints",Sc._MAX_DECORATORS=1500,Sc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Kd(1,Er.A),Kd(2,aw),Kd(3,oo.Hy),Kd(4,Xo.lT),Kd(5,de.TG)],Sc),(0,pt._K)(Sc.ID,Sc),oo.P0.registerCommand("_executeInlayHintProvider",(_,...e)=>Tu(void 0,void 0,void 0,function*(){const[t,n]=e;(0,wn.p_)(xo.o.isUri(t)),(0,wn.p_)(Ye.e.isIRange(n));const s=yield _.get(ur.S).createModelReference(t);try{const a=yield Qc.create(s.object.textEditorModel,[Ye.e.lift(n)],wi.T.None),p=a.items.map(L=>L.hint);return setTimeout(()=>a.dispose(),0),p}finally{s.dispose()}}));var kg=function(_,e){return function(t,n){e(t,n,_)}},Sp=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class d0 extends du{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}}let Rg=class extends Pd{constructor(e,t,n,s,a){super(e,t,n,s),this._resolverService=a}suggestHoverAnchor(e){var t;if(!Sc.get(this._editor)||6!==e.target.type)return null;const s=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return s instanceof Ae.HS&&s.attachedData instanceof c0?new d0(s.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,n){return e instanceof d0?new mt.Aq(s=>Sp(this,void 0,void 0,function*(){var a,p;const{part:L}=e;if(yield L.item.resolve(n),n.isCancellationRequested)return;let q,ie;"string"==typeof L.item.hint.tooltip?q=(new Rn.W5).appendText(L.item.hint.tooltip):L.item.hint.tooltip&&(q=L.item.hint.tooltip),q&&s.emitOne(new _c(this,e.range,[q],0)),"string"==typeof L.part.tooltip?ie=(new Rn.W5).appendText(L.part.tooltip):L.part.tooltip&&(ie=L.part.tooltip),ie&&s.emitOne(new _c(this,e.range,[ie],1));const te=yield this._resolveInlayHintLabelPartHover(L,n);try{for(var tt,ve=function(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=_[Symbol.asyncIterator];return e?e.call(_):(_="function"==typeof __values?__values(_):_[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=_[a]&&function(p){return new Promise(function(L,q){!function s(a,p,L,q){Promise.resolve(q).then(function(ie){a({value:ie,done:L})},p)}(L,q,(p=_[a](p)).done,p.value)})}}}(te);!(tt=yield ve.next()).done;)s.emitOne(tt.value)}catch(gt){a={error:gt}}finally{try{tt&&!tt.done&&(p=ve.return)&&(yield p.call(ve))}finally{if(a)throw a.error}}})):mt.Aq.EMPTY}_resolveInlayHintLabelPartHover(e,t){return Sp(this,void 0,void 0,function*(){if(!e.part.location)return mt.Aq.EMPTY;const{uri:n,range:s}=e.part.location,a=yield this._resolverService.createModelReference(n);try{const p=a.object.textEditorModel;return Gn.xp.has(p)?_u(p,new An.L(s.startLineNumber,s.startColumn),t).filter(L=>!(0,Rn.CP)(L.hover.contents)).map(L=>new _c(this,e.item.anchor.range,L.hover.contents,2+L.ordinal)):mt.Aq.EMPTY}finally{a.dispose()}})}};Rg=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([kg(1,Es.O),kg(2,oa.v4),kg(3,Ds.Ui),kg(4,ur.S)],Rg);var Dp=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Ep=function(_,e){return function(t,n){e(t,n,_)}};const u0=oe.$;let Og=class $E extends Xe.JT{constructor(e,t,n){super(),this._editor=e,this._instantiationService=t,this._keybindingService=n,this._participants=[this._instantiationService.createInstance(Uc,this._editor),this._instantiationService.createInstance(Pd,this._editor),this._instantiationService.createInstance(e0,this._editor),this._instantiationService.createInstance(Cp,this._editor),this._instantiationService.createInstance(fg,this._editor),this._instantiationService.createInstance(Rg,this._editor)],this._widget=this._register(this._instantiationService.createInstance(Au,this._editor)),this._decorationsChangerListener=this._register(new h0(this._editor)),this._computer=new Pg(this._editor,this._participants),this._hoverOperation=this._register(new Xf(this._editor,this._computer)),this._messages=[],this._messagesAreComplete=!1,this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value,s.isComplete,s.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(oe.mu(this._widget.getDomNode(),"keydown",s=>{s.equals(9)&&this.hide()})),this._register(Gn.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.colorPicker||this._hoverOperation.start(0))}maybeShowAt(e){const t=[];for(const s of this._participants)if(s.suggestHoverAnchor){const a=s.suggestHoverAnchor(e);a&&t.push(a)}const n=e.target;if(6===n.type&&t.push(new ua(0,n.range)),7===n.type){const s=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!n.detail.isAfterLines&&"number"==typeof n.detail.horizontalDistanceToText&&n.detail.horizontalDistanceToText<s&&t.push(new ua(0,n.range))}return 0!==t.length&&(t.sort((s,a)=>a.priority-s.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,n){this._startShowingAt(new ua(0,e),t,n)}_startShowingAt(e,t,n){if(!this._computer.anchor||!this._computer.anchor.equals(e)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&e.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const s=this._messages.filter(a=>a.isValidForHoverAnchor(e));if(0===s.length)this.hide();else{if(s.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,s)}}else this.hide();this._computer.anchor=e,this._computer.shouldFocus=n,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return!!this._widget.colorPicker}_addLoadingMessage(e){if(this._computer.anchor)for(const t of this._participants)if(t.createLoadingMessage){const n=t.createLoadingMessage(this._computer.anchor);if(n)return e.slice(0).concat([n])}return e}_withResult(e,t,n){this._messages=n?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){let n=1073741824,s=t[0].range,a=null;for(const ve of t)n=Math.min(n,ve.range.startColumn),s=Ye.e.plusRange(s,ve.range),ve.forceShowAtRange&&(a=ve.range);const p=new Xe.SL,L=p.add(new Lp(this._keybindingService)),q=document.createDocumentFragment();let ie=null;const te={fragment:q,statusBar:L,setColorPicker:ve=>ie=ve,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const ve of this._participants){const tt=t.filter(gt=>gt.owner===ve);tt.length>0&&p.add(ve.renderHoverParts(te,tt))}if(L.hasContent&&q.appendChild(L.hoverElement),q.hasChildNodes()){if(s){const ve=this._decorationsChangerListener.deltaDecorations([],[{range:s,options:$E._DECORATION_OPTIONS}]);p.add((0,Xe.OF)(()=>{this._decorationsChangerListener.deltaDecorations(ve,[])}))}this._widget.showAt(q,new Jb(ie,a?a.getStartPosition():new An.L(e.range.startLineNumber,n),a||s,this._editor.getOption(53).above,this._computer.shouldFocus,p))}else p.dispose()}};Og._DECORATION_OPTIONS=Ae.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),Og=Dp([Ep(1,de.TG),Ep(2,xt.d)],Og);class h0 extends Xe.JT{constructor(e){super(),this._editor=e,this._onDidChangeModelDecorations=this._register(new Ln.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(t=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(t)}))}deltaDecorations(e,t){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(e,t)}finally{this._isChangingDecorations=!1}}}class Jb{constructor(e,t,n,s,a,p){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=n,this.preferAbove=s,this.stoleFocus=a,this.disposables=p}}let Au=class GE extends Xe.JT{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=dt.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new wm),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}get colorPicker(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)&&void 0!==t?t:null}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return GE.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(Yo.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:n}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=""+n/t,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){const n=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==n&&(this._hover.contentsDomNode.style.paddingBottom=n,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Au.ID="editor.contrib.contentHoverWidget",Au=Dp([Ep(1,ft.i6)],Au);let Lp=class extends Xe.JT{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=u0("div.hover-row.status-bar"),this.actionsElement=oe.R3(this.hoverElement,u0("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(Qf.render(this.actionsElement,e,n))}append(e){const t=oe.R3(this.actionsElement,e);return this._hasContent=!0,t}};Lp=Dp([Ep(0,xt.d)],Lp);class Pg{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(1!==t.type)return[];const n=e.getModel(),s=t.range.startLineNumber,a=n.getLineMaxColumn(s);return e.getLineDecorations(s).filter(p=>{if(p.options.isWholeLine)return!0;const L=p.range.startLineNumber===s?p.range.startColumn:1,q=p.range.endLineNumber===s?p.range.endColumn:a;if(p.options.showIfCollapsed){if(L>t.range.startColumn+1||t.range.endColumn-1>q)return!1}else if(L>t.range.startColumn||t.range.endColumn>q)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return mt.Aq.EMPTY;const n=Pg._getLineDecorations(this._editor,t);return mt.Aq.merge(this._participants.map(s=>s.computeAsync?s.computeAsync(t,n,e):mt.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=Pg._getLineDecorations(this._editor,this._anchor);let t=[];for(const n of this._participants)t=t.concat(n.computeSync(this._anchor,e));return(0,xi.kX)(t)}}const f0=oe.$;let Fg=(()=>{class _ extends Xe.JT{constructor(t,n,s=oa.SW){super(),this._renderDisposeables=this._register(new Xe.SL),this._editor=t,this._isVisible=!1,this._messages=[],this._hover=this._register(new wm),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Fa({editor:this._editor},n,s)),this._computer=new qb(this._editor),this._hoverOperation=this._register(new Xf(this._editor,this._computer)),this._register(this._hoverOperation.onResult(a=>{this._withResult(a.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(t){this._computer.lineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(t,n){this._renderDisposeables.clear();const s=document.createDocumentFragment();for(const a of n){const p=f0("div.hover-row.markdown-hover"),L=oe.R3(p,f0("div.hover-contents")),q=this._renderDisposeables.add(this._markdownRenderer.render(a.value));L.appendChild(q.element),s.appendChild(p)}this._updateContents(s),this._showAt(t)}_updateContents(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}_showAt(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),s=this._editor.getTopForLineNumber(t),a=this._editor.getScrollTop(),p=this._editor.getOption(59),q=s-a-(this._hover.containerDomNode.clientHeight-p)/2;this._hover.containerDomNode.style.left=`${n.glyphMarginLeft+n.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(q),0)}px`}}return _.ID="editor.contrib.modesGlyphHoverWidget",_})();class qb{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){const e=s=>({value:s}),t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(const s of t){if(!s.options.glyphMarginClassName)continue;const a=s.options.glyphMarginHoverMessage;!a||(0,Rn.CP)(a)||n.push(...(0,xi._2)(a).map(e))}return n}}var Bg=function(_,e){return function(t,n){e(t,n,_)}};let Xc=class YE{constructor(e,t,n,s,a){this._editor=e,this._instantiationService=t,this._openerService=n,this._languageService=s,this._toUnhook=new Xe.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(p=>{p.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(YE.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(53);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._toUnhook.add(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))):(this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(n=>this._onEditorScrollChanged(n)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;9!==t.type||t.detail!==Au.ID?12===t.type&&t.detail===Fg.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,n,s,a,p;const L=e.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===L.type&&L.detail===Au.ID||this._isHoverSticky&&!(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed)||!this._isHoverSticky&&9===L.type&&L.detail===Au.ID&&(null===(s=this._contentWidget)||void 0===s?void 0:s.isColorPickerVisible())||this._isHoverSticky&&12===L.type&&L.detail===Fg.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===L.type&&L.position?(null===(p=this._contentWidget)||void 0===p||p.hide(),this._glyphWidget||(this._glyphWidget=new Fg(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(L.position.lineNumber)):void this._hideWidgets();null===(a=this._glyphWidget)||void 0===a||a.hide()}else this._hideWidgets()}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Og,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};Xc.ID="editor.contrib.hover",Xc=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Bg(1,de.TG),Bg(2,oa.v4),Bg(3,Es.O),Bg(4,ft.i6)],Xc),(0,pt._K)(Xc.ID,Xc),(0,pt.Qr)(class tC extends pt.R6{constructor(){super({id:"editor.action.showHover",label:ke.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let n=Xc.get(t);if(!n)return;const s=t.getPosition(),a=new Ye.e(s.lineNumber,s.column,s.lineNumber,s.column),p=2===t.getOption(2);n.showContentHover(a,1,p)}}),(0,pt.Qr)(class nC extends pt.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:ke.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const n=Xc.get(t);if(!n)return;const s=t.getPosition();if(!s)return;const a=new Ye.e(s.lineNumber,s.column,s.lineNumber,s.column),p=fc.get(t);p&&p.startFindDefinitionFromCursor(s).then(()=>{n.showContentHover(a,1,!0)})}}),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.ptc);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);const n=_.getColor(Ge.yJx);n&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const s=_.getColor(Ge.CNo);s&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${s.transparent(.5)}; }`));const a=_.getColor(Ge.url);a&&e.addRule(`.monaco-editor .monaco-hover a { color: ${a}; }`);const p=_.getColor(Ge.sgC);p&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${p}; }`);const L=_.getColor(Ge.Sbf);L&&e.addRule(`.monaco-editor .monaco-hover { color: ${L}; }`);const q=_.getColor(Ge.LoV);q&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${q}; }`);const ie=_.getColor(Ge.SwI);ie&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${ie}; }`)});let g0=(()=>{class _ extends Xe.JT{constructor(t){super(),this._editor=t,this._register(t.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(t){const n=t.target;if(6!==n.type||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==zs||!n.range)return;const s=this._editor.getContribution(Xc.ID);if(s&&!s.isColorPickerVisible()){const a=new Ye.e(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);s.showContentHover(a,1,!1)}}}return _.ID="editor.contrib.colorContribution",_})();(0,pt._K)(g0.ID,g0);class Jc{constructor(e,t,n){this.languageConfigurationService=n,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const s=t.length;if(n+s>e.length)return!1;for(let p=0;p<s;p++){const L=e.charCodeAt(n+p),q=t.charCodeAt(p);if(!(L===q||L>=65&&L<=90&&L+32===q||q>=65&&q<=90&&q+32===L))return!1}return!0}_createOperationsForBlockComment(e,t,n,s,a,p){const L=e.startLineNumber,q=e.startColumn,ie=e.endLineNumber,te=e.endColumn,ve=a.getLineContent(L),tt=a.getLineContent(ie);let dn,gt=ve.lastIndexOf(t,q-1+t.length),Vt=tt.indexOf(n,te-1-n.length);if(-1!==gt&&-1!==Vt)if(L===ie)ve.substring(gt+t.length,Vt).indexOf(n)>=0&&(gt=-1,Vt=-1);else{const kn=ve.substring(gt+t.length),On=tt.substring(0,Vt);(kn.indexOf(n)>=0||On.indexOf(n)>=0)&&(gt=-1,Vt=-1)}-1!==gt&&-1!==Vt?(s&&gt+t.length<ve.length&&32===ve.charCodeAt(gt+t.length)&&(t+=" "),s&&Vt>0&&32===tt.charCodeAt(Vt-1)&&(n=" "+n,Vt-=1),dn=Jc._createRemoveBlockCommentOperations(new Ye.e(L,gt+t.length+1,ie,Vt+1),t,n)):(dn=Jc._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=1===dn.length?n:null);for(const kn of dn)p.addTrackedEditOperation(kn.range,kn.text)}static _createRemoveBlockCommentOperations(e,t,n){let s=[];return Ye.e.isEmpty(e)?s.push(tr.h.delete(new Ye.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(s.push(tr.h.delete(new Ye.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),s.push(tr.h.delete(new Ye.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),s}static _createAddBlockCommentOperations(e,t,n,s){let a=[];return Ye.e.isEmpty(e)?a.push(tr.h.replace(new Ye.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(a.push(tr.h.insert(new An.L(e.startLineNumber,e.startColumn),t+(s?" ":""))),a.push(tr.h.insert(new An.L(e.endLineNumber,e.endColumn),(s?" ":"")+n))),a}getEditOperations(e,t){const n=this._selection.startLineNumber,s=this._selection.startColumn;e.tokenizeIfCheap(n);const a=e.getLanguageIdAtPosition(n,s),p=this.languageConfigurationService.getLanguageConfiguration(a).comments;!p||!p.blockCommentStartToken||!p.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,p.blockCommentStartToken,p.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(2===n.length){const s=n[0],a=n[1];return new ei.Y(s.range.endLineNumber,s.range.endColumn,a.range.startLineNumber,a.range.startColumn)}{const s=n[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new ei.Y(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)}}}class $d{constructor(e,t,n,s,a,p,L){this.languageConfigurationService=e,this._selection=t,this._tabSize=n,this._type=s,this._insertSpace=a,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=p,this._ignoreFirstLine=L||!1}static _gatherPreflightCommentStrings(e,t,n,s){e.tokenizeIfCheap(t);const a=e.getLanguageIdAtPosition(t,1),p=s.getLanguageConfiguration(a).comments,L=p?p.lineCommentToken:null;if(!L)return null;let q=[];for(let ie=0,te=n-t+1;ie<te;ie++)q[ie]={ignore:!1,commentStr:L,commentStrOffset:0,commentStrLength:L.length};return q}static _analyzeLines(e,t,n,s,a,p,L,q){let te,ie=!0;te=0===e||1!==e;for(let ve=0,tt=s.length;ve<tt;ve++){const gt=s[ve],Vt=a+ve;if(Vt===a&&L){gt.ignore=!0;continue}const dn=n.getLineContent(Vt),kn=fi.LC(dn);if(-1!==kn){if(ie=!1,gt.ignore=!1,gt.commentStrOffset=kn,te&&!Jc._haystackHasNeedleAtOffset(dn,gt.commentStr,kn)&&(0===e?te=!1:1===e||(gt.ignore=!0)),te&&t){const On=kn+gt.commentStrLength;On<dn.length&&32===dn.charCodeAt(On)&&(gt.commentStrLength+=1)}}else gt.ignore=p,gt.commentStrOffset=dn.length}if(0===e&&ie){te=!1;for(let ve=0,tt=s.length;ve<tt;ve++)s[ve].ignore=!1}return{supported:!0,shouldRemoveComments:te,lines:s}}static _gatherPreflightData(e,t,n,s,a,p,L,q){const ie=$d._gatherPreflightCommentStrings(n,s,a,q);return null===ie?{supported:!1}:$d._analyzeLines(e,t,n,ie,s,p,L,q)}_executeLineComments(e,t,n,s){let a;n.shouldRemoveComments?a=$d._createRemoveLineCommentsOperations(n.lines,s.startLineNumber):($d._normalizeInsertionPoint(e,n.lines,s.startLineNumber,this._tabSize),a=this._createAddLineCommentsOperations(n.lines,s.startLineNumber));const p=new An.L(s.positionLineNumber,s.positionColumn);for(let L=0,q=a.length;L<q;L++)t.addEditOperation(a[L].range,a[L].text),Ye.e.isEmpty(a[L].range)&&Ye.e.getStartPosition(a[L].range).equals(p)&&e.getLineContent(p.lineNumber).length+1===p.column&&(this._deltaColumn=(a[L].text||"").length);this._selectionId=t.trackSelection(s)}_attemptRemoveBlockComment(e,t,n,s){let a=t.startLineNumber,p=t.endLineNumber,L=s.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),q=e.getLineContent(a).lastIndexOf(n,L-1),ie=e.getLineContent(p).indexOf(s,t.endColumn-1-n.length);return-1!==q&&-1===ie&&(ie=e.getLineContent(a).indexOf(s,q+n.length),p=a),-1===q&&-1!==ie&&(q=e.getLineContent(p).lastIndexOf(n,ie),a=p),t.isEmpty()&&(-1===q||-1===ie)&&(q=e.getLineContent(a).indexOf(n),-1!==q&&(ie=e.getLineContent(a).indexOf(s,q+n.length))),-1!==q&&32===e.getLineContent(a).charCodeAt(q+n.length)&&(n+=" "),-1!==ie&&32===e.getLineContent(p).charCodeAt(ie-1)&&(s=" "+s,ie-=1),-1!==q&&-1!==ie?Jc._createRemoveBlockCommentOperations(new Ye.e(a,q+n.length+1,p,ie+1),n,s):null}_executeBlockComment(e,t,n){e.tokenizeIfCheap(n.startLineNumber);let s=e.getLanguageIdAtPosition(n.startLineNumber,1),a=Us.zu.getComments(s);if(!a||!a.blockCommentStartToken||!a.blockCommentEndToken)return;const p=a.blockCommentStartToken,L=a.blockCommentEndToken;let q=this._attemptRemoveBlockComment(e,n,p,L);if(!q){if(n.isEmpty()){const ie=e.getLineContent(n.startLineNumber);let te=fi.LC(ie);-1===te&&(te=ie.length),q=Jc._createAddBlockCommentOperations(new Ye.e(n.startLineNumber,te+1,n.startLineNumber,ie.length+1),p,L,this._insertSpace)}else q=Jc._createAddBlockCommentOperations(new Ye.e(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),p,L,this._insertSpace);1===q.length&&(this._deltaColumn=p.length+1)}this._selectionId=t.trackSelection(n);for(const ie of q)t.addEditOperation(ie.range,ie.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new Ye.e(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(n));n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const s=$d._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return s.supported?this._executeLineComments(e,t,s,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new ei.Y(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let n=[];for(let s=0,a=e.length;s<a;s++){const p=e[s];p.ignore||n.push(tr.h.delete(new Ye.e(t+s,p.commentStrOffset+1,t+s,p.commentStrOffset+p.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){let n=[];const s=this._insertSpace?" ":"";for(let a=0,p=e.length;a<p;a++){const L=e[a];L.ignore||n.push(tr.h.insert(new An.L(t+a,L.commentStrOffset+1),L.commentStr+s))}return n}static nextVisibleColumn(e,t,n,s){return n?e+(t-e%t):e+s}static _normalizeInsertionPoint(e,t,n,s){let p,L,a=1073741824;for(let q=0,ie=t.length;q<ie;q++){if(t[q].ignore)continue;const te=e.getLineContent(n+q);let ve=0;for(let tt=0,gt=t[q].commentStrOffset;ve<a&&tt<gt;tt++)ve=$d.nextVisibleColumn(ve,s,9===te.charCodeAt(tt),1);ve<a&&(a=ve)}a=Math.floor(a/s)*s;for(let q=0,ie=t.length;q<ie;q++){if(t[q].ignore)continue;const te=e.getLineContent(n+q);let ve=0;for(p=0,L=t[q].commentStrOffset;ve<a&&p<L;p++)ve=$d.nextVisibleColumn(ve,s,9===te.charCodeAt(p),1);t[q].commentStrOffset=ve>a?p-1:p}}}class m0 extends pt.R6{constructor(e,t){super(t),this._type=e}run(e,t){const n=e.get(Us.c_);if(!t.hasModel())return;const a=[],p=t.getModel().getOptions(),L=t.getOption(19),q=t.getSelections().map((te,ve)=>({selection:te,index:ve,ignoreFirstLine:!1}));q.sort((te,ve)=>Ye.e.compareRangesUsingStarts(te.selection,ve.selection));let ie=q[0];for(let te=1;te<q.length;te++){const ve=q[te];ie.selection.endLineNumber===ve.selection.startLineNumber&&(ie.index<ve.index?ve.ignoreFirstLine=!0:(ie.ignoreFirstLine=!0,ie=ve))}for(const te of q)a.push(new $d(n,te.selection,p.tabSize,this._type,L.insertSpace,L.ignoreEmptyLines,te.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}(0,pt.Qr)(class lw extends m0{constructor(){super(0,{id:"editor.action.commentLine",label:ke.N("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Mt.eH.MenubarEditMenu,group:"5_insert",title:ke.N({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,pt.Qr)(class iC extends m0{constructor(){super(1,{id:"editor.action.addCommentLine",label:ke.N("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2081),weight:100}})}}),(0,pt.Qr)(class cw extends m0{constructor(){super(2,{id:"editor.action.removeCommentLine",label:ke.N("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2099),weight:100}})}}),(0,pt.Qr)(class $r extends pt.R6{constructor(){super({id:"editor.action.blockComment",label:ke.N("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Mt.eH.MenubarEditMenu,group:"5_insert",title:ke.N({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const n=e.get(Us.c_);if(!t.hasModel())return;const s=t.getOption(19),a=[],p=t.getSelections();for(const L of p)a.push(new Jc(L,s.insertSpace,n));t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}});var Vg=function(_,e){return function(t,n){e(t,n,_)}};let lf=class ZE{constructor(e,t,n,s,a,p){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=s,this._keybindingService=a,this._menuService=p,this._toDispose=new Xe.SL,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(L=>this._onContextMenu(L))),this._toDispose.add(this._editor.onMouseWheel(L=>{if(this._contextMenuIsBeingShownCount>0){const q=this._contextViewService.getContextViewElement(),ie=L.srcElement;ie.shadowRoot&&oe.Ay(q)===ie.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(L=>{58===L.keyCode&&(L.preventDefault(),L.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(ZE.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type||6===e.target.type&&e.target.detail.injectedText||(e.event.preventDefault(),e.event.stopPropagation(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type))return;if(this._editor.focus(),e.target.position){let n=!1;for(const s of this._editor.getSelections())if(s.containsPosition(e.target.position)){n=!0;break}n||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Mt.eH.SimpleEditorContext:Mt.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],s=this._menuService.createMenu(t,this._contextKeyService),a=s.getActions({arg:e.uri});s.dispose();for(let p of a){const[,L]=p;let q=0;for(const ie of L)if(ie instanceof Mt.NZ){const te=this._getMenuActions(e,ie.item.submenu);te.length>0&&(n.push(new Qe.wY(ie.id,ie.label,te)),q++)}else n.push(ie),q++;q&&n.push(new Qe.Z0)}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const a=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),p=oe.i(this._editor.getDomNode());t={x:p.left+a.left,y:p.top+a.top+a.height}}const s=this._editor.getOption(115)&&!Pn.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:a=>{const p=this._keybindingFor(a);return p?new wl.g(a,a,{label:!0,keybinding:p.getLabel(),isMenu:!0}):"function"==typeof a.getActionViewItem?a.getActionViewItem():new wl.g(a,a,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:a=>this._keybindingFor(a),onHide:a=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};lf.ID="editor.contrib.contextmenu",lf=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Vg(1,et.i),Vg(2,et.u),Vg(3,ft.i6),Vg(4,xt.d),Vg(5,Mt.co)],lf),(0,pt._K)(lf.ID,lf),(0,pt.Qr)(class sC extends pt.R6{constructor(){super({id:"editor.action.showContextMenu",label:ke.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:dt.u.textInputFocus,primary:1092,weight:100}})}run(e,t){var n;null===(n=lf.get(t))||void 0===n||n.showContextMenu()}});class p0{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let s=0;s<t;s++)if(!this.selections[s].equalsSelection(e.selections[s]))return!1;return!0}}class xp{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}let Wg=(()=>{class _ extends Xe.JT{constructor(t){super(),this._editor=t,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(t.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const s=new p0(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(s)||(this._undoStack.push(new xp(s,t.getScrollTop(),t.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(t){return t.getContribution(_.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new xp(new p0(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new xp(new p0(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}return _.ID="editor.contrib.cursorUndoRedoController",_})();(0,pt._K)(Wg.ID,Wg),(0,pt.Qr)(class cf extends pt.R6{constructor(){super({id:"cursorUndo",label:ke.N("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:dt.u.textInputFocus,primary:2099,weight:100}})}run(e,t,n){var s;null===(s=Wg.get(t))||void 0===s||s.cursorUndo()}}),(0,pt.Qr)(class dw extends pt.R6{constructor(){super({id:"cursorRedo",label:ke.N("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,n){var s;null===(s=Wg.get(t))||void 0===s||s.cursorRedo()}}),m(6073);class rC{constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}getEditOperations(e,t){let n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new Ye.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new ei.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new ei.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new ei.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new ei.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new ei.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(e,t){return this.targetSelection}}function df(_){return Pn.dz?_.altKey:_.ctrlKey}class Dc extends Xe.JT{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(df(e)&&(this._modifierPressed=!0),this._mouseDown&&df(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(df(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Dc.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let s=(this._editor.getSelections()||[]).filter(a=>t.position&&a.containsPosition(t.position));if(1!==s.length)return;this._dragSelection=s[0]}df(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new An.L(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let n=null;if(e.event.shiftKey){let s=this._editor.getSelection();if(s){const{selectionStartLineNumber:a,selectionStartColumn:p}=s;n=[new ei.Y(a,p,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(s=>s.containsPosition(t)?new ei.Y(t.lineNumber,t.column,t.lineNumber,t.column):s);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(df(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Dc.ID,new rC(this._dragSelection,t,df(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new Ye.e(e.lineNumber,e.column,e.lineNumber,e.column),options:Dc._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Dc.ID="editor.contrib.dragAndDrop",Dc.TRIGGER_KEY_VALUE=Pn.dz?6:5,Dc._DECORATION_OPTIONS=Ae.qx.register({description:"dnd-target",className:"dnd-target"}),(0,pt._K)(Dc.ID,Dc);var zD=m(1154);class Gr{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const n of t){const s=n.options;if(s===Gr._FIND_MATCH_DECORATION||s===Gr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let s=0,a=this._decorations.length;s<a;s++){let p=this._editor.getModel().getDecorationRange(this._decorations[s]);if(e.equalsRange(p)){t=this._decorations[s],n=s+1;break}}return(null!==this._highlightedDecorationId||null!==t)&&this._editor.changeDecorations(s=>{if(null!==this._highlightedDecorationId&&(s.changeDecorationOptions(this._highlightedDecorationId,Gr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,s.changeDecorationOptions(this._highlightedDecorationId,Gr._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let a=this._editor.getModel().getDecorationRange(t);if(a.startLineNumber!==a.endLineNumber&&1===a.endColumn){let p=a.endLineNumber-1,L=this._editor.getModel().getLineMaxColumn(p);a=new Ye.e(a.startLineNumber,a.startColumn,p,L)}this._rangeHighlightDecorationId=s.addDecoration(a,Gr._RANGE_HIGHLIGHT_DECORATION)}}),n}set(e,t){this._editor.changeDecorations(n=>{let s=Gr._FIND_MATCH_DECORATION,a=[];if(e.length>1e3){s=Gr._FIND_MATCH_NO_OVERVIEW_DECORATION;const L=this._editor.getModel().getLineCount(),ie=this._editor.getLayoutInfo().height/L,te=Math.max(2,Math.ceil(3/ie));let ve=e[0].range.startLineNumber,tt=e[0].range.endLineNumber;for(let gt=1,Vt=e.length;gt<Vt;gt++){const dn=e[gt].range;tt+te>=dn.startLineNumber?dn.endLineNumber>tt&&(tt=dn.endLineNumber):(a.push({range:new Ye.e(ve,1,tt,1),options:Gr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ve=dn.startLineNumber,tt=dn.endLineNumber)}a.push({range:new Ye.e(ve,1,tt,1),options:Gr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let p=new Array(e.length);for(let L=0,q=e.length;L<q;L++)p[L]={range:e[L].range,options:s};this._decorations=n.deltaDecorations(this._decorations,p),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,a),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(L=>n.removeDecoration(L)),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map(L=>n.addDecoration(L,Gr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let n=this._decorations[t],s=this._editor.getModel().getDecorationRange(n);if(s&&!(s.endLineNumber>e.lineNumber)){if(s.endLineNumber<e.lineNumber)return s;if(!(s.endColumn>e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,n=this._decorations.length;t<n;t++){let s=this._decorations[t],a=this._editor.getModel().getDecorationRange(s);if(a&&!(a.startLineNumber<e.lineNumber)){if(a.startLineNumber>e.lineNumber)return a;if(!(a.startColumn<e.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Gr._CURRENT_FIND_MATCH_DECORATION=Ae.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,ln.EN)(Ge.Fm_),position:Te.sh.Center},minimap:{color:(0,ln.EN)(Ge.SUY),position:Te.F5.Inline}}),Gr._FIND_MATCH_DECORATION=Ae.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,ln.EN)(Ge.Fm_),position:Te.sh.Center},minimap:{color:(0,ln.EN)(Ge.SUY),position:Te.F5.Inline}}),Gr._FIND_MATCH_NO_OVERVIEW_DECORATION=Ae.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Gr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Ae.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,ln.EN)(Ge.Fm_),position:Te.sh.Center}}),Gr._RANGE_HIGHLIGHT_DECORATION=Ae.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Gr._FIND_SCOPE_DECORATION=Ae.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class _0{constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let n=[];for(let p=0;p<this._ranges.length;p++)n.push({range:this._ranges[p],text:this._replaceStrings[p]});n.sort((p,L)=>Ye.e.compareRangesUsingStarts(p.range,L.range));let s=[],a=n[0];for(let p=1;p<n.length;p++)a.range.endLineNumber===n[p].range.startLineNumber&&a.range.endColumn===n[p].range.startColumn?(a.range=a.range.plusRange(n[p].range),a.text=a.text+n[p].text):(s.push(a),a=n[p]);s.push(a);for(const p of s)t.addEditOperation(p.range,p.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function ql(_,e){if(_&&""!==_[0]){const t=aC(_,e,"-"),n=aC(_,e,"_");return t&&!n?lC(_,e,"-"):!t&&n?lC(_,e,"_"):_[0].toUpperCase()===_[0]?e.toUpperCase():_[0].toLowerCase()===_[0]?e.toLowerCase():fi.Kw(_[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):_[0][0].toUpperCase()!==_[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}return e}function aC(_,e,t){return-1!==_[0].indexOf(t)&&-1!==e.indexOf(t)&&_[0].split(t).length===e.split(t).length}function lC(_,e,t){const n=e.split(t),s=_[0].split(t);let a="";return n.forEach((p,L)=>{a+=ql([s[L]],p)+t}),a.slice(0,-1)}class ec{constructor(e){this.staticValue=e,this.kind=0}}class tc{constructor(e){this.pieces=e,this.kind=1}}class Sa{constructor(e){this._state=e&&0!==e.length?1===e.length&&null!==e[0].staticValue?new ec(e[0].staticValue):new tc(e):new ec("")}static fromStaticValue(e){return new Sa([Gd.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?ql(e,this._state.staticValue):this._state.staticValue;let n="";for(let s=0,a=this._state.pieces.length;s<a;s++){let p=this._state.pieces[s];if(null!==p.staticValue){n+=p.staticValue;continue}let L=Sa._substitute(p.matchIndex,e);if(null!==p.caseOps&&p.caseOps.length>0){let q=[],ie=p.caseOps.length,te=0;for(let ve=0,tt=L.length;ve<tt;ve++){if(te>=ie){q.push(L.slice(ve));break}switch(p.caseOps[te]){case"U":q.push(L[ve].toUpperCase());break;case"u":q.push(L[ve].toUpperCase()),te++;break;case"L":q.push(L[ve].toLowerCase());break;case"l":q.push(L[ve].toLowerCase()),te++;break;default:q.push(L[ve])}}L=q.join("")}n+=L}return n}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let n="";for(;e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}class Gd{constructor(e,t,n){this.staticValue=e,this.matchIndex=t,this.caseOps=n&&0!==n.length?n.slice(0):null}static staticValue(e){return new Gd(e,-1,null)}static caseOps(e,t){return new Gd(null,e,t)}}class cC{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Gd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Gd.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Gd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Sa(this._result)}}const Yd=new ft.uy("findWidgetVisible",!1),Ip=(Yd.toNegated(),new ft.uy("findInputFocussed",!1)),Hg=new ft.uy("replaceInputFocussed",!1),Zd={primary:545,mac:{primary:2593}},Mp={primary:565,mac:{primary:2613}},zg={primary:560,mac:{primary:2608}},Np={primary:554,mac:{primary:2602}},Ug={primary:558,mac:{primary:2606}},nc=19999;class uf{constructor(e,t){this._toDispose=new Xe.SL,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new mt._F,this._decorations=new Gr(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new mt.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(3===n.reason||5===n.reason||6===n.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,Xe.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;void 0!==t?null!==t&&(n=Array.isArray(t)?t:[t]):n=this._decorations.getFindScopes(),null!==n&&(n=n.map(L=>{if(L.startLineNumber!==L.endLineNumber){let q=L.endLineNumber;return 1===L.endColumn&&(q-=1),new Ye.e(L.startLineNumber,1,q,this._editor.getModel().getLineMaxColumn(q))}return L}));let s=this._findMatches(n,!1,nc);this._decorations.set(s,n);const a=this._editor.getSelection();let p=this._decorations.getCurrentMatchesPosition(a);if(0===p&&s.length>0){const L=(0,xi.lG)(s.map(q=>q.range),q=>Ye.e.compareRangesUsingStarts(q,a)>=0);p=L>0?L-1+1:p}this._state.changeMatchInfo(p,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:s}=e,a=this._editor.getModel();return t||1===s?(1===n?n=a.getLineCount():n--,s=a.getLineMaxColumn(n)):s--,new An.L(n,s)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const te=this._decorations.matchAfterPosition(e);return void(te&&this._setCurrentFindMatch(te))}if(this._decorations.getCount()<nc){let te=this._decorations.matchBeforePosition(e);return te&&te.isEmpty()&&te.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),te=this._decorations.matchBeforePosition(e)),void(te&&this._setCurrentFindMatch(te))}if(this._cannotFind())return;let n=this._decorations.getFindScope(),s=uf._getSearchRange(this._editor.getModel(),n);s.getEndPosition().isBefore(e)&&(e=s.getEndPosition()),e.isBefore(s.getStartPosition())&&(e=s.getEndPosition());let{lineNumber:a,column:p}=e,L=this._editor.getModel(),q=new An.L(a,p),ie=L.findPreviousMatch(this._state.searchString,q,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(ie&&ie.range.isEmpty()&&ie.range.getStartPosition().equals(q)&&(q=this._prevSearchPosition(q),ie=L.findPreviousMatch(this._state.searchString,q,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),ie){if(!t&&!s.containsRange(ie.range))return this._moveToPrevMatch(ie.range.getStartPosition(),!0);this._setCurrentFindMatch(ie.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:s}=e,a=this._editor.getModel();return t||s===a.getLineMaxColumn(n)?(n===a.getLineCount()?n=1:n++,s=1):s++,new An.L(n,s)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(e);return void(n&&this._setCurrentFindMatch(n))}if(this._decorations.getCount()<nc){let n=this._decorations.matchAfterPosition(e);return n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),n=this._decorations.matchAfterPosition(e)),void(n&&this._setCurrentFindMatch(n))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,s=!1){if(this._cannotFind())return null;let a=this._decorations.getFindScope(),p=uf._getSearchRange(this._editor.getModel(),a);p.getEndPosition().isBefore(e)&&(e=p.getStartPosition()),e.isBefore(p.getStartPosition())&&(e=p.getStartPosition());let{lineNumber:L,column:q}=e,ie=this._editor.getModel(),te=new An.L(L,q),ve=ie.findNextMatch(this._state.searchString,te,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t);return n&&ve&&ve.range.isEmpty()&&ve.range.getStartPosition().equals(te)&&(te=this._nextSearchPosition(te),ve=ie.findNextMatch(this._state.searchString,te,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t)),ve?s||p.containsRange(ve.range)?ve:this._getNextMatch(ve.range.getEndPosition(),t,n,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function uw(_){if(!_||0===_.length)return new Sa(null);let e=[],t=new cC(_);for(let n=0,s=_.length;n<s;n++){let a=_.charCodeAt(n);if(92!==a){if(36===a){if(n++,n>=s)break;let p=_.charCodeAt(n);if(36===p){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(48===p||38===p){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1,e),e.length=0;continue}if(49<=p&&p<=57){let L=p-48;if(n+1<s){let q=_.charCodeAt(n+1);if(48<=q&&q<=57){n++,L=10*L+(q-48),t.emitUnchanged(n-2),t.emitMatchIndex(L,n+1,e),e.length=0;continue}}t.emitUnchanged(n-1),t.emitMatchIndex(L,n+1,e),e.length=0;continue}}}else{if(n++,n>=s)break;let p=_.charCodeAt(n);switch(p){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic("\n",n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(n-1),t.emitStatic("",n+1),e.push(String.fromCharCode(p))}}}return t.finalize()}(this._state.replaceString):Sa.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){let s=e.buildReplaceString(n.matches,this._state.preserveCase),a=new Ni.T4(t,s);this._executeEditorCommand("replace",a),this._decorations.setStartPosition(new An.L(t.startLineNumber,t.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const s=(e||[null]).map(a=>uf._getSearchRange(this._editor.getModel(),a));return this._editor.getModel().findMatches(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=nc?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new zD.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!t)return;let n=t.regex;if(!n.multiline){let ve="mu";n.ignoreCase&&(ve+="i"),n.global&&(ve+="g"),n=new RegExp(n.source,ve)}const s=this._editor.getModel(),a=s.getValue(1),p=s.getFullModelRange(),L=this._getReplacePattern();let q;const ie=this._state.preserveCase;q=a.replace(n,L.hasReplacementPatterns||ie?function(){return L.buildReplaceString(arguments,ie)}:L.buildReplaceString(null,ie));let te=new Ni.hP(p,q,this._editor.getSelection());this._executeEditorCommand("replaceAll",te)}_regularReplaceAll(e){const t=this._getReplacePattern();let n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),s=[];for(let p=0,L=n.length;p<L;p++)s[p]=t.buildReplaceString(n[p].matches,this._state.preserveCase);let a=new _0(this._editor.getSelection(),n.map(p=>p.range),s);this._executeEditorCommand("replaceAll",a)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),n=this._findMatches(e,!1,1073741824).map(a=>new ei.Y(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn)),s=this._editor.getSelection();for(let a=0,p=n.length;a<p;a++)if(n[a].equalsRange(s)){n=[s].concat(n.slice(0,a)).concat(n.slice(a+1));break}this._editor.setSelections(n)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}m(9792);const v0={inputActiveOptionBorder:bi.Il.fromHex("#007ACC00"),inputActiveOptionForeground:bi.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:bi.Il.fromHex("#0E639C50")};class ku extends Ca.${constructor(e){super(),this._onChange=this._register(new Ln.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Ln.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},v0),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...an.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(10===n.keyCode||3===n.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void n.preventDefault();this._onKeyDown.fire(n)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const dC=ke.N("caseDescription","Match Case"),uC=ke.N("wordsDescription","Match Whole Word"),hC=ke.N("regexDescription","Use Regular Expression");class b0 extends ku{constructor(e){super({icon:an.lA.caseSensitive,title:dC+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class C0 extends ku{constructor(e){super({icon:an.lA.wholeWord,title:uC+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class y0 extends ku{constructor(e){super({icon:an.lA.regex,title:hC+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}let fC=(()=>{class _ extends Ca.${constructor(t,n,s,a){super(),this._hideSoon=this._register(new mt.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=t,this._state=n,this._keybindingService=s,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const p=a.getColorTheme().getColor(Ge.PRb),L=a.getColorTheme().getColor(Ge.Pvw),q=a.getColorTheme().getColor(Ge.XEs);this.caseSensitive=this._register(new b0({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:p,inputActiveOptionForeground:L,inputActiveOptionBackground:q})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new C0({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:p,inputActiveOptionForeground:L,inputActiveOptionBackground:q})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new y0({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:p,inputActiveOptionForeground:L,inputActiveOptionBackground:q})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(ie=>{let te=!1;ie.isRegex&&(this.regex.checked=this._state.isRegex,te=!0),ie.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,te=!0),ie.matchCase&&(this.caseSensitive.checked=this._state.matchCase,te=!0),!this._state.isRevealed&&te&&this._revealTemporarily()})),this._register(oe.j_(this._domNode,ie=>this._onMouseOut())),this._register(oe.nm(this._domNode,"mouseover",ie=>this._onMouseOver())),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(t){let n=this._keybindingService.lookupKeybinding(t);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(t){let n={inputActiveOptionBorder:t.getColor(Ge.PRb),inputActiveOptionForeground:t.getColor(Ge.Pvw),inputActiveOptionBackground:t.getColor(Ge.XEs)};this.caseSensitive.style(n),this.wholeWords.style(n),this.regex.style(n)}}return _.ID="editor.contrib.findOptionsWidget",_})();function jg(_,e){return 1===_||2!==_&&e}(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.D0T);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const n=_.getColor(Ge.Hfx);n&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const s=_.getColor(Ge.rh);s&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const a=_.getColor(Ge.lRK);a&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${a}; }`)});class gw extends Xe.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new Ln.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return jg(this._isRegexOverride,this._isRegex)}get wholeWord(){return jg(this._wholeWordOverride,this._wholeWord)}get matchCase(){return jg(this._matchCaseOverride,this._matchCase)}get preserveCase(){return jg(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,n){let s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},a=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,s.matchesPosition=!0,a=!0),this._matchesCount!==t&&(this._matchesCount=t,s.matchesCount=!0,a=!0),void 0!==n&&(Ye.e.equalsRange(this._currentMatch,n)||(this._currentMatch=n,s.currentMatch=!0,a=!0)),a&&this._onFindReplaceStateChange.fire(s)}change(e,t,n=!0){var s;let a={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},p=!1;const L=this.isRegex,q=this.wholeWord,ie=this.matchCase,te=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,a.searchString=!0,p=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,a.replaceString=!0,p=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,a.isRevealed=!0,p=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,a.isReplaceRevealed=!0,p=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(s=e.searchScope)||void 0===s?void 0:s.every(ve=>{var tt;return null===(tt=this._searchScope)||void 0===tt?void 0:tt.some(gt=>!Ye.e.equalsRange(gt,ve))}))||(this._searchScope=e.searchScope,a.searchScope=!0,p=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,a.loop=!0,p=!0),void 0!==e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,a.isSearching=!0,p=!0),void 0!==e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,a.filters=!0,p=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,L!==this.isRegex&&(p=!0,a.isRegex=!0),q!==this.wholeWord&&(p=!0,a.wholeWord=!0),ie!==this.matchCase&&(p=!0,a.matchCase=!0),te!==this.preserveCase&&(p=!0,a.preserveCase=!0),p&&this._onFindReplaceStateChange.fire(a)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=nc}}m(7889);var gC=m(1523);m(796);const mw=ke.N("defaultLabel","input");class pw extends Ca.${constructor(e,t,n,s){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new Ln.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Ln.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Ln.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new Ln.Q5),this._onKeyUp=this._register(new Ln.Q5),this._onCaseSensitiveKeyDown=this._register(new Ln.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new Ln.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||mw,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const a=s.appendCaseSensitiveLabel||"",p=s.appendWholeWordsLabel||"",L=s.appendRegexLabel||"",q=s.history||[],ie=!!s.flexibleHeight,te=!!s.flexibleWidth,ve=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new gC.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:q,showHistoryHint:s.showHistoryHint,flexibleHeight:ie,flexibleWidth:te,flexibleMaxHeight:ve})),this.regex=this._register(new y0({appendTitle:L,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(gt=>{this._onDidOptionChange.fire(gt),!gt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(gt=>{this._onRegexKeyDown.fire(gt)})),this.wholeWords=this._register(new C0({appendTitle:p,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(gt=>{this._onDidOptionChange.fire(gt),!gt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new b0({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(gt=>{this._onDidOptionChange.fire(gt),!gt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(gt=>{this._onCaseSensitiveKeyDown.fire(gt)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let tt=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,gt=>{if(gt.equals(15)||gt.equals(17)||gt.equals(9)){let Vt=tt.indexOf(document.activeElement);if(Vt>=0){let dn=-1;gt.equals(17)?dn=(Vt+1)%tt.length:gt.equals(15)&&(dn=0===Vt?tt.length-1:Vt-1),gt.equals(9)?(tt[Vt].blur(),this.inputBox.focus()):dn>=0&&tt[dn].focus(),oe.zB.stop(gt,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),e&&e.appendChild(this.domNode),this._register(oe.nm(this.inputBox.inputElement,"compositionstart",gt=>{this.imeSessionInProgress=!0})),this._register(oe.nm(this.inputBox.inputElement,"compositionend",gt=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,gt=>this._onKeyDown.fire(gt)),this.onkeyup(this.inputBox.inputElement,gt=>this._onKeyUp.fire(gt)),this.oninput(this.inputBox.inputElement,gt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,gt=>this._onMouseDown.fire(gt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const _w=ke.N("defaultLabel","input"),vw=ke.N("label.preserveCaseCheckbox","Preserve Case");class bw extends ku{constructor(e){super({icon:an.lA.preserveCase,title:vw+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Cw extends Ca.${constructor(e,t,n,s){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Ln.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Ln.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Ln.Q5),this._onInput=this._register(new Ln.Q5),this._onKeyUp=this._register(new Ln.Q5),this._onPreserveCaseKeyDown=this._register(new Ln.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||_w,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const a=s.appendPreserveCaseLabel||"",p=s.history||[],L=!!s.flexibleHeight,q=!!s.flexibleWidth,ie=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new gC.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:p,showHistoryHint:s.showHistoryHint,flexibleHeight:L,flexibleWidth:q,flexibleMaxHeight:ie})),this.preserveCase=this._register(new bw({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(tt=>{this._onDidOptionChange.fire(tt),!tt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(tt=>{this._onPreserveCaseKeyDown.fire(tt)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;let te=[this.preserveCase.domNode];this.onkeydown(this.domNode,tt=>{if(tt.equals(15)||tt.equals(17)||tt.equals(9)){let gt=te.indexOf(document.activeElement);if(gt>=0){let Vt=-1;tt.equals(17)?Vt=(gt+1)%te.length:tt.equals(15)&&(Vt=0===gt?te.length-1:gt-1),tt.equals(9)?(te[gt].blur(),this.inputBox.focus()):Vt>=0&&te[Vt].focus(),oe.zB.stop(tt,!0)}}});let ve=document.createElement("div");ve.className="controls",ve.style.display=this._showOptionButtons?"block":"none",ve.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ve),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,tt=>this._onKeyDown.fire(tt)),this.onkeyup(this.inputBox.inputElement,tt=>this._onKeyUp.fire(tt)),this.oninput(this.inputBox.inputElement,tt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,tt=>this._onMouseDown.fire(tt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var mC=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},pC=function(_,e){return function(t,n){e(t,n,_)}};const _C="suggestWidgetVisible",Kg="historyNavigationWidget",vC="historyNavigationForwardsEnabled",bC="historyNavigationBackwardsEnabled";function w0(_,e){return _.getContext(document.activeElement).getValue(e)}function S0(_,e){const t=function ww(_,e){return _.createScoped(e.target)}(_,e);return function yw(_,e,t){new ft.uy(t,e).bindTo(_)}(t,e,Kg),{scopedContextKeyService:t,historyNavigationForwardsEnablement:new ft.uy(vC,!0).bindTo(t),historyNavigationBackwardsEnablement:new ft.uy(bC,!0).bindTo(t)}}let Tp=class extends pw{constructor(e,t,n,s,a=!1){super(e,t,a,n),this._register(S0(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Tp=mC([pC(3,ft.i6)],Tp);let Ap=class extends Cw{constructor(e,t,n,s,a=!1){super(e,t,a,n),this._register(S0(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};function D0(_){var e,t;return"Up"===(null===(e=_.lookupKeybinding("history.showPrevious"))||void 0===e?void 0:e.getElectronAccelerator())&&"Down"===(null===(t=_.lookupKeybinding("history.showNext"))||void 0===t?void 0:t.getElectronAccelerator())}Ap=mC([pC(3,ft.i6)],Ap),ea.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:ft.Ao.and(ft.Ao.has(Kg),ft.Ao.equals(bC,!0),ft.Ao.equals(_C,!1)),primary:16,secondary:[528],handler:_=>{const e=w0(_.get(ft.i6),Kg);e&&e.historyNavigator.showPreviousValue()}}),ea.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:ft.Ao.and(ft.Ao.has(Kg),ft.Ao.equals(vC,!0),ft.Ao.equals(_C,!1)),primary:18,secondary:[530],handler:_=>{const e=w0(_.get(ft.i6),Kg);e&&e.historyNavigator.showNextValue()}});const yC=(0,Ir.q5)("find-selection",an.lA.selection,ke.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),E0=(0,Ir.q5)("find-collapsed",an.lA.chevronRight,ke.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),L0=(0,Ir.q5)("find-expanded",an.lA.chevronDown,ke.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),x0=(0,Ir.q5)("find-replace",an.lA.replace,ke.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),wC=(0,Ir.q5)("find-replace-all",an.lA.replaceAll,ke.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Ru=(0,Ir.q5)("find-previous-match",an.lA.arrowUp,ke.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Sw=(0,Ir.q5)("find-next-match",an.lA.arrowDown,ke.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Dw=ke.N("label.find","Find"),hf=ke.N("placeholder.find","Find"),$D=ke.N("label.previousMatchButton","Previous Match"),I0=ke.N("label.nextMatchButton","Next Match"),GD=ke.N("label.toggleSelectionFind","Find in Selection"),SC=ke.N("label.closeButton","Close"),DC=ke.N("label.replace","Replace"),YD=ke.N("placeholder.replace","Replace"),Vo=ke.N("label.replaceButton","Replace"),Ew=ke.N("label.replaceAllButton","Replace All"),Lw=ke.N("label.toggleReplaceButton","Toggle Replace"),xw=ke.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",nc),kp=ke.N("label.matchesLocation","{0} of {1}"),EC=ke.N("label.noResults","No results");let Rp=69;const xC="ctrlEnterReplaceAll.windows.donotask",IC=Pn.dz?256:2048;class Op{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function N0(_,e,t){const n=!!e.match(/\n/);t&&n&&t.selectionStart>0&&_.stopPropagation()}function T0(_,e,t){const n=!!e.match(/\n/);t&&n&&t.selectionEnd<t.value.length&&_.stopPropagation()}let MC=(()=>{class _ extends Ca.${constructor(t,n,s,a,p,L,q,ie,te){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=t,this._controller=n,this._state=s,this._contextViewProvider=a,this._keybindingService=p,this._contextKeyService=L,this._storageService=ie,this._notificationService=te,this._ctrlEnterReplaceAllWarningPrompted=!!ie.getBoolean(xC,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new mt.vp(500),this._register((0,Xe.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ve=>this._onStateChanged(ve))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ve=>{if(ve.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ve.hasChanged(131)&&this._tryUpdateWidgetWidth(),ve.hasChanged(2)&&this.updateAccessibilitySupport(),ve.hasChanged(35)){const tt=this._codeEditor.getOption(35).addExtraSpaceOnTop;tt&&!this._viewZone&&(this._viewZone=new Op(0),this._showViewZone()),!tt&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){let ve=yield this._controller.getGlobalBufferTerm();ve&&ve!==this._state.searchString&&(this._state.change({searchString:ve},!1),this._findInput.select())}}))),this._findInputFocused=Ip.bindTo(L),this._findFocusTracker=this._register(oe.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=Hg.bindTo(L),this._replaceFocusTracker=this._register(oe.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new Op(0)),this._applyTheme(q.getColorTheme()),this._register(q.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ve=>{ve.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(t){if(t.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=oe.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),t.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(t.searchString||t.matchesCount||t.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory(),t.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ii.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let t;if(this._matchesCount.style.minWidth=Rp+"px",this._matchesCount.title=this._state.matchesCount>=nc?xw:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let n=String(this._state.matchesCount);this._state.matchesCount>=nc&&(n+="+");let s=String(this._state.matchesPosition);"0"===s&&(s="?"),t=fi.WU(kp,s,n)}else t=EC;this._matchesCount.appendChild(document.createTextNode(t)),(0,Zt.Z9)(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString)),Rp=Math.max(Rp,this._matchesCount.clientWidth)}_getAriaLabel(t,n,s){if(t===EC)return""===s?ke.N("ariaSearchNoResultEmpty","{0} found",t):ke.N("ariaSearchNoResult","{0} found for '{1}'",t,s);if(n){const a=ke.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",t,s,n.startLineNumber+":"+n.startColumn),p=this._codeEditor.getModel();return p&&n.startLineNumber<=p.getLineCount()&&n.startLineNumber>=1?`${p.getLineContent(n.startLineNumber)}, ${a}`:a}return ke.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",t,s)}_updateToggleSelectionFindButton(){let t=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||t&&(t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let t=this._state.searchString.length>0,n=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let s=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&s)}_reveal(){if(this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!t&&t.startLineNumber!==t.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let n=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&t){const s=this._codeEditor.getDomNode();if(s){const a=oe.i(s),p=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),L=a.left+(p?p.left:0),q=p?p.top:0;if(this._viewZone&&q<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(n=!1);const ie=oe.xQ(this._domNode).left;L>ie&&(n=!1);const te=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());a.left+(te?te.left:0)>ie&&(n=!1)}}}this._showViewZone(n)}}_hide(t){this._revealTimeouts.forEach(n=>{clearTimeout(n)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(t){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const s=this._viewZone;void 0!==this._viewZoneId||!s||this._codeEditor.changeViewZones(a=>{s.heightInPx=this._getHeight(),this._viewZoneId=a.addZone(s),this._codeEditor.setScrollTop(t||this._codeEditor.getScrollTop()+s.heightInPx)})}_showViewZone(t=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new Op(0));const s=this._viewZone;this._codeEditor.changeViewZones(a=>{if(void 0!==this._viewZoneId){const p=this._getHeight();if(p===s.heightInPx)return;let L=p-s.heightInPx;return s.heightInPx=p,a.layoutZone(this._viewZoneId),void(t&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+L))}{let p=this._getHeight();if(p-=this._codeEditor.getOption(75).top,p<=0)return;s.heightInPx=p,this._viewZoneId=a.addZone(s),t&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+p)}})}_removeViewZone(){this._codeEditor.changeViewZones(t=>{void 0!==this._viewZoneId&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(t){let n={inputActiveOptionBorder:t.getColor(Ge.PRb),inputActiveOptionBackground:t.getColor(Ge.XEs),inputActiveOptionForeground:t.getColor(Ge.Pvw),inputBackground:t.getColor(Ge.sEe),inputForeground:t.getColor(Ge.zJb),inputBorder:t.getColor(Ge.dt_),inputValidationInfoBackground:t.getColor(Ge._lC),inputValidationInfoForeground:t.getColor(Ge.YI3),inputValidationInfoBorder:t.getColor(Ge.EPQ),inputValidationWarningBackground:t.getColor(Ge.RV_),inputValidationWarningForeground:t.getColor(Ge.SUG),inputValidationWarningBorder:t.getColor(Ge.C3g),inputValidationErrorBackground:t.getColor(Ge.paE),inputValidationErrorForeground:t.getColor(Ge._t9),inputValidationErrorBorder:t.getColor(Ge.OZR)};this._findInput.style(n),this._replaceInput.style(n),this._toggleSelectionFind.style(n)}_tryUpdateWidgetWidth(){if(!this._isVisible||!oe.Uw(this._domNode))return;const t=this._codeEditor.getLayoutInfo();if(t.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const s=t.width,a=t.minimap.minimapWidth;let p=!1,L=!1,q=!1;if(this._resized&&oe.w(this._domNode)>419)return this._domNode.style.maxWidth=s-28-a-15+"px",void(this._replaceInput.width=oe.w(this._findInput.domNode));if(447+a>=s&&(L=!0),447+a-Rp>=s&&(q=!0),447+a-Rp>=s+50&&(p=!0),this._domNode.classList.toggle("collapsed-find-widget",p),this._domNode.classList.toggle("narrow-find-widget",q),this._domNode.classList.toggle("reduced-find-widget",L),!q&&!p&&(this._domNode.style.maxWidth=s-28-a-15+"px"),this._resized){this._findInput.inputBox.layout();let ie=this._findInput.inputBox.element.clientWidth;ie>0&&(this._replaceInput.width=ie)}else this._isReplaceVisible&&(this._replaceInput.width=oe.w(this._findInput.domNode))}_getHeight(){let t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t}_tryUpdateHeight(){const t=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==t)&&(this._cachedHeight=t,this._domNode.style.height=`${t}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let t=this._codeEditor.getSelections();t.map(n=>(1===n.endColumn&&n.endLineNumber>n.startLineNumber&&(n=n.setEndPosition(n.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(n.endLineNumber-1))),n.startLineNumber===n.endLineNumber||Ye.e.equalsRange(n,this._state.currentMatch)?null:n)).filter(n=>!!n),t.length&&this._state.change({searchScope:t},!0)}}_onFindInputMouseDown(t){t.middleButton&&t.stopPropagation()}_onFindInputKeyDown(t){return t.equals(3|IC)?(this._keybindingService.dispatchEvent(t,t.target)||this._findInput.inputBox.insertAtCursor("\n"),void t.preventDefault()):t.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):t.equals(16)?N0(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):t.equals(18)?T0(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(t){return t.equals(3|IC)?(this._keybindingService.dispatchEvent(t,t.target)||(Pn.ED&&Pn.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(ke.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(xC,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void t.preventDefault()):t.equals(2)?(this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(1026)?(this._findInput.focus(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):t.equals(16)?N0(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):t.equals(18)?T0(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(t){return 0}_keybindingLabelFor(t){let n=this._keybindingService.lookupKeybinding(t);return n?` (${n.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Tp(null,this._contextViewProvider,{width:221,label:Dw,placeholder:hf,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:ie=>{if(0===ie.length||!this._findInput.getRegex())return null;try{return new RegExp(ie,"gu"),null}catch(te){return{content:te.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>D0(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ie=>this._onFindInputKeyDown(ie))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ie=>{ie.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ie.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ie=>{ie.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ie.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ie=>{this._tryUpdateHeight()&&this._showViewZone()})),Pn.IJ&&this._register(this._findInput.onMouseDown(ie=>this._onFindInputMouseDown(ie))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ff({label:$D+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:Ru,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,Ii.dL)}})),this._nextBtn=this._register(new ff({label:I0+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:Sw,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,Ii.dL)}}));let s=document.createElement("div");s.className="find-part",s.appendChild(this._findInput.domNode);const a=document.createElement("div");a.className="find-actions",s.appendChild(a),a.appendChild(this._matchesCount),a.appendChild(this._prevBtn.domNode),a.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ku({icon:yC,title:GD+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let ie=this._codeEditor.getSelections();ie.map(te=>(1===te.endColumn&&te.endLineNumber>te.startLineNumber&&(te=te.setEndPosition(te.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(te.endLineNumber-1))),te.isEmpty()?null:te)).filter(te=>!!te),ie.length&&this._state.change({searchScope:ie},!0)}}else this._state.change({searchScope:null},!0)})),a.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ff({label:SC+this._keybindingLabelFor("closeFindWidget"),icon:Ir.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ie=>{ie.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ie.preventDefault())}})),a.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Ap(null,void 0,{label:DC,placeholder:YD,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>D0(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ie=>this._onReplaceInputKeyDown(ie))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ie=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ie=>{ie.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ie.preventDefault())})),this._replaceBtn=this._register(new ff({label:Vo+this._keybindingLabelFor("editor.action.replaceOne"),icon:x0,onTrigger:()=>{this._controller.replace()},onKeyDown:ie=>{ie.equals(1026)&&(this._closeBtn.focus(),ie.preventDefault())}})),this._replaceAllBtn=this._register(new ff({label:Ew+this._keybindingLabelFor("editor.action.replaceAll"),icon:wC,onTrigger:()=>{this._controller.replaceAll()}}));let p=document.createElement("div");p.className="replace-part",p.appendChild(this._replaceInput.domNode);const L=document.createElement("div");L.className="replace-actions",p.appendChild(L),L.appendChild(this._replaceBtn.domNode),L.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ff({label:Lw,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=oe.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(s),this._domNode.appendChild(p),this._resizeSash=new qr.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let q=419;this._register(this._resizeSash.onDidStart(()=>{q=oe.w(this._domNode)})),this._register(this._resizeSash.onDidChange(ie=>{this._resized=!0;let te=q+ie.startX-ie.currentX;te<419||te>(parseFloat(oe.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${te}px`,this._isReplaceVisible&&(this._replaceInput.width=oe.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ie=oe.w(this._domNode);if(ie<419)return;let te=419;if(!this._resized||419===ie){const ve=this._codeEditor.getLayoutInfo();te=ve.width-28-ve.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${te}px`,this._isReplaceVisible&&(this._replaceInput.width=oe.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const t=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==t)}}return _.ID="editor.contrib.findWidget",_})();class ff extends Ca.${constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+ln.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,n=>{this._opts.onTrigger(),n.preventDefault()}),this.onkeydown(this._domNode,n=>{if(n.equals(10)||n.equals(3))return this._opts.onTrigger(),void n.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(n)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...ln.kS.asClassNameArray(E0)),this._domNode.classList.add(...ln.kS.asClassNameArray(L0))):(this._domNode.classList.remove(...ln.kS.asClassNameArray(L0)),this._domNode.classList.add(...ln.kS.asClassNameArray(E0)))}}(0,ln.Ic)((_,e)=>{const t=(Vt,dn)=>{dn&&e.addRule(`.monaco-editor ${Vt} { background-color: ${dn}; }`)};t(".findMatch",_.getColor(Ge.MUv)),t(".currentFindMatch",_.getColor(Ge.nyM)),t(".findScope",_.getColor(Ge.jUe)),t(".find-widget",_.getColor(Ge.D0T));const s=_.getColor(Ge.rh);s&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${s}; }`);const a=_.getColor(Ge.EiJ);a&&e.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===_.type?"dotted":"solid"} ${a}; box-sizing: border-box; }`);const p=_.getColor(Ge.pnM);p&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${p}; padding: 1px; box-sizing: border-box; }`);const L=_.getColor(Ge.gkn);L&&e.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===_.type?"dashed":"solid"} ${L}; }`);const q=_.getColor(Ge.lRK);q&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${q}; }`);const ie=_.getColor(Ge.Hfx);ie&&e.addRule(`.monaco-editor .find-widget { color: ${ie}; }`);const te=_.getColor(Ge.Ido);te&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${te}; }`);const ve=_.getColor(Ge.Ng6);if(ve)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ve}; }`);else{const Vt=_.getColor(Ge.D1_);Vt&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Vt}; }`)}const tt=_.getColor(Ge.lUq);tt&&e.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${tt} !important;\n\t\t}\n\t`);const gt=_.getColor(Ge.R80);gt&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${gt}; }`)});var NC=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Ec=function(_,e){return function(t,n){e(t,n,_)}},ic=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};function A0(_,e="single",t=!1){if(!_.hasModel())return null;const n=_.getSelection();if("single"===e&&n.startLineNumber===n.endLineNumber||"multiple"===e)if(n.isEmpty()){const s=_.getConfiguredWordAtPosition(n.getStartPosition());if(s&&!1===t)return s.word}else if(_.getModel().getValueLengthInRange(n)<524288)return _.getModel().getValueInRange(n);return null}let Ha=class QE extends Xe.JT{constructor(e,t,n,s){super(),this._editor=e,this._findWidgetVisible=Yd.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=s,this._updateHistoryDelayer=new mt.vp(500),this._state=this._register(new gw),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(a=>this._onStateChanged(a))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let a=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),a&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(QE.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Ip.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=fi.ec(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return ic(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n=Object.assign(Object.assign({},t),{isRevealed:!0});if("single"===e.seedSearchStringFromSelection){let s=A0(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);s&&(n.searchString=this._state.isRegex?fi.ec(s):s)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let s=A0(this._editor,e.seedSearchStringFromSelection);s&&(n.searchString=s)}if(!n.searchString&&e.seedSearchStringFromGlobalClipboard){let s=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;s&&(n.searchString=s)}if(e.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){let s=this._editor.getSelections();s.some(a=>!a.isEmpty())&&(n.searchScope=s)}n.loop=e.loop,this._state.change(n,!1),this._model||(this._model=new uf(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return ic(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Ha.ID="editor.contrib.findController",Ha=NC([Ec(1,ft.i6),Ec(2,Lo.Uy),Ec(3,Wi.p)],Ha);let gf=class extends Ha{constructor(e,t,n,s,a,p,L,q){super(e,n,L,q),this._contextViewService=t,this._keybindingService=s,this._themeService=a,this._notificationService=p,this._widget=null,this._findOptionsWidget=null}_start(e,t){const n=Object.create(null,{_start:{get:()=>super._start}});return ic(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const s=this._editor.getSelection();let a=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":a=!0;break;case"never":a=!1;break;case"multiline":a=!!s&&s.startLineNumber!==s.endLineNumber}e.updateSearchScope=e.updateSearchScope||a,yield n._start.call(this,e,t),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new MC(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new fC(this._editor,this._state,this._keybindingService,this._themeService))}};gf=NC([Ec(1,et.u),Ec(2,ft.i6),Ec(3,xt.d),Ec(4,ln.XE),Ec(5,Xo.lT),Ec(6,Lo.Uy),Ec(7,Wi.p)],gf),(0,pt.rn)(new pt.jY({id:"actions.find",label:ke.N("startFindAction","Find"),alias:"Find",precondition:ft.Ao.or(dt.u.focus,ft.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Mt.eH.MenubarEditMenu,group:"3_find",title:ke.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(_,e,t)=>{const n=Ha.get(e);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:e.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})});const TC={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:ke.N("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:ke.N("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:ke.N("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:ke.N("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class mf extends pt.R6{run(e,t){return ic(this,void 0,void 0,function*(){const n=Ha.get(t);n&&!this._run(n)&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}class kC extends pt.R6{run(e,t){return ic(this,void 0,void 0,function*(){const n=Ha.get(t);if(!n)return;const s="selection"===t.getOption(35).seedSearchStringFromSelection;let a=null;"never"!==t.getOption(35).seedSearchStringFromSelection&&(a=A0(t,"single",s)),a&&n.setSearchString(a),this._run(n)||(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:s,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}(0,pt.rn)(new pt.jY({id:"editor.action.startFindReplaceAction",label:ke.N("startReplace","Replace"),alias:"Replace",precondition:ft.Ao.or(dt.u.focus,ft.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Mt.eH.MenubarEditMenu,group:"3_find",title:ke.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(_,e,t)=>{if(!e.hasModel()||e.getOption(81))return!1;const n=Ha.get(e);if(!n)return!1;const s=e.getSelection(),a=n.isFindInputFocused(),p=!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&"never"!==e.getOption(35).seedSearchStringFromSelection&&!a,L=a||p?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:p?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==e.getOption(35).seedSearchStringFromSelection,shouldFocus:L,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})}),(0,pt._K)(Ha.ID,gf),(0,pt.Qr)(class AC extends pt.R6{constructor(){super({id:"editor.actions.findWithArgs",label:ke.N("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:TC})}run(e,t,n){return ic(this,void 0,void 0,function*(){const s=Ha.get(t);if(s){const a=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:void 0!==n.replaceString,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};yield s.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===s.getState().searchString.length&&"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==n?void 0:n.findInSelection)||!1,loop:t.getOption(35).loop},a),s.setGlobalBufferTerm(s.getState().searchString)}})}}),(0,pt.Qr)(class Nw extends pt.R6{constructor(){super({id:"actions.findWithSelection",label:ke.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return ic(this,void 0,void 0,function*(){const n=Ha.get(t);n&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),n.setGlobalBufferTerm(n.getState().searchString))})}}),(0,pt.Qr)(class $g extends mf{constructor(){super({id:"editor.action.nextMatchFindAction",label:ke.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:dt.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:ft.Ao.and(dt.u.focus,Ip),primary:3,weight:100}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),(0,pt.Qr)(class Tw extends mf{constructor(){super({id:"editor.action.previousMatchFindAction",label:ke.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:dt.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:ft.Ao.and(dt.u.focus,Ip),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}),(0,pt.Qr)(class Aw extends kC{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:ke.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}),(0,pt.Qr)(class RC extends kC{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:ke.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}});const Rl=pt._l.bindToContribution(Ha.get);(0,pt.fK)(new Rl({id:"closeFindWidget",precondition:Yd,handler:_=>_.closeFindWidget(),kbOpts:{weight:105,kbExpr:ft.Ao.and(dt.u.focus,ft.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,pt.fK)(new Rl({id:"toggleFindCaseSensitive",precondition:void 0,handler:_=>_.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:Zd.primary,mac:Zd.mac,win:Zd.win,linux:Zd.linux}})),(0,pt.fK)(new Rl({id:"toggleFindWholeWord",precondition:void 0,handler:_=>_.toggleWholeWords(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:Mp.primary,mac:Mp.mac,win:Mp.win,linux:Mp.linux}})),(0,pt.fK)(new Rl({id:"toggleFindRegex",precondition:void 0,handler:_=>_.toggleRegex(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:zg.primary,mac:zg.mac,win:zg.win,linux:zg.linux}})),(0,pt.fK)(new Rl({id:"toggleFindInSelection",precondition:void 0,handler:_=>_.toggleSearchScope(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:Np.primary,mac:Np.mac,win:Np.win,linux:Np.linux}})),(0,pt.fK)(new Rl({id:"togglePreserveCase",precondition:void 0,handler:_=>_.togglePreserveCase(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:Ug.primary,mac:Ug.mac,win:Ug.win,linux:Ug.linux}})),(0,pt.fK)(new Rl({id:"editor.action.replaceOne",precondition:Yd,handler:_=>_.replace(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:3094}})),(0,pt.fK)(new Rl({id:"editor.action.replaceOne",precondition:Yd,handler:_=>_.replace(),kbOpts:{weight:105,kbExpr:ft.Ao.and(dt.u.focus,Hg),primary:3}})),(0,pt.fK)(new Rl({id:"editor.action.replaceAll",precondition:Yd,handler:_=>_.replaceAll(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:2563}})),(0,pt.fK)(new Rl({id:"editor.action.replaceAll",precondition:Yd,handler:_=>_.replaceAll(),kbOpts:{weight:105,kbExpr:ft.Ao.and(dt.u.focus,Hg),primary:void 0,mac:{primary:2051}}})),(0,pt.fK)(new Rl({id:"editor.action.selectAllMatches",precondition:Yd,handler:_=>_.selectAllMatches(),kbOpts:{weight:105,kbExpr:dt.u.focus,primary:515}})),m(5279);const qc=16777215,OC=4278190080;class Pp{constructor(e,t,n){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(n,s)=>{let a=e[e.length-1];return this.getStartLineNumber(a)<=n&&this.getEndLineNumber(a)>=s};for(let n=0,s=this._startIndexes.length;n<s;n++){let a=this._startIndexes[n],p=this._endIndexes[n];if(a>qc||p>qc)throw new Error("startLineNumber or endLineNumber must not exceed "+qc);for(;e.length>0&&!t(a,p);)e.pop();let L=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=a+((255&L)<<24),this._endIndexes[n]=p+((65280&L)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&qc}getEndLineNumber(e){return this._endIndexes[e]&qc}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return 0!=(this._collapseStates[e/32|0]&1<<e%32)}setCollapsed(e,t){let n=e/32|0,s=e%32,a=this._collapseStates[n];this._collapseStates[n]=t?a|1<<s:a&~(1<<s)}setCollapsedAllOfType(e,t){let n=!1;if(this._types)for(let s=0;s<this._types.length;s++)this._types[s]===e&&(this.setCollapsed(s,t),n=!0);return n}toRegion(e){return new QD(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&OC)>>>24)+((this._endIndexes[e]&OC)>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){let s=Math.floor((t+n)/2);e<this.getStartLineNumber(s)?n=s:t=s+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class QD{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class XD{constructor(e,t){this._updateEventEmitter=new Ln.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Pp(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((n,s)=>n.regionIndex-s.regionIndex);const t={};this._decorationProvider.changeDecorations(n=>{let s=0,a=-1,p=-1;const L=q=>{for(;s<q;){const ie=this._regions.getEndLineNumber(s),te=this._regions.isCollapsed(s);ie<=a&&n.changeDecorationOptions(this._editorDecorationIds[s],this._decorationProvider.getDecorationOption(te,ie<=p)),te&&ie>p&&(p=ie),s++}};for(let q of e){let ie=q.regionIndex,te=this._editorDecorationIds[ie];if(te&&!t[te]){t[te]=!0,L(ie);let ve=!this._regions.isCollapsed(ie);this._regions.setCollapsed(ie,ve),a=Math.max(a,this._regions.getEndLineNumber(ie))}}L(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let n=[],a=-1,p=(ve,tt)=>{const gt=e.getStartLineNumber(ve),Vt=e.getEndLineNumber(ve);tt||(tt=e.isCollapsed(ve)),tt&&((ve,tt)=>{for(let gt of t)if(ve<gt&&gt<=tt)return!0;return!1})(gt,Vt)&&(tt=!1),e.setCollapsed(ve,tt);const dn=this._textModel.getLineMaxColumn(gt),kn={startLineNumber:gt,startColumn:Math.max(dn-1,1),endLineNumber:gt,endColumn:dn};n.push({range:kn,options:this._decorationProvider.getDecorationOption(tt,Vt<=a)}),tt&&Vt>a&&(a=Vt)},L=0,q=()=>{for(;L<this._regions.length;){let ve=this._regions.isCollapsed(L);if(L++,ve)return L-1}return-1},ie=0,te=q();for(;-1!==te&&ie<e.length;){let ve=this._textModel.getDecorationRange(this._editorDecorationIds[te]);if(ve){let tt=ve.startLineNumber;if(ve.startColumn===Math.max(ve.endColumn-1,1)&&this._textModel.getLineMaxColumn(tt)===ve.endColumn)for(;ie<e.length;){let gt=e.getStartLineNumber(ie);if(!(tt>=gt))break;p(ie,tt===gt),ie++}}te=q()}for(;ie<e.length;)p(ie,!1),ie++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){let s=n.startLineNumber,a=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:s,endLineNumber:a})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let n of e){let s=this.getRegionAtLine(n.startLineNumber);s&&!s.isCollapsed&&t.push(s)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let n=[];if(this._regions){let s=this._regions.findRange(e),a=1;for(;s>=0;){let p=this._regions.toRegion(s);(!t||t(p,a))&&n.push(p),a++,s=p.parentIndex}}return n}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let n=[],s=e?e.regionIndex+1:0,a=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const p=[];for(let L=s,q=this._regions.length;L<q;L++){let ie=this._regions.toRegion(L);if(!(this._regions.getStartLineNumber(L)<a))break;for(;p.length>0&&!ie.containedBy(p[p.length-1]);)p.pop();p.push(ie),t(ie,p.length)&&n.push(ie)}}else for(let p=s,L=this._regions.length;p<L;p++){let q=this._regions.toRegion(p);if(!(this._regions.getStartLineNumber(p)<a))break;(!t||t(q))&&n.push(q)}return n}}function Ou(_,e,t=Number.MAX_VALUE,n){let s=[];if(n&&n.length>0)for(let a of n){let p=_.getRegionAtLine(a);if(p&&(p.isCollapsed!==e&&s.push(p),t>1)){let L=_.getRegionsInside(p,(q,ie)=>q.isCollapsed!==e&&ie<t);s.push(...L)}}else{let a=_.getRegionsInside(null,(p,L)=>p.isCollapsed!==e&&L<t);s.push(...a)}_.toggleCollapseState(s)}function Gg(_,e,t,n){let s=[];for(let a of n){let p=_.getAllRegionsAtLine(a,(L,q)=>L.isCollapsed!==e&&q<=t);s.push(...p)}_.toggleCollapseState(s)}function R0(_,e,t){let n=[];for(let p of t){const L=_.getAllRegionsAtLine(p,void 0);L.length>0&&n.push(L[0])}let a=_.getRegionsInside(null,p=>n.every(L=>!L.containedBy(p)&&!p.containedBy(L))&&p.isCollapsed!==e);_.toggleCollapseState(a)}function Pu(_,e,t){let n=_.textModel,s=_.regions,a=[];for(let p=s.length-1;p>=0;p--)if(t!==s.isCollapsed(p)){let L=s.getStartLineNumber(p);e.test(n.getLineContent(L))&&a.push(s.toRegion(p))}_.toggleCollapseState(a)}function O0(_,e,t){let n=_.regions,s=[];for(let a=n.length-1;a>=0;a--)t!==n.isCollapsed(a)&&e===n.getType(a)&&s.push(n.toRegion(a));_.toggleCollapseState(s)}var Vw=m(7846);class PC{constructor(e){this._updateEventEmitter=new Ln.Q5,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||0!==(0,Vw.Q)(t.text)[0]))}updateHiddenRanges(){let e=!1,t=[],n=0,s=0,a=Number.MAX_VALUE,p=-1,L=this._foldingModel.regions;for(;n<L.length;n++){if(!L.isCollapsed(n))continue;let q=L.getStartLineNumber(n)+1,ie=L.getEndLineNumber(n);a<=q&&ie<=p||(!e&&s<this._hiddenRanges.length&&this._hiddenRanges[s].startLineNumber===q&&this._hiddenRanges[s].endLineNumber===ie?(t.push(this._hiddenRanges[s]),s++):(e=!0,t.push(new Ye.e(q,1,ie,1))),a=q,p=ie)}(this._hasLineChanges||e||s<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(let n of e){if(!n.startLineNumber||!n.endLineNumber)return!1;t.push(new Ye.e(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==FC(this._hiddenRanges,e)}adjustSelections(e){let t=!1,n=this._foldingModel.textModel,s=null,a=p=>((!s||!function Ww(_,e){return _>=e.startLineNumber&&_<=e.endLineNumber}(p,s))&&(s=FC(this._hiddenRanges,p)),s?s.startLineNumber-1:null);for(let p=0,L=e.length;p<L;p++){let q=e[p],ie=a(q.startLineNumber);ie&&(q=q.setStartPosition(ie,n.getLineMaxColumn(ie)),t=!0);let te=a(q.endLineNumber);te&&(q=q.setEndPosition(te,n.getLineMaxColumn(te)),t=!0),e[p]=q}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function FC(_,e){let t=(0,xi.lG)(_,n=>e<n.startLineNumber)-1;return t>=0&&_[t].endLineNumber>=e?_[t]:null}class BC{constructor(e,t,n){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=n,this.id="indent"}dispose(){}compute(e,t){let n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function VC(_,e,t,n,s){const a=_.getOptions().tabSize;let L,p=new zw(n=null!=n?n:5e3,s);t&&(L=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let q=[],ie=_.getLineCount()+1;q.push({indent:-1,endAbove:ie,line:ie});for(let te=_.getLineCount();te>0;te--){let Vt,ve=_.getLineContent(te),tt=(0,ci.q)(ve,a),gt=q[q.length-1];if(-1!==tt){if(L&&(Vt=ve.match(L))){if(!Vt[1]){q.push({indent:-2,endAbove:te,line:te});continue}{let dn=q.length-1;for(;dn>0&&-2!==q[dn].indent;)dn--;if(dn>0){q.length=dn+1,gt=q[dn],p.insertFirst(te,gt.line,tt),gt.line=te,gt.indent=tt,gt.endAbove=te;continue}}}if(gt.indent>tt){do{q.pop(),gt=q[q.length-1]}while(gt.indent>tt);let dn=gt.endAbove-1;dn-te>=1&&p.insertFirst(te,dn,tt)}gt.indent===tt?gt.endAbove=te:q.push({indent:tt,endAbove:te,line:te})}else e&&(gt.endAbove=te)}return p.toIndentRanges(_)}(this.editorModel,n&&!!n.offSide,n&&n.markers,this.maxFoldingRegions,t))}}class zw{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,n){if(e>qc||t>qc)return;let s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let s=this._length-1,a=0;s>=0;s--,a++)t[a]=this._startIndexes[s],n[a]=this._endIndexes[s];return new Pp(t,n)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,n=this._indentOccurrences.length;for(let L=0;L<this._indentOccurrences.length;L++){let q=this._indentOccurrences[L];if(q){if(q+t>this._foldingRangesLimit){n=L;break}t+=q}}const s=e.getOptions().tabSize;let a=new Uint32Array(this._foldingRangesLimit),p=new Uint32Array(this._foldingRangesLimit);for(let L=this._length-1,q=0;L>=0;L--){let ie=this._startIndexes[L],te=e.getLineContent(ie),ve=(0,ci.q)(te,s);(ve<n||ve===n&&t++<this._foldingRangesLimit)&&(a[q]=ie,p[q]=this._endIndexes[L],q++)}return new Pp(a,p)}}}const Uw={};class jw{constructor(e,t,n,s){this.editorModel=e,this.providers=t,this.limit=s,this.id="syntax";for(const a of t)"function"==typeof a.onDidChange&&(this.disposables||(this.disposables=new Xe.SL),this.disposables.add(a.onDidChange(n)))}compute(e,t){return function F0(_,e,t){let n=null,s=_.map((a,p)=>Promise.resolve(a.provideFoldingRanges(e,Uw,t)).then(L=>{if(!t.isCancellationRequested&&Array.isArray(L)){Array.isArray(n)||(n=[]);let q=e.getLineCount();for(let ie of L)ie.start>0&&ie.end>ie.start&&ie.end<=q&&n.push({start:ie.start,end:ie.end,rank:p,kind:ie.kind})}},Ii.Cp));return Promise.all(s).then(a=>n)}(this.providers,this.editorModel,e).then(n=>n?B0(n,this.limit,t):null)}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}class Kw{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,n,s){if(e>qc||t>qc)return;let a=this._length;this._startIndexes[a]=e,this._endIndexes[a]=t,this._nestingLevels[a]=s,this._types[a]=n,this._length++,s<30&&(this._nestingLevelCounts[s]=(this._nestingLevelCounts[s]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new Pp(e,t,this._types)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let e=0,t=this._nestingLevelCounts.length;for(let p=0;p<this._nestingLevelCounts.length;p++){let L=this._nestingLevelCounts[p];if(L){if(L+e>this._foldingRangesLimit){t=p;break}e+=L}}let n=new Uint32Array(this._foldingRangesLimit),s=new Uint32Array(this._foldingRangesLimit),a=[];for(let p=0,L=0;p<this._length;p++){let q=this._nestingLevels[p];(q<t||q===t&&e++<this._foldingRangesLimit)&&(n[L]=this._startIndexes[p],s[L]=this._endIndexes[p],a[L]=this._types[p],L++)}return new Pp(n,s,a)}}}function B0(_,e,t){let a,n=_.sort((L,q)=>{let ie=L.start-q.start;return 0===ie&&(ie=L.rank-q.rank),ie}),s=new Kw(e,t),p=[];for(let L of n)if(a){if(L.start>a.start)if(L.end<=a.end)p.push(a),a=L,s.add(L.start,L.end,L.kind&&L.kind.value,p.length);else{if(L.start>a.end){do{a=p.pop()}while(a&&L.start>a.end);a&&p.push(a),a=L}s.add(L.start,L.end,L.kind&&L.kind.value,p.length)}}else a=L,s.add(L.start,L.end,L.kind&&L.kind.value,p.length);return s.toIndentRanges()}class $w{constructor(e,t,n,s){if(this.editorModel=e,this.id="init",t.length){let a=p=>({range:{startLineNumber:p.startLineNumber,startColumn:0,endLineNumber:p.endLineNumber,endColumn:e.getLineLength(p.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(a)),this.timeout=setTimeout(n,s)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let n of this.decorationIds){let s=this.editorModel.getDecorationRange(n);s&&t.push({start:s.startLineNumber,end:s.endLineNumber,rank:1})}return Promise.resolve(B0(t,Number.MAX_VALUE))}}const W0=(0,Ir.q5)("folding-expanded",an.lA.chevronDown,(0,ke.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),H0=(0,Ir.q5)("folding-collapsed",an.lA.chevronRight,(0,ke.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class sl{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?sl.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?sl.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:sl.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?sl.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:sl.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}sl.COLLAPSED_VISUAL_DECORATION=Ae.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:ln.kS.asClassName(H0)}),sl.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ae.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:ln.kS.asClassName(H0)}),sl.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ae.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:ln.kS.asClassName(W0)}),sl.EXPANDED_VISUAL_DECORATION=Ae.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ln.kS.asClassName(W0)}),sl.HIDDEN_RANGE_DECORATION=Ae.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var Yg=function(_,e){return function(t,n){e(t,n,_)}};const ha=new ft.uy("foldingEnabled",!1);let _f=class XE extends Xe.JT{constructor(e,t,n,s,a){super(),this.contextKeyService=t,this.languageConfigurationService=n,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new Xe.SL),this.editor=e;const p=this.editor.getOptions();this._isEnabled=p.get(37),this._useFoldingProviders="indentation"!==p.get(38),this._unfoldOnClickAfterEndOfLine=p.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=p.get(40),this._maxFoldingRegions=p.get(41),this.updateDebounceInfo=a.for(Gn.aC,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new sl(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===p.get(99),this.foldingDecorationProvider.showFoldingHighlights=p.get(39),this.foldingEnabled=ha.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=L=>{this._tooManyRegionsNotified||(s.notify({severity:Gc.Z.Warning,sticky:!0,message:ke.N("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",L)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(L=>{if(L.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),L.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),L.hasChanged(99)||L.hasChanged(39)){const q=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===q.get(99),this.foldingDecorationProvider.showFoldingHighlights=q.get(39),this.triggerFoldingModelChanged()}L.hasChanged(38)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(38),this.onFoldingStrategyChanged()),L.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),L.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(e){return e.getContribution(XE.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel||!e||e.lineCount!==t.getLineCount()||(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions))return;("syntax"===e.provider||"init"===e.provider)&&(this.foldingStateMemento=e);const n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const s=this.getFoldingModel();s&&s.then(a=>{if(a){this._restoringViewState=!0;try{a.applyMemento(n)}finally{this._restoringViewState=!1}}}).then(void 0,Ii.dL)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new XD(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new PC(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new mt.vp(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new mt.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(Gn.aC.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new BC(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let t=Gn.aC.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new $w(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);t.length>0&&(this.rangeProvider=new jw(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;null===(t=this.hiddenRangeModel)||void 0===t||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new Hd.G(!0),n=this.getRangeProvider(e.textModel);let s=this.foldingRegionPromise=(0,mt.PG)(a=>n.compute(a,this._notifyTooManyRegions));return s.then(a=>{if(a&&s===this.foldingRegionPromise){let p;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const te=a.setCollapsedAllOfType(Gn.AD.Imports.value,!0);te&&(p=fn.Z.capture(this.editor),this._currentModelHasFoldedImports=te)}let L=this.editor.getSelections(),q=L?L.map(te=>te.startLineNumber):[];e.update(a,q),p&&p.restore(this.editor);const ie=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ie)}return e})}).then(void 0,e=>((0,Ii.dL)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();!e||e.then(t=>{if(t){let n=this.editor.getSelections();if(n&&n.length>0){let s=[];for(let a of n){let p=a.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(p)&&s.push(...t.getAllRegionsAtLine(p,L=>L.isCollapsed&&p>L.startLineNumber))}s.length&&(t.toggleCollapseState(s),this.reveal(n[0].getPosition()))}}}).then(void 0,Ii.dL)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:if(e.target.detail.offsetX-e.target.element.offsetLeft<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){let s=this.editor.getModel();if(s&&t.startColumn===s.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let n=this.mouseDownInfo.lineNumber,s=this.mouseDownInfo.iconClicked,a=e.target.range;if(a&&a.startLineNumber===n){if(s){if(4!==e.target.type)return}else{let p=this.editor.getModel();if(!p||a.startColumn!==p.getLineMaxColumn(n))return}t.then(p=>{if(p){let L=p.getRegionAtLine(n);if(L&&L.startLineNumber===n){let q=L.isCollapsed;if(s||q){let te=[];if(e.event.altKey){let tt=p.getRegionsInside(null,gt=>!gt.containedBy(L)&&!L.containedBy(gt));for(const gt of tt)gt.isCollapsed&&te.push(gt);0===te.length&&(te=tt)}else{let ve=e.event.middleButton||e.event.shiftKey;if(ve)for(const tt of p.getRegionsInside(L))tt.isCollapsed===q&&te.push(tt);(q||!ve||0===te.length)&&te.push(L)}p.toggleCollapseState(te),this.reveal({lineNumber:n,column:1})}}}}).then(void 0,Ii.dL)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};_f.ID="editor.contrib.folding",_f=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Yg(1,ft.i6),Yg(2,Us.c_),Yg(3,Xo.lT),Yg(4,Er.A)],_f);class Da extends pt.R6{runEditorCommand(e,t,n){const s=e.get(Us.c_),a=_f.get(t);if(!a)return;const p=a.getFoldingModel();return p?(this.reportTelemetry(e,t),p.then(L=>{if(L){this.invoke(a,L,t,n,s);const q=t.getSelection();q&&a.reveal(q.getStartPosition())}})):void 0}getSelectedLines(e){let t=e.getSelections();return t?t.map(n=>n.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(n=>n+1):this.getSelectedLines(t)}run(e,t){}}function WC(_){if(!wn.o8(_)){if(!wn.Kn(_))return!1;const e=_;if(!wn.o8(e.levels)&&!wn.hj(e.levels)||!wn.o8(e.direction)&&!wn.HD(e.direction)||!wn.o8(e.selectionLines)&&(!wn.kJ(e.selectionLines)||!e.selectionLines.every(wn.hj)))return!1}return!0}let Fp=(()=>{class _ extends Da{getFoldingLevel(){return parseInt(this.id.substr(_.ID_PREFIX.length))}invoke(t,n,s){!function Ow(_,e,t,n){let a=_.getRegionsInside(null,(p,L)=>L===e&&p.isCollapsed!==t&&!n.some(q=>p.containsLine(q)));_.toggleCollapseState(a)}(n,this.getFoldingLevel(),!0,this.getSelectedLines(s))}}return _.ID_PREFIX="editor.foldLevel",_.ID=e=>_.ID_PREFIX+e,_})();(0,pt._K)(_f.ID,_f),(0,pt.Qr)(class Yw extends Da{constructor(){super({id:"editor.unfold",label:ke.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:WC,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,s){let a=s&&s.levels||1,p=this.getLineNumbers(s,n);s&&"up"===s.direction?Gg(t,!1,a,p):Ou(t,!1,a,p)}}),(0,pt.Qr)(class Zw extends Da{constructor(){super({id:"editor.unfoldRecursively",label:ke.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2137),weight:100}})}invoke(e,t,n,s){Ou(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}),(0,pt.Qr)(class Qw extends Da{constructor(){super({id:"editor.fold",label:ke.N("foldAction.label","Fold"),alias:"Fold",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:WC,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,s){let a=this.getLineNumbers(s,n);const p=s&&s.levels,L=s&&s.direction;"number"!=typeof p&&"string"!=typeof L?function Rw(_,e,t){let n=[];for(let s of t){let a=_.getAllRegionsAtLine(s,p=>p.isCollapsed!==e);a.length>0&&n.push(a[0])}_.toggleCollapseState(n)}(t,!0,a):"up"===L?Gg(t,!0,p||1,a):Ou(t,!0,p||1,a)}}),(0,pt.Qr)(class HC extends Da{constructor(){super({id:"editor.foldRecursively",label:ke.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2135),weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);Ou(t,!0,Number.MAX_VALUE,s)}}),(0,pt.Qr)(class tS extends Da{constructor(){super({id:"editor.foldAll",label:ke.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2069),weight:100}})}invoke(e,t,n){Ou(t,!0)}}),(0,pt.Qr)(class nS extends Da{constructor(){super({id:"editor.unfoldAll",label:ke.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2088),weight:100}})}invoke(e,t,n){Ou(t,!1)}}),(0,pt.Qr)(class zC extends Da{constructor(){super({id:"editor.foldAllBlockComments",label:ke.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2133),weight:100}})}invoke(e,t,n,s,a){if(t.regions.hasTypes())O0(t,Gn.AD.Comment.value,!0);else{const p=n.getModel();if(!p)return;const L=a.getLanguageConfiguration(p.getLanguageId()).comments;L&&L.blockCommentStartToken&&Pu(t,new RegExp("^\\s*"+(0,fi.ec)(L.blockCommentStartToken)),!0)}}}),(0,pt.Qr)(class Jw extends Da{constructor(){super({id:"editor.foldAllMarkerRegions",label:ke.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2077),weight:100}})}invoke(e,t,n,s,a){if(t.regions.hasTypes())O0(t,Gn.AD.Region.value,!0);else{const p=n.getModel();if(!p)return;const L=a.getLanguageConfiguration(p.getLanguageId()).foldingRules;L&&L.markers&&L.markers.start&&Pu(t,new RegExp(L.markers.start),!0)}}}),(0,pt.Qr)(class qw extends Da{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:ke.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2078),weight:100}})}invoke(e,t,n,s,a){if(t.regions.hasTypes())O0(t,Gn.AD.Region.value,!1);else{const p=n.getModel();if(!p)return;const L=a.getLanguageConfiguration(p.getLanguageId()).foldingRules;L&&L.markers&&L.markers.start&&Pu(t,new RegExp(L.markers.start),!1)}}}),(0,pt.Qr)(class UC extends Da{constructor(){super({id:"editor.foldAllExcept",label:ke.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2131),weight:100}})}invoke(e,t,n){R0(t,!0,this.getSelectedLines(n))}}),(0,pt.Qr)(class eS extends Da{constructor(){super({id:"editor.unfoldAllExcept",label:ke.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2129),weight:100}})}invoke(e,t,n){R0(t,!1,this.getSelectedLines(n))}}),(0,pt.Qr)(class Xw extends Da{constructor(){super({id:"editor.toggleFold",label:ke.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2090),weight:100}})}invoke(e,t,n){!function JD(_,e,t){let n=[];for(let s of t){let a=_.getRegionAtLine(s);if(a){const p=!a.isCollapsed;if(n.push(a),e>1){let L=_.getRegionsInside(a,(q,ie)=>q.isCollapsed!==p&&ie<e);n.push(...L)}}}_.toggleCollapseState(n)}(t,1,this.getSelectedLines(n))}}),(0,pt.Qr)(class z0 extends Da{constructor(){super({id:"editor.gotoParentFold",label:ke.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);if(s.length>0){let a=function Pw(_,e){let t=null,n=e.getRegionAtLine(_);if(null!==n&&(t=n.startLineNumber,_===t)){let s=n.parentIndex;t=-1!==s?e.regions.getStartLineNumber(s):null}return t}(s[0],t);null!==a&&n.setSelection({startLineNumber:a,startColumn:1,endLineNumber:a,endColumn:1})}}}),(0,pt.Qr)(class jC extends Da{constructor(){super({id:"editor.gotoPreviousFold",label:ke.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);if(s.length>0){let a=function Fw(_,e){let t=e.getRegionAtLine(_);if(null!==t&&t.startLineNumber===_){if(_!==t.startLineNumber)return t.startLineNumber;{let n=t.parentIndex,s=0;for(-1!==n&&(s=e.regions.getStartLineNumber(t.parentIndex));null!==t;){if(!(t.regionIndex>0))return null;if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=s)return null;if(t.parentIndex===n)return t.startLineNumber}}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);null!==t;){if(t.startLineNumber<_)return t.startLineNumber;t=t.regionIndex>0?e.regions.toRegion(t.regionIndex-1):null}return null}(s[0],t);null!==a&&n.setSelection({startLineNumber:a,startColumn:1,endLineNumber:a,endColumn:1})}}}),(0,pt.Qr)(class U0 extends Da{constructor(){super({id:"editor.gotoNextFold",label:ke.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let s=this.getSelectedLines(n);if(s.length>0){let a=function Bw(_,e){let t=e.getRegionAtLine(_);if(null!==t&&t.startLineNumber===_){let n=t.parentIndex,s=0;if(-1!==n)s=e.regions.getEndLineNumber(t.parentIndex);else{if(0===e.regions.length)return null;s=e.regions.getEndLineNumber(e.regions.length-1)}for(;null!==t;){if(!(t.regionIndex<e.regions.length))return null;if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=s)return null;if(t.parentIndex===n)return t.startLineNumber}}else if(e.regions.length>0)for(t=e.regions.toRegion(0);null!==t;){if(t.startLineNumber>_)return t.startLineNumber;t=t.regionIndex<e.regions.length?e.regions.toRegion(t.regionIndex+1):null}return null}(s[0],t);null!==a&&n.setSelection({startLineNumber:a,startColumn:1,endLineNumber:a,endColumn:1})}}});for(let _=1;_<=7;_++)(0,pt.QG)(new Fp({id:Fp.ID(_),label:ke.N("foldLevelAction.label","Fold Level {0}",_),alias:`Fold Level ${_}`,precondition:ha,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2048|21+_),weight:100}}));const iS=(0,Ge.P6G)("editor.foldBackground",{light:(0,Ge.ZnX)(Ge.hEj,.3),dark:(0,Ge.ZnX)(Ge.hEj,.3),hc:null},ke.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),oS=(0,Ge.P6G)("editorGutter.foldingControlForeground",{dark:Ge.XZx,light:Ge.XZx,hc:Ge.XZx},ke.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,ln.Ic)((_,e)=>{const t=_.getColor(iS);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);const n=_.getColor(oS);n&&e.addRule(`\n\t\t.monaco-editor .cldr${ln.kS.asCSSSelector(W0)},\n\t\t.monaco-editor .cldr${ln.kS.asCSSSelector(H0)} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)});var Fu=m(2929);(0,pt.Qr)(class sS extends pt.R6{constructor(){super({id:"editor.action.fontZoomIn",label:ke.N("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Fu.C.setZoomLevel(Fu.C.getZoomLevel()+1)}}),(0,pt.Qr)(class KC extends pt.R6{constructor(){super({id:"editor.action.fontZoomOut",label:ke.N("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Fu.C.setZoomLevel(Fu.C.getZoomLevel()-1)}}),(0,pt.Qr)(class rS extends pt.R6{constructor(){super({id:"editor.action.fontZoomReset",label:ke.N("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Fu.C.setZoomLevel(0)}});var vf=m(9957),aS=m(1611),j0=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},lS=function(_,e){return function(t,n){e(t,n,_)}},K0=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let ed=class{constructor(e,t){this._editor=e,this._workerService=t,this._disposables=new Xe.SL,this._sessionDisposables=new Xe.SL,this._disposables.add(Gn.ln.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(n=>{n.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=Gn.ln.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let n=new zh.q;for(let s of t.autoFormatTriggerCharacters)n.add(s.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(s=>{let a=s.charCodeAt(s.length-1);n.has(a)&&this._trigger(String.fromCharCode(a))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),n=this._editor.getPosition(),s=new wi.A,a=this._editor.onDidChangeModelContent(p=>{if(p.isFlush)return s.cancel(),void a.dispose();for(let L=0,q=p.changes.length;L<q;L++)if(p.changes[L].range.endLineNumber<=n.lineNumber)return s.cancel(),void a.dispose()});(0,vf.Qs)(this._workerService,t,n,e,t.getFormattingOptions(),s.token).then(p=>{s.token.isCancellationRequested||(0,xi.Of)(p)&&(aS.V.execute(this._editor,p,!0),(0,vf.Zg)(p))}).finally(()=>{a.dispose()})}};ed.ID="editor.contrib.autoFormat",ed=j0([lS(1,wg.p)],ed);let Zg=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new Xe.SL,this._callOnModel=new Xe.SL,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Gn.vN.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!Gn.vN.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(vf.x$,this.editor,e,2,Io.Ex.None,wi.T.None).catch(Ii.dL)}};Zg.ID="editor.contrib.formatOnPaste",Zg=j0([lS(1,de.TG)],Zg),(0,pt._K)(ed.ID,ed),(0,pt._K)(Zg.ID,Zg),(0,pt.Qr)(class bf extends pt.R6{constructor(){super({id:"editor.action.formatDocument",label:ke.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:ft.Ao.and(dt.u.notInCompositeEditor,dt.u.writable,dt.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return K0(this,void 0,void 0,function*(){if(t.hasModel()){const n=e.get(de.TG);yield e.get(Io.ek).showWhile(n.invokeFunction(vf.Qq,t,1,Io.Ex.None,wi.T.None),250)}})}}),(0,pt.Qr)(class Qg extends pt.R6{constructor(){super({id:"editor.action.formatSelection",label:ke.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:ft.Ao.and(dt.u.writable,dt.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2084),weight:100},contextMenuOpts:{when:dt.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return K0(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(de.TG),s=t.getModel(),a=t.getSelections().map(L=>L.isEmpty()?new Ye.e(L.startLineNumber,1,L.startLineNumber,s.getLineMaxColumn(L.startLineNumber)):L);yield e.get(Io.ek).showWhile(n.invokeFunction(vf.x$,t,a,1,Io.Ex.None,wi.T.None),250)})}}),oo.P0.registerCommand("editor.action.format",_=>K0(void 0,void 0,void 0,function*(){const e=_.get(vi.$).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=_.get(oo.Hy);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var $C=m(7981),$0=function(_,e){return function(t,n){e(t,n,_)}};class Cf{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let n;"string"==typeof e?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,void 0!==t.children.get(n)&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let s=n;for(let a=0;void 0!==t.children.get(s);a++)s=`${n}_${a}`;return s}static empty(e){return 0===e.children.size}}class GC extends Cf{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class dS extends Cf{constructor(e,t,n,s){super(),this.id=e,this.parent=t,this.label=n,this.order=s,this.children=new Map}}class td extends Cf{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){const n=new wi.A(t),s=new td(e.uri),a=Gn.vJ.ordered(e),p=a.map((q,ie)=>{var te;let ve=Cf.findId(`provider_${ie}`,s),tt=new dS(ve,s,null!==(te=q.displayName)&&void 0!==te?te:"Unknown Outline Provider",ie);return Promise.resolve(q.provideDocumentSymbols(e,n.token)).then(gt=>{for(const Vt of gt||[])td._makeOutlineElement(Vt,tt);return tt},gt=>((0,Ii.Cp)(gt),tt)).then(gt=>{Cf.empty(gt)?gt.remove():s._groups.set(ve,gt)})}),L=Gn.vJ.onDidChange(()=>{const q=Gn.vJ.ordered(e);(0,xi.fS)(q,a)||n.cancel()});return Promise.all(p).then(()=>n.token.isCancellationRequested&&!t.isCancellationRequested?td.create(e,t):s._compact()).finally(()=>{L.dispose()})}static _makeOutlineElement(e,t){let n=Cf.findId(e,t),s=new GC(n,t,e);if(e.children)for(const a of e.children)td._makeOutlineElement(a,s);t.children.set(s.id,s)}_compact(){let e=0;for(const[t,n]of this._groups)0===n.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{let t=$C.$.first(this._groups.values());for(let[,n]of t.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof GC?e.push(t.symbol):e.push(...$C.$.map(t.children.values(),n=>n.symbol));return e.sort((t,n)=>Ye.e.compareRangesUsingStarts(t.range,n.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return td._flattenDocumentSymbols(t,e,""),t.sort((n,s)=>An.L.compare(Ye.e.getStartPosition(n.range),Ye.e.getStartPosition(s.range))||An.L.compare(Ye.e.getEndPosition(s.range),Ye.e.getEndPosition(n.range)))}static _flattenDocumentSymbols(e,t,n){for(const s of t)e.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||n,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&td._flattenDocumentSymbols(e,s.children,s.name)}}const Bp=(0,de.yh)("IOutlineModelService");let Xg=class{constructor(e,t){this._disposables=new Xe.SL,this._cache=new pi.z6(10,.7),this._debounceInformation=e.for(Gn.vJ,"DocumentSymbols",{min:350}),this._disposables.add(t.onModelRemoved(n=>{this._cache.delete(n.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){const n=Gn.vJ.ordered(e);let s=this._cache.get(e.id);if(!s||s.versionId!==e.getVersionId()||!(0,xi.fS)(s.provider,n)){let p=new wi.A;s={versionId:e.getVersionId(),provider:n,promiseCnt:0,source:p,promise:td.create(e,p.token),model:void 0},this._cache.set(e.id,s);const L=Date.now();s.promise.then(q=>{s.model=q,this._debounceInformation.update(e,Date.now()-L)}).catch(q=>{this._cache.delete(e.id)})}if(s.model)return s.model;s.promiseCnt+=1;const a=t.onCancellationRequested(()=>{0==--s.promiseCnt&&(s.source.cancel(),this._cache.delete(e.id))});try{return yield s.promise}finally{a.dispose()}})}};Xg=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([$0(0,Er.A),$0(1,ds.q)],Xg),(0,fo.z)(Bp,Xg,!0);oo.P0.registerCommand("_executeDocumentSymbolProvider",function(_,...e){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){const[t]=e;(0,wn.p_)(xo.o.isUri(t));const n=_.get(Bp),a=yield _.get(ur.S).createModelReference(t);try{return(yield n.getOrCreate(a.object.textEditorModel,wi.T.None)).getTopLevelSymbols()}finally{a.dispose()}})});var Lc=m(1050);function za(_,e){let t=0;for(let n=0;n<_.length;n++)"\t"===_.charAt(n)?t+=e:t++;return t}function yf(_,e,t){_=_<0?0:_;let n="";if(!t){let s=Math.floor(_/e);_%=e;for(let a=0;a<s;a++)n+="\t"}for(let s=0;s<_;s++)n+=" ";return n}function G0(_,e,t,n,s){if(1===_.getLineCount()&&1===_.getLineMaxColumn(1))return[];const a=e.getLanguageConfiguration(_.getLanguageId()).indentationRules;if(!a)return[];for(n=Math.min(n,_.getLineCount());t<=n&&a.unIndentedLinePattern;){let kn=_.getLineContent(t);if(!a.unIndentedLinePattern.test(kn))break;t++}if(t>n-1)return[];const{tabSize:p,indentSize:L,insertSpaces:q}=_.getOptions(),ie=(kn,On)=>Lc.U.shiftIndent(kn,kn.length+(On=On||1),p,L,q),te=(kn,On)=>Lc.U.unshiftIndent(kn,kn.length+(On=On||1),p,L,q);let tt,ve=[],gt=_.getLineContent(t),Vt=gt;if(null!=s){tt=s;let kn=fi.V8(gt);Vt=tt+gt.substring(kn.length),a.decreaseIndentPattern&&a.decreaseIndentPattern.test(Vt)&&(tt=te(tt),Vt=tt+gt.substring(kn.length)),gt!==Vt&&ve.push(tr.h.replaceMove(new ei.Y(t,1,t,kn.length+1),Ae.yO.normalizeIndentation(tt,L,q)))}else tt=fi.V8(gt);let dn=tt;a.increaseIndentPattern&&a.increaseIndentPattern.test(Vt)?(dn=ie(dn),tt=ie(tt)):a.indentNextLinePattern&&a.indentNextLinePattern.test(Vt)&&(dn=ie(dn));for(let kn=++t;kn<=n;kn++){let On=_.getLineContent(kn),li=fi.V8(On),Xn=dn+On.substring(li.length);a.decreaseIndentPattern&&a.decreaseIndentPattern.test(Xn)&&(dn=te(dn),tt=te(tt)),li!==dn&&ve.push(tr.h.replaceMove(new ei.Y(kn,1,kn,li.length+1),Ae.yO.normalizeIndentation(dn,L,q))),(!a.unIndentedLinePattern||!a.unIndentedLinePattern.test(On))&&(a.increaseIndentPattern&&a.increaseIndentPattern.test(Xn)?(tt=ie(tt),dn=tt):dn=a.indentNextLinePattern&&a.indentNextLinePattern.test(Xn)?ie(dn):tt)}return ve}let uS=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:dt.u.writable})}run(t,n){let s=n.getModel();if(!s)return;let a=s.getOptions(),p=n.getSelection();if(!p)return;const L=new tE(p,a.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[L]),n.pushUndoStop(),s.updateOptions({insertSpaces:!0})}}return _.ID="editor.action.indentationToSpaces",_})(),hS=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:dt.u.writable})}run(t,n){let s=n.getModel();if(!s)return;let a=s.getOptions(),p=n.getSelection();if(!p)return;const L=new QC(p,a.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[L]),n.pushUndoStop(),s.updateOptions({insertSpaces:!1})}}return _.ID="editor.action.indentationToTabs",_})();class YC extends pt.R6{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(lr.eJ),s=e.get(ds.q);let a=t.getModel();if(!a)return;const p=s.getCreationOptions(a.getLanguageId(),a.uri,a.isForSimpleWidget),L=[1,2,3,4,5,6,7,8].map(ie=>({id:ie.toString(),label:ie.toString(),description:ie===p.tabSize?ke.N("configuredTabSize","Configured Tab Size"):void 0})),q=Math.min(a.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(L,{placeHolder:ke.N({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:L[q]}).then(ie=>{ie&&a&&!a.isDisposed()&&a.updateOptions({tabSize:parseInt(ie.label,10),insertSpaces:this.insertSpaces})})},50)}}let Y0=(()=>{class _ extends YC{constructor(){super(!1,{id:_.ID,label:ke.N("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return _.ID="editor.action.indentUsingTabs",_})(),fS=(()=>{class _ extends YC{constructor(){super(!0,{id:_.ID,label:ke.N("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return _.ID="editor.action.indentUsingSpaces",_})(),eE=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(t,n){const s=t.get(ds.q);let a=n.getModel();if(!a)return;const p=s.getCreationOptions(a.getLanguageId(),a.uri,a.isForSimpleWidget);a.detectIndentation(p.insertSpaces,p.tabSize)}}return _.ID="editor.action.detectIndentation",_})();class wf{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&"string"==typeof n.text&&this._edits.push(n)}getEditOperations(e,t){for(let s of this._edits)t.addEditOperation(Ye.e.lift(s.range),s.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let ZC=(()=>{class _{constructor(t){this.callOnDispose=new Xe.SL,this.callOnModel=new Xe.SL,this.editor=t,this.callOnDispose.add(t.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(t.onDidChangeModel(()=>this.update())),this.callOnDispose.add(t.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:t})=>{this.trigger(t)})))}trigger(t){let n=this.editor.getSelections();if(null===n||n.length>1)return;const s=this.editor.getModel();if(!s||!s.isCheapToTokenize(t.getStartPosition().lineNumber))return;const a=this.editor.getOption(9),{tabSize:p,indentSize:L,insertSpaces:q}=s.getOptions();let ie=[],te={shiftIndent:Vt=>Lc.U.shiftIndent(Vt,Vt.length+1,p,L,q),unshiftIndent:Vt=>Lc.U.unshiftIndent(Vt,Vt.length+1,p,L,q)},ve=t.startLineNumber;for(;ve<=t.endLineNumber&&this.shouldIgnoreLine(s,ve);)ve++;if(ve>t.endLineNumber)return;let tt=s.getLineContent(ve);if(!/\S/.test(tt.substring(0,t.startColumn-1))){const Vt=Us.zu.getGoodIndentForLine(a,s,s.getLanguageId(),ve,te);if(null!==Vt){let dn=fi.V8(tt),kn=za(Vt,p);if(kn!==za(dn,p)){let li=yf(kn,p,q);ie.push({range:new Ye.e(ve,1,ve,dn.length+1),text:li}),tt=li+tt.substr(dn.length)}else{let li=Us.zu.getIndentMetadata(s,ve);if(0===li||8===li)return}}}const gt=ve;for(;ve<t.endLineNumber&&!/\S/.test(s.getLineContent(ve+1));)ve++;if(ve!==t.endLineNumber){let dn=Us.zu.getGoodIndentForLine(a,{getLineTokens:kn=>s.getLineTokens(kn),getLanguageId:()=>s.getLanguageId(),getLanguageIdAtPosition:(kn,On)=>s.getLanguageIdAtPosition(kn,On),getLineContent:kn=>kn===gt?tt:s.getLineContent(kn)},s.getLanguageId(),ve+1,te);if(null!==dn){let kn=za(dn,p),On=za(fi.V8(s.getLineContent(ve+1)),p);if(kn!==On){let li=kn-On;for(let Xn=ve+1;Xn<=t.endLineNumber;Xn++){let Ki=s.getLineContent(Xn),Bi=fi.V8(Ki),Cr=yf(za(Bi,p)+li,p,q);Cr!==Bi&&ie.push({range:new Ye.e(Xn,1,Xn,Bi.length+1),text:Cr})}}}}if(ie.length>0){this.editor.pushUndoStop();let Vt=new wf(ie,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Vt),this.editor.pushUndoStop()}}shouldIgnoreLine(t,n){t.forceTokenization(n);let s=t.getLineFirstNonWhitespaceColumn(n);if(0===s)return!0;let a=t.getLineTokens(n);if(a.getCount()>0){let p=a.findTokenIndexAtOffset(s);if(p>=0&&1===a.getStandardTokenType(p))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}return _.ID="editor.contrib.autoIndentOnPaste",_})();function Bu(_,e,t,n){if(1===_.getLineCount()&&1===_.getLineMaxColumn(1))return;let s="";for(let p=0;p<t;p++)s+=" ";let a=new RegExp(s,"gi");for(let p=1,L=_.getLineCount();p<=L;p++){let q=_.getLineFirstNonWhitespaceColumn(p);if(0===q&&(q=_.getLineMaxColumn(p)),1===q)continue;const ie=new Ye.e(p,1,p,q),te=_.getValueInRange(ie),ve=n?te.replace(/\t/gi,s):te.replace(a,"\t");e.addEditOperation(ie,ve)}}class tE{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Bu(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class QC{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Bu(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,pt._K)(ZC.ID,ZC),(0,pt.Qr)(uS),(0,pt.Qr)(hS),(0,pt.Qr)(Y0),(0,pt.Qr)(fS),(0,pt.Qr)(eE),(0,pt.Qr)(class gS extends pt.R6{constructor(){super({id:"editor.action.reindentlines",label:ke.N("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:dt.u.writable})}run(e,t){const n=e.get(Us.c_);let s=t.getModel();if(!s)return;let a=G0(s,n,1,s.getLineCount());a.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,a),t.pushUndoStop())}}),(0,pt.Qr)(class mS extends pt.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:ke.N("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:dt.u.writable})}run(e,t){const n=e.get(Us.c_);let s=t.getModel();if(!s)return;let a=t.getSelections();if(null===a)return;let p=[];for(let L of a){let q=L.startLineNumber,ie=L.endLineNumber;if(q!==ie&&1===L.endColumn&&ie--,1===q){if(q===ie)continue}else q--;let te=G0(s,n,q,ie);p.push(...te)}p.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,p),t.pushUndoStop())}});class pS{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new ei.Y(s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn),s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn)):new ei.Y(s.endLineNumber,s.endColumn-this._text.length,s.endLineNumber,s.endColumn)}}let Vu=class ED{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(e){return e.getContribution(ED.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),s=this.editor.getModel();if(!s||!n)return;let a=n;if(a.startLineNumber!==a.endLineNumber)return;const p=new Zo.yy(this.editor,5),L=s.uri;return this.editorWorkerService.canNavigateValueSet(L)?(this.currentRequest=(0,mt.PG)(q=>this.editorWorkerService.navigateValueSet(L,a,t)),this.currentRequest.then(q=>{if(!(q&&q.range&&q.value&&p.validate(this.editor)))return;let ie=Ye.e.lift(q.range),te=q.range,ve=q.value.length-(a.endColumn-a.startColumn);te={startLineNumber:te.startLineNumber,startColumn:te.startColumn,endLineNumber:te.endLineNumber,endColumn:te.startColumn+q.value.length},ve>1&&(a=new ei.Y(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+ve-1));const tt=new pS(ie,a,q.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,tt),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:te,options:ED.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,mt.Vs)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Ii.dL)}).catch(Ii.dL)):Promise.resolve(void 0)}};Vu.ID="editor.contrib.inPlaceReplaceController",Vu.DECORATION=Ae.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),Vu=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,wg.p)],Vu),(0,pt._K)(Vu.ID,Vu),(0,pt.Qr)(class JC extends pt.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:ke.N("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=Vu.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}),(0,pt.Qr)(class Z0 extends pt.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:ke.N("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=Vu.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}),(0,ln.Ic)((_,e)=>{const t=_.getColor(ht.Dl);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)});var Q0=m(6396);(0,pt.Qr)(class _S extends pt.R6{constructor(){super({id:"expandLineSelection",label:ke.N("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:dt.u.textInputFocus,primary:2090}})}run(e,t,n){if(n=n||{},!t.hasModel())return;const s=t._getViewModel();s.model.pushStackElement(),s.setCursorStates(n.source,3,Q0.P.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(n.source,!0)}});class vS{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const n=function bS(_,e){e.sort((p,L)=>p.lineNumber===L.lineNumber?p.column-L.column:p.lineNumber-L.lineNumber);for(let p=e.length-2;p>=0;p--)e[p].lineNumber===e[p+1].lineNumber&&e.splice(p,1);const t=[];let n=0,s=0;const a=e.length;for(let p=1,L=_.getLineCount();p<=L;p++){const q=_.getLineContent(p),ie=q.length+1;let te=0;if(s<a&&e[s].lineNumber===p&&(te=e[s].column,s++,te===ie)||0===q.length)continue;const ve=fi.ow(q);let tt=0;if(-1===ve)tt=1;else{if(ve===q.length-1)continue;tt=ve+2}tt=Math.max(te,tt),t[n++]=tr.h.delete(new Ye.e(p,tt,p,ie))}return t}(e,this._cursors);for(let s=0,a=n.length;s<a;s++){const p=n[s];t.addEditOperation(p.range,p.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}var X0=m(6786);class qC{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let s=[];for(let p=n.startLineNumber;p<=n.endLineNumber;p++)s.push(e.getLineContent(p));const a=s.join("\n");""===a&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new Ye.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new Ye.e(n.startLineNumber,1,n.startLineNumber,1),a+"\n"):t.addEditOperation(new Ye.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+a),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let s=n.startLineNumber,a=n.startColumn,p=n.endLineNumber,L=n.endColumn;0!==this._startLineNumberDelta&&(s+=this._startLineNumberDelta,a=1),0!==this._endLineNumberDelta&&(p+=this._endLineNumberDelta,L=1),n=ei.Y.createWithDirection(s,a,p,L,this._selectionDirection)}return n}}var Wp=m(5526);class CS{constructor(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,e.getLineMaxColumn(s.endLineNumber-1)));const{tabSize:a,indentSize:p,insertSpaces:L}=e.getOptions();let q=this.buildIndentConverter(a,p,L),ie={getLineTokens:te=>e.getLineTokens(te),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(te,ve)=>e.getLanguageIdAtPosition(te,ve),getLineContent:null};if(s.startLineNumber===s.endLineNumber&&1===e.getLineMaxColumn(s.startLineNumber)){let te=s.startLineNumber,ve=this._isMovingDown?te+1:te-1;1===e.getLineMaxColumn(ve)?t.addEditOperation(new Ye.e(1,1,1,1),null):(t.addEditOperation(new Ye.e(te,1,te,1),e.getLineContent(ve)),t.addEditOperation(new Ye.e(ve,1,ve,e.getLineMaxColumn(ve)),null)),s=new ei.Y(ve,1,ve,1)}else{let te,ve;if(this._isMovingDown){te=s.endLineNumber+1,ve=e.getLineContent(te),t.addEditOperation(new Ye.e(te-1,e.getLineMaxColumn(te-1),te,e.getLineMaxColumn(te)),null);let tt=ve;if(this.shouldAutoIndent(e,s)){let gt=this.matchEnterRule(e,q,a,te,s.startLineNumber-1);if(null!==gt){let kn=gt+za(fi.V8(e.getLineContent(te)),a);tt=yf(kn,a,L)+this.trimLeft(ve)}else{ie.getLineContent=kn=>e.getLineContent(kn===s.startLineNumber?te:kn);let dn=Us.zu.getGoodIndentForLine(this._autoIndent,ie,e.getLanguageIdAtPosition(te,1),s.startLineNumber,q);if(null!==dn){let kn=fi.V8(e.getLineContent(te)),On=za(dn,a);On!==za(kn,a)&&(tt=yf(On,a,L)+this.trimLeft(ve))}}t.addEditOperation(new Ye.e(s.startLineNumber,1,s.startLineNumber,1),tt+"\n");let Vt=this.matchEnterRuleMovingDown(e,q,a,s.startLineNumber,te,tt);if(null!==Vt)0!==Vt&&this.getIndentEditsOfMovingBlock(e,t,s,a,L,Vt);else{ie.getLineContent=kn=>kn===s.startLineNumber?tt:e.getLineContent(kn>=s.startLineNumber+1&&kn<=s.endLineNumber+1?kn-1:kn);let dn=Us.zu.getGoodIndentForLine(this._autoIndent,ie,e.getLanguageIdAtPosition(te,1),s.startLineNumber+1,q);if(null!==dn){const kn=fi.V8(e.getLineContent(s.startLineNumber)),On=za(dn,a),li=za(kn,a);On!==li&&this.getIndentEditsOfMovingBlock(e,t,s,a,L,On-li)}}}else t.addEditOperation(new Ye.e(s.startLineNumber,1,s.startLineNumber,1),tt+"\n")}else if(te=s.startLineNumber-1,ve=e.getLineContent(te),t.addEditOperation(new Ye.e(te,1,te+1,1),null),t.addEditOperation(new Ye.e(s.endLineNumber,e.getLineMaxColumn(s.endLineNumber),s.endLineNumber,e.getLineMaxColumn(s.endLineNumber)),"\n"+ve),this.shouldAutoIndent(e,s)){ie.getLineContent=gt=>e.getLineContent(gt===te?s.startLineNumber:gt);let tt=this.matchEnterRule(e,q,a,s.startLineNumber,s.startLineNumber-2);if(null!==tt)0!==tt&&this.getIndentEditsOfMovingBlock(e,t,s,a,L,tt);else{let gt=Us.zu.getGoodIndentForLine(this._autoIndent,ie,e.getLanguageIdAtPosition(s.startLineNumber,1),te,q);if(null!==gt){let Vt=fi.V8(e.getLineContent(s.startLineNumber)),dn=za(gt,a),kn=za(Vt,a);dn!==kn&&this.getIndentEditsOfMovingBlock(e,t,s,a,L,dn-kn)}}}}this._selectionId=t.trackSelection(s)}buildIndentConverter(e,t,n){return{shiftIndent:s=>Lc.U.shiftIndent(s,s.length+1,e,t,n),unshiftIndent:s=>Lc.U.unshiftIndent(s,s.length+1,e,t,n)}}parseEnterResult(e,t,n,s,a){if(a){let p=a.indentation;a.indentAction===Wp.wU.None||a.indentAction===Wp.wU.Indent?p=a.indentation+a.appendText:a.indentAction===Wp.wU.IndentOutdent?p=a.indentation:a.indentAction===Wp.wU.Outdent&&(p=t.unshiftIndent(a.indentation)+a.appendText);let L=e.getLineContent(s);if(this.trimLeft(L).indexOf(this.trimLeft(p))>=0){let q=fi.V8(e.getLineContent(s)),ie=fi.V8(p),te=Us.zu.getIndentMetadata(e,s);return null!==te&&2&te&&(ie=t.unshiftIndent(ie)),za(ie,n)-za(q,n)}}return null}matchEnterRuleMovingDown(e,t,n,s,a,p){if(fi.ow(p)>=0){let L=e.getLineMaxColumn(a),q=Us.zu.getEnterAction(this._autoIndent,e,new Ye.e(a,L,a,L));return this.parseEnterResult(e,t,n,s,q)}{let L=s-1;for(;L>=1;){let te=e.getLineContent(L);if(fi.ow(te)>=0)break;L--}if(L<1||s>e.getLineCount())return null;let q=e.getLineMaxColumn(L),ie=Us.zu.getEnterAction(this._autoIndent,e,new Ye.e(L,q,L,q));return this.parseEnterResult(e,t,n,s,ie)}}matchEnterRule(e,t,n,s,a,p){let L=a;for(;L>=1;){let te;if(te=L===a&&void 0!==p?p:e.getLineContent(L),fi.ow(te)>=0)break;L--}if(L<1||s>e.getLineCount())return null;let q=e.getLineMaxColumn(L),ie=Us.zu.getEnterAction(this._autoIndent,e,new Ye.e(L,q,L,q));return this.parseEnterResult(e,t,n,s,ie)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.isCheapToTokenize(t.startLineNumber))return!1;let n=e.getLanguageIdAtPosition(t.startLineNumber,1);return!(n!==e.getLanguageIdAtPosition(t.endLineNumber,1)||null===Us.zu.getIndentRulesSupport(n))}getIndentEditsOfMovingBlock(e,t,n,s,a,p){for(let L=n.startLineNumber;L<=n.endLineNumber;L++){let q=e.getLineContent(L),ie=fi.V8(q),tt=yf(za(ie,s)+p,s,a);tt!==ie&&(t.addEditOperation(new Ye.e(L,1,L,ie.length+1),tt),L===n.endLineNumber&&n.endColumn<=ie.length+1&&""===tt&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}let J0=(()=>{class _{constructor(t,n){this.selection=t,this.descending=n,this.selectionId=null}static getCollator(){return _._COLLATOR||(_._COLLATOR=new Intl.Collator),_._COLLATOR}getEditOperations(t,n){let s=function Jg(_,e,t){let n=e1(_,e,t);return n?tr.h.replace(new Ye.e(n.startLineNumber,1,n.endLineNumber,_.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}(t,this.selection,this.descending);s&&n.addEditOperation(s.range,s.text),this.selectionId=n.trackSelection(this.selection)}computeCursorState(t,n){return n.getTrackedSelection(this.selectionId)}static canRun(t,n,s){if(null===t)return!1;let a=e1(t,n,s);if(!a)return!1;for(let p=0,L=a.before.length;p<L;p++)if(a.before[p]!==a.after[p])return!0;return!1}}return _._COLLATOR=null,_})();function e1(_,e,t){let n=e.startLineNumber,s=e.endLineNumber;if(1===e.endColumn&&s--,n>=s)return null;let a=[];for(let L=n;L<=s;L++)a.push(_.getLineContent(L));let p=a.slice(0);return p.sort(J0.getCollator().compare),!0===t&&(p=p.reverse()),{startLineNumber:n,endLineNumber:s,before:a,after:p}}class q0 extends pt.R6{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map((p,L)=>({selection:p,index:L,ignore:!1}));n.sort((p,L)=>Ye.e.compareRangesUsingStarts(p.selection,L.selection));let s=n[0];for(let p=1;p<n.length;p++){const L=n[p];s.selection.endLineNumber===L.selection.startLineNumber&&(s.index<L.index?L.ignore=!0:(s.ignore=!0,s=L))}const a=[];for(const p of n)a.push(new qC(p.selection,this.down,p.ignore));t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}class ev extends pt.R6{constructor(e,t){super(t),this.down=e}run(e,t){let n=[],s=t.getSelections()||[];const a=t.getOption(9);for(const p of s)n.push(new CS(p,this.down,a));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class s1 extends pt.R6{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const a of n)if(!J0.canRun(t.getModel(),a,this.descending))return;let s=[];for(let a=0,p=n.length;a<p;a++)s[a]=new J0(n[a],this.descending);t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}let LS=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:(0,vn.gx)(2089,2102),weight:100}})}run(t,n,s){let a=[];"auto-save"===s.reason&&(a=(n.getSelections()||[]).map(q=>new An.L(q.positionLineNumber,q.positionColumn)));let p=n.getSelection();if(null===p)return;let L=new vS(p,a);n.pushUndoStop(),n.executeCommands(this.id,[L]),n.pushUndoStop()}}return _.ID="editor.action.trimTrailingWhitespace",_})();class em extends pt.R6{run(e,t){if(!t.hasModel())return;const n=t.getSelection();let s=this._getRangesToDelete(t),a=[];for(let q=0,ie=s.length-1;q<ie;q++){let te=s[q],ve=s[q+1];null===Ye.e.intersectRanges(te,ve)?a.push(te):s[q+1]=Ye.e.plusRange(te,ve)}a.push(s[s.length-1]);let p=this._getEndCursorState(n,a),L=a.map(q=>tr.h.replace(q,""));t.pushUndoStop(),t.executeEdits(this.id,L,p),t.pushUndoStop()}}class Wu extends pt.R6{run(e,t){const n=t.getSelections();if(null===n)return;const s=t.getModel();if(null===s)return;const a=t.getOption(117),p=[];for(const L of n)if(L.isEmpty()){const q=L.getStartPosition(),ie=t.getConfiguredWordAtPosition(q);if(!ie)continue;const te=new Ye.e(q.lineNumber,ie.startColumn,q.lineNumber,ie.endColumn),ve=s.getValueInRange(te);p.push(tr.h.replace(te,this._modifyText(ve,a)))}else{const q=s.getValueInRange(L);p.push(tr.h.replace(L,this._modifyText(q,a)))}t.pushUndoStop(),t.executeEdits(this.id,p),t.pushUndoStop()}}class nv{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class Sf extends Wu{constructor(){super({id:"editor.action.transformToTitlecase",label:ke.N("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:dt.u.writable})}_modifyText(e,t){const n=Sf.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,s=>s.toLocaleUpperCase()):e}}Sf.titleBoundary=new nv("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class nd extends Wu{constructor(){super({id:"editor.action.transformToSnakecase",label:ke.N("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:dt.u.writable})}_modifyText(e,t){const n=nd.caseBoundary.get(),s=nd.singleLetters.get();return n&&s?e.replace(n,"$1_$2").replace(s,"$1_$2$3").toLocaleLowerCase():e}}nd.caseBoundary=new nv("(\\p{Ll})(\\p{Lu})","gmu"),nd.singleLetters=new nv("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,pt.Qr)(class t1 extends q0{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:ke.N("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"2_line",title:ke.N({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,pt.Qr)(class n1 extends q0{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:ke.N("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"2_line",title:ke.N({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,pt.Qr)(class o1 extends pt.R6{constructor(){super({id:"editor.action.duplicateSelection",label:ke.N("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:dt.u.writable,menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"2_line",title:ke.N({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const s=[],a=t.getSelections(),p=t.getModel();for(const L of a)if(L.isEmpty())s.push(new qC(L,!0));else{const q=new ei.Y(L.endLineNumber,L.endColumn,L.endLineNumber,L.endColumn);s.push(new Ni.OY(q,p.getValueInRange(L)))}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}),(0,pt.Qr)(class yS extends ev{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:ke.N("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"2_line",title:ke.N({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,pt.Qr)(class wS extends ev{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:ke.N("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"2_line",title:ke.N({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,pt.Qr)(class SS extends s1{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:ke.N("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:dt.u.writable})}}),(0,pt.Qr)(class DS extends s1{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:ke.N("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:dt.u.writable})}}),(0,pt.Qr)(class ES extends pt.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:ke.N("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:dt.u.writable})}run(e,t){if(!t.hasModel())return;let n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let s=[],a=[],p=0;for(let L of t.getSelections()){let q=new Set,ie=[];for(let gt=L.startLineNumber;gt<=L.endLineNumber;gt++){let Vt=n.getLineContent(gt);q.has(Vt)||(ie.push(Vt),q.add(Vt))}let te=new ei.Y(L.startLineNumber,1,L.endLineNumber,n.getLineMaxColumn(L.endLineNumber)),ve=L.startLineNumber-p,tt=new ei.Y(ve,1,ve+ie.length-1,ie[ie.length-1].length);s.push(tr.h.replace(te,ie.join("\n"))),a.push(tt),p+=L.endLineNumber-L.startLineNumber+1-ie.length}t.pushUndoStop(),t.executeEdits(this.id,s,a),t.pushUndoStop()}}),(0,pt.Qr)(LS),(0,pt.Qr)(class qg extends pt.R6{constructor(){super({id:"editor.action.deleteLines",label:ke.N("lines.delete","Delete Line"),alias:"Delete Line",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let n=this._getLinesToRemove(t),s=t.getModel();if(1===s.getLineCount()&&1===s.getLineMaxColumn(1))return;let a=0,p=[],L=[];for(let q=0,ie=n.length;q<ie;q++){const te=n[q];let ve=te.startLineNumber,tt=te.endLineNumber,gt=1,Vt=s.getLineMaxColumn(tt);tt<s.getLineCount()?(tt+=1,Vt=1):ve>1&&(ve-=1,gt=s.getLineMaxColumn(ve)),p.push(tr.h.replace(new ei.Y(ve,gt,tt,Vt),"")),L.push(new ei.Y(ve-a,te.positionColumn,ve-a,te.positionColumn)),a+=te.endLineNumber-te.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,p,L),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(a=>{let p=a.endLineNumber;return a.startLineNumber<a.endLineNumber&&1===a.endColumn&&(p-=1),{startLineNumber:a.startLineNumber,selectionStartColumn:a.selectionStartColumn,endLineNumber:p,positionColumn:a.positionColumn}});t.sort((a,p)=>a.startLineNumber===p.startLineNumber?a.endLineNumber-p.endLineNumber:a.startLineNumber-p.startLineNumber);let n=[],s=t[0];for(let a=1;a<t.length;a++)s.endLineNumber+1>=t[a].startLineNumber?s.endLineNumber=t[a].endLineNumber:(n.push(s),s=t[a]);return n.push(s),n}}),(0,pt.Qr)(class xS extends pt.R6{constructor(){super({id:"editor.action.indentLines",label:ke.N("lines.indent","Indent Line"),alias:"Indent Line",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,X0.u.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}),(0,pt.Qr)(class tv extends pt.R6{constructor(){super({id:"editor.action.outdentLines",label:ke.N("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2135,weight:100}})}run(e,t){In.wk.Outdent.runEditorCommand(e,t,null)}}),(0,pt.Qr)(class xc extends pt.R6{constructor(){super({id:"editor.action.insertLineBefore",label:ke.N("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,X0.u.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}),(0,pt.Qr)(class IS extends pt.R6{constructor(){super({id:"editor.action.insertLineAfter",label:ke.N("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,X0.u.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}),(0,pt.Qr)(class tm extends em{constructor(){super({id:"deleteAllLeft",label:ke.N("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null,s=[],a=0;return t.forEach(p=>{let L;if(1===p.endColumn&&a>0){let q=p.startLineNumber-a;L=new ei.Y(q,p.startColumn,q,p.startColumn)}else L=new ei.Y(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn);a+=p.endLineNumber-p.startLineNumber,p.intersectRanges(e)?n=L:s.push(L)}),n&&s.unshift(n),s}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let n=t,s=e.getModel();return null===s?[]:(n.sort(Ye.e.compareRangesUsingStarts),n=n.map(a=>{if(a.isEmpty()){if(1===a.startColumn){let p=Math.max(1,a.startLineNumber-1),L=1===a.startLineNumber?1:s.getLineContent(p).length+1;return new Ye.e(p,L,a.startLineNumber,1)}return new Ye.e(a.startLineNumber,1,a.startLineNumber,a.startColumn)}return new Ye.e(a.startLineNumber,1,a.endLineNumber,a.endColumn)}),n)}}),(0,pt.Qr)(class MS extends em{constructor(){super({id:"deleteAllRight",label:ke.N("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null,s=[];for(let a=0,p=t.length,L=0;a<p;a++){let q=t[a],ie=new ei.Y(q.startLineNumber-L,q.startColumn,q.startLineNumber-L,q.startColumn);q.intersectRanges(e)?n=ie:s.push(ie)}return n&&s.unshift(n),s}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let n=e.getSelections();if(null===n)return[];let s=n.map(a=>{if(a.isEmpty()){const p=t.getLineMaxColumn(a.startLineNumber);return a.startColumn===p?new Ye.e(a.startLineNumber,a.startColumn,a.startLineNumber+1,1):new Ye.e(a.startLineNumber,a.startColumn,a.startLineNumber,p)}return a});return s.sort(Ye.e.compareRangesUsingStarts),s}}),(0,pt.Qr)(class NS extends pt.R6{constructor(){super({id:"editor.action.joinLines",label:ke.N("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let n=t.getSelections();if(null===n)return;let s=t.getSelection();if(null===s)return;n.sort(Ye.e.compareRangesUsingStarts);let a=[],p=n.reduce((tt,gt)=>tt.isEmpty()?tt.endLineNumber===gt.startLineNumber?(s.equalsSelection(tt)&&(s=gt),gt):gt.startLineNumber>tt.endLineNumber+1?(a.push(tt),gt):new ei.Y(tt.startLineNumber,tt.startColumn,gt.endLineNumber,gt.endColumn):gt.startLineNumber>tt.endLineNumber?(a.push(tt),gt):new ei.Y(tt.startLineNumber,tt.startColumn,gt.endLineNumber,gt.endColumn));a.push(p);let L=t.getModel();if(null===L)return;let q=[],ie=[],te=s,ve=0;for(let tt=0,gt=a.length;tt<gt;tt++){let li,Xn,Vt=a[tt],dn=Vt.startLineNumber,kn=1,On=0,Ki=L.getLineContent(Vt.endLineNumber).length-Vt.endColumn;if(Vt.isEmpty()||Vt.startLineNumber===Vt.endLineNumber){let us=Vt.getStartPosition();us.lineNumber<L.getLineCount()?(li=dn+1,Xn=L.getLineMaxColumn(li)):(li=us.lineNumber,Xn=L.getLineMaxColumn(us.lineNumber))}else li=Vt.endLineNumber,Xn=L.getLineMaxColumn(li);let Bi=L.getLineContent(dn);for(let us=dn+1;us<=li;us++){let Cr=L.getLineContent(us),ga=L.getLineFirstNonWhitespaceColumn(us);if(ga>=1){let ma=!0;""===Bi&&(ma=!1),ma&&(" "===Bi.charAt(Bi.length-1)||"\t"===Bi.charAt(Bi.length-1))&&(ma=!1,Bi=Bi.replace(/[\s\uFEFF\xA0]+$/g," "));let Nc=Cr.substr(ga-1);Bi+=(ma?" ":"")+Nc,On=ma?Nc.length+1:Nc.length}else On=0}let Eo=new Ye.e(dn,kn,li,Xn);if(!Eo.isEmpty()){let us;Vt.isEmpty()?(q.push(tr.h.replace(Eo,Bi)),us=new ei.Y(Eo.startLineNumber-ve,Bi.length-On+1,dn-ve,Bi.length-On+1)):Vt.startLineNumber===Vt.endLineNumber?(q.push(tr.h.replace(Eo,Bi)),us=new ei.Y(Vt.startLineNumber-ve,Vt.startColumn,Vt.endLineNumber-ve,Vt.endColumn)):(q.push(tr.h.replace(Eo,Bi)),us=new ei.Y(Vt.startLineNumber-ve,Vt.startColumn,Vt.startLineNumber-ve,Bi.length-Ki)),null!==Ye.e.intersectRanges(Eo,s)?te=us:ie.push(us)}ve+=Eo.endLineNumber-Eo.startLineNumber}ie.unshift(te),t.pushUndoStop(),t.executeEdits(this.id,q,ie),t.pushUndoStop()}}),(0,pt.Qr)(class TS extends pt.R6{constructor(){super({id:"editor.action.transpose",label:ke.N("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:dt.u.writable})}run(e,t){let n=t.getSelections();if(null===n)return;let s=t.getModel();if(null===s)return;let a=[];for(let p=0,L=n.length;p<L;p++){let q=n[p];if(!q.isEmpty())continue;let ie=q.getStartPosition(),te=s.getLineMaxColumn(ie.lineNumber);if(ie.column>=te){if(ie.lineNumber===s.getLineCount())continue;let ve=new Ye.e(ie.lineNumber,Math.max(1,ie.column-1),ie.lineNumber+1,1),tt=s.getValueInRange(ve).split("").reverse().join("");a.push(new Ni.T4(new ei.Y(ie.lineNumber,Math.max(1,ie.column-1),ie.lineNumber+1,1),tt))}else{let ve=new Ye.e(ie.lineNumber,Math.max(1,ie.column-1),ie.lineNumber,ie.column+1),tt=s.getValueInRange(ve).split("").reverse().join("");a.push(new Ni.hP(ve,tt,new ei.Y(ie.lineNumber,ie.column+1,ie.lineNumber,ie.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}),(0,pt.Qr)(class Hp extends Wu{constructor(){super({id:"editor.action.transformToUppercase",label:ke.N("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:dt.u.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),(0,pt.Qr)(class AS extends Wu{constructor(){super({id:"editor.action.transformToLowercase",label:ke.N("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:dt.u.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),nd.caseBoundary.isSupported()&&nd.singleLetters.isSupported()&&(0,pt.Qr)(nd),Sf.titleBoundary.isSupported()&&(0,pt.Qr)(Sf);var ov=function(_,e){return function(t,n){e(t,n,_)}},sv=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};const r1=new ft.uy("LinkedEditingInputVisible",!1),kS="linked-editing-decoration";let Ic=class LD extends Xe.JT{constructor(e,t,n){super(),this.languageConfigurationService=n,this._debounceDuration=200,this._localToDispose=this._register(new Xe.SL),this._editor=e,this._enabled=!1,this._visibleContextKey=r1.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Xe.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(62)||s.hasChanged(82))&&this.reinitialize(!1)})),this._register(Gn.id.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(LD.ID)}reinitialize(e){const t=this._editor.getModel(),n=null!==t&&(this._editor.getOption(62)||this._editor.getOption(82))&&Gn.id.has(t);if(n===this._enabled&&!e||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||null===t))return;this._localToDispose.add(Ln.ju.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const s=new mt.vp(this._debounceDuration),a=()=>{this._rangeUpdateTriggerPromise=s.trigger(()=>this.updateRanges(),this._debounceDuration)},p=new mt.vp(0),L=q=>{this._rangeSyncTriggerPromise=p.trigger(()=>this._syncRanges(q))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{a()})),this._localToDispose.add(this._editor.onDidChangeModelContent(q=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const ie=t.getDecorationRange(this._currentDecorations[0]);if(ie&&q.changes.every(te=>ie.intersectRanges(te.range)))return void L(this._currentDecorations)}a()})),this._localToDispose.add({dispose:()=>{s.cancel(),p.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const s=t.getValueInRange(n);if(this._currentWordPattern){const p=s.match(this._currentWordPattern);if((p?p[0].length:0)!==s.length)return this.clearRanges()}let a=[];for(let p=1,L=e.length;p<L;p++){const q=t.getDecorationRange(e[p]);if(q)if(q.startLineNumber!==q.endLineNumber)a.push({range:q,text:s});else{let ie=t.getValueInRange(q),te=s,ve=q.startColumn,tt=q.endColumn;const gt=fi.Mh(ie,te);ve+=gt,ie=ie.substr(gt),te=te.substr(gt);const Vt=fi.P1(ie,te);tt-=Vt,ie=ie.substr(0,ie.length-Vt),te=te.substr(0,te.length-Vt),(ve!==tt||0!==te.length)&&a.push({range:new Ye.e(q.startLineNumber,ve,q.endLineNumber,tt),text:te})}}if(0!==a.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const p=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",a),this._editor._getViewModel().setPrevEditOperationType(p)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return sv(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),s=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const p=n.getDecorationRange(this._currentDecorations[0]);if(p&&p.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=s;const a=(0,mt.PG)(p=>sv(this,void 0,void 0,function*(){try{const L=yield zp(n,t,p);if(a!==this._currentRequest||(this._currentRequest=null,s!==n.getVersionId()))return;let q=[];(null==L?void 0:L.ranges)&&(q=L.ranges),this._currentWordPattern=(null==L?void 0:L.wordPattern)||this._languageWordPattern;let ie=!1;for(let ve=0,tt=q.length;ve<tt;ve++)if(Ye.e.containsPosition(q[ve],t)){if(ie=!0,0!==ve){const gt=q[ve];q.splice(ve,1),q.unshift(gt)}break}if(!ie)return void this.clearRanges();const te=q.map(ve=>({range:ve,options:LD.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,te)}catch(L){(0,Ii.n2)(L)||(0,Ii.dL)(L),(this._currentRequest===a||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=a,a})}};Ic.ID="editor.contrib.linkedEditing",Ic.DECORATION=Ae.qx.register({description:"linked-editing",stickiness:0,className:kS}),Ic=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([ov(1,ft.i6),ov(2,Us.c_)],Ic);const a1=pt._l.bindToContribution(Ic.get);function zp(_,e,t){const n=Gn.id.ordered(_);return(0,mt.Ps)(n.map(s=>()=>sv(this,void 0,void 0,function*(){try{return yield s.provideLinkedEditingRanges(_,e,t)}catch(a){return void(0,Ii.Cp)(a)}})),s=>!!s&&xi.Of(null==s?void 0:s.ranges))}(0,pt.fK)(new a1({id:"cancelLinkedEditingInput",precondition:r1,handler:_=>_.clearRanges(),kbOpts:{kbExpr:dt.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const av=(0,Ge.P6G)("editor.linkedEditingBackground",{dark:bi.Il.fromHex("#f00").transparent(.3),light:bi.Il.fromHex("#f00").transparent(.3),hc:bi.Il.fromHex("#f00").transparent(.3)},ke.N("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,ln.Ic)((_,e)=>{const t=_.getColor(av);t&&e.addRule(`.monaco-editor .${kS} { background: ${t}; border-left-color: ${t}; }`)}),(0,pt.sb)("_executeLinkedEditingProvider",(_,e)=>zp(_,e,wi.T.None)),(0,pt._K)(Ic.ID,Ic),(0,pt.Qr)(class rv extends pt.R6{constructor(){super({id:"editor.action.linkedEditing",label:ke.N("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:ft.Ao.and(dt.u.writable,dt.u.hasRenameProvider),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(vi.$),[s,a]=Array.isArray(t)&&t||[void 0,void 0];return xo.o.isUri(s)&&An.L.isIPosition(a)?n.openCodeEditor({resource:s},n.getActiveCodeEditor()).then(p=>{!p||(p.setPosition(a),p.invokeWithinContext(L=>(this.reportTelemetry(L,p),this.run(L,p))))},Ii.dL):super.runCommand(e,t)}run(e,t){const n=Ic.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}),m(3822);var l1=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class RS{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return l1(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class Up{constructor(e){this._disposables=new Xe.SL;let t=[];for(const[n,s]of e){const a=n.links.map(p=>new RS(p,s));t=Up._union(t,a),(0,Xe.Wf)(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let s,a,p,L,n=[];for(s=0,p=0,a=e.length,L=t.length;s<a&&p<L;){const q=e[s],ie=t[p];Ye.e.areIntersectingOrTouching(q.range,ie.range)?s++:Ye.e.compareRangesUsingStarts(q.range,ie.range)<0?(n.push(q),s++):(n.push(ie),p++)}for(;s<a;s++)n.push(e[s]);for(;p<L;p++)n.push(t[p]);return n}}function lv(_,e){const t=[],n=Gn.pM.ordered(_).reverse().map((s,a)=>Promise.resolve(s.provideLinks(_,e)).then(p=>{p&&(t[a]=[p,s])},Ii.Cp));return Promise.all(n).then(()=>{const s=new Up((0,xi.kX)(t));return e.isCancellationRequested?(s.dispose(),new Up([])):s})}oo.P0.registerCommand("_executeLinkProvider",(_,...e)=>l1(void 0,void 0,void 0,function*(){let[t,n]=e;(0,wn.p_)(t instanceof xo.o),"number"!=typeof n&&(n=0);const s=_.get(ds.q).getModel(t);if(!s)return[];const a=yield lv(s,wi.T.None);if(!a)return[];for(let L=0;L<Math.min(n,a.links.length);L++)yield a.links[L].resolve(wi.T.None);const p=a.links.slice(0);return a.dispose(),p}));var dv=function(_,e){return function(t,n){e(t,n,_)}};const uv={general:Ae.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Ae.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Df{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:Df._getOptions(e,t,!1)}}static _getOptions(e,t,n){const s=Object.assign({},n?uv.active:uv.general);return s.hoverMessage=function d1(_,e){const t=_.url&&/^command:/i.test(_.url.toString()),n=_.tooltip?_.tooltip:t?ke.N("links.navigate.executeCmd","Execute command"):ke.N("links.navigate.follow","Follow link"),s=e?Pn.dz?ke.N("links.navigate.kb.meta.mac","cmd + click"):ke.N("links.navigate.kb.meta","ctrl + click"):Pn.dz?ke.N("links.navigate.kb.alt.mac","option + click"):ke.N("links.navigate.kb.alt","alt + click");if(_.url){let a="";if(/^command:/i.test(_.url.toString())){const L=_.url.toString().match(/^command:([^?#]+)/);L&&(a=` "${ke.N("tooltip.explanation","Execute command {0}",L[1])}"`)}return new Rn.W5("",!0).appendMarkdown(`[${n}](${_.url.toString(!0).replace(/ /g,"%20")}${a}) (${s})`)}return(new Rn.W5).appendText(`${n} (${s})`)}(e,t),s}activate(e,t){e.changeDecorationOptions(this.decorationId,Df._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,Df._getOptions(this.link,t,!1))}}let Qd=class xD{constructor(e,t,n){this.listenersToRemove=new Xe.SL,this.editor=e,this.openerService=t,this.notificationService=n;let s=new va(e);this.listenersToRemove.add(s),this.listenersToRemove.add(s.onMouseMoveOrRelevantKeyDown(([a,p])=>{this._onEditorMouseMove(a,p)})),this.listenersToRemove.add(s.onExecute(a=>{this.onEditorMouseUp(a)})),this.listenersToRemove.add(s.onCancel(a=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(63),this.listenersToRemove.add(e.onDidChangeConfiguration(a=>{const p=e.getOption(63);this.enabled!==p&&(this.enabled=p,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(a=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(a=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(a=>this.onModelLanguageChanged())),this.listenersToRemove.add(Gn.pM.onDidChange(a=>this.onModelLanguageChanged())),this.timeout=new mt._F,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(e){return e.getContribution(xD.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelLanguageChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),xD.RECOMPUTE_TIME)}beginCompute(){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(Gn.pM.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=mt.PG(t=>lv(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){(0,Ii.dL)(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t="altKey"===this.editor.getOption(70);let n=[],s=Object.keys(this.currentOccurrences);for(let L=0,q=s.length;L<q;L++)n.push(this.currentOccurrences[s[L]].decorationId);let a=[];if(e)for(const L of e)a.push(Df.decoration(L,t));let p=this.editor.deltaDecorations(n,a);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let L=0,q=p.length;L<q;L++){let ie=new Df(e[L],p[L]);this.currentOccurrences[ie.decorationId]=ie}}_onEditorMouseMove(e,t){const n="altKey"===this.editor.getOption(70);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const s=this.getLinkOccurrence(e.target.position);s&&this.editor.changeDecorations(a=>{s.activate(a,n),this.activeLinkDecorationId=s.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(70);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(n=>{t.deactivate(n,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:s}=e;s.resolve(wi.T.None).then(a=>{if("string"==typeof a&&this.editor.hasModel()){const p=this.editor.getModel().uri;if(p.scheme===st.lg.file&&a.startsWith(`${st.lg.file}:`)){const L=xo.o.parse(a);if(L.scheme===st.lg.file){const q=So.z_(L);let ie=null;q.startsWith("/./")?ie=`.${q.substr(1)}`:q.startsWith("//./")&&(ie=`.${q.substr(2)}`),ie&&(a=So.Vo(p,ie))}}}return this.openerService.open(a,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})},a=>{const p=a instanceof Error?a.message:a;"invalid"===p?this.notificationService.warn(ke.N("invalid.url","Failed to open this link because it is not well-formed: {0}",s.url.toString())):"missing"===p?this.notificationService.warn(ke.N("missing.url","Failed to open this link because its target is missing.")):(0,Ii.dL)(a)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const n of t){const s=this.currentOccurrences[n.id];if(s)return s}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};function Ef(_,e){const t=e.filter(n=>!_.find(s=>s.equals(n)));if(t.length>=1){const n=t.map(a=>`line ${a.viewState.position.lineNumber} column ${a.viewState.position.column}`).join(", "),s=1===t.length?ke.N("cursorAdded","Cursor added: {0}",n):ke.N("cursorsAdded","Cursors added: {0}",n);(0,Zt.i7)(s)}}Qd.ID="editor.linkDetector",Qd.RECOMPUTE_TIME=1e3,Qd=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([dv(1,oa.v4),dv(2,Xo.lT)],Qd),(0,pt._K)(Qd.ID,Qd),(0,pt.Qr)(class u1 extends pt.R6{constructor(){super({id:"editor.action.openLink",label:ke.N("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const n=Qd.get(t);if(!n||!t.hasModel())return;let s=t.getSelections();for(let a of s){let p=n.getLinkOccurrence(a.getEndPosition());p&&n.openLinkOccurrence(p,!1)}}}),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge._Yy);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});class jp{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class Kp{constructor(e,t,n,s,a,p,L){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=s,this.wholeWord=a,this.matchCase=p,this.currentMatch=L}static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new Kp(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let a,p,s=!1;const L=e.getSelections();1===L.length&&L[0].isEmpty()?(s=!0,a=!0,p=!0):(a=n.wholeWord,p=n.matchCase);const q=e.getSelection();let ie,te=null;if(q.isEmpty()){const ve=e.getConfiguredWordAtPosition(q.getStartPosition());if(!ve)return null;ie=ve.word,te=new ei.Y(q.startLineNumber,ve.startColumn,q.startLineNumber,ve.endColumn)}else ie=e.getModel().getValueInRange(q).replace(/\r\n/g,"\n");return new Kp(e,t,s,ie,a,p,te)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new jp(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new jp(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new ei.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new jp(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new jp(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new ei.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}let Xd=(()=>{class _ extends Xe.JT{constructor(t){super(),this._sessionDispose=this._register(new Xe.SL),this._editor=t,this._ignoreSelectionChange=!1,this._session=null}static get(t){return t.getContribution(_.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(t){if(!this._session){const n=Kp.create(this._editor,t);if(!n)return;this._session=n;const s={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(s.wholeWordOverride=1,s.matchCaseOverride=1,s.isRegexOverride=2),t.getState().change(s,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(a=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(t.getState().onFindReplaceStateChange(a=>{(a.matchCase||a.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null}_setSelections(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1}_expandEmptyToWord(t,n){if(!n.isEmpty())return n;const s=this._editor.getConfiguredWordAtPosition(n.getStartPosition());return s?new ei.Y(n.startLineNumber,s.startColumn,n.startLineNumber,s.endColumn):n}_applySessionResult(t){!t||(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))}getSession(t){return this._session}addSelectionToNextFindMatch(t){if(this._editor.hasModel()){if(!this._session){const n=this._editor.getSelections();if(n.length>1){const a=t.getState().matchCase;if(!nm(this._editor.getModel(),n,a)){const L=this._editor.getModel();let q=[];for(let ie=0,te=n.length;ie<te;ie++)q[ie]=this._expandEmptyToWord(L,n[ie]);return void this._editor.setSelections(q)}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(t){if(!this._editor.hasModel())return;let n=null;const s=t.getState();if(s.isRevealed&&s.searchString.length>0&&s.isRegex)n=this._editor.getModel().findMatches(s.searchString,!0,s.isRegex,s.matchCase,s.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(t),!this._session)return;n=this._session.selectAll()}if(s.searchScope){const a=s.searchScope;let p=[];n.forEach(L=>{a.forEach(q=>{L.range.endLineNumber<=q.endLineNumber&&L.range.startLineNumber>=q.startLineNumber&&p.push(L)})}),n=p}if(n.length>0){const a=this._editor.getSelection();for(let p=0,L=n.length;p<L;p++){const q=n[p];if(q.range.intersectRanges(a)){n[p]=n[0],n[0]=q;break}}this._setSelections(n.map(p=>new ei.Y(p.range.startLineNumber,p.range.startColumn,p.range.endLineNumber,p.range.endColumn)))}}}return _.ID="editor.contrib.multiCursorController",_})();class xf extends pt.R6{run(e,t){const n=Xd.get(t);if(!n)return;const s=Ha.get(t);if(!s)return;const a=t._getViewModel();if(a){const p=a.getCursorStates();this._run(n,s),Ef(p,a.getCursorStates())}}}class g1{constructor(e,t,n,s,a){this._model=e,this._searchText=t,this._matchCase=n,this._wordSeparators=s,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,a&&this._model===a._model&&this._searchText===a._searchText&&this._matchCase===a._matchCase&&this._wordSeparators===a._wordSeparators&&this._modelVersionId===a._modelVersionId&&(this._cachedFindMatches=a._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(Ye.e.compareRangesUsingStarts)),this._cachedFindMatches}}class Mc extends Xe.JT{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(97),this.decorations=[],this.updateSoon=this._register(new mt.pY(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(n=>{this._isEnabled=e.getOption(97)})),this._register(e.onDidChangeCursorSelection(n=>{!this._isEnabled||(n.selection.isEmpty()?3===n.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(n=>{this._setState(null)})),this._register(e.onDidChangeModelContent(n=>{this._isEnabled&&this.updateSoon.schedule()}));const t=Ha.get(e);t&&this._register(t.getState().onFindReplaceStateChange(n=>{this._update()}))}_update(){this._setState(Mc._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,n){if(!t||!n.hasModel())return null;const s=n.getSelection();if(s.startLineNumber!==s.endLineNumber)return null;const a=Xd.get(n);if(!a)return null;const p=Ha.get(n);if(!p)return null;let L=a.getSession(p);if(!L){const te=n.getSelections();if(te.length>1){const tt=p.getState().matchCase;if(!nm(n.getModel(),te,tt))return null}L=Kp.create(n,p)}if(!L||L.currentMatch||/^[ \t]+$/.test(L.searchText)||L.searchText.length>200)return null;const q=p.getState(),ie=q.matchCase;if(q.isRevealed){let te=q.searchString;ie||(te=te.toLowerCase());let ve=L.searchText;if(ie||(ve=ve.toLowerCase()),te===ve&&L.matchCase===q.matchCase&&L.wholeWord===q.wholeWord&&!q.isRegex)return null}return new g1(n.getModel(),L.searchText,L.matchCase,L.wholeWord?n.getOption(117):null,e)}_setState(e){if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=this.state.findMatches(),s=this.editor.getSelections();s.sort(Ye.e.compareRangesUsingStarts);const a=[];for(let q=0,ie=0,te=n.length,ve=s.length;q<te;){const tt=n[q];if(ie>=ve)a.push(tt),q++;else{const gt=Ye.e.compareRangesUsingStarts(tt,s[ie]);gt<0?((s[ie].isEmpty()||!Ye.e.areIntersecting(tt,s[ie]))&&a.push(tt),q++):(gt>0||q++,ie++)}}const p=Gn.vH.has(t)&&this.editor.getOption(72),L=a.map(q=>({range:q,options:p?Mc._SELECTION_HIGHLIGHT:Mc._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,L)}dispose(){this._setState(null),super.dispose()}}function nm(_,e,t){const n=$p(_,e[0],!t);for(let s=1,a=e.length;s<a;s++){const p=e[s];if(p.isEmpty())return!1;if(n!==$p(_,p,!t))return!1}return!0}function $p(_,e,t){const n=_.getValueInRange(e);return t?n.toLowerCase():n}Mc.ID="editor.contrib.selectionHighlighter",Mc._SELECTION_HIGHLIGHT_OVERVIEW=Ae.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,ln.EN)(Ge.IYc),position:Te.F5.Inline},overviewRuler:{color:(0,ln.EN)(Ge.SPM),position:Te.sh.Center}}),Mc._SELECTION_HIGHLIGHT=Ae.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),(0,pt._K)(Xd.ID,Xd),(0,pt._K)(Mc.ID,Mc),(0,pt.Qr)(class h1 extends pt.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:ke.N("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"3_multi",title:ke.N({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,n){if(!t.hasModel())return;let s=!0;n&&!1===n.logicalLine&&(s=!1);const a=t._getViewModel();if(a.cursorConfig.readOnly)return;a.pushStackElement();const p=a.getCursorStates();a.setCursorStates(n.source,3,Q0.P.addCursorUp(a,p,s)),a.revealTopMostCursor(n.source),Ef(p,a.getCursorStates())}}),(0,pt.Qr)(class OS extends pt.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:ke.N("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"3_multi",title:ke.N({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,n){if(!t.hasModel())return;let s=!0;n&&!1===n.logicalLine&&(s=!1);const a=t._getViewModel();if(a.cursorConfig.readOnly)return;a.pushStackElement();const p=a.getCursorStates();a.setCursorStates(n.source,3,Q0.P.addCursorDown(a,p,s)),a.revealBottomMostCursor(n.source),Ef(p,a.getCursorStates())}}),(0,pt.Qr)(class Ua extends pt.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:ke.N("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"3_multi",title:ke.N({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let s=e.startLineNumber;s<e.endLineNumber;s++){let a=t.getLineMaxColumn(s);n.push(new ei.Y(s,a,s,a))}e.endColumn>1&&n.push(new ei.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),s=t.getSelections(),a=t._getViewModel(),p=a.getCursorStates();let L=[];s.forEach(q=>this.getCursorsForSelection(q,n,L)),L.length>0&&t.setSelections(L),Ef(p,a.getCursorStates())}}),(0,pt.Qr)(class hv extends xf{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:ke.N("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:2082,weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"3_multi",title:ke.N({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),(0,pt.Qr)(class FS extends xf{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:ke.N("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"3_multi",title:ke.N({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),(0,pt.Qr)(class f1 extends xf{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:ke.N("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:(0,vn.gx)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),(0,pt.Qr)(class BS extends xf{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:ke.N("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),(0,pt.Qr)(class VS extends xf{constructor(){super({id:"editor.action.selectHighlights",label:ke.N("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:3114,weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"3_multi",title:ke.N({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),(0,pt.Qr)(class fv extends xf{constructor(){super({id:"editor.action.changeAll",label:ke.N("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:ft.Ao.and(dt.u.writable,dt.u.editorTextFocus),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),(0,pt.Qr)(class Lf extends pt.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:ke.N("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),s=t.getModel().getLineCount();let a=[];for(let q=n[0].startLineNumber;q<=s;q++)a.push(new ei.Y(q,n[0].startColumn,q,n[0].endColumn));const p=t._getViewModel(),L=p.getCursorStates();a.length>0&&t.setSelections(a),Ef(L,p.getCursorStates())}}),(0,pt.Qr)(class PS extends pt.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:ke.N("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections();let s=[];for(let L=n[0].startLineNumber;L>=1;L--)s.push(new ei.Y(L,n[0].startColumn,L,n[0].endColumn));const a=t._getViewModel(),p=a.getCursorStates();s.length>0&&t.setSelections(s),Ef(p,a.getCursorStates())}});var WS=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};const Jd={Visible:new ft.uy("parameterHintsVisible",!1),MultipleSignatures:new ft.uy("parameterHintsMultipleSignatures",!1)};function m1(_,e,t,n){return WS(this,void 0,void 0,function*(){const s=Gn.nD.ordered(_);for(const a of s)try{const p=yield a.provideSignatureHelp(_,e,n,t);if(p)return p}catch(p){(0,Ii.Cp)(p)}})}oo.P0.registerCommand("_executeSignatureHelpProvider",(_,...e)=>WS(void 0,void 0,void 0,function*(){const[t,n,s]=e;(0,wn.p_)(xo.o.isUri(t)),(0,wn.p_)(An.L.isIPosition(n)),(0,wn.p_)("string"==typeof s||!s);const a=yield _.get(ur.S).createModelReference(t);try{const p=yield m1(a.object.textEditorModel,An.L.lift(n),{triggerKind:Gn.WW.Invoke,isRetrigger:!1,triggerCharacter:s},wi.T.None);return p?(setTimeout(()=>p.dispose(),0),p.value):void 0}finally{a.dispose()}})),m(9784);var id;!function(_){_.Default={type:0},_.Pending=class e{constructor(s,a){this.request=s,this.previouslyActiveHints=a,this.type=2}},_.Active=class t{constructor(s){this.hints=s,this.type=1}}}(id||(id={}));let zS=(()=>{class _ extends Xe.JT{constructor(t,n=_.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new Ln.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=id.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Xe.XK),this.triggerChars=new zh.q,this.retriggerChars=new zh.q,this.triggerId=0,this.editor=t,this.throttledDelayer=new mt.vp(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(Gn.nD.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){2===this._state.type&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=id.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,n){const s=this.editor.getModel();if(!s||!Gn.nD.has(s))return;const a=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(a),n).catch(Ii.dL)}next(){if(1!==this.state.type)return;const t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,s=n%t==t-1,a=this.editor.getOption(76).cycle;!(t<2||s)||a?this.updateActiveSignature(s&&a?0:n+1):this.cancel()}previous(){if(1!==this.state.type)return;const t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,s=0===n,a=this.editor.getOption(76).cycle;!(t<2||s)||a?this.updateActiveSignature(s&&a?t-1:n-1):this.cancel()}updateActiveSignature(t){1===this.state.type&&(this.state=new id.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){const n=1===this.state.type||2===this.state.type,s=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const a=this._pendingTriggers.reduce(gv);this._pendingTriggers=[];const p={triggerKind:a.triggerKind,triggerCharacter:a.triggerCharacter,isRetrigger:n,activeSignatureHelp:s};if(!this.editor.hasModel())return!1;const L=this.editor.getModel(),q=this.editor.getPosition();this.state=new id.Pending((0,mt.PG)(ie=>m1(L,q,p,ie)),s);try{const ie=yield this.state.request;return t!==this.triggerId?(null==ie||ie.dispose(),!1):ie&&ie.value.signatures&&0!==ie.value.signatures.length?(this.state=new id.Active(ie.value),this._lastSignatureHelpResult.value=ie,this._onChangedHints.fire(this.state.hints),!0):(null==ie||ie.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(ie){return t===this.triggerId&&(this.state=id.Default),(0,Ii.dL)(ie),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new zh.q,this.retriggerChars=new zh.q;const t=this.editor.getModel();if(t)for(const n of Gn.nD.ordered(t)){for(const s of n.signatureHelpTriggerCharacters||[])this.triggerChars.add(s.charCodeAt(0)),this.retriggerChars.add(s.charCodeAt(0));for(const s of n.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(s.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const n=t.length-1,s=t.charCodeAt(n);(this.triggerChars.has(s)||this.isTriggered&&this.retriggerChars.has(s))&&this.trigger({triggerKind:Gn.WW.TriggerCharacter,triggerCharacter:t.charAt(n)})}onCursorChange(t){"mouse"===t.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:Gn.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Gn.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return _.DEFAULT_DELAY=120,_})();function gv(_,e){switch(e.triggerKind){case Gn.WW.Invoke:return e;case Gn.WW.ContentChange:return _;default:return e}}var Yp=m(8676),mv=function(_,e){return function(t,n){e(t,n,_)}};const rl=oe.$,p1=(0,Ir.q5)("parameter-hints-next",an.lA.chevronDown,ke.N("parameterHintsNextIcon","Icon for show next parameter hint.")),_1=(0,Ir.q5)("parameter-hints-previous",an.lA.chevronUp,ke.N("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let Zp=class JE extends Xe.JT{constructor(e,t,n,s){super(),this.editor=e,this.renderDisposeables=this._register(new Xe.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Fa({editor:e},s,n)),this.model=this._register(new zS(e)),this.keyVisible=Jd.Visible.bindTo(t),this.keyMultipleSignatures=Jd.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(a=>{a?(this.show(),this.render(a)):this.hide()}))}createParameterHintDOMNodes(){const e=rl(".editor-widget.parameter-hints-widget"),t=oe.R3(e,rl(".phwrapper"));t.tabIndex=-1;const n=oe.R3(t,rl(".controls")),s=oe.R3(n,rl(".button"+ln.kS.asCSSSelector(_1))),a=oe.R3(n,rl(".overloads")),p=oe.R3(n,rl(".button"+ln.kS.asCSSSelector(p1)));this._register(oe.nm(s,"click",tt=>{oe.zB.stop(tt),this.previous()})),this._register(oe.nm(p,"click",tt=>{oe.zB.stop(tt),this.next()}));const L=rl(".body"),q=new ah.s$(L,{});this._register(q),t.appendChild(q.getDomNode());const ie=oe.R3(L,rl(".signature")),te=oe.R3(L,rl(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:ie,overloads:a,docs:te,scrollbar:q},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(tt=>{this.visible&&this.editor.layoutContentWidget(this)}));const ve=()=>{if(!this.domNodes)return;const tt=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${tt.fontSize}px`,this.domNodes.element.style.lineHeight=""+tt.lineHeight/tt.fontSize};ve(),this._register(Ln.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(tt=>tt.hasChanged(44)).on(ve,null)),this._register(this.editor.onDidLayoutChange(tt=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const s=e.signatures[e.activeSignature];if(!s)return;const a=oe.R3(this.domNodes.signature,rl(".code")),p=this.editor.getOption(44);a.style.fontSize=`${p.fontSize}px`,a.style.fontFamily=p.fontFamily;const q=null!==(t=s.activeParameter)&&void 0!==t?t:e.activeParameter;s.parameters.length>0?this.renderParameters(a,s,q):oe.R3(a,rl("span")).textContent=s.label;const ie=s.parameters[q];if(null==ie?void 0:ie.documentation){const ve=rl("span.documentation");if("string"==typeof ie.documentation)ve.textContent=ie.documentation;else{const tt=this.renderMarkdownDocs(ie.documentation);ve.appendChild(tt.element)}oe.R3(this.domNodes.docs,rl("p",{},ve))}if(void 0!==s.documentation)if("string"==typeof s.documentation)oe.R3(this.domNodes.docs,rl("p",{},s.documentation));else{const ve=this.renderMarkdownDocs(s.documentation);oe.R3(this.domNodes.docs,ve.element)}const te=this.hasDocs(s,ie);if(this.domNodes.signature.classList.toggle("has-docs",te),this.domNodes.docs.classList.toggle("empty",!te),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,ie){let ve="";const tt=s.parameters[q];ve=Array.isArray(tt.label)?s.label.substring(tt.label[0],tt.label[1]):tt.label,tt.documentation&&(ve+="string"==typeof tt.documentation?`, ${tt.documentation}`:`, ${tt.documentation.value}`),s.documentation&&(ve+="string"==typeof s.documentation?`, ${s.documentation}`:`, ${s.documentation.value}`),this.announcedLabel!==ve&&(Zt.Z9(ke.N("hint","{0}, hint",ve)),this.announcedLabel=ve)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var n;null===(n=this.domNodes)||void 0===n||n.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&(0,wn.cW)(t.documentation).length>0||t&&"object"==typeof t.documentation&&(0,wn.cW)(t.documentation).value.length>0||e.documentation&&"string"==typeof e.documentation&&(0,wn.cW)(e.documentation).length>0||e.documentation&&"object"==typeof e.documentation&&(0,wn.cW)(e.documentation.value).length>0)}renderParameters(e,t,n){const[s,a]=this.getParameterLabelOffsets(t,n),p=document.createElement("span");p.textContent=t.label.substring(0,s);const L=document.createElement("span");L.textContent=t.label.substring(s,a),L.className="parameter active";const q=document.createElement("span");q.textContent=t.label.substring(a),oe.R3(e,p,L,q)}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const s=new RegExp(`(\\W|^)${(0,fi.ec)(n.label)}(?=\\W|$)`,"g");s.test(e.label);const a=s.lastIndex-n.label.length;return a>=0?[a,s.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return JE.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=t)}};Zp.ID="editor.widget.parameterHintsWidget",Zp=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([mv(1,ft.i6),mv(2,oa.v4),mv(3,Es.O)],Zp);const v1=(0,Ge.P6G)("editorHoverWidget.highlightForeground",{dark:Ge.Gwp,light:Ge.Gwp,hc:Ge.Gwp},ke.N("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.CNo);t&&(e.addRule(`.monaco-editor .parameter-hints-widget { border: ${_.type===Yp.e.HIGH_CONTRAST?2:1}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`));const n=_.getColor(Ge.yJx);n&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const s=_.getColor(Ge.url);s&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${s}; }`);const a=_.getColor(Ge.sgC);a&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${a}; }`);const p=_.getColor(Ge.Sbf);p&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${p}; }`);const L=_.getColor(Ge.SwI);L&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${L}; }`);const q=_.getColor(v1);q&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${q}}`)});let Hu=class qE extends Xe.JT{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(Zp,this.editor))}static get(e){return e.getContribution(qE.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};Hu.ID="editor.controller.parameterHints",Hu=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,de.TG)],Hu),(0,pt._K)(Hu.ID,Hu),(0,pt.Qr)(class C1 extends pt.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:ke.N("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:dt.u.hasSignatureHelpProvider,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:3082,weight:100}})}run(e,t){const n=Hu.get(t);n&&n.trigger({triggerKind:Gn.WW.Invoke})}});const Qp=pt._l.bindToContribution(Hu.get);(0,pt.fK)(new Qp({id:"closeParameterHints",precondition:Jd.Visible,handler:_=>_.cancel(),kbOpts:{weight:175,kbExpr:dt.u.focus,primary:9,secondary:[1033]}})),(0,pt.fK)(new Qp({id:"showPrevParameterHint",precondition:ft.Ao.and(Jd.Visible,Jd.MultipleSignatures),handler:_=>_.previous(),kbOpts:{weight:175,kbExpr:dt.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,pt.fK)(new Qp({id:"showNextParameterHint",precondition:ft.Ao.and(Jd.Visible,Jd.MultipleSignatures),handler:_=>_.next(),kbOpts:{weight:175,kbExpr:dt.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var y1=m(3810),w1=m(7732),zu=m(9537),S1=(m(8216),function(_,e){return function(t,n){e(t,n,_)}});const im=new ft.uy("renameInputVisible",!1,(0,ke.N)("renameInputVisible","Whether the rename input widget is visible"));let D1=class{constructor(e,t,n,s,a){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=s,this._disposables=new Xe.SL,this.allowEditorOverflow=!0,this._visibleContextKey=im.bindTo(a),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(p=>{p.hasChanged(44)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,ke.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var t,n;const[s,a]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(s),this._label.innerText=(0,ke.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(t=this._keybindingService.lookupKeybinding(s))||void 0===t?void 0:t.getLabel(),null===(n=this._keybindingService.lookupKeybinding(a))||void 0===n?void 0:n.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,n,s,a;if(!this._input||!this._domNode)return;const p=e.getColor(Ge.rh);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(Ge.D0T))&&void 0!==t?t:""),this._domNode.style.boxShadow=p?` 0 0 8px 2px ${p}`:"",this._domNode.style.color=String(null!==(n=e.getColor(Ge.zJb))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(s=e.getColor(Ge.sEe))&&void 0!==s?s:"");const L=e.getColor(Ge.dt_);this._input.style.borderWidth=L?"1px":"0px",this._input.style.borderStyle=L?"solid":"none",this._input.style.borderColor=null!==(a=null==L?void 0:L.toString())&&void 0!==a?a:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(44);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,n,s,a,p){this._domNode.classList.toggle("preview",a),this._position=new An.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const L=new Xe.SL;return new Promise(q=>{this._currentCancelInput=ie=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,q(ie),!0),this._currentAcceptInput=ie=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,q({newName:this._input.value,wantsPreview:a&&ie})):this.cancelInput(!0)},p.onCancellationRequested(()=>this.cancelInput(!0)),L.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{L.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};D1=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([S1(2,ln.XE),S1(3,xt.d),S1(4,ft.i6)],D1);var om=function(_,e){return function(t,n){e(t,n,_)}},If=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class E1{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=Gn.G0.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return If(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const s=this._providers[this._providerRenameIdx];if(!s.resolveRenameLocation)break;let a=yield s.resolveRenameLocation(this.model,this.position,e);if(a){if(a.rejectReason){t.push(a.rejectReason);continue}return a}}const n=this.model.getWordAtPosition(this.position);return n?{range:new Ye.e(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:Ye.e.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}})}provideRenameEdits(e,t){return If(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,n,s){return If(this,void 0,void 0,function*(){const a=this._providers[t];if(!a)return{edits:[],rejectReason:n.join("\n")};const p=yield a.provideRenameEdits(this.model,this.position,e,s);return p?p.rejectReason?this._provideRenameEdits(e,t+1,n.concat(p.rejectReason),s):p:this._provideRenameEdits(e,t+1,n.concat(ke.N("no result","No result.")),s)})}}let Mf=class eL{constructor(e,t,n,s,a,p,L){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=s,this._progressService=a,this._logService=p,this._configService=L,this._dispoableStore=new Xe.SL,this._cts=new wi.A,this._renameInputField=this._dispoableStore.add(new mt.Ue(()=>this._dispoableStore.add(this._instaService.createInstance(D1,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(eL.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return If(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const n=this.editor.getPosition(),s=new E1(this.editor.getModel(),n);if(!s.hasProvider())return;let a;this._cts=new Zo.Dl(this.editor,5);try{const tt=s.resolveRenameLocation(this._cts.token);this._progressService.showWhile(tt,250),a=yield tt}catch(tt){return void(null===(e=C.get(this.editor))||void 0===e||e.showMessage(tt||ke.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),n))}if(!a)return;if(a.rejectReason)return void(null===(t=C.get(this.editor))||void 0===t||t.showMessage(a.rejectReason,n));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Zo.Dl(this.editor,5,a.range);let p=this.editor.getSelection(),L=0,q=a.text.length;!Ye.e.isEmpty(p)&&!Ye.e.spansMultipleLines(p)&&Ye.e.containsRange(a.range,p)&&(L=Math.max(0,p.startColumn-a.range.startColumn),q=Math.min(a.range.endColumn,p.endColumn)-a.range.startColumn);const ie=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),te=yield this._renameInputField.value.getInput(a.range,a.text,L,q,ie,this._cts.token);if("boolean"==typeof te)return void(te&&this.editor.focus());this.editor.focus();const ve=(0,mt.eP)(s.provideRenameEdits(te.newName,this._cts.token),this._cts.token).then(tt=>If(this,void 0,void 0,function*(){if(tt&&this.editor.hasModel()){if(tt.rejectReason)return void this._notificationService.info(tt.rejectReason);this.editor.setSelection(Ye.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(ss.fo.convert(tt),{editor:this.editor,showPreview:te.wantsPreview,label:ke.N("label","Renaming '{0}'",null==a?void 0:a.text),quotableLabel:ke.N("quotableLabel","Renaming {0}",null==a?void 0:a.text)}).then(gt=>{gt.ariaSummary&&(0,Zt.Z9)(ke.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",a.text,te.newName,gt.ariaSummary))}).catch(gt=>{this._notificationService.error(ke.N("rename.failedApply","Rename failed to apply edits")),this._logService.error(gt)})}}),tt=>{this._notificationService.error(ke.N("rename.failed","Rename failed to compute edits")),this._logService.error(tt)});return this._progressService.showWhile(ve,250),ve})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Mf.ID="editor.contrib.renameController",Mf=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([om(1,de.TG),om(2,Xo.lT),om(3,ss.vu),om(4,Io.ek),om(5,Cg.VZ),om(6,y1.V)],Mf),(0,pt._K)(Mf.ID,Mf),(0,pt.Qr)(class lE extends pt.R6{constructor(){super({id:"editor.action.rename",label:ke.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:ft.Ao.and(dt.u.writable,dt.u.hasRenameProvider),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const n=e.get(vi.$),[s,a]=Array.isArray(t)&&t||[void 0,void 0];return xo.o.isUri(s)&&An.L.isIPosition(a)?n.openCodeEditor({resource:s},n.getActiveCodeEditor()).then(p=>{!p||(p.setPosition(a),p.invokeWithinContext(L=>(this.reportTelemetry(L,p),this.run(L,p))))},Ii.dL):super.runCommand(e,t)}run(e,t){const n=Mf.get(t);return n?n.run():Promise.resolve()}});const Nf=pt._l.bindToContribution(Mf.get);(0,pt.fK)(new Nf({id:"acceptRenameInput",precondition:im,handler:_=>_.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:dt.u.focus,primary:3}})),(0,pt.fK)(new Nf({id:"acceptRenameInputWithPreview",precondition:ft.Ao.and(im,ft.Ao.has("config.editor.rename.enablePreview")),handler:_=>_.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:dt.u.focus,primary:1027}})),(0,pt.fK)(new Nf({id:"cancelRenameInput",precondition:im,handler:_=>_.cancelRenameInput(),kbOpts:{weight:199,kbExpr:dt.u.focus,primary:9,secondary:[1033]}})),(0,pt.sb)("_executeDocumentRenameProvider",function(_,e,...t){const[n]=t;return(0,wn.p_)("string"==typeof n),function aE(_,e,t){return If(this,void 0,void 0,function*(){const n=new E1(_,e),s=yield n.resolveRenameLocation(wi.T.None);return(null==s?void 0:s.rejectReason)?{edits:[],rejectReason:s.rejectReason}:n.provideRenameEdits(t,wi.T.None)})}(_,e,n)}),(0,pt.sb)("_executePrepareRename",function(_,e){return If(this,void 0,void 0,function*(){const n=yield new E1(_,e).resolveRenameLocation(wi.T.None);if(null==n?void 0:n.rejectReason)throw new Error(n.rejectReason);return n})}),zu.B.as(w1.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:ke.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var sm=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};class qd{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new qd(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}let Xp=(()=>{class _{constructor(t){this._editor=t,this._ignoreSelection=!1}static get(t){return t.getContribution(_.ID)}dispose(){var t;null===(t=this._selectionListener)||void 0===t||t.dispose()}run(t){return sm(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const n=this._editor.getSelections(),s=this._editor.getModel();if(!Gn.AC.has(s)||(this._state||(yield vv(s,n.map(p=>p.getPosition()),this._editor.getOption(102),wi.T.None).then(p=>{var L;if(xi.Of(p)&&p.length===n.length&&this._editor.hasModel()&&xi.fS(this._editor.getSelections(),n,(q,ie)=>q.equalsSelection(ie))){for(let q=0;q<p.length;q++)p[q]=p[q].filter(ie=>ie.containsPosition(n[q].getStartPosition())&&ie.containsPosition(n[q].getEndPosition())),p[q].unshift(n[q]);this._state=p.map(q=>new qd(0,q)),null===(L=this._selectionListener)||void 0===L||L.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var q;this._ignoreSelection||(null===(q=this._selectionListener)||void 0===q||q.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(p=>p.mov(t));const a=this._state.map(p=>ei.Y.fromPositions(p.ranges[p.index].getStartPosition(),p.ranges[p.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(a)}finally{this._ignoreSelection=!1}})}}return _.ID="editor.contrib.smartSelectController",_})();class L1 extends pt.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return sm(this,void 0,void 0,function*(){let n=Xp.get(t);n&&(yield n.run(this._forward))})}}function vv(_,e,t,n){return sm(this,void 0,void 0,function*(){const s=Gn.AC.all(_);1===s.length&&s.unshift(new ub);let a=[],p=[];for(const L of s)a.push(Promise.resolve(L.provideSelectionRanges(_,e,n)).then(q=>{if(xi.Of(q)&&q.length===e.length)for(let ie=0;ie<e.length;ie++){p[ie]||(p[ie]=[]);for(const te of q[ie])Ye.e.isIRange(te.range)&&Ye.e.containsPosition(te.range,e[ie])&&p[ie].push(Ye.e.lift(te.range))}},Ii.Cp));return yield Promise.all(a),p.map(L=>{if(0===L.length)return[];L.sort((ve,tt)=>An.L.isBefore(ve.getStartPosition(),tt.getStartPosition())?1:An.L.isBefore(tt.getStartPosition(),ve.getStartPosition())||An.L.isBefore(ve.getEndPosition(),tt.getEndPosition())?-1:An.L.isBefore(tt.getEndPosition(),ve.getEndPosition())?1:0);let ie,q=[];for(const ve of L)(!ie||Ye.e.containsRange(ve,ie)&&!Ye.e.equalsRange(ve,ie))&&(q.push(ve),ie=ve);if(!t.selectLeadingAndTrailingWhitespace)return q;let te=[q[0]];for(let ve=1;ve<q.length;ve++){const tt=q[ve-1],gt=q[ve];if(gt.startLineNumber!==tt.startLineNumber||gt.endLineNumber!==tt.endLineNumber){const Vt=new Ye.e(tt.startLineNumber,_.getLineFirstNonWhitespaceColumn(tt.startLineNumber),tt.endLineNumber,_.getLineLastNonWhitespaceColumn(tt.endLineNumber));Vt.containsRange(tt)&&!Vt.equalsRange(tt)&&gt.containsRange(Vt)&&!gt.equalsRange(Vt)&&te.push(Vt);const dn=new Ye.e(tt.startLineNumber,1,tt.endLineNumber,_.getLineMaxColumn(tt.endLineNumber));dn.containsRange(tt)&&!dn.equalsRange(Vt)&&gt.containsRange(dn)&&!gt.equalsRange(dn)&&te.push(dn)}te.push(gt)}return te})})}oo.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,pt._K)(Xp.ID,Xp),(0,pt.Qr)(class KS extends L1{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:ke.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"1_basic",title:ke.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,pt.Qr)(class _v extends L1{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:ke.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Mt.eH.MenubarSelectionMenu,group:"1_basic",title:ke.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),Gn.AC.register("*",new class cE{provideSelectionRanges(e,t){const n=[];for(const s of t){const a=[];n.push(a),this._addInWordRanges(a,e,s),this._addWordRanges(a,e,s),this._addWhitespaceLine(a,e,s),a.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const s=t.getWordAtPosition(n);if(!s)return;let{word:a,startColumn:p}=s,L=n.column-p,q=L,ie=L,te=0;for(;q>=0;q--){let ve=a.charCodeAt(q);if(q!==L&&(95===ve||45===ve))break;if((0,fi.mK)(ve)&&(0,fi.df)(te))break;te=ve}for(q+=1;ie<a.length;ie++){let ve=a.charCodeAt(ie);if((0,fi.df)(ve)&&(0,fi.mK)(te))break;if(95===ve||45===ve)break;te=ve}q<ie&&e.push({range:new Ye.e(n.lineNumber,p+q,n.lineNumber,p+ie)})}_addWordRanges(e,t,n){const s=t.getWordAtPosition(n);s&&e.push({range:new Ye.e(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new Ye.e(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}),(0,pt.f)("_executeSelectionRangeProvider",function(_,...e){const[t]=e;return vv(_,t,{selectLeadingAndTrailingWhitespace:!0},wi.T.None)}),(0,pt.Qr)(class x1 extends pt.R6{constructor(){super({id:"editor.action.forceRetokenize",label:ke.N("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getModel();n.resetTokenization();const s=new Hd.G(!0);n.forceTokenization(n.getLineCount()),s.stop(),console.log(`tokenization took ${s.elapsed()}`)}});var I1=m(5617);let M1=(()=>{class _ extends pt.R6{constructor(){super({id:_.ID,label:ke.N({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(t,n){const a=!I1.n.getTabFocusMode();I1.n.setTabFocusMode(a),(0,Zt.Z9)(a?ke.N("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):ke.N("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return _.ID="editor.action.toggleTabFocusMode",_})();(0,pt.Qr)(M1);var bv=m(161),Cv=function(_,e){return function(t,n){e(t,n,_)}};const $S="ignoreUnusualLineTerminators";let Tf=class extends Xe.JT{constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(s=>{s.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){if("off"===this._config||!this._editor.hasModel())return;const e=this._editor.getModel();e.mightContainUnusualLineTerminators()&&!0!==function GS(_,e){return _.getModelProperty(e.uri,$S)}(this._codeEditorService,e)&&!this._editor.getOption(81)&&("auto"!==this._config?(yield this._dialogService.confirm({title:ke.N("unusualLineTerminators.title","Unusual Line Terminators"),message:ke.N("unusualLineTerminators.message","Detected unusual line terminators"),detail:ke.N("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,So.EZ)(e.uri)),primaryButton:ke.N("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:ke.N("unusualLineTerminators.ignore","Ignore")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function uE(_,e,t){_.setModelProperty(e.uri,$S,t)}(this._codeEditorService,e,!0):e.removeUnusualLineTerminators(this._editor.getSelections()))})}};Tf.ID="editor.contrib.unusualLineTerminatorsDetector",Tf=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Cv(1,bv.S),Cv(2,vi.$)],Tf),(0,pt._K)(Tf.ID,Tf);var N1=m(8531),YS=m(6844),ZS=m(6420),qp=function(_,e){return function(t,n){e(t,n,_)}};let fa=class extends Xe.JT{constructor(e,t,n,s,a){super(),this._modelService=t,this._themeService=n,this._configurationService=s,this._editor=e,this._debounceInformation=a.for(Gn.K7,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=new mt.pY(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(L=>{this._cancelAll(),p()})),this._register(Gn.K7.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(L=>{L.affectsConfiguration(YS.e3)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!(0,YS.tw)(e,this._themeService,this._configurationService))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));if(!(0,N1.KO)(e))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(n=>this._requestRange(e,n)))}_requestRange(e,t){const n=e.getVersionId(),s=(0,mt.PG)(p=>Promise.resolve((0,N1.OG)(e,t,p))),a=new Hd.G(!1);return s.then(p=>{if(this._debounceInformation.update(e,a.elapsed()),!p||!p.tokens||e.isDisposed()||e.getVersionId()!==n)return;const{provider:L,tokens:q}=p,ie=this._modelService.getSemanticTokensProviderStyling(L);e.setPartialSemanticTokens(t,(0,ZS.h)(q,ie,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};fa.ID="editor.contrib.viewportSemanticTokens",fa=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([qp(1,ds.q),qp(2,ln.XE),qp(3,Ds.Ui),qp(4,Er.A)],fa),(0,pt._K)(fa.ID,fa);const XS=(0,Ge.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},ke.N("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),JS=(0,Ge.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},ke.N("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Sv=(0,Ge.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hc:Ge.xL1},ke.N("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),T1=(0,Ge.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Ge.xL1},ke.N("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),A1=(0,Ge.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},ke.N("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),qS=(0,Ge.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},ke.N("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),rm=new ft.uy("hasWordHighlights",!1);function Dv(_,e,t){const n=Gn.vH.ordered(_);return(0,mt.Ps)(n.map(s=>()=>Promise.resolve(s.provideDocumentHighlights(_,e,t)).then(void 0,Ii.Cp)),xi.Of)}class k1{constructor(e,t,n){this._wordRange=this._getCurrentWordRange(e,t),this.result=(0,mt.PG)(s=>this._compute(e,t,n,s))}_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new Ye.e(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const s=t.startLineNumber,a=t.startColumn,p=t.endColumn,L=this._getCurrentWordRange(e,t);let q=Boolean(this._wordRange&&this._wordRange.equalsRange(L));for(let ie=0,te=n.length;!q&&ie<te;ie++){let ve=e.getDecorationRange(n[ie]);ve&&ve.startLineNumber===s&&ve.startColumn<=a&&ve.endColumn>=p&&(q=!0)}return q}cancel(){this.result.cancel()}}class eD extends k1{_compute(e,t,n,s){return Dv(e,t.getPosition(),s).then(a=>a||[])}}class Ev extends k1{constructor(e,t,n){super(e,t,n),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,n,s){return(0,mt.Vs)(250,s).then(()=>{if(!t.isEmpty())return[];const a=e.getWordAtPosition(t.getPosition());return!a||a.word.length>1e3?[]:e.findMatches(a.word,!0,!1,!0,n,!1).map(L=>({range:L.range,kind:Gn.MY.Text}))})}isValid(e,t,n){const s=t.isEmpty();return this._selectionIsEmpty===s&&super.isValid(e,t,n)}}(0,pt.sb)("_executeDocumentHighlights",(_,e)=>Dv(_,e,wi.T.None));class Af{constructor(e,t){this.toUnhook=new Xe.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=rm.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(n=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(n)})),this.toUnhook.add(e.onDidChangeModelContent(n=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(n=>{let s=this.editor.getOption(72);this.occurrencesHighlight!==s&&(this.occurrencesHighlight=s,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return xi.kX(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(Ye.e.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),n=(e.findIndex(a=>a.containsPosition(this.editor.getPosition()))+1)%e.length,s=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const a=this._getWord();if(a){const p=this.editor.getModel().getLineContent(s.startLineNumber);(0,Zt.Z9)(`${p}, ${n+1} of ${e.length} for '${a.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),n=(e.findIndex(a=>a.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,s=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const a=this._getWord();if(a){const p=this.editor.getModel().getLineContent(s.startLineNumber);(0,Zt.Z9)(`${p}, ${n+1} of ${e.length} for '${a.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let e=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:e.startLineNumber,column:e.startColumn})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();let t=e.startColumn,n=e.endColumn;const s=this._getWord();if(!s||s.startColumn>t||s.endColumn<n)return void this._stopAll();const a=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),a)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let p=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function oc(_,e,t){return Gn.vH.has(_)?new eD(_,e,t):new Ev(_,e,t)}(this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(L=>{p===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=L||[],this._beginRenderDecorations())},Ii.dL)}}_beginRenderDecorations(){let e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:Af._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===Gn.MY.Write?this._WRITE_OPTIONS:e===Gn.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}Af._WRITE_OPTIONS=Ae.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,ln.EN)(qS),position:Te.sh.Center},minimap:{color:(0,ln.EN)(Ge.IYc),position:Te.F5.Inline}}),Af._TEXT_OPTIONS=Ae.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,ln.EN)(Ge.SPM),position:Te.sh.Center},minimap:{color:(0,ln.EN)(Ge.IYc),position:Te.F5.Inline}}),Af._REGULAR_OPTIONS=Ae.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,ln.EN)(A1),position:Te.sh.Center},minimap:{color:(0,ln.EN)(Ge.IYc),position:Te.F5.Inline}});let kf=class tL extends Xe.JT{constructor(e,t){super(),this.wordHighlighter=null;const n=()=>{e.hasModel()&&(this.wordHighlighter=new Af(e,t))};this._register(e.onDidChangeModel(s=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()})),n()}static get(e){return e.getContribution(tL.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};kf.ID="editor.contrib.wordHighlighter",kf=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,1)}}(0,ft.i6)],kf);class R1 extends pt.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const n=kf.get(t);!n||(this._isNext?n.moveNext():n.moveBack())}}(0,pt._K)(kf.ID,kf),(0,pt.Qr)(class O1 extends R1{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:ke.N("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:rm,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:65,weight:100}})}}),(0,pt.Qr)(class hE extends R1{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:ke.N("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:rm,kbOpts:{kbExpr:dt.u.editorTextFocus,primary:1089,weight:100}})}}),(0,pt.Qr)(class tD extends pt.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:ke.N("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:rm.toNegated(),kbOpts:{kbExpr:dt.u.editorTextFocus,primary:0,weight:100}})}run(e,t,n){const s=kf.get(t);!s||s.restoreViewState(!0)}}),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.Rzx);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));const n=_.getColor(XS);n&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const s=_.getColor(JS);s&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${s}; }`);const a=_.getColor(Ge.g_n);a&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===_.type?"dotted":"solid"} ${a}; box-sizing: border-box; }`);const p=_.getColor(Sv);p&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===_.type?"dashed":"solid"} ${p}; box-sizing: border-box; }`);const L=_.getColor(T1);L&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===_.type?"dashed":"solid"} ${L}; box-sizing: border-box; }`)});var P1=m(1181),od=m(7616),Rf=m(681),am=m(9239);class lm extends pt._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const s=(0,Rf.u)(t.getOption(117)),a=t.getModel(),L=t.getSelections().map(q=>{const ie=new An.L(q.positionLineNumber,q.positionColumn),te=this._move(s,a,ie,this._wordNavigationType);return this._moveTo(q,te,this._inSelectionMode)});if(a.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,L.map(q=>P1.Vi.fromModelSelection(q))),1===L.length){const q=new An.L(L[0].positionLineNumber,L[0].positionColumn);t.revealPosition(q,0)}}_moveTo(e,t,n){return n?new ei.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new ei.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class eu extends lm{_move(e,t,n,s){return od.w.moveWordLeft(e,t,n,s)}}class tu extends lm{_move(e,t,n,s){return od.w.moveWordRight(e,t,n,s)}}class xv extends pt._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){const s=e.get(Us.c_);if(!t.hasModel())return;const a=(0,Rf.u)(t.getOption(117)),p=t.getModel(),L=t.getSelections(),q=t.getOption(5),ie=t.getOption(8),te=s.getLanguageConfiguration(p.getLanguageId()).getAutoClosingPairs(),ve=t._getViewModel(),tt=L.map(gt=>{const Vt=this._delete({wordSeparators:a,model:p,selection:gt,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:q,autoClosingQuotes:ie,autoClosingPairs:te,autoClosedCharacters:ve.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Ni.T4(Vt,"")});t.pushUndoStop(),t.executeCommands(this.id,tt),t.pushUndoStop()}}class z1 extends xv{_delete(e,t){return od.w.deleteWordLeft(e,t)||new Ye.e(1,1,1,1)}}class U1 extends xv{_delete(e,t){let n=od.w.deleteWordRight(e,t);if(n)return n;const s=e.model.getLineCount(),a=e.model.getLineMaxColumn(s);return new Ye.e(s,a,s,a)}}(0,pt.fK)(new class F1 extends eu{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),(0,pt.fK)(new class cm extends eu{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),(0,pt.fK)(new class Lv extends eu{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(dt.u.textInputFocus,null===(e=ft.Ao.and(Bl.U,am.cv))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}),(0,pt.fK)(new class B1 extends eu{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,pt.fK)(new class nD extends eu{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,pt.fK)(new class V1 extends eu{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(dt.u.textInputFocus,null===(e=ft.Ao.and(Bl.U,am.cv))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),(0,pt.fK)(new class iD extends tu{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),(0,pt.fK)(new class gE extends tu{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(dt.u.textInputFocus,null===(e=ft.Ao.and(Bl.U,am.cv))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}),(0,pt.fK)(new class mE extends tu{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),(0,pt.fK)(new class H1 extends tu{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,pt.fK)(new class oD extends tu{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:ft.Ao.and(dt.u.textInputFocus,null===(e=ft.Ao.and(Bl.U,am.cv))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),(0,pt.fK)(new class sD extends tu{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),(0,pt.fK)(new class W1 extends eu{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,n,s){return super._move((0,Rf.u)(cn.BH.wordSeparators.defaultValue),t,n,s)}}),(0,pt.fK)(new class fE extends eu{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,n,s){return super._move((0,Rf.u)(cn.BH.wordSeparators.defaultValue),t,n,s)}}),(0,pt.fK)(new class rD extends tu{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,n,s){return super._move((0,Rf.u)(cn.BH.wordSeparators.defaultValue),t,n,s)}}),(0,pt.fK)(new class pE extends tu{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,n,s){return super._move((0,Rf.u)(cn.BH.wordSeparators.defaultValue),t,n,s)}}),(0,pt.fK)(new class _E extends z1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:dt.u.writable})}}),(0,pt.fK)(new class aD extends z1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:dt.u.writable})}}),(0,pt.fK)(new class e_ extends z1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),(0,pt.fK)(new class lD extends U1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:dt.u.writable})}}),(0,pt.fK)(new class cD extends U1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:dt.u.writable})}}),(0,pt.fK)(new class j1 extends U1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),(0,pt.Qr)(class Uu extends pt.R6{constructor(){super({id:"deleteInsideWord",precondition:dt.u.writable,label:ke.N("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,n){if(!t.hasModel())return;const s=(0,Rf.u)(t.getOption(117)),a=t.getModel(),L=t.getSelections().map(q=>{const ie=od.w.deleteInsideWord(s,a,q);return new Ni.T4(ie,"")});t.pushUndoStop(),t.executeCommands(this.id,L),t.pushUndoStop()}});class t_ extends lm{_move(e,t,n,s){return od.L.moveWordPartLeft(e,t,n)}}oo.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),oo.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n_ extends lm{_move(e,t,n,s){return od.L.moveWordPartRight(e,t,n)}}(0,pt.fK)(new class K1 extends xv{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){return od.L.deleteWordPartLeft(e)||new Ye.e(1,1,1,1)}}),(0,pt.fK)(new class Iv extends xv{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:dt.u.writable,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let n=od.L.deleteWordPartRight(e);if(n)return n;const s=e.model.getLineCount(),a=e.model.getLineMaxColumn(s);return new Ye.e(s,a,s,a)}}),(0,pt.fK)(new class dD extends t_{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),(0,pt.fK)(new class Mv extends t_{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),(0,pt.fK)(new class i_ extends n_{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),(0,pt.fK)(new class vE extends n_{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:dt.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});var Fs=m(9710),uD=(m(2981),m(8554)),Nv=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},o_=function(_,e){return function(t,n){e(t,n,_)}};const $1=new ft.uy("accessibilityHelpWidgetVisible",!1);let ju=class nL extends Xe.JT{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(Ku,this._editor))}static get(e){return e.getContribution(nL.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};ju.ID="editor.contrib.accessibilityHelpController",ju=Nv([o_(1,de.TG)],ju);let Ku=class fy extends Ca.${constructor(e,t,n,s){super(),this._contextKeyService=t,this._keybindingService=n,this._openerService=s,this._editor=e,this._isVisibleKey=$1.bindTo(this._contextKeyService),this._domNode=(0,uD.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,uD.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(oe.mu(this._contentDomNode.domNode,"keydown",a=>{if(this._isVisible&&(a.equals(2083)&&((0,Zt.Z9)(Fs.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),oe.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),a.preventDefault(),a.stopPropagation()),a.equals(2086))){(0,Zt.Z9)(Fs.Oe.openingDocs);let p=this._editor.getRawOptions().accessibilityHelpUrl;void 0===p&&(p="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(xo.o.parse(p)),a.preventDefault(),a.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return fy.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,n){const s=this._keybindingService.lookupKeybinding(e);return s?fi.WU(t,s.getAriaLabel()):fi.WU(n,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let n=0;if(t){const L=this._editor.getModel();L&&t.forEach(q=>{n+=L.getValueLengthInRange(q)})}let s=function hD(_,e){return _&&0!==_.length?1===_.length?e?fi.WU(Fs.Oe.singleSelectionRange,_[0].positionLineNumber,_[0].positionColumn,e):fi.WU(Fs.Oe.singleSelection,_[0].positionLineNumber,_[0].positionColumn):e?fi.WU(Fs.Oe.multiSelectionRange,_.length,e):_.length>0?fi.WU(Fs.Oe.multiSelection,_.length):"":Fs.Oe.noSelection}(t,n);e.get(54)?e.get(81)?s+=Fs.Oe.readonlyDiffEditor:s+=Fs.Oe.editableDiffEditor:e.get(81)?s+=Fs.Oe.readonlyEditor:s+=Fs.Oe.editableEditor;const a=Pn.dz?Fs.Oe.changeConfigToOnMac:Fs.Oe.changeConfigToOnWinLinux;switch(e.get(2)){case 0:s+="\n\n - "+a;break;case 2:s+="\n\n - "+Fs.Oe.auto_on;break;case 1:s+="\n\n - "+Fs.Oe.auto_off,s+=" "+a}e.get(130)?s+="\n\n - "+this._descriptionForCommand(M1.ID,Fs.Oe.tabFocusModeOnMsg,Fs.Oe.tabFocusModeOnMsgNoKb):s+="\n\n - "+this._descriptionForCommand(M1.ID,Fs.Oe.tabFocusModeOffMsg,Fs.Oe.tabFocusModeOffMsgNoKb),s+="\n\n - "+(Pn.dz?Fs.Oe.openDocMac:Fs.Oe.openDocWinLinux),s+="\n\n"+Fs.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,ph.BO)(s)),this._contentDomNode.domNode.setAttribute("aria-label",s)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,oe.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(fy.WIDTH,e.width-40)),n=Math.max(5,Math.min(fy.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(n);const s=Math.round((e.height-n)/2);this._domNode.setTop(s);const a=Math.round((e.width-t)/2);this._domNode.setLeft(a)}};Ku.ID="editor.contrib.accessibilityHelpWidget",Ku.WIDTH=500,Ku.HEIGHT=300,Ku=Nv([o_(1,ft.i6),o_(2,xt.d),o_(3,oa.v4)],Ku),(0,pt._K)(ju.ID,ju),(0,pt.Qr)(class G1 extends pt.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:Fs.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const n=ju.get(t);n&&n.show()}});const Y1=pt._l.bindToContribution(ju.get);(0,pt.fK)(new Y1({id:"closeAccessibilityHelp",precondition:$1,handler:_=>_.hide(),kbOpts:{weight:200,kbExpr:dt.u.focus,primary:9,secondary:[1033]}})),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.D0T);t&&e.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${t}; }`);const n=_.getColor(Ge.Hfx);n&&e.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const s=_.getColor(Ge.rh);s&&e.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${s}; }`);const a=_.getColor(Ge.lRK);a&&e.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${a}; }`)}),m(617);let Z1=(()=>{class _ extends Xe.JT{constructor(t){super(),this.editor=t,this.widget=null,Pn.gn&&(this._register(t.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const t=!this.editor.getOption(81);!this.widget&&t?this.widget=new Q1(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return _.ID="editor.contrib.iPadShowKeyboard",_})(),Q1=(()=>{class _ extends Xe.JT{constructor(t){super(),this.editor=t,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(oe.nm(this._domNode,"touchstart",n=>{this.editor.focus()})),this._register(oe.nm(this._domNode,"focus",n=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return _.ID="editor.contrib.ShowKeyboardWidget",_})();(0,pt._K)(Z1.ID,Z1),m(8426);var J1=m(5052),Tv=m(6021),q1=function(_,e){return function(t,n){e(t,n,_)}};let Of=class iL extends Xe.JT{constructor(e,t,n){super(),this._editor=e,this._languageService=n,this._widget=null,this._register(this._editor.onDidChangeModel(s=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(s=>this.stop())),this._register(Gn.RW.onDidChange(s=>this.stop())),this._register(this._editor.onKeyUp(s=>9===s.keyCode&&this.stop()))}static get(e){return e.getContribution(iL.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new fD(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Of.ID="editor.contrib.inspectTokens",Of=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([q1(1,Tv.Z),q1(2,Es.O)],Of);let fD=(()=>{class _ extends Xe.JT{constructor(t,n){super(),this.allowEditorOverflow=!0,this._editor=t,this._languageService=n,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function wE(_,e){const t=Gn.RW.get(e);if(t)return t;const n=_.encodeLanguageId(e);return{getInitialState:()=>J1.TJ,tokenize:(s,a,p)=>(0,J1.Ri)(e,p),tokenizeEncoded:(s,a,p)=>(0,J1.Dy)(n,p)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(s=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return _._ID}_compute(t){const n=this._getTokensAtLine(t.lineNumber);let s=0;for(let ie=n.tokens1.length-1;ie>=0;ie--)if(t.column-1>=n.tokens1[ie].offset){s=ie;break}let a=0;for(let ie=n.tokens2.length>>>1;ie>=0;ie--)if(t.column-1>=n.tokens2[ie<<1]){a=ie;break}const p=this._model.getLineContent(t.lineNumber);let L="";s<n.tokens1.length&&(L=p.substring(n.tokens1[s].offset,s+1<n.tokens1.length?n.tokens1[s+1].offset:p.length)),(0,oe.mc)(this._domNode,(0,oe.$)("h2.tm-token",void 0,function yE(_){let e="";for(let t=0,n=_.length;t<n;t++){const s=_.charCodeAt(t);switch(s){case 9:e+="\u2192";break;case 32:e+="\xb7";break;default:e+=String.fromCharCode(s)}}return e}(L),(0,oe.$)("span.tm-token-length",void 0,`${L.length} ${1===L.length?"char":"chars"}`))),(0,oe.R3)(this._domNode,(0,oe.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const q=1+(a<<1)<n.tokens2.length?this._decodeMetadata(n.tokens2[1+(a<<1)]):null;(0,oe.R3)(this._domNode,(0,oe.$)("table.tm-metadata-table",void 0,(0,oe.$)("tbody",void 0,(0,oe.$)("tr",void 0,(0,oe.$)("td.tm-metadata-key",void 0,"language"),(0,oe.$)("td.tm-metadata-value",void 0,`${q?q.languageId:"-?-"}`)),(0,oe.$)("tr",void 0,(0,oe.$)("td.tm-metadata-key",void 0,"token type"),(0,oe.$)("td.tm-metadata-value",void 0,`${q?this._tokenTypeToString(q.tokenType):"-?-"}`)),(0,oe.$)("tr",void 0,(0,oe.$)("td.tm-metadata-key",void 0,"font style"),(0,oe.$)("td.tm-metadata-value",void 0,`${q?this._fontStyleToString(q.fontStyle):"-?-"}`)),(0,oe.$)("tr",void 0,(0,oe.$)("td.tm-metadata-key",void 0,"foreground"),(0,oe.$)("td.tm-metadata-value",void 0,`${q?bi.Il.Format.CSS.formatHex(q.foreground):"-?-"}`)),(0,oe.$)("tr",void 0,(0,oe.$)("td.tm-metadata-key",void 0,"background"),(0,oe.$)("td.tm-metadata-value",void 0,`${q?bi.Il.Format.CSS.formatHex(q.background):"-?-"}`))))),(0,oe.R3)(this._domNode,(0,oe.$)("hr.tokens-inspect-separator")),s<n.tokens1.length&&(0,oe.R3)(this._domNode,(0,oe.$)("span.tm-token-type",void 0,n.tokens1[s].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(t){const n=Gn.RW.getColorMap(),s=Gn.NX.getLanguageId(t),a=Gn.NX.getTokenType(t),p=Gn.NX.getFontStyle(t),L=Gn.NX.getForeground(t),q=Gn.NX.getBackground(t);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(s),tokenType:a,fontStyle:p,foreground:n[L],background:n[q]}}_tokenTypeToString(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(t){let n="";return 1&t&&(n+="italic "),2&t&&(n+="bold "),4&t&&(n+="underline "),8&t&&(n+="strikethrough "),0===n.length&&(n="---"),n}_getTokensAtLine(t){const n=this._getStateBeforeLine(t),s=this._tokenizationSupport.tokenize(this._model.getLineContent(t),!0,n),a=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(t),!0,n);return{startState:n,tokens1:s.tokens,tokens2:a.tokens,endState:s.endState}}_getStateBeforeLine(t){let n=this._tokenizationSupport.getInitialState();for(let s=1;s<t;s++)n=this._tokenizationSupport.tokenize(this._model.getLineContent(s),!0,n).endState;return n}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return _._ID="editor.contrib.inspectTokensWidget",_})();(0,pt._K)(Of.ID,Of),(0,pt.Qr)(class CE extends pt.R6{constructor(){super({id:"editor.action.inspectTokens",label:Fs.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const n=Of.get(t);n&&n.launch()}}),(0,ln.Ic)((_,e)=>{const t=_.getColor(Ge.CNo);t&&(e.addRule(`.monaco-editor .tokens-inspect-widget { border: ${_.type===Yp.e.HIGH_CONTRAST?2:1}px solid ${t}; }`),e.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${t}; }`));const n=_.getColor(Ge.yJx);n&&e.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const s=_.getColor(Ge.Sbf);s&&e.addRule(`.monaco-editor .tokens-inspect-widget { color: ${s}; }`)});var dm=m(4203);let s_=class gy{constructor(e){this.quickInputService=e,this.registry=zu.B.as(dm.IP.Quickaccess)}provide(e){const t=new Xe.SL;t.add(e.onDidAccept(()=>{const[a]=e.selectedItems;a&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(a=>{const p=this.registry.getQuickAccessProvider(a.substr(gy.PREFIX.length));p&&p.prefix&&p.prefix!==gy.PREFIX&&this.quickInputService.quickAccess.show(p.prefix,{preserveValue:!0})}));const{editorProviders:n,globalProviders:s}=this.getQuickAccessProviders();return e.items=0===n.length||0===s.length?[...0===n.length?s:n]:[{label:(0,ke.N)("globalCommands","global commands"),type:"separator"},...s,{label:(0,ke.N)("editorCommands","editor commands"),type:"separator"},...n],t}getQuickAccessProviders(){const e=[],t=[];for(const n of this.registry.getQuickAccessProviders().sort((s,a)=>s.prefix.localeCompare(a.prefix)))if(n.prefix!==gy.PREFIX)for(const s of n.helpEntries){const a=s.prefix||n.prefix,p=a||"\u2026";(s.needsEditor?t:e).push({prefix:a,label:p,ariaLabel:(0,ke.N)("helpPickAriaLabel","{0}, {1}",p,s.description),description:s.description})}return{editorProviders:t,globalProviders:e}}};s_.PREFIX="?",s_=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,0)}}(0,lr.eJ)],s_),zu.B.as(dm.IP.Quickaccess).registerQuickAccessProvider({ctor:s_,prefix:"",helpEntries:[{description:Fs.ld.helpQuickAccessActionLabel,needsEditor:!0}]});class ey{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var n;const s=new Xe.SL;e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const a=s.add(new Xe.XK);return a.value=this.doProvide(e,t),s.add(this.onDidActiveTextEditorControlChange(()=>{a.value=void 0,a.value=this.doProvide(e,t)})),s}doProvide(e,t){const n=new Xe.SL,s=this.activeTextEditorControl;if(s&&this.canProvideWithTextEditor(s)){const a={editor:s},p=(0,Ma.Pi)(s);if(p){let L=(0,wn.f6)(s.saveViewState());n.add(p.onDidChangeCursorPosition(()=>{L=(0,wn.f6)(s.saveViewState())})),a.restoreViewState=()=>{L&&s===this.activeTextEditorControl&&s.restoreViewState(L)},n.add((0,ao.I)(t.onCancellationRequested)(()=>{var q;return null===(q=a.restoreViewState)||void 0===q?void 0:q.call(a)}))}n.add((0,Xe.OF)(()=>this.clearDecorations(s))),n.add(this.provideWithTextEditor(a,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return(0,Ma.QI)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(n=>{const s=[];this.rangeHighlightDecorationId&&(s.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),s.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const a=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,ln.EN)(ht.m9),position:Te.sh.Full}}}],[p,L]=n.deltaDecorations(s,a);this.rangeHighlightDecorationId={rangeHighlightId:p,overviewRulerDecorationId:L}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(n=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}let SE=(()=>{class _ extends ey{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(t){const n=(0,ke.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return t.items=[{label:n}],t.ariaLabel=n,Xe.JT.None}provideWithTextEditor(t,n,s){const a=t.editor,p=new Xe.SL;p.add(n.onDidAccept(ie=>{const[te]=n.selectedItems;if(te){if(!this.isValidLineNumber(a,te.lineNumber))return;this.gotoLocation(t,{range:this.toRange(te.lineNumber,te.column),keyMods:n.keyMods,preserveFocus:ie.inBackground}),ie.inBackground||n.hide()}}));const L=()=>{const ie=this.parsePosition(a,n.value.trim().substr(_.PREFIX.length)),te=this.getPickLabel(a,ie.lineNumber,ie.column);if(n.items=[{lineNumber:ie.lineNumber,column:ie.column,label:te}],n.ariaLabel=te,!this.isValidLineNumber(a,ie.lineNumber))return void this.clearDecorations(a);const ve=this.toRange(ie.lineNumber,ie.column);a.revealRangeInCenter(ve,0),this.addDecorations(a,ve)};L(),p.add(n.onDidChangeValue(()=>L()));const q=(0,Ma.Pi)(a);return q&&2===q.getOptions().get(60).renderType&&(q.updateOptions({lineNumbers:"on"}),p.add((0,Xe.OF)(()=>q.updateOptions({lineNumbers:"relative"})))),p}toRange(t=1,n=1){return{startLineNumber:t,startColumn:n,endLineNumber:t,endColumn:n}}parsePosition(t,n){const s=n.split(/,|:|#/).map(p=>parseInt(p,10)).filter(p=>!isNaN(p)),a=this.lineCount(t)+1;return{lineNumber:s[0]>0?s[0]:a+s[0],column:s[1]}}getPickLabel(t,n,s){if(this.isValidLineNumber(t,n))return this.isValidColumn(t,n,s)?(0,ke.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",n,s):(0,ke.N)("gotoLineLabel","Go to line {0}.",n);const a=t.getPosition()||{lineNumber:1,column:1},p=this.lineCount(t);return p>1?(0,ke.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",a.lineNumber,a.column,p):(0,ke.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",a.lineNumber,a.column)}isValidLineNumber(t,n){return!(!n||"number"!=typeof n)&&n>0&&n<=this.lineCount(t)}isValidColumn(t,n,s){if(!s||"number"!=typeof s)return!1;const a=this.getModel(t);if(!a)return!1;const p={lineNumber:n,column:s};return a.validatePosition(p).equals(p)}lineCount(t){var n,s;return null!==(s=null===(n=this.getModel(t))||void 0===n?void 0:n.getLineCount())&&void 0!==s?s:0}}return _.PREFIX=":",_})(),r_=class extends SE{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Ln.ju.None}get activeTextEditorControl(){return(0,wn.f6)(this.editorService.getFocusedCodeEditor())}};r_=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,0)}}(0,vi.$)],r_),zu.B.as(dm.IP.Quickaccess).registerQuickAccessProvider({ctor:r_,prefix:r_.PREFIX,helpEntries:[{description:Fs.qq.gotoLineActionLabel,needsEditor:!0}]}),(0,pt.Qr)(class LE extends pt.R6{constructor(){super({id:"editor.action.gotoLine",label:Fs.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(lr.eJ).quickAccess.show(r_.PREFIX)}});const ty=[void 0,[]];function ny(_,e,t=0,n=0){return e.values&&e.values.length>1?function xE(_,e,t,n){let s=0;const a=[];for(const p of e){const[L,q]=pD(_,p,t,n);if("number"!=typeof L)return ty;s+=L,a.push(...q)}return[s,i(a)]}(_,e.values,t,n):pD(_,e,t,n)}function pD(_,e,t,n){const s=(0,le.EW)(e.original,e.originalLowercase,t,_,_.toLowerCase(),n,!0);return s?[s[0],(0,le.mB)(s)]:ty}function i(_){const e=_.sort((s,a)=>s.start-a.start),t=[];let n;for(const s of e)n&&o(n,s)?(n.start=Math.min(n.start,s.start),n.end=Math.max(n.end,s.end)):(n=s,t.push(s));return t}function o(_,e){return!(_.end<e.start||e.end<_.start)}function u(_){return _.startsWith('"')&&_.endsWith('"')}function A(_){"string"!=typeof _&&(_="");const e=_.toLowerCase(),{pathNormalized:t,normalized:n,normalizedLowercase:s}=G(_),a=t.indexOf(Un.ir)>=0,p=u(_);let L;const q=_.split(" ");if(q.length>1)for(const ie of q){const te=u(ie),{pathNormalized:ve,normalized:tt,normalizedLowercase:gt}=G(ie);tt&&(L||(L=[]),L.push({original:ie,originalLowercase:ie.toLowerCase(),pathNormalized:ve,normalized:tt,normalizedLowercase:gt,expectContiguousMatch:te}))}return{original:_,originalLowercase:e,pathNormalized:t,normalized:n,normalizedLowercase:s,values:L,containsPathSeparator:a,expectContiguousMatch:p}}function G(_){let e;e=_.replace(Pn.ED?/\//g:/\\/g,Un.ir);const t=(0,fi.R1)(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function ge(_){return Array.isArray(_)?A(_.map(e=>e.original).join(" ")):A(_.original)}Object.freeze({score:0});var at=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let Et=class ID extends ey{constructor(e,t=Object.create(null)){super(t),this._outlineModelService=e,this.options=t,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,ke.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Xe.JT.None}provideWithTextEditor(e,t,n){const a=this.getModel(e.editor);return a?Gn.vJ.has(a)?this.doProvideWithEditorSymbols(e,a,t,n):this.doProvideWithoutEditorSymbols(e,a,t,n):Xe.JT.None}doProvideWithoutEditorSymbols(e,t,n,s){const a=new Xe.SL;return this.provideLabelPick(n,(0,ke.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),at(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,a))||s.isCancellationRequested||a.add(this.doProvideWithEditorSymbols(e,t,n,s))}),a}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return at(this,void 0,void 0,function*(){if(Gn.vJ.has(e))return!0;const n=new mt.CR,s=t.add(Gn.vJ.onDidChange(()=>{Gn.vJ.has(e)&&(s.dispose(),n.complete(!0))}));return t.add((0,Xe.OF)(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(e,t,n,s){const a=e.editor,p=new Xe.SL;p.add(n.onDidAccept(ve=>{const[tt]=n.selectedItems;tt&&tt.range&&(this.gotoLocation(e,{range:tt.range.selection,keyMods:n.keyMods,preserveFocus:ve.inBackground}),ve.inBackground||n.hide())})),p.add(n.onDidTriggerItemButton(({item:ve})=>{ve&&ve.range&&(this.gotoLocation(e,{range:ve.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const L=this.getDocumentSymbols(t,s);let q;const ie=()=>at(this,void 0,void 0,function*(){null==q||q.dispose(!0),n.busy=!1,q=new wi.A(s),n.busy=!0;try{const ve=A(n.value.substr(ID.PREFIX.length).trim()),tt=yield this.doGetSymbolPicks(L,ve,void 0,q.token);if(s.isCancellationRequested)return;tt.length>0?n.items=tt:this.provideLabelPick(n,ve.original.length>0?(0,ke.N)("noMatchingSymbolResults","No matching editor symbols"):(0,ke.N)("noSymbolResults","No editor symbols"))}finally{s.isCancellationRequested||(n.busy=!1)}});p.add(n.onDidChangeValue(()=>ie())),ie();let te=!0;return p.add(n.onDidChangeActive(()=>{const[ve]=n.activeItems;if(ve&&ve.range){if(te)return void(te=!1);a.revealRangeInCenter(ve.range.selection,0),this.addDecorations(a,ve.range.decoration)}})),p}doGetSymbolPicks(e,t,n,s){return at(this,void 0,void 0,function*(){const a=yield e;if(s.isCancellationRequested)return[];const p=0===t.original.indexOf(ID.SCOPE_PREFIX),L=p?1:0;let q,ie;t.values&&t.values.length>1?(q=ge(t.values[0]),ie=ge(t.values.slice(1))):q=t;const te=[];for(let gt=0;gt<a.length;gt++){const Vt=a[gt],dn=(0,fi.fy)(Vt.name),kn=`$(${Gn.uZ.toIcon(Vt.kind).id}) ${dn}`,On=kn.length-dn.length;let Xn,Ki,Bi,Eo,li=Vt.containerName;if((null==n?void 0:n.extraContainerLabel)&&(li=li?`${n.extraContainerLabel} \u2022 ${li}`:n.extraContainerLabel),t.original.length>L){let Cr=!1;if(q!==t&&([Xn,Ki]=ny(kn,Object.assign(Object.assign({},t),{values:void 0}),L,On),"number"==typeof Xn&&(Cr=!0)),"number"!=typeof Xn&&([Xn,Ki]=ny(kn,q,L,On),"number"!=typeof Xn))continue;if(!Cr&&ie){if(li&&ie.original.length>0&&([Bi,Eo]=ny(li,ie)),"number"!=typeof Bi)continue;"number"==typeof Xn&&(Xn+=Bi)}}const us=Vt.tags&&Vt.tags.indexOf(1)>=0;te.push({index:gt,kind:Vt.kind,score:Xn,label:kn,ariaLabel:dn,description:li,highlights:us?void 0:{label:Ki,description:Eo},range:{selection:Ye.e.collapseToStart(Vt.selectionRange),decoration:Vt.range},strikethrough:us,buttons:(()=>{var Cr,ga;const ma=(null===(Cr=this.options)||void 0===Cr?void 0:Cr.openSideBySideDirection)?null===(ga=this.options)||void 0===ga?void 0:ga.openSideBySideDirection():void 0;if(ma)return[{iconClass:"right"===ma?an.lA.splitHorizontal.classNames:an.lA.splitVertical.classNames,tooltip:"right"===ma?(0,ke.N)("openToSide","Open to the Side"):(0,ke.N)("openToBottom","Open to the Bottom")}]})()})}const ve=te.sort((gt,Vt)=>p?this.compareByKindAndScore(gt,Vt):this.compareByScore(gt,Vt));let tt=[];if(p){let gt,Vt,kn=function(){Vt&&"number"==typeof gt&&dn>0&&(Vt.label=(0,fi.WU)(yn[gt]||qt,dn))},dn=0;for(const On of ve)gt!==On.kind?(kn(),gt=On.kind,dn=1,Vt={type:"separator"},tt.push(Vt)):dn++,tt.push(On);kn()}else ve.length>0&&(tt=[{label:(0,ke.N)("symbols","symbols ({0})",te.length),type:"separator"},...ve]);return tt})}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const a=(yn[e.kind]||qt).localeCompare(yn[t.kind]||qt);return 0===a?this.compareByScore(e,t):a}getDocumentSymbols(e,t){return at(this,void 0,void 0,function*(){const n=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}};Et.PREFIX="@",Et.SCOPE_PREFIX=":",Et.PREFIX_BY_CATEGORY=`${Et.PREFIX}${Et.SCOPE_PREFIX}`,Et=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([function(_,e){return function(t,n){e(t,n,0)}}(0,Bp)],Et);const qt=(0,ke.N)("property","properties ({0})"),yn={5:(0,ke.N)("method","methods ({0})"),11:(0,ke.N)("function","functions ({0})"),8:(0,ke.N)("_constructor","constructors ({0})"),12:(0,ke.N)("variable","variables ({0})"),4:(0,ke.N)("class","classes ({0})"),22:(0,ke.N)("struct","structs ({0})"),23:(0,ke.N)("event","events ({0})"),24:(0,ke.N)("operator","operators ({0})"),10:(0,ke.N)("interface","interfaces ({0})"),2:(0,ke.N)("namespace","namespaces ({0})"),3:(0,ke.N)("package","packages ({0})"),25:(0,ke.N)("typeParameter","type parameters ({0})"),1:(0,ke.N)("modules","modules ({0})"),6:(0,ke.N)("property","properties ({0})"),9:(0,ke.N)("enum","enumerations ({0})"),21:(0,ke.N)("enumMember","enumeration members ({0})"),14:(0,ke.N)("string","strings ({0})"),0:(0,ke.N)("file","files ({0})"),17:(0,ke.N)("array","arrays ({0})"),15:(0,ke.N)("number","numbers ({0})"),16:(0,ke.N)("boolean","booleans ({0})"),18:(0,ke.N)("object","objects ({0})"),19:(0,ke.N)("key","keys ({0})"),7:(0,ke.N)("field","fields ({0})"),13:(0,ke.N)("constant","constants ({0})")};var hi=function(_,e){return function(t,n){e(t,n,_)}};let ki=class extends Et{constructor(e,t){super(t),this.editorService=e,this.onDidActiveTextEditorControlChange=Ln.ju.None}get activeTextEditorControl(){return(0,wn.f6)(this.editorService.getFocusedCodeEditor())}};function lo(_,e){return e&&(_.stack||_.stacktrace)?ke.N("stackTrace.format","{0}: {1}",Ao(_),_i(_.stack)||_i(_.stacktrace)):Ao(_)}function _i(_){return Array.isArray(_)?_.join("\n"):_}function Ao(_){return"string"==typeof _.code&&"number"==typeof _.errno&&"string"==typeof _.syscall?ke.N("nodeExceptionMessage","A system error occurred ({0})",_.message):_.message||ke.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function _s(_=null,e=!1){if(!_)return ke.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(_)){const t=xi.kX(_),n=_s(t[0],e);return t.length>1?ke.N("error.moreErrors","{0} ({1} errors in total)",n,t.length):n}if(wn.HD(_))return _;if(_.detail){const t=_.detail;if(t.error)return lo(t.error,e);if(t.exception)return lo(t.exception,e)}return _.stack?lo(_,e):_.message?_.message:ke.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}ki=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([hi(0,vi.$),hi(1,Bp)],ki),zu.B.as(dm.IP.Quickaccess).registerQuickAccessProvider({ctor:ki,prefix:Et.PREFIX,helpEntries:[{description:Fs.aq.quickOutlineActionLabel,prefix:Et.PREFIX,needsEditor:!0},{description:Fs.aq.quickOutlineByCategoryActionLabel,prefix:Et.PREFIX_BY_CATEGORY,needsEditor:!0}]}),(0,pt.Qr)(class Qi extends pt.R6{constructor(){super({id:"editor.action.quickOutline",label:Fs.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:dt.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:dt.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(lr.eJ).quickAccess.show(Et.PREFIX)}});var As=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})},Yr=(()=>(function(_){_[_.NO_ACTION=0]="NO_ACTION",_[_.CLOSE_PICKER=1]="CLOSE_PICKER",_[_.REFRESH_PICKER=2]="REFRESH_PICKER",_[_.REMOVE_ITEM=3]="REMOVE_ITEM"}(Yr||(Yr={})),Yr))();function sd(_){return Array.isArray(_.items)}let Rv=(()=>{class _ extends Xe.JT{constructor(t,n){super(),this.prefix=t,this.options=n}provide(t,n){var s;const a=new Xe.SL;let p;t.canAcceptInBackground=!!(null===(s=this.options)||void 0===s?void 0:s.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const L=a.add(new Xe.XK),q=()=>As(this,void 0,void 0,function*(){const ie=L.value=new Xe.SL;null==p||p.dispose(!0),t.busy=!1,p=new wi.A(n);const te=p.token,ve=t.value.substr(this.prefix.length).trim(),tt=this._getPicks(ve,ie,te),gt=(Vt,dn)=>{var kn;let On,li;if(sd(Vt)?(On=Vt.items,li=Vt.active):On=Vt,0===On.length){if(dn)return!1;ve.length>0&&(null===(kn=this.options)||void 0===kn?void 0:kn.noResultsPick)&&(On=[this.options.noResultsPick])}return t.items=On,li&&(t.activeItems=[li]),!0};if(null!==tt)if(function kv(_){return!!_.picks&&_.additionalPicks instanceof Promise}(tt)){let Vt=!1,dn=!1;yield Promise.all([(()=>As(this,void 0,void 0,function*(){yield(0,mt.Vs)(_.FAST_PICKS_RACE_DELAY),!te.isCancellationRequested&&(dn||(Vt=gt(tt.picks,!0)))}))(),(()=>As(this,void 0,void 0,function*(){t.busy=!0;try{const kn=yield tt.additionalPicks;if(te.isCancellationRequested)return;let On,li,Xn,Ki;if(sd(tt.picks)?(On=tt.picks.items,li=tt.picks.active):On=tt.picks,sd(kn)?(Xn=kn.items,Ki=kn.active):Xn=kn,Xn.length>0||!Vt){let Bi;if(!li&&!Ki){const Eo=t.activeItems[0];Eo&&-1!==On.indexOf(Eo)&&(Bi=Eo)}gt({items:[...On,...Xn],active:li||Ki||Bi})}}finally{te.isCancellationRequested||(t.busy=!1),dn=!0}}))()])}else if(tt instanceof Promise){t.busy=!0;try{const Vt=yield tt;if(te.isCancellationRequested)return;gt(Vt)}finally{te.isCancellationRequested||(t.busy=!1)}}else gt(tt)});return a.add(t.onDidChangeValue(()=>q())),q(),a.add(t.onDidAccept(ie=>{const[te]=t.selectedItems;"function"==typeof(null==te?void 0:te.accept)&&(ie.inBackground||t.hide(),te.accept(t.keyMods,ie))})),a.add(t.onDidTriggerItemButton(({button:ie,item:te})=>As(this,void 0,void 0,function*(){var ve,tt;if("function"==typeof te.trigger){const gt=null!==(tt=null===(ve=te.buttons)||void 0===ve?void 0:ve.indexOf(ie))&&void 0!==tt?tt:-1;if(gt>=0){const Vt=te.trigger(gt,t.keyMods),dn="number"==typeof Vt?Vt:yield Vt;if(n.isCancellationRequested)return;switch(dn){case Yr.NO_ACTION:break;case Yr.CLOSE_PICKER:t.hide();break;case Yr.REFRESH_PICKER:q();break;case Yr.REMOVE_ITEM:{const kn=t.items.indexOf(te);if(-1!==kn){const On=t.items.slice(),li=On.splice(kn,1),Xn=t.activeItems.filter(Bi=>Bi!==li[0]),Ki=t.keepScrollPosition;t.keepScrollPosition=!0,t.items=On,Xn&&(t.activeItems=Xn),t.keepScrollPosition=Ki}break}}}}}))),a}}return _.FAST_PICKS_RACE_DELAY=200,_})();var a_=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},rd=function(_,e){return function(t,n){e(t,n,_)}},l_=function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})};let $u=class my extends Rv{constructor(e,t,n,s,a,p){super(my.PREFIX,e),this.instantiationService=t,this.keybindingService=n,this.commandService=s,this.telemetryService=a,this.dialogService=p,this.commandsHistory=this._register(this.instantiationService.createInstance(ad)),this.options=e}_getPicks(e,t,n){return l_(this,void 0,void 0,function*(){const s=yield this.getCommandPicks(t,n);if(n.isCancellationRequested)return[];const a=[];for(const ie of s){const te=(0,wn.f6)(my.WORD_FILTER(e,ie.label)),ve=ie.commandAlias?(0,wn.f6)(my.WORD_FILTER(e,ie.commandAlias)):void 0;te||ve?(ie.highlights={label:te,detail:this.options.showAlias?ve:void 0},a.push(ie)):e===ie.commandId&&a.push(ie)}const p=new Map;for(const ie of a){const te=p.get(ie.label);te?(ie.description=ie.commandId,te.description=te.commandId):p.set(ie.label,ie)}a.sort((ie,te)=>{const ve=this.commandsHistory.peek(ie.commandId),tt=this.commandsHistory.peek(te.commandId);return ve&&tt?ve>tt?-1:1:ve?-1:tt?1:ie.label.localeCompare(te.label)});const L=[];let q=!1;for(let ie=0;ie<a.length;ie++){const te=a[ie],ve=this.keybindingService.lookupKeybinding(te.commandId),tt=ve?(0,ke.N)("commandPickAriaLabelWithKeybinding","{0}, {1}",te.label,ve.getAriaLabel()):te.label;0===ie&&this.commandsHistory.peek(te.commandId)&&(L.push({type:"separator",label:(0,ke.N)("recentlyUsed","recently used")}),q=!0),0!==ie&&q&&!this.commandsHistory.peek(te.commandId)&&(L.push({type:"separator",label:(0,ke.N)("morecCommands","other commands")}),q=!1),L.push(Object.assign(Object.assign({},te),{ariaLabel:tt,detail:this.options.showAlias&&te.commandAlias!==te.label?te.commandAlias:void 0,keybinding:ve,accept:()=>l_(this,void 0,void 0,function*(){this.commandsHistory.push(te.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:te.commandId,from:"quick open"});try{yield this.commandService.executeCommand(te.commandId)}catch(gt){(0,Ii.n2)(gt)||this.dialogService.show(Gc.Z.Error,(0,ke.N)("canNotRun","Command '{0}' resulted in an error ({1})",te.label,_s(gt)))}})}))}return L})}};$u.PREFIX=">",$u.WORD_FILTER=(0,le.or)(le.Ji,le.KZ,le.ir),$u=a_([rd(1,de.TG),rd(2,xt.d),rd(3,oo.Hy),rd(4,Go.b),rd(5,bv.S)],$u);let ad=class Hr extends Xe.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=Hr.getConfiguredCommandHistoryLength(this.configurationService),Hr.cache&&Hr.cache.limit!==this.configuredCommandsHistoryLength&&(Hr.cache.limit=this.configuredCommandsHistoryLength,Hr.saveState(this.storageService))}load(){const e=this.storageService.get(Hr.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch(s){}const n=Hr.cache=new pi.z6(this.configuredCommandsHistoryLength,1);if(t){let s;s=t.usesLRU?t.entries:t.entries.sort((a,p)=>a.value-p.value),s.forEach(a=>n.set(a.key,a.value))}Hr.counter=this.storageService.getNumber(Hr.PREF_KEY_COUNTER,0,Hr.counter)}push(e){!Hr.cache||(Hr.cache.set(e,Hr.counter++),Hr.saveState(this.storageService))}peek(e){var t;return null===(t=Hr.cache)||void 0===t?void 0:t.peek(e)}static saveState(e){if(!Hr.cache)return;const t={usesLRU:!0,entries:[]};Hr.cache.forEach((n,s)=>t.entries.push({key:s,value:n})),e.store(Hr.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(Hr.PREF_KEY_COUNTER,Hr.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,n;const a=null===(n=null===(t=e.getValue().workbench)||void 0===t?void 0:t.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof a?a:Hr.DEFAULT_COMMANDS_HISTORY_LENGTH}};ad.DEFAULT_COMMANDS_HISTORY_LENGTH=50,ad.PREF_KEY_CACHE="commandPalette.mru.cache",ad.PREF_KEY_COUNTER="commandPalette.mru.counter",ad.counter=1,ad=a_([rd(0,Lo.Uy),rd(1,Ds.Ui)],ad);class Ov extends $u{constructor(e,t,n,s,a,p){super(e,t,n,s,a,p)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const n of e.getSupportedActions())t.push({commandId:n.id,commandAlias:n.alias,label:(0,_h.x$)(n.label)||n.id});return t}}var c_=function(_,e){return function(t,n){e(t,n,_)}};let Fv=class extends Ov{constructor(e,t,n,s,a,p){super({showAlias:!1},e,n,s,a,p),this.codeEditorService=t}get activeTextEditorControl(){return(0,wn.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return function(_,e,t,n){return new(t||(t=Promise))(function(a,p){function L(te){try{ie(n.next(te))}catch(ve){p(ve)}}function q(te){try{ie(n.throw(te))}catch(ve){p(ve)}}function ie(te){te.done?a(te.value):function s(a){return a instanceof t?a:new t(function(p){p(a)})}(te.value).then(L,q)}ie((n=n.apply(_,e||[])).next())})}(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};Fv=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([c_(0,de.TG),c_(1,vi.$),c_(2,xt.d),c_(3,oo.Hy),c_(4,Go.b),c_(5,bv.S)],Fv),zu.B.as(dm.IP.Quickaccess).registerQuickAccessProvider({ctor:Fv,prefix:Fv.PREFIX,helpEntries:[{description:Fs.UX.quickCommandHelp,needsEditor:!0}]}),(0,pt.Qr)(class fL extends pt.R6{constructor(){super({id:"editor.action.quickCommand",label:Fs.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:dt.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(lr.eJ).quickAccess.show(Fv.PREFIX)}});var d_=function(_,e){return function(t,n){e(t,n,_)}};let _D=class extends uc{constructor(e,t,n,s,a,p,L){super(!0,e,t,n,s,a,p,L)}};_D=function(_,e,t,n){var p,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(_,e,t,n);else for(var L=_.length-1;L>=0;L--)(p=_[L])&&(a=(s<3?p(a):s>3?p(e,t,a):p(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([d_(1,ft.i6),d_(2,vi.$),d_(3,Xo.lT),d_(4,de.TG),d_(5,Lo.Uy),d_(6,Ds.Ui)],_D),(0,pt._K)(uc.ID,_D),(0,pt.Qr)(class mL extends pt.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:Fs.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const n=e.get(Tv.Z);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}})},6021:(vt,Ke,m)=>{m.d(Ke,{Z:()=>h});const h=(0,m(4725).yh)("themeService")},1417:(vt,Ke,m)=>{m.d(Ke,{TG:()=>z});var v=m(178),h=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,R=Object.prototype.hasOwnProperty,Y={};((M,P,W,J)=>{if(P&&"object"==typeof P||"function"==typeof P)for(let he of k(P))!R.call(M,he)&&"default"!==he&&h(M,he,{get:()=>P[he],enumerable:!(J=Q(P,he))||J.enumerable})})(Y,v);var V=(M=>(M[M.None=0]="None",M[M.CommonJS=1]="CommonJS",M[M.AMD=2]="AMD",M[M.UMD=3]="UMD",M[M.System=4]="System",M[M.ES2015=5]="ES2015",M[M.ESNext=99]="ESNext",M))(V||{}),x=(M=>(M[M.None=0]="None",M[M.Preserve=1]="Preserve",M[M.React=2]="React",M[M.ReactNative=3]="ReactNative",M[M.ReactJSX=4]="ReactJSX",M[M.ReactJSXDev=5]="ReactJSXDev",M))(x||{}),w=(M=>(M[M.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",M[M.LineFeed=1]="LineFeed",M))(w||{}),D=(M=>(M[M.ES3=0]="ES3",M[M.ES5=1]="ES5",M[M.ES2015=2]="ES2015",M[M.ES2016=3]="ES2016",M[M.ES2017=4]="ES2017",M[M.ES2018=5]="ES2018",M[M.ES2019=6]="ES2019",M[M.ES2020=7]="ES2020",M[M.ESNext=99]="ESNext",M[M.JSON=100]="JSON",M[M.Latest=99]="Latest",M))(D||{}),F=(M=>(M[M.Classic=1]="Classic",M[M.NodeJs=2]="NodeJs",M))(F||{}),f=class{constructor(M,P,W,J){ar(this,"_onDidChange",new Y.Emitter),ar(this,"_onDidExtraLibsChange",new Y.Emitter),ar(this,"_extraLibs"),ar(this,"_removedExtraLibs"),ar(this,"_eagerModelSync"),ar(this,"_compilerOptions"),ar(this,"_diagnosticsOptions"),ar(this,"_workerOptions"),ar(this,"_onDidExtraLibsChangeTimeout"),ar(this,"_inlayHintsOptions"),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(M),this.setDiagnosticsOptions(P),this.setWorkerOptions(W),this.setInlayHintsOptions(J),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(M,P){let W;if(W=void 0===P?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:P,this._extraLibs[W]&&this._extraLibs[W].content===M)return{dispose:()=>{}};let J=1;return this._removedExtraLibs[W]&&(J=this._removedExtraLibs[W]+1),this._extraLibs[W]&&(J=this._extraLibs[W].version+1),this._extraLibs[W]={content:M,version:J},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let he=this._extraLibs[W];!he||he.version===J&&(delete this._extraLibs[W],this._removedExtraLibs[W]=J,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(M){for(const P in this._extraLibs)this._removedExtraLibs[P]=this._extraLibs[P].version;if(this._extraLibs=Object.create(null),M&&M.length>0)for(const P of M){const W=P.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let he=1;this._removedExtraLibs[W]&&(he=this._removedExtraLibs[W]+1),this._extraLibs[W]={content:P.content,version:he}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(M){this._compilerOptions=M||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(M){this._diagnosticsOptions=M||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(M){this._workerOptions=M||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(M){this._inlayHintsOptions=M||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(M){}setEagerModelSync(M){this._eagerModelSync=M}getEagerModelSync(){return this._eagerModelSync}},z=new f({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),I=new f({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});function N(){return m.e(8032).then(m.bind(m,8032))}Y.languages.typescript={ModuleKind:V,JsxEmit:x,NewLineKind:w,ScriptTarget:D,ModuleResolutionKind:F,typescriptVersion:"4.5.5",typescriptDefaults:z,javascriptDefaults:I,getTypeScriptWorker:()=>N().then(M=>M.getTypeScriptWorker()),getJavaScriptWorker:()=>N().then(M=>M.getJavaScriptWorker())},Y.languages.onLanguage("typescript",()=>N().then(M=>M.setupTypeScript(z))),Y.languages.onLanguage("javascript",()=>N().then(M=>M.setupJavaScript(I)))},402:(vt,Ke,m)=>{function h(Q,k,...R){return function v(Q,k){let R;return R=0===k.length?Q:Q.replace(/\{(\d+)\}/g,function(se,j){const Y=j[0];return void 0!==k[Y]?k[Y]:se}),R}(k,R)}m.d(Ke,{N:()=>h})},2452:(vt,Ke,m)=>{m.d(Ke,{F:()=>Q,U:()=>k});var v=m(9776);const Q=(0,m(4725).yh)("accessibilityService"),k=new v.uy("accessibilityModeEnabled",!1)},1004:(vt,Ke,m)=>{m.d(Ke,{vr:()=>F,eH:()=>f,co:()=>T,BH:()=>z,NZ:()=>I,U8:()=>H});var v=m(5113),h=m(2450),Q=m(2787),k=m(7981),R=m(2425),se=m(8460),j=m(3884),Y=m(9776),V=m(4725),x=m(3024),D=function(K,N){return function(M,P){N(M,P,K)}};function F(K){return void 0!==K.command}class f{constructor(N){this.id=f._idPool++,this._debugName=N}}f._idPool=0,f.CommandPalette=new f("CommandPalette"),f.DebugBreakpointsContext=new f("DebugBreakpointsContext"),f.DebugCallStackContext=new f("DebugCallStackContext"),f.DebugConsoleContext=new f("DebugConsoleContext"),f.DebugVariablesContext=new f("DebugVariablesContext"),f.DebugWatchContext=new f("DebugWatchContext"),f.DebugToolBar=new f("DebugToolBar"),f.EditorContext=new f("EditorContext"),f.SimpleEditorContext=new f("SimpleEditorContext"),f.EditorContextCopy=new f("EditorContextCopy"),f.EditorContextPeek=new f("EditorContextPeek"),f.EditorTitle=new f("EditorTitle"),f.EditorTitleRun=new f("EditorTitleRun"),f.EditorTitleContext=new f("EditorTitleContext"),f.EmptyEditorGroup=new f("EmptyEditorGroup"),f.EmptyEditorGroupContext=new f("EmptyEditorGroupContext"),f.ExplorerContext=new f("ExplorerContext"),f.ExtensionContext=new f("ExtensionContext"),f.GlobalActivity=new f("GlobalActivity"),f.LayoutControlMenu=new f("LayoutControlMenu"),f.MenubarMainMenu=new f("MenubarMainMenu"),f.MenubarAppearanceMenu=new f("MenubarAppearanceMenu"),f.MenubarDebugMenu=new f("MenubarDebugMenu"),f.MenubarEditMenu=new f("MenubarEditMenu"),f.MenubarCopy=new f("MenubarCopy"),f.MenubarFileMenu=new f("MenubarFileMenu"),f.MenubarGoMenu=new f("MenubarGoMenu"),f.MenubarHelpMenu=new f("MenubarHelpMenu"),f.MenubarLayoutMenu=new f("MenubarLayoutMenu"),f.MenubarNewBreakpointMenu=new f("MenubarNewBreakpointMenu"),f.MenubarPanelAlignmentMenu=new f("MenubarPanelAlignmentMenu"),f.MenubarPreferencesMenu=new f("MenubarPreferencesMenu"),f.MenubarRecentMenu=new f("MenubarRecentMenu"),f.MenubarSelectionMenu=new f("MenubarSelectionMenu"),f.MenubarSwitchEditorMenu=new f("MenubarSwitchEditorMenu"),f.MenubarSwitchGroupMenu=new f("MenubarSwitchGroupMenu"),f.MenubarTerminalMenu=new f("MenubarTerminalMenu"),f.MenubarViewMenu=new f("MenubarViewMenu"),f.MenubarHomeMenu=new f("MenubarHomeMenu"),f.OpenEditorsContext=new f("OpenEditorsContext"),f.ProblemsPanelContext=new f("ProblemsPanelContext"),f.SCMChangeContext=new f("SCMChangeContext"),f.SCMResourceContext=new f("SCMResourceContext"),f.SCMResourceFolderContext=new f("SCMResourceFolderContext"),f.SCMResourceGroupContext=new f("SCMResourceGroupContext"),f.SCMSourceControl=new f("SCMSourceControl"),f.SCMTitle=new f("SCMTitle"),f.SearchContext=new f("SearchContext"),f.StatusBarWindowIndicatorMenu=new f("StatusBarWindowIndicatorMenu"),f.StatusBarRemoteIndicatorMenu=new f("StatusBarRemoteIndicatorMenu"),f.TestItem=new f("TestItem"),f.TestItemGutter=new f("TestItemGutter"),f.TestPeekElement=new f("TestPeekElement"),f.TestPeekTitle=new f("TestPeekTitle"),f.TouchBarContext=new f("TouchBarContext"),f.TitleBarContext=new f("TitleBarContext"),f.TunnelContext=new f("TunnelContext"),f.TunnelPrivacy=new f("TunnelPrivacy"),f.TunnelProtocol=new f("TunnelProtocol"),f.TunnelPortInline=new f("TunnelInline"),f.TunnelTitle=new f("TunnelTitle"),f.TunnelLocalAddressInline=new f("TunnelLocalAddressInline"),f.TunnelOriginInline=new f("TunnelOriginInline"),f.ViewItemContext=new f("ViewItemContext"),f.ViewContainerTitle=new f("ViewContainerTitle"),f.ViewContainerTitleContext=new f("ViewContainerTitleContext"),f.ViewTitle=new f("ViewTitle"),f.ViewTitleContext=new f("ViewTitleContext"),f.CommentThreadTitle=new f("CommentThreadTitle"),f.CommentThreadActions=new f("CommentThreadActions"),f.CommentTitle=new f("CommentTitle"),f.CommentActions=new f("CommentActions"),f.InteractiveToolbar=new f("InteractiveToolbar"),f.InteractiveCellTitle=new f("InteractiveCellTitle"),f.InteractiveCellExecute=new f("InteractiveCellExecute"),f.InteractiveInputExecute=new f("InteractiveInputExecute"),f.NotebookToolbar=new f("NotebookToolbar"),f.NotebookCellTitle=new f("NotebookCellTitle"),f.NotebookCellInsert=new f("NotebookCellInsert"),f.NotebookCellBetween=new f("NotebookCellBetween"),f.NotebookCellListTop=new f("NotebookCellTop"),f.NotebookCellExecute=new f("NotebookCellExecute"),f.NotebookCellExecutePrimary=new f("NotebookCellExecutePrimary"),f.NotebookDiffCellInputTitle=new f("NotebookDiffCellInputTitle"),f.NotebookDiffCellMetadataTitle=new f("NotebookDiffCellMetadataTitle"),f.NotebookDiffCellOutputsTitle=new f("NotebookDiffCellOutputsTitle"),f.NotebookOutputToolbar=new f("NotebookOutputToolbar"),f.NotebookEditorLayoutConfigure=new f("NotebookEditorLayoutConfigure"),f.BulkEditTitle=new f("BulkEditTitle"),f.BulkEditContext=new f("BulkEditContext"),f.TimelineItemContext=new f("TimelineItemContext"),f.TimelineTitle=new f("TimelineTitle"),f.TimelineTitleContext=new f("TimelineTitleContext"),f.AccountsContext=new f("AccountsContext"),f.PanelTitle=new f("PanelTitle"),f.TerminalInstanceContext=new f("TerminalInstanceContext"),f.TerminalEditorInstanceContext=new f("TerminalEditorInstanceContext"),f.TerminalNewDropdownContext=new f("TerminalNewDropdownContext"),f.TerminalTabContext=new f("TerminalTabContext"),f.TerminalTabEmptyAreaContext=new f("TerminalTabEmptyAreaContext"),f.TerminalInlineTabContext=new f("TerminalInlineTabContext"),f.WebviewContext=new f("WebviewContext"),f.InlineCompletionsActions=new f("InlineCompletionsActions"),f.NewFile=new f("NewFile");const T=(0,V.yh)("menuService"),z=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Q.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:K=>K===f.CommandPalette}}addCommand(K){return this.addCommands(k.$.single(K))}addCommands(K){for(const N of K)this._commands.set(N.id,N);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,R.OF)(()=>{let N=!1;for(const M of K)N=this._commands.delete(M.id)||N;N&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(K){return this._commands.get(K)}getCommands(){const K=new Map;return this._commands.forEach((N,M)=>K.set(M,N)),K}appendMenuItem(K,N){return this.appendMenuItems(k.$.single({id:K,item:N}))}appendMenuItems(K){const N=new Set,M=new se.S;for(const{id:P,item:W}of K){let J=this._menuItems.get(P);J||(J=new se.S,this._menuItems.set(P,J)),M.push(J.push(W)),N.add(P)}return this._onDidChangeMenu.fire(N),(0,R.OF)(()=>{if(M.size>0){for(let P of M)P();this._onDidChangeMenu.fire(N),M.clear()}})}getMenuItems(K){let N;return N=this._menuItems.has(K)?[...this._menuItems.get(K)]:[],K===f.CommandPalette&&this._appendImplicitItems(N),N}_appendImplicitItems(K){const N=new Set;for(const M of K)F(M)&&(N.add(M.command.id),M.alt&&N.add(M.alt.id));this._commands.forEach((M,P)=>{N.has(P)||K.push({command:M})})}};class I extends v.wY{constructor(N,M,P,W){super(`submenuitem.${N.submenu.id}`,"string"==typeof N.title?N.title:N.title.value,[],"submenu"),this.item=N,this._menuService=M,this._contextKeyService=P,this._options=W}get actions(){const N=[],M=this._menuService.createMenu(this.item.submenu,this._contextKeyService),P=M.getActions(this._options);M.dispose();for(const[,W]of P)W.length>0&&(N.push(...W),N.push(new v.Z0));return N.length&&N.pop(),N}}let H=class oL{constructor(N,M,P,W,J){var he,ye;if(this._commandService=J,this.id=N.id,this.label=(null==P?void 0:P.renderShortTitle)&&N.shortTitle?"string"==typeof N.shortTitle?N.shortTitle:N.shortTitle.value:"string"==typeof N.title?N.title:N.title.value,this.tooltip=null!==(ye="string"==typeof N.tooltip?N.tooltip:null===(he=N.tooltip)||void 0===he?void 0:he.value)&&void 0!==ye?ye:"",this.enabled=!N.precondition||W.contextMatchesRules(N.precondition),this.checked=void 0,N.toggled){const fe=N.toggled.condition?N.toggled:{condition:N.toggled};this.checked=W.contextMatchesRules(fe.condition),this.checked&&fe.tooltip&&(this.tooltip="string"==typeof fe.tooltip?fe.tooltip:fe.tooltip.value),fe.title&&(this.label="string"==typeof fe.title?fe.title:fe.title.value)}this.item=N,this.alt=M?new oL(M,void 0,P,W,J):void 0,this._options=P,x.kS.isThemeIcon(N.icon)&&(this.class=h.dT.asClassName(N.icon))}dispose(){}run(...N){var M,P;let W=[];return(null===(M=this._options)||void 0===M?void 0:M.arg)&&(W=[...W,this._options.arg]),(null===(P=this._options)||void 0===P?void 0:P.shouldForwardArgs)&&(W=[...W,...N]),this._commandService.executeCommand(this.id,...W)}};H=function(K,N,M,P){var he,W=arguments.length,J=W<3?N:null===P?P=Object.getOwnPropertyDescriptor(N,M):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(K,N,M,P);else for(var ye=K.length-1;ye>=0;ye--)(he=K[ye])&&(J=(W<3?he(J):W>3?he(N,M,J):he(N,M))||J);return W>3&&J&&Object.defineProperty(N,M,J),J}([D(3,Y.i6),D(4,j.Hy)],H)},777:(vt,Ke,m)=>{m.d(Ke,{p:()=>h});const h=(0,m(4725).yh)("clipboardService")},3884:(vt,Ke,m)=>{m.d(Ke,{Hy:()=>j,P0:()=>Y});var v=m(2787),h=m(7981),Q=m(2425),k=m(8460),R=m(4435);const j=(0,m(4725).yh)("commandService"),Y=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new v.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(x,w){if(!x)throw new Error("invalid command");if("string"==typeof x){if(!w)throw new Error("invalid command");return this.registerCommand({id:x,handler:w})}if(x.description){const z=[];for(let H of x.description.args)z.push(H.constraint);const I=x.handler;x.handler=function(H,...K){return(0,R.D8)(K,z),I(H,...K)}}const{id:D}=x;let F=this._commands.get(D);F||(F=new k.S,this._commands.set(D,F));let f=F.unshift(x),T=(0,Q.OF)(()=>{f();const z=this._commands.get(D);(null==z?void 0:z.isEmpty())&&this._commands.delete(D)});return this._onDidRegisterCommand.fire(D),T}registerCommandAlias(x,w){return Y.registerCommand(x,(D,...F)=>D.get(j).executeCommand(w,...F))}getCommand(x){const w=this._commands.get(x);if(w&&!w.isEmpty())return h.$.first(w)}getCommands(){const x=new Map;for(const w of this._commands.keys()){const D=this.getCommand(w);D&&x.set(w,D)}return x}};Y.registerCommand("noop",()=>{})},9869:(vt,Ke,m)=>{m.d(Ke,{Ui:()=>h,Od:()=>Q,KV:()=>k,xL:()=>R,Mt:()=>j});const h=(0,m(4725).yh)("configurationService");function Q(Y,V){const x=Object.create(null);for(let w in Y)k(x,w,Y[w],V);return x}function k(Y,V,x,w){const D=V.split("."),F=D.pop();let f=Y;for(let T=0;T<D.length;T++){let z=D[T],I=f[z];switch(typeof I){case"undefined":I=f[z]=Object.create(null);break;case"object":break;default:return void w(`Ignoring ${V} as ${D.slice(0,T+1).join(".")} is ${JSON.stringify(I)}`)}f=I}if("object"==typeof f&&null!==f)try{f[F]=x}catch(T){w(`Ignoring ${V} as ${D.join(".")} is ${JSON.stringify(f)}`)}else w(`Ignoring ${V} as ${D.join(".")} is ${JSON.stringify(f)}`)}function R(Y,V){se(Y,V.split("."))}function se(Y,V){const x=V.shift();if(0!==V.length){if(-1!==Object.keys(Y).indexOf(x)){const w=Y[x];"object"==typeof w&&!Array.isArray(w)&&(se(w,V),0===Object.keys(w).length&&delete Y[x])}}else delete Y[x]}function j(Y,V,x){const F=function w(f,T){let z=f;for(const I of T){if("object"!=typeof z||null===z)return;z=z[I]}return z}(Y,V.split("."));return void 0===F?x:F}},7732:(vt,Ke,m)=>{m.d(Ke,{IP:()=>j,eU:()=>N,ny:()=>M});var v=m(8337),h=m(2787),Q=m(4435),k=m(402),R=m(3350),se=m(9537);const j={Configuration:"base.contributions.configuration"},Y={properties:{},patternProperties:{}},V={properties:{},patternProperties:{}},x={properties:{},patternProperties:{}},w={properties:{},patternProperties:{}},D={properties:{},patternProperties:{}},F={properties:{},patternProperties:{}},f="vscode://schemas/settings/resourceLanguage",T=se.B.as(R.I.JSONContribution),I="\\[([^\\]]+)\\]",H=new RegExp(I,"g"),K=`^(${I})+$`,N=new RegExp(K);function M(he){const ye=[];if(N.test(he)){let fe=H.exec(he);for(;null==fe?void 0:fe.length;){const Se=fe[1].trim();Se&&ye.push(Se),fe=H.exec(he)}}return(0,v.EB)(ye)}const W=new class z{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new h.Q5,this._onDidUpdateConfiguration=new h.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:k.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},T.registerSchema(f,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(ye,fe=!0){this.registerConfigurations([ye],fe)}registerConfigurations(ye,fe=!0){const Se=this.doRegisterConfigurations(ye,fe);T.registerSchema(f,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Se})}registerDefaultConfigurations(ye){var fe;const Se=[],Ie=[];for(const{overrides:_e,source:$}of ye)for(const X in _e)if(Se.push(X),N.test(X)){const pe=Object.assign(Object.assign({},(null===(fe=this.configurationDefaultsOverrides.get(X))||void 0===fe?void 0:fe.value)||{}),_e[X]);this.configurationDefaultsOverrides.set(X,{source:$,value:pe});const re={type:"object",default:pe,description:k.N("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",X),$ref:f,defaultDefaultValue:pe,source:Q.HD($)?void 0:$};Ie.push(...M(X)),this.configurationProperties[X]=re,this.defaultLanguageConfigurationOverridesNode.properties[X]=re}else{this.configurationDefaultsOverrides.set(X,{value:_e[X],source:$});const pe=this.configurationProperties[X];pe&&(this.updatePropertyDefaultValue(X,pe),this.updateSchema(X,pe))}this.registerOverrideIdentifiers(Ie),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Se,defaultsOverrides:!0})}registerOverrideIdentifiers(ye){for(const fe of ye)this.overrideIdentifiers.add(fe);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(ye,fe){const Se=[];return ye.forEach(Ie=>{Se.push(...this.validateAndRegisterProperties(Ie,fe,Ie.extensionInfo,Ie.restrictedProperties)),this.configurationContributors.push(Ie),this.registerJSONConfiguration(Ie)}),Se}validateAndRegisterProperties(ye,fe=!0,Se,Ie,_e=3){_e=Q.Jp(ye.scope)?_e:ye.scope;let $=[],X=ye.properties;if(X)for(let re in X){if(fe&&((he=re).trim()?N.test(he)?k.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",he):void 0!==W.getConfigurationProperties()[he]&&k.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",he):k.N("config.property.empty","Cannot register an empty property"))){delete X[re];continue}const ne=X[re];ne.source=Se,ne.defaultDefaultValue=X[re].default,this.updatePropertyDefaultValue(re,ne),N.test(re)?ne.scope=void 0:(ne.scope=Q.Jp(ne.scope)?_e:ne.scope,ne.restricted=Q.Jp(ne.restricted)?!!(null==Ie?void 0:Ie.includes(re)):ne.restricted),!X[re].hasOwnProperty("included")||X[re].included?(this.configurationProperties[re]=X[re],!X[re].deprecationMessage&&X[re].markdownDeprecationMessage&&(X[re].deprecationMessage=X[re].markdownDeprecationMessage),$.push(re)):(this.excludedConfigurationProperties[re]=X[re],delete X[re])}var he;let pe=ye.allOf;if(pe)for(let re of pe)$.push(...this.validateAndRegisterProperties(re,fe,Se,Ie,_e));return $}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(ye){const fe=Se=>{let Ie=Se.properties;if(Ie)for(const $ in Ie)this.updateSchema($,Ie[$]);let _e=Se.allOf;_e&&_e.forEach(fe)};fe(ye)}updateSchema(ye,fe){switch(Y.properties[ye]=fe,fe.scope){case 1:V.properties[ye]=fe;break;case 2:x.properties[ye]=fe;break;case 6:w.properties[ye]=fe;break;case 3:D.properties[ye]=fe;break;case 4:F.properties[ye]=fe;break;case 5:F.properties[ye]=fe,this.resourceLanguageSettingsSchema.properties[ye]=fe}}updateOverridePropertyPatternKey(){for(const ye of this.overrideIdentifiers.values()){const fe=`[${ye}]`,Se={type:"object",description:k.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:k.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};this.updatePropertyDefaultValue(fe,Se),Y.properties[fe]=Se,V.properties[fe]=Se,x.properties[fe]=Se,w.properties[fe]=Se,D.properties[fe]=Se,F.properties[fe]=Se}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const ye={type:"object",description:k.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:k.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};Y.patternProperties[K]=ye,V.patternProperties[K]=ye,x.patternProperties[K]=ye,w.patternProperties[K]=ye,D.patternProperties[K]=ye,F.patternProperties[K]=ye,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(ye,fe){const Se=this.configurationDefaultsOverrides.get(ye);let Ie=null==Se?void 0:Se.value,_e=null==Se?void 0:Se.source;Q.o8(Ie)&&(Ie=fe.defaultDefaultValue,_e=void 0),Q.o8(Ie)&&(Ie=function P(he){switch(Array.isArray(he)?he[0]:he){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(fe.type)),fe.default=Ie,fe.defaultValueSource=_e}};se.B.add(j.Configuration,W)},9776:(vt,Ke,m)=>{m.d(Ke,{Ao:()=>se,Fb:()=>j,uy:()=>fe,i6:()=>Se,Eq:()=>Ie,K8:()=>X});var v=m(8972),h=m(4705),Q=m(4725);const k=new Map;k.set("false",!1),k.set("true",!0),k.set("isMac",v.dz),k.set("isLinux",v.IJ),k.set("isWindows",v.ED),k.set("isWeb",v.$L),k.set("isMacNative",v.dz&&!v.$L),k.set("isEdge",v.un),k.set("isFirefox",v.vU),k.set("isChrome",v.i7),k.set("isSafari",v.G6);const R=Object.prototype.hasOwnProperty;class se{static has(ne){return w.create(ne)}static equals(ne,ce){return D.create(ne,ce)}static regex(ne,ce){return P.create(ne,ce)}static not(ne){return z.create(ne)}static and(...ne){return he.create(ne,null)}static or(...ne){return ye.create(ne,null,!0)}static deserialize(ne,ce=!1){if(ne)return this._deserializeOrExpression(ne,ce)}static _deserializeOrExpression(ne,ce){let ue=ne.split("||");return ye.create(ue.map(we=>this._deserializeAndExpression(we,ce)),null,!0)}static _deserializeAndExpression(ne,ce){let ue=ne.split("&&");return he.create(ue.map(we=>this._deserializeOne(we,ce)),null)}static _deserializeOne(ne,ce){if((ne=ne.trim()).indexOf("!=")>=0){let ue=ne.split("!=");return T.create(ue[0].trim(),this._deserializeValue(ue[1],ce))}if(ne.indexOf("==")>=0){let ue=ne.split("==");return D.create(ue[0].trim(),this._deserializeValue(ue[1],ce))}if(ne.indexOf("=~")>=0){let ue=ne.split("=~");return P.create(ue[0].trim(),this._deserializeRegexValue(ue[1],ce))}if(ne.indexOf(" in ")>=0){let ue=ne.split(" in ");return F.create(ue[0].trim(),ue[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(ne)){const ue=ne.split(">=");return K.create(ue[0].trim(),ue[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(ne)){const ue=ne.split(">");return H.create(ue[0].trim(),ue[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(ne)){const ue=ne.split("<=");return M.create(ue[0].trim(),ue[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(ne)){const ue=ne.split("<");return N.create(ue[0].trim(),ue[1].trim())}return/^\!\s*/.test(ne)?z.create(ne.substr(1).trim()):w.create(ne)}static _deserializeValue(ne,ce){if("true"===(ne=ne.trim()))return!0;if("false"===ne)return!1;let ue=/^'([^']*)'$/.exec(ne);return ue?ue[1].trim():ne}static _deserializeRegexValue(ne,ce){if((0,h.m5)(ne)){if(ce)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let ue=ne.indexOf("/"),we=ne.lastIndexOf("/");if(ue===we||ue<0){if(ce)throw new Error(`bad regexp-value '${ne}', missing /-enclosure`);return console.warn(`bad regexp-value '${ne}', missing /-enclosure`),null}let He=ne.slice(ue+1,we),lt="i"===ne[we+1]?"i":"";try{return new RegExp(He,lt)}catch(ut){if(ce)throw new Error(`bad regexp-value '${ne}', parse error: ${ut}`);return console.warn(`bad regexp-value '${ne}', parse error: ${ut}`),null}}}function j(re,ne){const ce=re?re.substituteConstants():void 0,ue=ne?ne.substituteConstants():void 0;return!ce&&!ue||!(!ce||!ue)&&ce.equals(ue)}function Y(re,ne){return re.cmp(ne)}class V{constructor(){this.type=0}cmp(ne){return this.type-ne.type}equals(ne){return ne.type===this.type}substituteConstants(){return this}evaluate(ne){return!1}serialize(){return"false"}keys(){return[]}negate(){return x.INSTANCE}}V.INSTANCE=new V;class x{constructor(){this.type=1}cmp(ne){return this.type-ne.type}equals(ne){return ne.type===this.type}substituteConstants(){return this}evaluate(ne){return!0}serialize(){return"true"}keys(){return[]}negate(){return V.INSTANCE}}x.INSTANCE=new x;class w{constructor(ne,ce){this.key=ne,this.negated=ce,this.type=2}static create(ne,ce=null){const ue=k.get(ne);return"boolean"==typeof ue?ue?x.INSTANCE:V.INSTANCE:new w(ne,ce)}cmp(ne){return ne.type!==this.type?this.type-ne.type:_e(this.key,ne.key)}equals(ne){return ne.type===this.type&&this.key===ne.key}substituteConstants(){const ne=k.get(this.key);return"boolean"==typeof ne?ne?x.INSTANCE:V.INSTANCE:this}evaluate(ne){return!!ne.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this)),this.negated}}class D{constructor(ne,ce,ue){this.key=ne,this.value=ce,this.negated=ue,this.type=4}static create(ne,ce,ue=null){if("boolean"==typeof ce)return ce?w.create(ne,ue):z.create(ne,ue);const we=k.get(ne);return"boolean"==typeof we?ce===(we?"true":"false")?x.INSTANCE:V.INSTANCE:new D(ne,ce,ue)}cmp(ne){return ne.type!==this.type?this.type-ne.type:$(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){const ne=k.get(this.key);return"boolean"==typeof ne?this.value===(ne?"true":"false")?x.INSTANCE:V.INSTANCE:this}evaluate(ne){return ne.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T.create(this.key,this.value,this)),this.negated}}class F{constructor(ne,ce){this.key=ne,this.valueKey=ce,this.type=10,this.negated=null}static create(ne,ce){return new F(ne,ce)}cmp(ne){return ne.type!==this.type?this.type-ne.type:$(this.key,this.valueKey,ne.key,ne.valueKey)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.valueKey===ne.valueKey}substituteConstants(){return this}evaluate(ne){const ce=ne.getValue(this.valueKey),ue=ne.getValue(this.key);return Array.isArray(ce)?ce.indexOf(ue)>=0:"string"==typeof ue&&"object"==typeof ce&&null!==ce&&R.call(ce,ue)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}class f{constructor(ne){this._actual=ne,this.type=11}static create(ne){return new f(ne)}cmp(ne){return ne.type!==this.type?this.type-ne.type:this._actual.cmp(ne._actual)}equals(ne){return ne.type===this.type&&this._actual.equals(ne._actual)}substituteConstants(){return this}evaluate(ne){return!this._actual.evaluate(ne)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class T{constructor(ne,ce,ue){this.key=ne,this.value=ce,this.negated=ue,this.type=5}static create(ne,ce,ue=null){if("boolean"==typeof ce)return ce?z.create(ne,ue):w.create(ne,ue);const we=k.get(ne);return"boolean"==typeof we?ce===(we?"true":"false")?V.INSTANCE:x.INSTANCE:new T(ne,ce,ue)}cmp(ne){return ne.type!==this.type?this.type-ne.type:$(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){const ne=k.get(this.key);return"boolean"==typeof ne?this.value===(ne?"true":"false")?V.INSTANCE:x.INSTANCE:this}evaluate(ne){return ne.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=D.create(this.key,this.value,this)),this.negated}}class z{constructor(ne,ce){this.key=ne,this.negated=ce,this.type=3}static create(ne,ce=null){const ue=k.get(ne);return"boolean"==typeof ue?ue?V.INSTANCE:x.INSTANCE:new z(ne,ce)}cmp(ne){return ne.type!==this.type?this.type-ne.type:_e(this.key,ne.key)}equals(ne){return ne.type===this.type&&this.key===ne.key}substituteConstants(){const ne=k.get(this.key);return"boolean"==typeof ne?ne?V.INSTANCE:x.INSTANCE:this}evaluate(ne){return!ne.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this)),this.negated}}function I(re,ne){if("string"==typeof re){const ce=parseFloat(re);isNaN(ce)||(re=ce)}return"string"==typeof re||"number"==typeof re?ne(re):V.INSTANCE}class H{constructor(ne,ce,ue){this.key=ne,this.value=ce,this.negated=ue,this.type=12}static create(ne,ce,ue=null){return I(ce,we=>new H(ne,we,ue))}cmp(ne){return ne.type!==this.type?this.type-ne.type:$(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}class K{constructor(ne,ce,ue){this.key=ne,this.value=ce,this.negated=ue,this.type=13}static create(ne,ce,ue=null){return I(ce,we=>new K(ne,we,ue))}cmp(ne){return ne.type!==this.type?this.type-ne.type:$(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}class N{constructor(ne,ce,ue){this.key=ne,this.value=ce,this.negated=ue,this.type=14}static create(ne,ce,ue=null){return I(ce,we=>new N(ne,we,ue))}cmp(ne){return ne.type!==this.type?this.type-ne.type:$(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this.key,this.value,this)),this.negated}}class M{constructor(ne,ce,ue){this.key=ne,this.value=ce,this.negated=ue,this.type=15}static create(ne,ce,ue=null){return I(ce,we=>new M(ne,we,ue))}cmp(ne){return ne.type!==this.type?this.type-ne.type:$(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class P{constructor(ne,ce){this.key=ne,this.regexp=ce,this.type=7,this.negated=null}static create(ne,ce){return new P(ne,ce)}cmp(ne){if(ne.type!==this.type)return this.type-ne.type;if(this.key<ne.key)return-1;if(this.key>ne.key)return 1;const ce=this.regexp?this.regexp.source:"",ue=ne.regexp?ne.regexp.source:"";return ce<ue?-1:ce>ue?1:0}equals(ne){if(ne.type===this.type){const ce=this.regexp?this.regexp.source:"",ue=ne.regexp?ne.regexp.source:"";return this.key===ne.key&&ce===ue}return!1}substituteConstants(){return this}evaluate(ne){let ce=ne.getValue(this.key);return!!this.regexp&&this.regexp.test(ce)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=W.create(this)),this.negated}}class W{constructor(ne){this._actual=ne,this.type=8}static create(ne){return new W(ne)}cmp(ne){return ne.type!==this.type?this.type-ne.type:this._actual.cmp(ne._actual)}equals(ne){return ne.type===this.type&&this._actual.equals(ne._actual)}substituteConstants(){return this}evaluate(ne){return!this._actual.evaluate(ne)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function J(re){let ne=null;for(let ce=0,ue=re.length;ce<ue;ce++){const we=re[ce].substituteConstants();if(re[ce]!==we&&null===ne){ne=[];for(let He=0;He<ce;He++)ne[He]=re[He]}null!==ne&&(ne[ce]=we)}return null===ne?re:ne}class he{constructor(ne,ce){this.expr=ne,this.negated=ce,this.type=6}static create(ne,ce){return he._normalizeArr(ne,ce)}cmp(ne){if(ne.type!==this.type)return this.type-ne.type;if(this.expr.length<ne.expr.length)return-1;if(this.expr.length>ne.expr.length)return 1;for(let ce=0,ue=this.expr.length;ce<ue;ce++){const we=Y(this.expr[ce],ne.expr[ce]);if(0!==we)return we}return 0}equals(ne){if(ne.type===this.type){if(this.expr.length!==ne.expr.length)return!1;for(let ce=0,ue=this.expr.length;ce<ue;ce++)if(!this.expr[ce].equals(ne.expr[ce]))return!1;return!0}return!1}substituteConstants(){const ne=J(this.expr);return ne===this.expr?this:he.create(ne,this.negated)}evaluate(ne){for(let ce=0,ue=this.expr.length;ce<ue;ce++)if(!this.expr[ce].evaluate(ne))return!1;return!0}static _normalizeArr(ne,ce){const ue=[];let we=!1;for(const He of ne)if(He){if(1===He.type){we=!0;continue}if(0===He.type)return V.INSTANCE;if(6===He.type){ue.push(...He.expr);continue}ue.push(He)}if(0===ue.length&&we)return x.INSTANCE;if(0!==ue.length){if(1===ue.length)return ue[0];ue.sort(Y);for(let He=1;He<ue.length;He++)ue[He-1].equals(ue[He])&&(ue.splice(He,1),He--);if(1===ue.length)return ue[0];for(;ue.length>1;){const He=ue[ue.length-1];if(9!==He.type)break;ue.pop();const lt=ue.pop(),ut=0===ue.length,Ve=ye.create(He.expr.map(ct=>he.create([ct,lt],null)),null,ut);Ve&&(ue.push(Ve),ue.sort(Y))}return 1===ue.length?ue[0]:new he(ue,ce)}}serialize(){return this.expr.map(ne=>ne.serialize()).join(" && ")}keys(){const ne=[];for(let ce of this.expr)ne.push(...ce.keys());return ne}negate(){if(!this.negated){const ne=[];for(let ce of this.expr)ne.push(ce.negate());this.negated=ye.create(ne,this,!0)}return this.negated}}class ye{constructor(ne,ce){this.expr=ne,this.negated=ce,this.type=9}static create(ne,ce,ue){return ye._normalizeArr(ne,ce,ue)}cmp(ne){if(ne.type!==this.type)return this.type-ne.type;if(this.expr.length<ne.expr.length)return-1;if(this.expr.length>ne.expr.length)return 1;for(let ce=0,ue=this.expr.length;ce<ue;ce++){const we=Y(this.expr[ce],ne.expr[ce]);if(0!==we)return we}return 0}equals(ne){if(ne.type===this.type){if(this.expr.length!==ne.expr.length)return!1;for(let ce=0,ue=this.expr.length;ce<ue;ce++)if(!this.expr[ce].equals(ne.expr[ce]))return!1;return!0}return!1}substituteConstants(){const ne=J(this.expr);return ne===this.expr?this:ye.create(ne,this.negated,!1)}evaluate(ne){for(let ce=0,ue=this.expr.length;ce<ue;ce++)if(this.expr[ce].evaluate(ne))return!0;return!1}static _normalizeArr(ne,ce,ue){let we=[],He=!1;if(ne){for(let lt=0,ut=ne.length;lt<ut;lt++){const Ve=ne[lt];if(Ve){if(0===Ve.type){He=!0;continue}if(1===Ve.type)return x.INSTANCE;if(9===Ve.type){we=we.concat(Ve.expr);continue}we.push(Ve)}}if(0===we.length&&He)return V.INSTANCE;we.sort(Y)}if(0!==we.length){if(1===we.length)return we[0];for(let lt=1;lt<we.length;lt++)we[lt-1].equals(we[lt])&&(we.splice(lt,1),lt--);if(1===we.length)return we[0];if(ue){for(let lt=0;lt<we.length;lt++)for(let ut=lt+1;ut<we.length;ut++)X(we[lt],we[ut])&&(we.splice(ut,1),ut--);if(1===we.length)return we[0]}return new ye(we,ce)}}serialize(){return this.expr.map(ne=>ne.serialize()).join(" || ")}keys(){const ne=[];for(let ce of this.expr)ne.push(...ce.keys());return ne}negate(){if(!this.negated){let ne=[];for(let ce of this.expr)ne.push(ce.negate());for(;ne.length>1;){const ce=ne.shift(),ue=ne.shift(),we=[];for(const lt of pe(ce))for(const ut of pe(ue))we.push(he.create([lt,ut],null));ne.unshift(ye.create(we,null,0===ne.length))}this.negated=ne[0]}return this.negated}}let fe=(()=>{class re extends w{constructor(ce,ue,we){super(ce,null),this._defaultValue=ue,"object"==typeof we?re._info.push(Object.assign(Object.assign({},we),{key:ce})):!0!==we&&re._info.push({key:ce,description:we,type:null!=ue?typeof ue:void 0})}static all(){return re._info.values()}bindTo(ce){return ce.createKey(this.key,this._defaultValue)}getValue(ce){return ce.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(ce){return D.create(this.key,ce)}}return re._info=[],re})();const Se=(0,Q.yh)("contextKeyService"),Ie="setContext";function _e(re,ne){return re<ne?-1:re>ne?1:0}function $(re,ne,ce,ue){return re<ce?-1:re>ce?1:ne<ue?-1:ne>ue?1:0}function X(re,ne){if(6===ne.type&&9!==re.type&&6!==re.type)for(const we of ne.expr)if(re.equals(we))return!0;const ue=pe(re.negate()).concat(pe(ne));ue.sort(Y);for(let we=0;we<ue.length;we++){const lt=ue[we].negate();for(let ut=we+1;ut<ue.length;ut++)if(lt.equals(ue[ut]))return!0}return!1}function pe(re){return 9===re.type?re.expr:[re]}},9239:(vt,Ke,m)=>{m.d(Ke,{cv:()=>se,d0:()=>w});var v=m(8972),h=m(402),Q=m(9776);new Q.uy("isMac",v.dz,(0,h.N)("isMac","Whether the operating system is macOS")),new Q.uy("isLinux",v.IJ,(0,h.N)("isLinux","Whether the operating system is Linux"));const se=new Q.uy("isWindows",v.ED,(0,h.N)("isWindows","Whether the operating system is Windows")),w=(new Q.uy("isWeb",v.$L,(0,h.N)("isWeb","Whether the platform is a web browser")),new Q.uy("isMacNative",v.dz&&!v.$L,(0,h.N)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new Q.uy("isIOS",v.gn,(0,h.N)("isIOS","Whether the operating system is IOS")),new Q.uy("isDevelopment",!1,!0),"inputFocus");new Q.uy(w,!1,(0,h.N)("inputFocus","Whether keyboard focus is inside an input box"))},4394:(vt,Ke,m)=>{m.d(Ke,{u:()=>h,i:()=>Q});var v=m(4725);const h=(0,v.yh)("contextViewService"),Q=(0,v.yh)("contextMenuService")},161:(vt,Ke,m)=>{m.d(Ke,{S:()=>h});const h=(0,m(4725).yh)("dialogService")},9524:(vt,Ke,m)=>{m.d(Ke,{M:()=>v});class v{constructor(Q,k=[],R=!1){this.ctor=Q,this.staticArguments=k,this.supportsDelayedInstantiation=R}}},7918:(vt,Ke,m)=>{m.d(Ke,{z:()=>Q,d:()=>k});var v=m(9524);const h=[];function Q(R,se,j){se instanceof v.M||(se=new v.M(se,[],j)),h.push([R,se])}function k(){return h}},4725:(vt,Ke,m)=>{var v,R;m.d(Ke,{I8:()=>v,TG:()=>h,yh:()=>k}),(R=v||(v={})).serviceIds=new Map,R.DI_TARGET="$di$target",R.DI_DEPENDENCIES="$di$dependencies",R.getServiceDependencies=function se(j){return j[R.DI_DEPENDENCIES]||[]};const h=k("instantiationService");function Q(R,se,j,Y){se[v.DI_TARGET]===se?se[v.DI_DEPENDENCIES].push({id:R,index:j,optional:Y}):(se[v.DI_DEPENDENCIES]=[{id:R,index:j,optional:Y}],se[v.DI_TARGET]=se)}function k(R){if(v.serviceIds.has(R))return v.serviceIds.get(R);const se=function(j,Y,V){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Q(se,j,V,!1)};return se.toString=()=>R,v.serviceIds.set(R,se),se}},2281:(vt,Ke,m)=>{m.d(Ke,{y:()=>v});class v{constructor(...Q){this._entries=new Map;for(let[k,R]of Q)this.set(k,R)}set(Q,k){const R=this._entries.get(Q);return this._entries.set(Q,k),R}get(Q){return this._entries.get(Q)}}},3350:(vt,Ke,m)=>{m.d(Ke,{I:()=>Q});var v=m(2787),h=m(9537);const Q={JSONContribution:"base.contributions.json"},se=new class R{constructor(){this._onDidChangeSchema=new v.Q5,this.schemasById={}}registerSchema(Y,V){this.schemasById[function k(j){return j.length>0&&"#"===j.charAt(j.length-1)?j.substring(0,j.length-1):j}(Y)]=V,this._onDidChangeSchema.fire(Y)}notifySchemaChanged(Y){this._onDidChangeSchema.fire(Y)}};h.B.add(Q.JSONContribution,se)},7090:(vt,Ke,m)=>{m.d(Ke,{d:()=>h});const h=(0,m(4725).yh)("keybindingService")},7550:(vt,Ke,m)=>{m.d(Ke,{W:()=>se});var v=m(5016),h=m(8972),Q=m(3884),k=m(9537);class R{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(x){if(1===h.OS){if(x&&x.win)return x.win}else if(2===h.OS){if(x&&x.mac)return x.mac}else if(x&&x.linux)return x.linux;return x}registerKeybindingRule(x){const w=R.bindToCurrentPlatform(x);if(w&&w.primary){const D=(0,v.gm)(w.primary,h.OS);D&&this._registerDefaultKeybinding(D,x.id,x.args,x.weight,0,x.when)}if(w&&Array.isArray(w.secondary))for(let D=0,F=w.secondary.length;D<F;D++){const T=(0,v.gm)(w.secondary[D],h.OS);T&&this._registerDefaultKeybinding(T,x.id,x.args,x.weight,-D-1,x.when)}}registerCommandAndKeybindingRule(x){this.registerKeybindingRule(x),Q.P0.registerCommand(x)}static _mightProduceChar(x){return x>=21&&x<=30||x>=31&&x<=56||80===x||81===x||82===x||83===x||84===x||85===x||86===x||110===x||111===x||87===x||88===x||89===x||90===x||91===x||92===x}_assertNoCtrlAlt(x,w){x.ctrlKey&&x.altKey&&!x.metaKey&&R._mightProduceChar(x.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",x," for ",w)}_registerDefaultKeybinding(x,w,D,F,f,T){1===h.OS&&this._assertNoCtrlAlt(x.parts[0],w),this._coreKeybindings.push({keybinding:x.parts,command:w,commandArgs:D,when:T,weight1:F,weight2:f,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Y)),this._cachedMergedKeybindings.slice(0)}}const se=new R;function Y(V,x){return V.weight1!==x.weight1?V.weight1-x.weight1:V.command<x.command?-1:V.command>x.command?1:V.weight2-x.weight2}k.B.add("platform.keybindingsRegistry",se)},203:(vt,Ke,m)=>{m.d(Ke,{e:()=>h});const h=(0,m(4725).yh)("labelService")},5717:(vt,Ke,m)=>{m.d(Ke,{Lw:()=>Pn,XN:()=>Ei,ls:()=>Co,ev:()=>nr,CQ:()=>Ci,PS:()=>Li,uJ:()=>Mo});var v=m(8059),h=m(8337),Q=m(152),k=m(2787),R=m(2425),j=(m(4397),m(7367));class Y{constructor(c,C){this.renderer=c,this.modelProvider=C}get templateId(){return this.renderer.templateId}renderTemplate(c){return{data:this.renderer.renderTemplate(c),disposable:R.JT.None}}renderElement(c,C,O,ee){if(O.disposable&&O.disposable.dispose(),!O.data)return;const de=this.modelProvider();if(de.isResolved(c))return this.renderer.renderElement(de.get(c),c,O.data,ee);const oe=new Q.A,Qe=de.resolve(c,oe.token);O.disposable={dispose:()=>oe.cancel()},this.renderer.renderPlaceholder(c,O.data),Qe.then(et=>this.renderer.renderElement(et,c,O.data,ee))}disposeTemplate(c){c.disposable&&(c.disposable.dispose(),c.disposable=void 0),c.data&&(this.renderer.disposeTemplate(c.data),c.data=void 0)}}class V{constructor(c,C){this.modelProvider=c,this.accessibilityProvider=C}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(c){const C=this.modelProvider();return C.isResolved(c)?this.accessibilityProvider.getAriaLabel(C.get(c)):null}}var D=m(318);m(6282);let f=(()=>{class $e{constructor(C,O,ee){this.columns=C,this.getColumnSize=ee,this.templateId=$e.TemplateId,this.renderedTemplates=new Set;const de=new Map(O.map(oe=>[oe.templateId,oe]));this.renderers=[];for(const oe of C){const Qe=de.get(oe.templateId);if(!Qe)throw new Error(`Table cell renderer for template id ${oe.templateId} not found.`);this.renderers.push(Qe)}}renderTemplate(C){const O=(0,v.R3)(C,(0,v.$)(".monaco-table-tr")),ee=[],de=[];for(let Qe=0;Qe<this.columns.length;Qe++){const et=this.renderers[Qe],xt=(0,v.R3)(O,(0,v.$)(".monaco-table-td",{"data-col-index":Qe}));xt.style.width=`${this.getColumnSize(Qe)}px`,ee.push(xt),de.push(et.renderTemplate(xt))}const oe={container:C,cellContainers:ee,cellTemplateData:de};return this.renderedTemplates.add(oe),oe}renderElement(C,O,ee,de){for(let oe=0;oe<this.columns.length;oe++){const et=this.columns[oe].project(C);this.renderers[oe].renderElement(et,O,ee.cellTemplateData[oe],de)}}disposeElement(C,O,ee,de){for(let oe=0;oe<this.columns.length;oe++){const Qe=this.renderers[oe];if(Qe.disposeElement){const xt=this.columns[oe].project(C);Qe.disposeElement(xt,O,ee.cellTemplateData[oe],de)}}}disposeTemplate(C){for(let O=0;O<this.columns.length;O++)this.renderers[O].disposeTemplate(C.cellTemplateData[O]);(0,v.PO)(C.container),this.renderedTemplates.delete(C)}layoutColumn(C,O){for(const{cellContainers:ee}of this.renderedTemplates)ee[C].style.width=`${O}px`}}return $e.TemplateId="row",$e})();class z{constructor(c,C){this.column=c,this.index=C,this._onDidLayout=new k.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,v.$)(".monaco-table-th",{"data-col-index":C,title:c.tooltip},c.label)}get minimumSize(){var c;return null!==(c=this.column.minimumWidth)&&void 0!==c?c:120}get maximumSize(){var c;return null!==(c=this.column.maximumWidth)&&void 0!==c?c:Number.POSITIVE_INFINITY}get onDidChange(){var c;return null!==(c=this.column.onDidChangeWidthConstraints)&&void 0!==c?c:k.ju.None}layout(c){this._onDidLayout.fire([this.index,c])}}let I=(()=>{class $e{constructor(C,O,ee,de,oe,Qe){this.virtualDelegate=ee,this.domId="table_id_"+ ++$e.InstanceCount,this.disposables=new R.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,v.R3)(O,(0,v.$)(`.monaco-table.${this.domId}`));const et=de.map((Ft,Yt)=>new z(Ft,Yt)),xt={size:et.reduce((Ft,Yt)=>Ft+Yt.column.weight,0),views:et.map(Ft=>({size:Ft.column.weight,view:Ft}))};this.splitview=this.disposables.add(new D.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:xt})),this.splitview.el.style.height=`${ee.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${ee.headerRowHeight}px`;const It=new f(de,oe,Ft=>this.splitview.getViewSize(Ft));this.list=this.disposables.add(new j.aV(C,this.domNode,function T($e){return{getHeight:c=>$e.getHeight(c),getTemplateId:()=>f.TemplateId}}(ee),[It],Qe)),k.ju.any(...et.map(Ft=>Ft.onDidLayout))(([Ft,Yt])=>It.layoutColumn(Ft,Yt),null,this.disposables),this.splitview.onDidSashReset(Ft=>{const Yt=de.reduce((Le,De)=>Le+De.weight,0);this.splitview.resizeView(Ft,de[Ft].weight/Yt*this.cachedWidth)},null,this.disposables),this.styleElement=(0,v.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(C){this.list.updateOptions(C)}splice(C,O,ee=[]){this.list.splice(C,O,ee)}getHTMLElement(){return this.domNode}style(C){const O=[];O.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=O.join("\n"),this.list.style(C)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return $e.InstanceCount=0,$e})();var H=m(1100),K=m(6889),N=m(5691),M=m(4616),P=(()=>{return($e=P||(P={}))[$e.Unknown=0]="Unknown",$e[$e.Twistie=1]="Twistie",$e[$e.Element=2]="Element",P;var $e})();class W extends Error{constructor(c,C){super(`TreeError [${c}] ${C}`)}}class J{constructor(c){this.fn=c,this._map=new WeakMap}map(c){let C=this._map.get(c);return C||(C=this.fn(c),this._map.set(c,C)),C}}var he=m(3072),ye=m(4171),fe=m(7981);function Se($e){return"object"==typeof $e&&"visibility"in $e&&"data"in $e}function Ie($e){switch($e){case!0:return 1;case!1:return 0;default:return $e}}function _e($e){return"boolean"==typeof $e.collapsible}class ${constructor(c,C,O,ee={}){this.user=c,this.list=C,this.rootRef=[],this.eventBufferer=new k.E7,this._onDidChangeCollapseState=new k.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new k.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new k.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new he.vp(he.ne),this.collapseByDefault=void 0!==ee.collapseByDefault&&ee.collapseByDefault,this.filter=ee.filter,this.autoExpandSingleChildren=void 0!==ee.autoExpandSingleChildren&&ee.autoExpandSingleChildren,this.root={parent:void 0,element:O,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(c,C,O=fe.$.empty(),ee={}){if(0===c.length)throw new W(this.user,"Invalid tree location");ee.diffIdentityProvider?this.spliceSmart(ee.diffIdentityProvider,c,C,O,ee):this.spliceSimple(c,C,O,ee)}spliceSmart(c,C,O,ee,de,oe){var Qe;void 0===ee&&(ee=fe.$.empty()),void 0===oe&&(oe=null!==(Qe=de.diffDepth)&&void 0!==Qe?Qe:0);const{parentNode:et}=this.getParentNodeWithListIndex(C);if(!et.lastDiffIds)return this.spliceSimple(C,O,ee,de);const xt=[...ee],It=C[C.length-1],Ft=new ye.Hs({getElements:()=>et.lastDiffIds},{getElements:()=>[...et.children.slice(0,It),...xt,...et.children.slice(It+O)].map(Fe=>c.getId(Fe.element).toString())}).ComputeDiff(!1);if(Ft.quitEarly)return et.lastDiffIds=void 0,this.spliceSimple(C,O,xt,de);const Yt=C.slice(0,-1),nt=(Fe,_t,Gt)=>{if(oe>0)for(let an=0;an<Gt;an++)Fe--,_t--,this.spliceSmart(c,[...Yt,Fe,0],Number.MAX_SAFE_INTEGER,xt[_t].children,de,oe-1)};let Le=Math.min(et.children.length,It+O),De=xt.length;for(const Fe of Ft.changes.sort((_t,Gt)=>Gt.originalStart-_t.originalStart))nt(Le,De,Le-(Fe.originalStart+Fe.originalLength)),Le=Fe.originalStart,De=Fe.modifiedStart-It,this.spliceSimple([...Yt,Le],Fe.originalLength,fe.$.slice(xt,De,De+Fe.modifiedLength),de);nt(Le,De,Le)}spliceSimple(c,C,O=fe.$.empty(),{onDidCreateNode:ee,onDidDeleteNode:de,diffIdentityProvider:oe}){const{parentNode:Qe,listIndex:et,revealed:xt,visible:It}=this.getParentNodeWithListIndex(c),Ft=[],Yt=fe.$.map(O,Re=>this.createTreeNode(Re,Qe,Qe.visible?1:0,xt,Ft,ee)),nt=c[c.length-1],Le=Qe.children.length>0;let De=0;for(let Re=nt;Re>=0&&Re<Qe.children.length;Re--){const wt=Qe.children[Re];if(wt.visible){De=wt.visibleChildIndex;break}}const Fe=[];let _t=0,Gt=0;for(const Re of Yt)Fe.push(Re),Gt+=Re.renderNodeCount,Re.visible&&(Re.visibleChildIndex=De+_t++);const an=(0,h.db)(Qe.children,nt,C,Fe);oe?Qe.lastDiffIds?(0,h.db)(Qe.lastDiffIds,nt,C,Fe.map(Re=>oe.getId(Re.element).toString())):Qe.lastDiffIds=Qe.children.map(Re=>oe.getId(Re.element).toString()):Qe.lastDiffIds=void 0;let Ln=0;for(const Re of an)Re.visible&&Ln++;if(0!==Ln)for(let Re=nt+Fe.length;Re<Qe.children.length;Re++){const wt=Qe.children[Re];wt.visible&&(wt.visibleChildIndex-=Ln)}if(Qe.visibleChildrenCount+=_t-Ln,xt&&It){const Re=an.reduce((wt,Ze)=>wt+(Ze.visible?Ze.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Qe,Gt-Re),this.list.splice(et,Re,Ft)}if(an.length>0&&de){const Re=wt=>{de(wt),wt.children.forEach(Re)};an.forEach(Re)}const zt=Qe.children.length>0;Le!==zt&&this.setCollapsible(c.slice(0,-1),zt),this._onDidSplice.fire({insertedNodes:Fe,deletedNodes:an});let ci=Qe;for(;ci;){if(2===ci.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}ci=ci.parent}}rerender(c){if(0===c.length)throw new W(this.user,"Invalid tree location");const{node:C,listIndex:O,revealed:ee}=this.getTreeNodeWithListIndex(c);C.visible&&ee&&this.list.splice(O,1,[C])}has(c){return this.hasTreeNode(c)}getListIndex(c){const{listIndex:C,visible:O,revealed:ee}=this.getTreeNodeWithListIndex(c);return O&&ee?C:-1}getListRenderCount(c){return this.getTreeNode(c).renderNodeCount}isCollapsible(c){return this.getTreeNode(c).collapsible}setCollapsible(c,C){const O=this.getTreeNode(c);void 0===C&&(C=!O.collapsible);const ee={collapsible:C};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(c,ee))}isCollapsed(c){return this.getTreeNode(c).collapsed}setCollapsed(c,C,O){const ee=this.getTreeNode(c);void 0===C&&(C=!ee.collapsed);const de={collapsed:C,recursive:O||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(c,de))}_setCollapseState(c,C){const{node:O,listIndex:ee,revealed:de}=this.getTreeNodeWithListIndex(c),oe=this._setListNodeCollapseState(O,ee,de,C);if(O!==this.root&&this.autoExpandSingleChildren&&oe&&!_e(C)&&O.collapsible&&!O.collapsed&&!C.recursive){let Qe=-1;for(let et=0;et<O.children.length;et++)if(O.children[et].visible){if(Qe>-1){Qe=-1;break}Qe=et}Qe>-1&&this._setCollapseState([...c,Qe],C)}return oe}_setListNodeCollapseState(c,C,O,ee){const de=this._setNodeCollapseState(c,ee,!1);if(!O||!c.visible||!de)return de;const oe=c.renderNodeCount,Qe=this.updateNodeAfterCollapseChange(c);return this.list.splice(C+1,oe-(-1===C?0:1),Qe.slice(1)),de}_setNodeCollapseState(c,C,O){let ee;if(c===this.root?ee=!1:(_e(C)?(ee=c.collapsible!==C.collapsible,c.collapsible=C.collapsible):c.collapsible?(ee=c.collapsed!==C.collapsed,c.collapsed=C.collapsed):ee=!1,ee&&this._onDidChangeCollapseState.fire({node:c,deep:O})),!_e(C)&&C.recursive)for(const de of c.children)ee=this._setNodeCollapseState(de,C,!0)||ee;return ee}expandTo(c){this.eventBufferer.bufferEvents(()=>{let C=this.getTreeNode(c);for(;C.parent;)C=C.parent,c=c.slice(0,c.length-1),C.collapsed&&this._setCollapseState(c,{collapsed:!1,recursive:!1})})}refilter(){const c=this.root.renderNodeCount,C=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,c,C),this.refilterDelayer.cancel()}createTreeNode(c,C,O,ee,de,oe){const Qe={parent:C,element:c.element,children:[],depth:C.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof c.collapsible?c.collapsible:void 0!==c.collapsed,collapsed:void 0===c.collapsed?this.collapseByDefault:c.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},et=this._filterNode(Qe,O);Qe.visibility=et,ee&&de.push(Qe);const xt=c.children||fe.$.empty(),It=ee&&0!==et&&!Qe.collapsed,Ft=fe.$.map(xt,Le=>this.createTreeNode(Le,Qe,et,It,de,oe));let Yt=0,nt=1;for(const Le of Ft)Qe.children.push(Le),nt+=Le.renderNodeCount,Le.visible&&(Le.visibleChildIndex=Yt++);return Qe.collapsible=Qe.collapsible||Qe.children.length>0,Qe.visibleChildrenCount=Yt,Qe.visible=2===et?Yt>0:1===et,Qe.visible?Qe.collapsed||(Qe.renderNodeCount=nt):(Qe.renderNodeCount=0,ee&&de.pop()),oe&&oe(Qe),Qe}updateNodeAfterCollapseChange(c){const C=c.renderNodeCount,O=[];return this._updateNodeAfterCollapseChange(c,O),this._updateAncestorsRenderNodeCount(c.parent,O.length-C),O}_updateNodeAfterCollapseChange(c,C){if(!1===c.visible)return 0;if(C.push(c),c.renderNodeCount=1,!c.collapsed)for(const O of c.children)c.renderNodeCount+=this._updateNodeAfterCollapseChange(O,C);return this._onDidChangeRenderNodeCount.fire(c),c.renderNodeCount}updateNodeAfterFilterChange(c){const C=c.renderNodeCount,O=[];return this._updateNodeAfterFilterChange(c,c.visible?1:0,O),this._updateAncestorsRenderNodeCount(c.parent,O.length-C),O}_updateNodeAfterFilterChange(c,C,O,ee=!0){let de;if(c!==this.root){if(de=this._filterNode(c,C),0===de)return c.visible=!1,c.renderNodeCount=0,!1;ee&&O.push(c)}const oe=O.length;c.renderNodeCount=c===this.root?0:1;let Qe=!1;if(c.collapsed&&0===de)c.visibleChildrenCount=0;else{let et=0;for(const xt of c.children)Qe=this._updateNodeAfterFilterChange(xt,de,O,ee&&!c.collapsed)||Qe,xt.visible&&(xt.visibleChildIndex=et++);c.visibleChildrenCount=et}return c!==this.root&&(c.visible=2===de?Qe:1===de,c.visibility=de),c.visible?c.collapsed||(c.renderNodeCount+=O.length-oe):(c.renderNodeCount=0,ee&&O.pop()),this._onDidChangeRenderNodeCount.fire(c),c.visible}_updateAncestorsRenderNodeCount(c,C){if(0!==C)for(;c;)c.renderNodeCount+=C,this._onDidChangeRenderNodeCount.fire(c),c=c.parent}_filterNode(c,C){const O=this.filter?this.filter.filter(c.element,C):1;return"boolean"==typeof O?(c.filterData=void 0,O?1:0):Se(O)?(c.filterData=O.data,Ie(O.visibility)):(c.filterData=void 0,Ie(O))}hasTreeNode(c,C=this.root){if(!c||0===c.length)return!0;const[O,...ee]=c;return!(O<0||O>C.children.length)&&this.hasTreeNode(ee,C.children[O])}getTreeNode(c,C=this.root){if(!c||0===c.length)return C;const[O,...ee]=c;if(O<0||O>C.children.length)throw new W(this.user,"Invalid tree location");return this.getTreeNode(ee,C.children[O])}getTreeNodeWithListIndex(c){if(0===c.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:C,listIndex:O,revealed:ee,visible:de}=this.getParentNodeWithListIndex(c),oe=c[c.length-1];if(oe<0||oe>C.children.length)throw new W(this.user,"Invalid tree location");const Qe=C.children[oe];return{node:Qe,listIndex:O,revealed:ee,visible:de&&Qe.visible}}getParentNodeWithListIndex(c,C=this.root,O=0,ee=!0,de=!0){const[oe,...Qe]=c;if(oe<0||oe>C.children.length)throw new W(this.user,"Invalid tree location");for(let et=0;et<oe;et++)O+=C.children[et].renderNodeCount;return ee=ee&&!C.collapsed,de=de&&C.visible,0===Qe.length?{parentNode:C,listIndex:O,revealed:ee,visible:de}:this.getParentNodeWithListIndex(Qe,C.children[oe],O+1,ee,de)}getNode(c=[]){return this.getTreeNode(c)}getNodeLocation(c){const C=[];let O=c;for(;O.parent;)C.push(O.parent.children.indexOf(O)),O=O.parent;return C.reverse()}getParentNodeLocation(c){if(0!==c.length)return 1===c.length?[]:(0,h.JH)(c)[0]}getFirstElementChild(c){const C=this.getTreeNode(c);if(0!==C.children.length)return C.children[0].element}}var X=m(2450),pe=m(2399),re=m(1979),ne=m(8829),ce=m(8972),we=(m(5598),m(402));class He extends H.kX{constructor(c){super(c.elements.map(C=>C.element)),this.data=c}}function lt($e){return $e instanceof H.kX?new He($e):$e}class ut{constructor(c,C){this.modelProvider=c,this.dnd=C,this.autoExpandDisposable=R.JT.None}getDragURI(c){return this.dnd.getDragURI(c.element)}getDragLabel(c,C){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(c.map(O=>O.element),C)}onDragStart(c,C){this.dnd.onDragStart&&this.dnd.onDragStart(lt(c),C)}onDragOver(c,C,O,ee,de=!0){const oe=this.dnd.onDragOver(lt(c),C&&C.element,O,ee),Qe=this.autoExpandNode!==C;if(Qe&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=C),void 0===C)return oe;if(Qe&&"boolean"!=typeof oe&&oe.autoExpand&&(this.autoExpandDisposable=(0,he.Vg)(()=>{const Yt=this.modelProvider(),nt=Yt.getNodeLocation(C);Yt.isCollapsed(nt)&&Yt.setCollapsed(nt,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof oe||!oe.accept||void 0===oe.bubble||oe.feedback)return de?oe:{accept:"boolean"==typeof oe?oe:oe.accept,effect:"boolean"==typeof oe?void 0:oe.effect,feedback:[O]};if(1===oe.bubble){const Yt=this.modelProvider(),nt=Yt.getNodeLocation(C),Le=Yt.getParentNodeLocation(nt),De=Yt.getNode(Le),Fe=Le&&Yt.getListIndex(Le);return this.onDragOver(c,De,Fe,ee,!1)}const et=this.modelProvider(),xt=et.getNodeLocation(C),It=et.getListIndex(xt),Ft=et.getListRenderCount(xt);return Object.assign(Object.assign({},oe),{feedback:(0,h.w6)(It,It+Ft)})}drop(c,C,O,ee){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(lt(c),C&&C.element,O,ee)}onDragEnd(c){this.dnd.onDragEnd&&this.dnd.onDragEnd(c)}}class ct{constructor(c){this.delegate=c}getHeight(c){return this.delegate.getHeight(c.element)}getTemplateId(c){return this.delegate.getTemplateId(c.element)}hasDynamicHeight(c){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(c.element)}setDynamicHeight(c,C){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(c.element,C)}}var Nt=(()=>{return($e=Nt||(Nt={})).None="none",$e.OnHover="onHover",$e.Always="always",Nt;var $e})();class un{constructor(c,C=[]){this._elements=C,this.onDidChange=k.ju.forEach(c,O=>this._elements=O)}get elements(){return this._elements}}let Jt=(()=>{class $e{constructor(C,O,ee,de,oe={}){this.renderer=C,this.modelProvider=O,this.activeNodes=de,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=$e.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new pe.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=R.JT.None,this.disposables=new R.SL,this.templateId=C.templateId,this.updateOptions(oe),k.ju.map(ee,Qe=>Qe.node)(this.onDidChangeNodeTwistieState,this,this.disposables),C.onDidChangeTwistieState&&C.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(C={}){if(void 0!==C.indent&&(this.indent=(0,ne.uZ)(C.indent,0,40)),void 0!==C.renderIndentGuides){const O=C.renderIndentGuides!==Nt.None;if(O!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=O,this.indentGuidesDisposable.dispose(),O)){const ee=new R.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,ee),this.indentGuidesDisposable=ee,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==C.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=C.hideTwistiesOfChildlessElements)}renderTemplate(C){const O=(0,v.R3)(C,(0,v.$)(".monaco-tl-row")),ee=(0,v.R3)(O,(0,v.$)(".monaco-tl-indent")),de=(0,v.R3)(O,(0,v.$)(".monaco-tl-twistie")),oe=(0,v.R3)(O,(0,v.$)(".monaco-tl-contents")),Qe=this.renderer.renderTemplate(oe);return{container:C,indent:ee,twistie:de,indentGuidesDisposable:R.JT.None,templateData:Qe}}renderElement(C,O,ee,de){"number"==typeof de&&(this.renderedNodes.set(C,{templateData:ee,height:de}),this.renderedElements.set(C.element,C));const oe=$e.DefaultIndent+(C.depth-1)*this.indent;ee.twistie.style.paddingLeft=`${oe}px`,ee.indent.style.width=oe+this.indent-16+"px",this.renderTwistie(C,ee),"number"==typeof de&&this.renderIndentGuides(C,ee),this.renderer.renderElement(C,O,ee.templateData,de)}disposeElement(C,O,ee,de){ee.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(C,O,ee.templateData,de),"number"==typeof de&&(this.renderedNodes.delete(C),this.renderedElements.delete(C.element))}disposeTemplate(C){this.renderer.disposeTemplate(C.templateData)}onDidChangeTwistieState(C){const O=this.renderedElements.get(C);!O||this.onDidChangeNodeTwistieState(O)}onDidChangeNodeTwistieState(C){const O=this.renderedNodes.get(C);!O||(this.renderTwistie(C,O.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(C,O.templateData))}renderTwistie(C,O){O.twistie.classList.remove(...X.lA.treeItemExpanded.classNamesArray);let ee=!1;this.renderer.renderTwistie&&(ee=this.renderer.renderTwistie(C.element,O.twistie)),C.collapsible&&(!this.hideTwistiesOfChildlessElements||C.visibleChildrenCount>0)?(ee||O.twistie.classList.add(...X.lA.treeItemExpanded.classNamesArray),O.twistie.classList.add("collapsible"),O.twistie.classList.toggle("collapsed",C.collapsed)):O.twistie.classList.remove("collapsible","collapsed"),C.collapsible?O.container.setAttribute("aria-expanded",String(!C.collapsed)):O.container.removeAttribute("aria-expanded")}renderIndentGuides(C,O){if((0,v.PO)(O.indent),O.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const ee=new R.SL,de=this.modelProvider();let oe=C;for(;;){const Qe=de.getNodeLocation(oe),et=de.getParentNodeLocation(Qe);if(!et)break;const xt=de.getNode(et),It=(0,v.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(xt)&&It.classList.add("active"),0===O.indent.childElementCount?O.indent.appendChild(It):O.indent.insertBefore(It,O.indent.firstElementChild),this.renderedIndentGuides.add(xt,It),ee.add((0,R.OF)(()=>this.renderedIndentGuides.delete(xt,It))),oe=xt}O.indentGuidesDisposable=ee}_onDidChangeActiveNodes(C){if(!this.shouldRenderIndentGuides)return;const O=new Set,ee=this.modelProvider();C.forEach(de=>{const oe=ee.getNodeLocation(de);try{const Qe=ee.getParentNodeLocation(oe);de.collapsible&&de.children.length>0&&!de.collapsed?O.add(de):Qe&&O.add(ee.getNode(Qe))}catch(Qe){}}),this.activeIndentNodes.forEach(de=>{O.has(de)||this.renderedIndentGuides.forEach(de,oe=>oe.classList.remove("active"))}),O.forEach(de=>{this.activeIndentNodes.has(de)||this.renderedIndentGuides.forEach(de,oe=>oe.classList.add("active"))}),this.activeIndentNodes=O}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,R.B9)(this.disposables)}}return $e.DefaultIndent=8,$e})();class St{constructor(c,C,O){this.tree=c,this.keyboardNavigationLabelProvider=C,this._filter=O,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new R.SL,c.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(c){this._pattern=c,this._lowercasePattern=c.toLowerCase()}filter(c,C){if(this._filter){const de=this._filter.filter(c,C);if(this.tree.options.simpleKeyboardNavigation)return de;let oe;if(oe="boolean"==typeof de?de?1:0:Se(de)?Ie(de.visibility):de,0===oe)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:re.CL.Default,visibility:!0};const O=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(c),ee=Array.isArray(O)?O:[O];for(const de of ee){const oe=de&&de.toString();if(void 0===oe)return{data:re.CL.Default,visibility:!0};const Qe=(0,re.EW)(this._pattern,this._lowercasePattern,0,oe,oe.toLowerCase(),0,!0);if(Qe)return this._matchCount++,1===ee.length?{data:Qe,visibility:!0}:{data:{label:oe,score:Qe},visibility:!0}}return this.tree.options.filterOnType?2:{data:re.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,R.B9)(this.disposables)}}class en{constructor(c,C,O,ee,de){this.tree=c,this.view=O,this.filter=ee,this.keyboardNavigationDelegate=de,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new k.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new k.Q5,this.enabledDisposables=new R.SL,this.disposables=new R.SL,this.domNode=(0,v.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,v.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,v.R3)(O.getHTMLElement(),(0,v.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,v.R3)(this.domNode,(0,v.$)("span.label"));const oe=(0,v.R3)(this.domNode,(0,v.$)(".controls"));this._filterOnType=!!c.options.filterOnType,this.filterOnTypeDomNode=(0,v.R3)(oe,(0,v.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,v.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,v.R3)(oe,(0,v.$)("button.clear"+X.lA.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,we.N)("clear","Clear"),this.keyboardNavigationEventFilter=c.options.keyboardNavigationEventFilter,C.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(c.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(c){c.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==c.filterOnType&&(this._filterOnType=!!c.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==c.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=c.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const c=this.enabledDisposables.add(new N.Y(this.view.getHTMLElement(),"keydown")),C=k.ju.chain(c.event).filter(ee=>!(0,j.cK)(ee.target)||ee.target===this.filterOnTypeDomNode).filter(ee=>"Dead"!==ee.key&&!/^Media/.test(ee.key)).map(ee=>new M.y(ee)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(ee=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(ee)&&!(18===ee.keyCode||16===ee.keyCode||15===ee.keyCode||17===ee.keyCode)||(this.pattern.length>0||this.triggered)&&(9===ee.keyCode||1===ee.keyCode)&&!ee.altKey&&!ee.ctrlKey&&!ee.metaKey||1===ee.keyCode&&(ce.dz?ee.altKey&&!ee.metaKey:ee.ctrlKey)&&!ee.shiftKey).forEach(ee=>{ee.stopPropagation(),ee.preventDefault()}).event,O=this.enabledDisposables.add(new N.Y(this.clearDomNode,"click"));k.ju.chain(k.ju.any(C,O.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(c){"string"==typeof c?this.onInput(c):c instanceof MouseEvent||9===c.keyCode||1===c.keyCode&&(ce.dz?c.altKey:c.ctrlKey)?this.onInput(""):this.onInput(1===c.keyCode?0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1):this.pattern+c.browserEvent.key)}onInput(c){const C=this.view.getHTMLElement();c&&!this.domNode.parentElement?C.append(this.domNode):!c&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=c,this._onDidChangePattern.fire(c),this.filter.pattern=c,this.tree.refilter(),c&&this.tree.focusNext(0,!0,void 0,ee=>!re.CL.isDefault(ee.filterData));const O=this.tree.getFocus();if(O.length>0){const ee=O[0];null===this.tree.getRelativeTop(ee)&&this.tree.reveal(ee,.5)}this.render(),c||(this.triggered=!1)}onDragStart(){const c=this.view.getHTMLElement(),{left:C}=(0,v.i)(c),O=c.clientWidth,ee=O/2,de=this.domNode.clientWidth,oe=new R.SL;let Qe=this.positionClassName;const et=()=>{switch(Qe){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=O-de-6+"px"}},It=()=>{this.positionClassName=Qe,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,R.B9)(oe)};et(),this.domNode.classList.remove(Qe),this.domNode.classList.add("dragging"),oe.add((0,R.OF)(()=>this.domNode.classList.remove("dragging"))),oe.add((0,v.nm)(document,"dragover",Ft=>(Ft=>{Ft.preventDefault();const Yt=Ft.clientX-C;Ft.dataTransfer&&(Ft.dataTransfer.dropEffect="none"),Qe=Yt<ee?"nw":"ne",et()})(Ft))),oe.add((0,v.nm)(this.domNode,"dragend",()=>It())),K.P$.CurrentDragAndDropData=new K.TN("vscode-ui"),oe.add((0,R.OF)(()=>K.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||0===this.pattern.length||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...X.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...X.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,we.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...X.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...X.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,we.N)("enable filter on type","Enable Filter on Type"))}render(){const c=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&c?(this.messageDomNode.textContent=(0,we.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",c),this.domNode.title=(0,we.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(c){return!(this.enabled&&this.pattern&&!this.filterOnType&&!(this.filter.totalCount>0&&this.filter.matchCount<=1)&&re.CL.isDefault(c.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,R.B9)(this.disposables)}}function pn($e){let c=P.Unknown;return(0,v.uU)($e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?c=P.Twistie:(0,v.uU)($e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(c=P.Element),{browserEvent:$e.browserEvent,element:$e.element?$e.element.element:null,target:c}}function Xt($e,c){c($e),$e.children.forEach(C=>Xt(C,c))}class ze{constructor(c,C){this.getFirstViewElementWithTrait=c,this.identityProvider=C,this.nodes=[],this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(c,C){!(null==C?void 0:C.__forceEvent)&&(0,h.fS)(this.nodes,c)||this._set(c,!1,C)}_set(c,C,O){if(this.nodes=[...c],this.elements=void 0,this._nodeSet=void 0,!C){const ee=this;this._onDidChange.fire({get elements(){return ee.get()},browserEvent:O})}}get(){return this.elements||(this.elements=this.nodes.map(c=>c.element)),[...this.elements]}getNodes(){return this.nodes}has(c){return this.nodeSet.has(c)}onDidModelSplice({insertedNodes:c,deletedNodes:C}){if(!this.identityProvider){const et=this.createNodeSet(),xt=It=>et.delete(It);return C.forEach(It=>Xt(It,xt)),void this.set([...et.values()])}const O=new Set,ee=et=>O.add(this.identityProvider.getId(et.element).toString());C.forEach(et=>Xt(et,ee));const de=new Map,oe=et=>de.set(this.identityProvider.getId(et.element).toString(),et);c.forEach(et=>Xt(et,oe));const Qe=[];for(const et of this.nodes){const xt=this.identityProvider.getId(et.element).toString();if(O.has(xt)){const Ft=de.get(xt);Ft&&Qe.push(Ft)}else Qe.push(et)}if(this.nodes.length>0&&0===Qe.length){const et=this.getFirstViewElementWithTrait();et&&Qe.push(et)}this._set(Qe,!0)}createNodeSet(){const c=new Set;for(const C of this.nodes)c.add(C);return c}}class At extends j.sx{constructor(c,C){super(c),this.tree=C}onViewPointer(c){if((0,j.cK)(c.browserEvent.target)||(0,j.hD)(c.browserEvent.target))return;const C=c.element;if(!C)return super.onViewPointer(c);if(this.isSelectionRangeChangeEvent(c)||this.isSelectionSingleChangeEvent(c))return super.onViewPointer(c);const O=c.browserEvent.target,ee=O.classList.contains("monaco-tl-twistie")||O.classList.contains("monaco-icon-label")&&O.classList.contains("folder-icon")&&c.browserEvent.offsetX<16;let de=!1;if(de="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(C.element):!!this.tree.expandOnlyOnTwistieClick,de&&!ee&&2!==c.browserEvent.detail)return super.onViewPointer(c);if(!this.tree.expandOnDoubleClick&&2===c.browserEvent.detail)return super.onViewPointer(c);if(C.collapsible){const oe=this.tree.model,Qe=oe.getNodeLocation(C),et=c.browserEvent.altKey;if(this.tree.setFocus([Qe]),oe.setCollapsed(Qe,void 0,et),de&&ee)return}super.onViewPointer(c)}onDoubleClick(c){c.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(c)}}class Kt extends j.aV{constructor(c,C,O,ee,de,oe,Qe,et){super(c,C,O,ee,et),this.focusTrait=de,this.selectionTrait=oe,this.anchorTrait=Qe}createMouseController(c){return new At(this,c.tree)}splice(c,C,O=[]){if(super.splice(c,C,O),0===O.length)return;const ee=[],de=[];let oe;O.forEach((Qe,et)=>{this.focusTrait.has(Qe)&&ee.push(c+et),this.selectionTrait.has(Qe)&&de.push(c+et),this.anchorTrait.has(Qe)&&(oe=c+et)}),ee.length>0&&super.setFocus((0,h.EB)([...super.getFocus(),...ee])),de.length>0&&super.setSelection((0,h.EB)([...super.getSelection(),...de])),"number"==typeof oe&&super.setAnchor(oe)}setFocus(c,C,O=!1){super.setFocus(c,C),O||this.focusTrait.set(c.map(ee=>this.element(ee)),C)}setSelection(c,C,O=!1){super.setSelection(c,C),O||this.selectionTrait.set(c.map(ee=>this.element(ee)),C)}setAnchor(c,C=!1){super.setAnchor(c),C||this.anchorTrait.set(void 0===c?[]:[this.element(c)])}}class nn{constructor(c,C,O,ee,de={}){this._user=c,this._options=de,this.eventBufferer=new k.E7,this.disposables=new R.SL,this._onWillRefilter=new k.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new k.Q5;const oe=new ct(O),Qe=new k.ZD,et=new k.ZD,xt=new un(et.event);this.renderers=ee.map(Yt=>new Jt(Yt,()=>this.model,Qe.event,xt,de));for(let Yt of this.renderers)this.disposables.add(Yt);let It;de.keyboardNavigationLabelProvider&&(It=new St(this,de.keyboardNavigationLabelProvider,de.filter),de=Object.assign(Object.assign({},de),{filter:It}),this.disposables.add(It)),this.focus=new ze(()=>this.view.getFocusedElements()[0],de.identityProvider),this.selection=new ze(()=>this.view.getSelectedElements()[0],de.identityProvider),this.anchor=new ze(()=>this.view.getAnchorElement(),de.identityProvider),this.view=new Kt(c,C,oe,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function Ve($e,c){return c&&Object.assign(Object.assign({},c),{identityProvider:c.identityProvider&&{getId:C=>c.identityProvider.getId(C.element)},dnd:c.dnd&&new ut($e,c.dnd),multipleSelectionController:c.multipleSelectionController&&{isSelectionSingleChangeEvent:C=>c.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},C),{element:C.element})),isSelectionRangeChangeEvent:C=>c.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},C),{element:C.element}))},accessibilityProvider:c.accessibilityProvider&&Object.assign(Object.assign({},c.accessibilityProvider),{getSetSize(C){const O=$e(),ee=O.getNodeLocation(C),de=O.getParentNodeLocation(ee);return O.getNode(de).visibleChildrenCount},getPosInSet:C=>C.visibleChildIndex+1,isChecked:c.accessibilityProvider&&c.accessibilityProvider.isChecked?C=>c.accessibilityProvider.isChecked(C.element):void 0,getRole:c.accessibilityProvider&&c.accessibilityProvider.getRole?C=>c.accessibilityProvider.getRole(C.element):()=>"treeitem",getAriaLabel:C=>c.accessibilityProvider.getAriaLabel(C.element),getWidgetAriaLabel:()=>c.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:c.accessibilityProvider&&c.accessibilityProvider.getWidgetRole?()=>c.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:c.accessibilityProvider&&c.accessibilityProvider.getAriaLevel?C=>c.accessibilityProvider.getAriaLevel(C.element):C=>C.depth,getActiveDescendantId:c.accessibilityProvider.getActiveDescendantId&&(C=>c.accessibilityProvider.getActiveDescendantId(C.element))}),keyboardNavigationLabelProvider:c.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},c.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:C=>c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(C.element)}),enableKeyboardNavigation:c.simpleKeyboardNavigation})}(()=>this.model,de)),{tree:this})),this.model=this.createModel(c,this.view,de),Qe.input=this.model.onDidChangeCollapseState;const Ft=k.ju.forEach(this.model.onDidSplice,Yt=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Yt),this.selection.onDidModelSplice(Yt)})});if(Ft(()=>null,null,this.disposables),et.input=k.ju.chain(k.ju.any(Ft,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Yt=new Set;for(const nt of this.focus.getNodes())Yt.add(nt);for(const nt of this.selection.getNodes())Yt.add(nt);return[...Yt.values()]}).event,!1!==de.keyboardSupport){const Yt=k.ju.chain(this.view.onKeyDown).filter(nt=>!(0,j.cK)(nt.target)).map(nt=>new M.y(nt));Yt.filter(nt=>15===nt.keyCode).on(this.onLeftArrow,this,this.disposables),Yt.filter(nt=>17===nt.keyCode).on(this.onRightArrow,this,this.disposables),Yt.filter(nt=>10===nt.keyCode).on(this.onSpace,this,this.disposables)}de.keyboardNavigationLabelProvider&&(this.typeFilterController=new en(this,this.model,this.view,It,de.keyboardNavigationDelegate||j.WK),this.focusNavigationFilter=nt=>this.typeFilterController.shouldAllowFocus(nt),this.disposables.add(this.typeFilterController)),this.styleElement=(0,v.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Nt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return k.ju.map(this.view.onMouseDblClick,pn)}get onPointer(){return k.ju.map(this.view.onPointer,pn)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return k.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(c={}){this._options=Object.assign(Object.assign({},this._options),c);for(const C of this.renderers)C.updateOptions(c);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Nt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(c){this.view.scrollTop=c}domFocus(){this.view.domFocus()}layout(c,C){this.view.layout(c,C)}style(c){const C=`.${this.view.domId}`,O=[];c.treeIndentGuidesStroke&&(O.push(`.monaco-list${C}:hover .monaco-tl-indent > .indent-guide, .monaco-list${C}.always .monaco-tl-indent > .indent-guide  { border-color: ${c.treeIndentGuidesStroke.transparent(.4)}; }`),O.push(`.monaco-list${C} .monaco-tl-indent > .indent-guide.active { border-color: ${c.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=O.join("\n"),this.view.style(c)}getParentElement(c){const C=this.model.getParentNodeLocation(c);return this.model.getNode(C).element}getFirstElementChild(c){return this.model.getFirstElementChild(c)}getNode(c){return this.model.getNode(c)}collapse(c,C=!1){return this.model.setCollapsed(c,!0,C)}expand(c,C=!1){return this.model.setCollapsed(c,!1,C)}isCollapsible(c){return this.model.isCollapsible(c)}setCollapsible(c,C){return this.model.setCollapsible(c,C)}isCollapsed(c){return this.model.isCollapsed(c)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(c,C){const O=c.map(de=>this.model.getNode(de));this.selection.set(O,C);const ee=c.map(de=>this.model.getListIndex(de)).filter(de=>de>-1);this.view.setSelection(ee,C,!0)}getSelection(){return this.selection.get()}setFocus(c,C){const O=c.map(de=>this.model.getNode(de));this.focus.set(O,C);const ee=c.map(de=>this.model.getListIndex(de)).filter(de=>de>-1);this.view.setFocus(ee,C,!0)}focusNext(c=1,C=!1,O,ee=this.focusNavigationFilter){this.view.focusNext(c,C,O,ee)}getFocus(){return this.focus.get()}reveal(c,C){this.model.expandTo(c);const O=this.model.getListIndex(c);-1!==O&&this.view.reveal(O,C)}getRelativeTop(c){const C=this.model.getListIndex(c);return-1===C?null:this.view.getRelativeTop(C)}onLeftArrow(c){c.preventDefault(),c.stopPropagation();const C=this.view.getFocusedElements();if(0===C.length)return;const ee=this.model.getNodeLocation(C[0]);if(!this.model.setCollapsed(ee,!0)){const oe=this.model.getParentNodeLocation(ee);if(!oe)return;const Qe=this.model.getListIndex(oe);this.view.reveal(Qe),this.view.setFocus([Qe])}}onRightArrow(c){c.preventDefault(),c.stopPropagation();const C=this.view.getFocusedElements();if(0===C.length)return;const O=C[0],ee=this.model.getNodeLocation(O);if(!this.model.setCollapsed(ee,!1)){if(!O.children.some(et=>et.visible))return;const[oe]=this.view.getFocus(),Qe=oe+1;this.view.reveal(Qe),this.view.setFocus([Qe])}}onSpace(c){c.preventDefault(),c.stopPropagation();const C=this.view.getFocusedElements();if(0===C.length)return;const ee=this.model.getNodeLocation(C[0]);this.model.setCollapsed(ee,void 0,c.browserEvent.altKey)}dispose(){(0,R.B9)(this.disposables),this.view.dispose()}}class Mn{constructor(c,C,O={}){this.user=c,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new $(c,C,null,O),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,O.sorter&&(this.sorter={compare:(ee,de)=>O.sorter.compare(ee.element,de.element)}),this.identityProvider=O.identityProvider}setChildren(c,C=fe.$.empty(),O={}){const ee=this.getElementLocation(c);this._setChildren(ee,this.preserveCollapseState(C),O)}_setChildren(c,C=fe.$.empty(),O){const ee=new Set,de=new Set;this.model.splice([...c,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},O),{onDidCreateNode:et=>{var xt;if(null===et.element)return;const It=et;if(ee.add(It.element),this.nodes.set(It.element,It),this.identityProvider){const Ft=this.identityProvider.getId(It.element).toString();de.add(Ft),this.nodesByIdentity.set(Ft,It)}null===(xt=O.onDidCreateNode)||void 0===xt||xt.call(O,It)},onDidDeleteNode:et=>{var xt;if(null===et.element)return;const It=et;if(ee.has(It.element)||this.nodes.delete(It.element),this.identityProvider){const Ft=this.identityProvider.getId(It.element).toString();de.has(Ft)||this.nodesByIdentity.delete(Ft)}null===(xt=O.onDidDeleteNode)||void 0===xt||xt.call(O,It)}}))}preserveCollapseState(c=fe.$.empty()){return this.sorter&&(c=[...c].sort(this.sorter.compare.bind(this.sorter))),fe.$.map(c,C=>{let O=this.nodes.get(C.element);if(!O&&this.identityProvider){const oe=this.identityProvider.getId(C.element).toString();O=this.nodesByIdentity.get(oe)}if(!O)return Object.assign(Object.assign({},C),{children:this.preserveCollapseState(C.children)});const ee="boolean"==typeof C.collapsible?C.collapsible:O.collapsible,de=void 0!==C.collapsed?C.collapsed:O.collapsed;return Object.assign(Object.assign({},C),{collapsible:ee,collapsed:de,children:this.preserveCollapseState(C.children)})})}rerender(c){const C=this.getElementLocation(c);this.model.rerender(C)}getFirstElementChild(c=null){const C=this.getElementLocation(c);return this.model.getFirstElementChild(C)}has(c){return this.nodes.has(c)}getListIndex(c){const C=this.getElementLocation(c);return this.model.getListIndex(C)}getListRenderCount(c){const C=this.getElementLocation(c);return this.model.getListRenderCount(C)}isCollapsible(c){const C=this.getElementLocation(c);return this.model.isCollapsible(C)}setCollapsible(c,C){const O=this.getElementLocation(c);return this.model.setCollapsible(O,C)}isCollapsed(c){const C=this.getElementLocation(c);return this.model.isCollapsed(C)}setCollapsed(c,C,O){const ee=this.getElementLocation(c);return this.model.setCollapsed(ee,C,O)}expandTo(c){const C=this.getElementLocation(c);this.model.expandTo(C)}refilter(){this.model.refilter()}getNode(c=null){if(null===c)return this.model.getNode(this.model.rootRef);const C=this.nodes.get(c);if(!C)throw new W(this.user,`Tree element not found: ${c}`);return C}getNodeLocation(c){return c.element}getParentNodeLocation(c){if(null===c)throw new W(this.user,"Invalid getParentNodeLocation call");const C=this.nodes.get(c);if(!C)throw new W(this.user,`Tree element not found: ${c}`);const O=this.model.getNodeLocation(C),ee=this.model.getParentNodeLocation(O);return this.model.getNode(ee).element}getElementLocation(c){if(null===c)return[];const C=this.nodes.get(c);if(!C)throw new W(this.user,`Tree element not found: ${c}`);return this.model.getNodeLocation(C)}}function Nn($e){return{element:{elements:[$e.element],incompressible:$e.incompressible||!1},children:fe.$.map(fe.$.from($e.children),Nn),collapsible:$e.collapsible,collapsed:$e.collapsed}}function yt($e){const c=[$e.element],C=$e.incompressible||!1;let O,ee;for(;[ee,O]=fe.$.consume(fe.$.from($e.children),2),1===ee.length&&!ee[0].incompressible;)c.push(($e=ee[0]).element);return{element:{elements:c,incompressible:C},children:fe.$.map(fe.$.concat(ee,O),yt),collapsible:$e.collapsible,collapsed:$e.collapsed}}function Ht($e,c=0){let C;return C=c<$e.element.elements.length-1?[Ht($e,c+1)]:fe.$.map(fe.$.from($e.children),O=>Ht(O,0)),0===c&&$e.element.incompressible?{element:$e.element.elements[c],children:C,incompressible:!0,collapsible:$e.collapsible,collapsed:$e.collapsed}:{element:$e.element.elements[c],children:C,collapsible:$e.collapsible,collapsed:$e.collapsed}}function jt($e){return Ht($e,0)}function _n($e,c,C){return Object.assign(Object.assign({},$e),$e.element===c?{children:C}:{children:fe.$.map(fe.$.from($e.children),O=>_n(O,c,C))})}class it{constructor(c,C,O={}){this.user=c,this.rootRef=null,this.nodes=new Map,this.model=new Mn(c,C,O),this.enabled=void 0===O.compressionEnabled||O.compressionEnabled,this.identityProvider=O.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(c,C=fe.$.empty(),O){const ee=O.diffIdentityProvider&&($e=O.diffIdentityProvider,{getId:c=>c.elements.map(C=>$e.getId(C).toString()).join("\0")});var $e;if(null===c){const nt=fe.$.map(C,this.enabled?yt:Nn);return void this._setChildren(null,nt,{diffIdentityProvider:ee,diffDepth:1/0})}const de=this.nodes.get(c);if(!de)throw new Error("Unknown compressed tree node");const oe=this.model.getNode(de),Qe=this.model.getParentNodeLocation(de),et=this.model.getNode(Qe),It=_n(jt(oe),c,C),Ft=(this.enabled?yt:Nn)(It),Yt=et.children.map(nt=>nt===oe?Ft:nt);this._setChildren(et.element,Yt,{diffIdentityProvider:ee,diffDepth:oe.depth-et.depth})}setCompressionEnabled(c){if(c===this.enabled)return;this.enabled=c;const O=this.model.getNode().children,ee=fe.$.map(O,jt),de=fe.$.map(ee,c?yt:Nn);this._setChildren(null,de,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(c,C,O){const ee=new Set;this.model.setChildren(c,C,Object.assign(Object.assign({},O),{onDidCreateNode:Qe=>{for(const et of Qe.element.elements)ee.add(et),this.nodes.set(et,Qe.element)},onDidDeleteNode:Qe=>{for(const et of Qe.element.elements)ee.has(et)||this.nodes.delete(et)}}))}has(c){return this.nodes.has(c)}getListIndex(c){const C=this.getCompressedNode(c);return this.model.getListIndex(C)}getListRenderCount(c){const C=this.getCompressedNode(c);return this.model.getListRenderCount(C)}getNode(c){if(void 0===c)return this.model.getNode();const C=this.getCompressedNode(c);return this.model.getNode(C)}getNodeLocation(c){const C=this.model.getNodeLocation(c);return null===C?null:C.elements[C.elements.length-1]}getParentNodeLocation(c){const C=this.getCompressedNode(c),O=this.model.getParentNodeLocation(C);return null===O?null:O.elements[O.elements.length-1]}getFirstElementChild(c){const C=this.getCompressedNode(c);return this.model.getFirstElementChild(C)}isCollapsible(c){const C=this.getCompressedNode(c);return this.model.isCollapsible(C)}setCollapsible(c,C){const O=this.getCompressedNode(c);return this.model.setCollapsible(O,C)}isCollapsed(c){const C=this.getCompressedNode(c);return this.model.isCollapsed(C)}setCollapsed(c,C,O){const ee=this.getCompressedNode(c);return this.model.setCollapsed(ee,C,O)}expandTo(c){const C=this.getCompressedNode(c);this.model.expandTo(C)}rerender(c){const C=this.getCompressedNode(c);this.model.rerender(C)}refilter(){this.model.refilter()}getCompressedNode(c){if(null===c)return null;const C=this.nodes.get(c);if(!C)throw new W(this.user,`Tree element not found: ${c}`);return C}}const $t=$e=>$e[$e.length-1];class bt{constructor(c,C){this.unwrapper=c,this.node=C}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(c=>new bt(this.unwrapper,c))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class vn{constructor(c,C,O={}){this.rootRef=null,this.elementMapper=O.elementMapper||$t;const ee=de=>this.elementMapper(de.elements);this.nodeMapper=new J(de=>new bt(ee,de)),this.model=new it(c,function Zt($e,c){return{splice(C,O,ee){c.splice(C,O,ee.map(de=>$e.map(de)))},updateElementHeight(C,O){c.updateElementHeight(C,O)}}}(this.nodeMapper,C),function Rn($e,c){return Object.assign(Object.assign({},c),{identityProvider:c.identityProvider&&{getId:C=>c.identityProvider.getId($e(C))},sorter:c.sorter&&{compare:(C,O)=>c.sorter.compare(C.elements[0],O.elements[0])},filter:c.filter&&{filter:(C,O)=>c.filter.filter($e(C),O)}})}(ee,O))}get onDidSplice(){return k.ju.map(this.model.onDidSplice,({insertedNodes:c,deletedNodes:C})=>({insertedNodes:c.map(O=>this.nodeMapper.map(O)),deletedNodes:C.map(O=>this.nodeMapper.map(O))}))}get onDidChangeCollapseState(){return k.ju.map(this.model.onDidChangeCollapseState,({node:c,deep:C})=>({node:this.nodeMapper.map(c),deep:C}))}get onDidChangeRenderNodeCount(){return k.ju.map(this.model.onDidChangeRenderNodeCount,c=>this.nodeMapper.map(c))}setChildren(c,C=fe.$.empty(),O={}){this.model.setChildren(c,C,O)}setCompressionEnabled(c){this.model.setCompressionEnabled(c)}has(c){return this.model.has(c)}getListIndex(c){return this.model.getListIndex(c)}getListRenderCount(c){return this.model.getListRenderCount(c)}getNode(c){return this.nodeMapper.map(this.model.getNode(c))}getNodeLocation(c){return c.element}getParentNodeLocation(c){return this.model.getParentNodeLocation(c)}getFirstElementChild(c){const C=this.model.getFirstElementChild(c);return null==C?C:this.elementMapper(C.elements)}isCollapsible(c){return this.model.isCollapsible(c)}setCollapsible(c,C){return this.model.setCollapsible(c,C)}isCollapsed(c){return this.model.isCollapsed(c)}setCollapsed(c,C,O){return this.model.setCollapsed(c,C,O)}expandTo(c){return this.model.expandTo(c)}rerender(c){return this.model.rerender(c)}refilter(){return this.model.refilter()}getCompressedTreeNode(c=null){return this.model.getNode(c)}}var Wn=m(87);class ei extends nn{constructor(c,C,O,ee,de={}){super(c,C,O,ee,de),this.user=c}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(c,C=fe.$.empty(),O){this.model.setChildren(c,C,O)}rerender(c){void 0!==c?this.model.rerender(c):this.view.rerender()}hasElement(c){return this.model.has(c)}createModel(c,C,O){return new Mn(c,C,O)}}class dt{constructor(c,C){this._compressedTreeNodeProvider=c,this.renderer=C,this.templateId=C.templateId,C.onDidChangeTwistieState&&(this.onDidChangeTwistieState=C.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(c){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(c)}}renderElement(c,C,O,ee){const de=this.compressedTreeNodeProvider.getCompressedTreeNode(c.element);1===de.element.elements.length?(O.compressedTreeNode=void 0,this.renderer.renderElement(c,C,O.data,ee)):(O.compressedTreeNode=de,this.renderer.renderCompressedElements(de,C,O.data,ee))}disposeElement(c,C,O,ee){O.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(O.compressedTreeNode,C,O.data,ee):this.renderer.disposeElement&&this.renderer.disposeElement(c,C,O.data,ee)}disposeTemplate(c){this.renderer.disposeTemplate(c.data)}renderTwistie(c,C){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(c,C)}}!function($e,c,C,O){var oe,ee=arguments.length,de=ee<3?c:null===O?O=Object.getOwnPropertyDescriptor(c,C):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate($e,c,C,O);else for(var Qe=$e.length-1;Qe>=0;Qe--)(oe=$e[Qe])&&(de=(ee<3?oe(de):ee>3?oe(c,C,de):oe(c,C))||de);ee>3&&de&&Object.defineProperty(c,C,de)}([Wn.H],dt.prototype,"compressedTreeNodeProvider",null);class ft extends ei{constructor(c,C,O,ee,de={}){const oe=()=>this;super(c,C,O,ee.map(et=>new dt(oe,et)),function ke($e,c){return c&&Object.assign(Object.assign({},c),{keyboardNavigationLabelProvider:c.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(C){let O;try{O=$e().getCompressedTreeNode(C)}catch(ee){return c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(C)}return 1===O.element.elements.length?c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(C):c.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(O.element.elements)}}})}(oe,de))}setChildren(c,C=fe.$.empty(),O){this.model.setChildren(c,C,O)}createModel(c,C,O){return new vn(c,C,O)}updateOptions(c={}){super.updateOptions(c),void 0!==c.compressionEnabled&&this.model.setCompressionEnabled(c.compressionEnabled)}getCompressedTreeNode(c=null){return this.model.getCompressedTreeNode(c)}}var Me=m(3663),ot=function($e,c,C,O){return new(C||(C=Promise))(function(de,oe){function Qe(It){try{xt(O.next(It))}catch(Ft){oe(Ft)}}function et(It){try{xt(O.throw(It))}catch(Ft){oe(Ft)}}function xt(It){It.done?de(It.value):function ee(de){return de instanceof C?de:new C(function(oe){oe(de)})}(It.value).then(Qe,et)}xt((O=O.apply($e,c||[])).next())})};function on($e){return Object.assign(Object.assign({},$e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Tn($e,c){return!!c.parent&&(c.parent===$e||Tn($e,c.parent))}class xn{constructor(c){this.node=c}get element(){return this.node.element.element}get children(){return this.node.children.map(c=>new xn(c))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class rn{constructor(c,C,O){this.renderer=c,this.nodeMapper=C,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.templateId=c.templateId}renderTemplate(c){return{templateData:this.renderer.renderTemplate(c)}}renderElement(c,C,O,ee){this.renderer.renderElement(this.nodeMapper.map(c),C,O.templateData,ee)}renderTwistie(c,C){return c.slow?(C.classList.add(...X.lA.treeItemLoading.classNamesArray),!0):(C.classList.remove(...X.lA.treeItemLoading.classNamesArray),!1)}disposeElement(c,C,O,ee){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(c),C,O.templateData,ee)}disposeTemplate(c){this.renderer.disposeTemplate(c.templateData)}dispose(){this.renderedNodes.clear()}}function tn($e){return{browserEvent:$e.browserEvent,elements:$e.elements.map(c=>c.element)}}function bn($e){return{browserEvent:$e.browserEvent,element:$e.element&&$e.element.element,target:$e.target}}class mt extends H.kX{constructor(c){super(c.elements.map(C=>C.element)),this.data=c}}function Xe($e){return $e instanceof H.kX?new mt($e):$e}class Dn{constructor(c){this.dnd=c}getDragURI(c){return this.dnd.getDragURI(c.element)}getDragLabel(c,C){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(c.map(O=>O.element),C)}onDragStart(c,C){this.dnd.onDragStart&&this.dnd.onDragStart(Xe(c),C)}onDragOver(c,C,O,ee,de=!0){return this.dnd.onDragOver(Xe(c),C&&C.element,O,ee)}drop(c,C,O,ee){this.dnd.drop(Xe(c),C&&C.element,O,ee)}onDragEnd(c){this.dnd.onDragEnd&&this.dnd.onDragEnd(c)}}function An($e){return $e&&Object.assign(Object.assign({},$e),{collapseByDefault:!0,identityProvider:$e.identityProvider&&{getId:c=>$e.identityProvider.getId(c.element)},dnd:$e.dnd&&new Dn($e.dnd),multipleSelectionController:$e.multipleSelectionController&&{isSelectionSingleChangeEvent:c=>$e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},c),{element:c.element})),isSelectionRangeChangeEvent:c=>$e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},c),{element:c.element}))},accessibilityProvider:$e.accessibilityProvider&&Object.assign(Object.assign({},$e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:$e.accessibilityProvider.getRole?c=>$e.accessibilityProvider.getRole(c.element):()=>"treeitem",isChecked:$e.accessibilityProvider.isChecked?c=>{var C;return!!(null===(C=$e.accessibilityProvider)||void 0===C?void 0:C.isChecked(c.element))}:void 0,getAriaLabel:c=>$e.accessibilityProvider.getAriaLabel(c.element),getWidgetAriaLabel:()=>$e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:$e.accessibilityProvider.getWidgetRole?()=>$e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:$e.accessibilityProvider.getAriaLevel&&(c=>$e.accessibilityProvider.getAriaLevel(c.element)),getActiveDescendantId:$e.accessibilityProvider.getActiveDescendantId&&(c=>$e.accessibilityProvider.getActiveDescendantId(c.element))}),filter:$e.filter&&{filter:(c,C)=>$e.filter.filter(c.element,C)},keyboardNavigationLabelProvider:$e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},$e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:c=>$e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(c.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===$e.expandOnlyOnTwistieClick?void 0:"function"!=typeof $e.expandOnlyOnTwistieClick?$e.expandOnlyOnTwistieClick:c=>$e.expandOnlyOnTwistieClick(c.element),additionalScrollHeight:$e.additionalScrollHeight})}function Ye($e,c){c($e),$e.children.forEach(C=>Ye(C,c))}class Te{constructor(c,C,O,ee,de,oe={}){this.user=c,this.dataSource=de,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new k.Q5,this._onDidChangeNodeSlowState=new k.Q5,this.nodeMapper=new J(Qe=>new xn(Qe)),this.disposables=new R.SL,this.identityProvider=oe.identityProvider,this.autoExpandSingleChildren=void 0!==oe.autoExpandSingleChildren&&oe.autoExpandSingleChildren,this.sorter=oe.sorter,this.collapseByDefault=oe.collapseByDefault,this.tree=this.createTree(c,C,O,ee,oe),this.root=on({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return k.ju.map(this.tree.onDidChangeFocus,tn)}get onDidChangeSelection(){return k.ju.map(this.tree.onDidChangeSelection,tn)}get onMouseDblClick(){return k.ju.map(this.tree.onMouseDblClick,bn)}get onPointer(){return k.ju.map(this.tree.onPointer,bn)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(c,C,O,ee,de){const oe=new ct(O),Qe=ee.map(xt=>new rn(xt,this.nodeMapper,this._onDidChangeNodeSlowState.event)),et=An(de)||{};return new ei(c,C,oe,Qe,et)}updateOptions(c={}){this.tree.updateOptions(c)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(c){this.tree.scrollTop=c}domFocus(){this.tree.domFocus()}layout(c,C){this.tree.layout(c,C)}style(c){this.tree.style(c)}getInput(){return this.root.element}setInput(c,C){return ot(this,void 0,void 0,function*(){this.refreshPromises.forEach(ee=>ee.cancel()),this.refreshPromises.clear(),this.root.element=c;const O=C&&{viewState:C,focus:[],selection:[]};yield this._updateChildren(c,!0,!1,O),O&&(this.tree.setFocus(O.focus),this.tree.setSelection(O.selection)),C&&"number"==typeof C.scrollTop&&(this.scrollTop=C.scrollTop)})}_updateChildren(c=this.root.element,C=!0,O=!1,ee,de){return ot(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new W(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event));const oe=this.getDataNode(c);if(yield this.refreshAndRenderNode(oe,C,ee,de),O)try{this.tree.rerender(oe)}catch(Qe){}})}rerender(c){if(void 0===c||c===this.root.element)return void this.tree.rerender();const C=this.getDataNode(c);this.tree.rerender(C)}getNode(c=this.root.element){const C=this.getDataNode(c),O=this.tree.getNode(C===this.root?null:C);return this.nodeMapper.map(O)}collapse(c,C=!1){const O=this.getDataNode(c);return this.tree.collapse(O===this.root?null:O,C)}expand(c,C=!1){return ot(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new W(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event));const O=this.getDataNode(c);if(this.tree.hasElement(O)&&!this.tree.isCollapsible(O)||(O.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event)),O!==this.root&&!O.refreshPromise&&!this.tree.isCollapsed(O)))return!1;const ee=this.tree.expand(O===this.root?null:O,C);return O.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event)),ee})}setSelection(c,C){const O=c.map(ee=>this.getDataNode(ee));this.tree.setSelection(O,C)}getSelection(){return this.tree.getSelection().map(C=>C.element)}setFocus(c,C){const O=c.map(ee=>this.getDataNode(ee));this.tree.setFocus(O,C)}getFocus(){return this.tree.getFocus().map(C=>C.element)}reveal(c,C){this.tree.reveal(this.getDataNode(c),C)}getParentElement(c){const C=this.tree.getParentElement(this.getDataNode(c));return C&&C.element}getFirstElementChild(c=this.root.element){const C=this.getDataNode(c),O=this.tree.getFirstElementChild(C===this.root?null:C);return O&&O.element}getDataNode(c){const C=this.nodes.get(c===this.root.element?null:c);if(!C)throw new W(this.user,`Data tree node not found: ${c}`);return C}refreshAndRenderNode(c,C,O,ee){return ot(this,void 0,void 0,function*(){yield this.refreshNode(c,C,O),this.render(c,O,ee)})}refreshNode(c,C,O){return ot(this,void 0,void 0,function*(){let ee;return this.subTreeRefreshPromises.forEach((de,oe)=>{!ee&&function Mi($e,c){return $e===c||Tn($e,c)||Tn(c,$e)}(oe,c)&&(ee=de.then(()=>this.refreshNode(c,C,O)))}),ee||this.doRefreshSubTree(c,C,O)})}doRefreshSubTree(c,C,O){return ot(this,void 0,void 0,function*(){let ee;c.refreshPromise=new Promise(de=>ee=de),this.subTreeRefreshPromises.set(c,c.refreshPromise),c.refreshPromise.finally(()=>{c.refreshPromise=void 0,this.subTreeRefreshPromises.delete(c)});try{const de=yield this.doRefreshNode(c,C,O);c.stale=!1,yield he.jT.settled(de.map(oe=>this.doRefreshSubTree(oe,C,O)))}finally{ee()}})}doRefreshNode(c,C,O){return ot(this,void 0,void 0,function*(){let ee;if(c.hasChildren=!!this.dataSource.hasChildren(c.element),c.hasChildren){const de=(0,he.Vs)(800);de.then(()=>{c.slow=!0,this._onDidChangeNodeSlowState.fire(c)},oe=>null),ee=this.doGetChildren(c).finally(()=>de.cancel())}else ee=Promise.resolve(fe.$.empty());try{const de=yield ee;return this.setChildren(c,de,C,O)}catch(de){if(c!==this.root&&this.tree.hasElement(c)&&this.tree.collapse(c),(0,Me.n2)(de))return[];throw de}finally{c.slow&&(c.slow=!1,this._onDidChangeNodeSlowState.fire(c))}})}doGetChildren(c){let C=this.refreshPromises.get(c);return C||(C=(0,he.PG)(()=>ot(this,void 0,void 0,function*(){const O=yield this.dataSource.getChildren(c.element);return this.processChildren(O)})),this.refreshPromises.set(c,C),C.finally(()=>{this.refreshPromises.delete(c)}))}_onDidChangeCollapseState({node:c,deep:C}){null!==c.element&&!c.collapsed&&c.element.stale&&(C?this.collapse(c.element.element):this.refreshAndRenderNode(c.element,!1).catch(Me.dL))}setChildren(c,C,O,ee){const de=[...C];if(0===c.children.length&&0===de.length)return[];const oe=new Map,Qe=new Map;for(const It of c.children)if(oe.set(It.element,It),this.identityProvider){const Ft=this.tree.isCollapsed(It);Qe.set(It.id,{node:It,collapsed:Ft})}const et=[],xt=de.map(It=>{const Ft=!!this.dataSource.hasChildren(It);if(!this.identityProvider){const De=on({element:It,parent:c,hasChildren:Ft});return Ft&&this.collapseByDefault&&!this.collapseByDefault(It)&&(De.collapsedByDefault=!1,et.push(De)),De}const Yt=this.identityProvider.getId(It).toString(),nt=Qe.get(Yt);if(nt){const De=nt.node;return oe.delete(De.element),this.nodes.delete(De.element),this.nodes.set(It,De),De.element=It,De.hasChildren=Ft,O?nt.collapsed?(De.children.forEach(Fe=>Ye(Fe,_t=>this.nodes.delete(_t.element))),De.children.splice(0,De.children.length),De.stale=!0):et.push(De):Ft&&this.collapseByDefault&&!this.collapseByDefault(It)&&(De.collapsedByDefault=!1,et.push(De)),De}const Le=on({element:It,parent:c,id:Yt,hasChildren:Ft});return ee&&ee.viewState.focus&&ee.viewState.focus.indexOf(Yt)>-1&&ee.focus.push(Le),ee&&ee.viewState.selection&&ee.viewState.selection.indexOf(Yt)>-1&&ee.selection.push(Le),ee&&ee.viewState.expanded&&ee.viewState.expanded.indexOf(Yt)>-1?et.push(Le):Ft&&this.collapseByDefault&&!this.collapseByDefault(It)&&(Le.collapsedByDefault=!1,et.push(Le)),Le});for(const It of oe.values())Ye(It,Ft=>this.nodes.delete(Ft.element));for(const It of xt)this.nodes.set(It.element,It);return c.children.splice(0,c.children.length,...xt),c!==this.root&&this.autoExpandSingleChildren&&1===xt.length&&0===et.length&&(xt[0].collapsedByDefault=!1,et.push(xt[0])),et}render(c,C,O){const ee=c.children.map(oe=>this.asTreeElement(oe,C)),de=O&&Object.assign(Object.assign({},O),{diffIdentityProvider:O.diffIdentityProvider&&{getId:oe=>O.diffIdentityProvider.getId(oe.element)}});this.tree.setChildren(c===this.root?null:c,ee,de),c!==this.root&&this.tree.setCollapsible(c,c.hasChildren),this._onDidRender.fire()}asTreeElement(c,C){if(c.stale)return{element:c,collapsible:c.hasChildren,collapsed:!0};let O;return O=!(C&&C.viewState.expanded&&c.id&&C.viewState.expanded.indexOf(c.id)>-1)&&c.collapsedByDefault,c.collapsedByDefault=void 0,{element:c,children:c.hasChildren?fe.$.map(c.children,ee=>this.asTreeElement(ee,C)):[],collapsible:c.hasChildren,collapsed:O}}processChildren(c){return this.sorter&&(c=[...c].sort(this.sorter.compare.bind(this.sorter))),c}dispose(){this.disposables.dispose()}}class Ae{constructor(c){this.node=c}get element(){return{elements:this.node.element.elements.map(c=>c.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(c=>new Ae(c))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class ht{constructor(c,C,O,ee){this.renderer=c,this.nodeMapper=C,this.compressibleNodeMapperProvider=O,this.onDidChangeTwistieState=ee,this.renderedNodes=new Map,this.disposables=[],this.templateId=c.templateId}renderTemplate(c){return{templateData:this.renderer.renderTemplate(c)}}renderElement(c,C,O,ee){this.renderer.renderElement(this.nodeMapper.map(c),C,O.templateData,ee)}renderCompressedElements(c,C,O,ee){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(c),C,O.templateData,ee)}renderTwistie(c,C){return c.slow?(C.classList.add(...X.lA.treeItemLoading.classNamesArray),!0):(C.classList.remove(...X.lA.treeItemLoading.classNamesArray),!1)}disposeElement(c,C,O,ee){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(c),C,O.templateData,ee)}disposeCompressedElements(c,C,O,ee){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(c),C,O.templateData,ee)}disposeTemplate(c){this.renderer.disposeTemplate(c.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,R.B9)(this.disposables)}}class Ge extends Te{constructor(c,C,O,ee,de,oe,Qe={}){super(c,C,O,de,oe,Qe),this.compressionDelegate=ee,this.compressibleNodeMapper=new J(et=>new Ae(et)),this.filter=Qe.filter}createTree(c,C,O,ee,de){const oe=new ct(O),Qe=ee.map(xt=>new ht(xt,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),et=function Mt($e){const c=$e&&An($e);return c&&Object.assign(Object.assign({},c),{keyboardNavigationLabelProvider:c.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},c.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:C=>$e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(C.map(O=>O.element))})})}(de)||{};return new ft(c,C,oe,Qe,et)}asTreeElement(c,C){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(c.element)},super.asTreeElement(c,C))}updateOptions(c={}){this.tree.updateOptions(c)}render(c,C){if(!this.identityProvider)return super.render(c,C);const O=Yt=>this.identityProvider.getId(Yt).toString(),ee=Yt=>{const nt=new Set;for(const Le of Yt){const De=this.tree.getCompressedTreeNode(Le===this.root?null:Le);if(De.element)for(const Fe of De.element.elements)nt.add(O(Fe.element))}return nt},de=ee(this.tree.getSelection()),oe=ee(this.tree.getFocus());super.render(c,C);const Qe=this.getSelection();let et=!1;const xt=this.getFocus();let It=!1;const Ft=Yt=>{const nt=Yt.element;if(nt)for(let Le=0;Le<nt.elements.length;Le++){const De=O(nt.elements[Le].element),Fe=nt.elements[nt.elements.length-1].element;de.has(De)&&-1===Qe.indexOf(Fe)&&(Qe.push(Fe),et=!0),oe.has(De)&&-1===xt.indexOf(Fe)&&(xt.push(Fe),It=!0)}Yt.children.forEach(Ft)};Ft(this.tree.getCompressedTreeNode(c===this.root?null:c)),et&&this.setSelection(Qe),It&&this.setFocus(xt)}processChildren(c){return this.filter&&(c=fe.$.filter(c,C=>{const ee=function ln($e){return"boolean"==typeof $e?$e?1:0:Se($e)?Ie($e.visibility):Ie($e)}(this.filter.filter(C,1));if(2===ee)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===ee})),super.processChildren(c)}}class jn extends nn{constructor(c,C,O,ee,de,oe={}){super(c,C,O,ee,oe),this.user=c,this.dataSource=de,this.identityProvider=oe.identityProvider}createModel(c,C,O){return new Mn(c,C,O)}}var Jn=m(2452),qn=m(9869),Qn=m(7732),ii=m(9776),gi=m(9239),ui=m(4725),Ti=m(7090),yi=m(9537),Ni=m(2151),Ai=m(3024),to=function($e,c,C,O){var oe,ee=arguments.length,de=ee<3?c:null===O?O=Object.getOwnPropertyDescriptor(c,C):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate($e,c,C,O);else for(var Qe=$e.length-1;Qe>=0;Qe--)(oe=$e[Qe])&&(de=(ee<3?oe(de):ee>3?oe(c,C,de):oe(c,C))||de);return ee>3&&de&&Object.defineProperty(c,C,de),de},Kn=function($e,c){return function(C,O){c(C,O,$e)}};const Pn=(0,ui.yh)("listService");let Ei=class{constructor(c){this._themeService=c,this.disposables=new R.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(c){var C,O;c!==this._lastFocusedWidget&&(null===(C=this._lastFocusedWidget)||void 0===C||C.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=c,null===(O=this._lastFocusedWidget)||void 0===O||O.getHTMLElement().classList.add("last-focused"))}register(c,C){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ee=new j.wD((0,v.dS)(),"");this.disposables.add((0,Ni.Jl)(ee,this._themeService))}if(this.lists.some(ee=>ee.widget===c))throw new Error("Cannot register the same widget multiple times");const O={widget:c,extraContextKeys:C};return this.lists.push(O),c.getHTMLElement()===document.activeElement&&this.setLastFocusedList(c),(0,R.F8)(c.onDidFocus(()=>this.setLastFocusedList(c)),(0,R.OF)(()=>this.lists.splice(this.lists.indexOf(O),1)),c.onDidDispose(()=>{this.lists=this.lists.filter(ee=>ee!==O),this._lastFocusedWidget===c&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Ei=to([Kn(0,Ai.XE)],Ei);const vi=new ii.uy("listFocus",!0),Wi=new ii.uy("listSupportsMultiselect",!0),Ci=ii.Ao.and(vi,ii.Ao.not(gi.d0)),Ri=new ii.uy("listHasSelectionOrFocus",!1),co=new ii.uy("listDoubleSelection",!1),Pi=new ii.uy("listMultiSelection",!1),vo=new ii.uy("listSelectionNavigation",!1),Li=new ii.uy("treeElementCanCollapse",!1),Di=new ii.uy("treeElementHasParent",!1),Mo=new ii.uy("treeElementCanExpand",!1),Yi=new ii.uy("treeElementHasChild",!1),Bo="listAutomaticKeyboardNavigation";function Oo($e,c){const C=$e.createScoped(c.getHTMLElement());return vi.bindTo(C),C}const wi="workbench.list.multiSelectModifier",$o="workbench.list.openMode",fi="workbench.list.horizontalScrolling",ss="workbench.list.keyboardNavigation",xi="workbench.list.automaticKeyboardNavigation",Ii="workbench.tree.indent",xo="workbench.tree.renderIndentGuides",Zo="workbench.list.smoothScrolling",Gn="workbench.list.mouseWheelScrollSensitivity",ds="workbench.list.fastScrollSensitivity",oo="workbench.tree.expandMode";function Io($e){return"alt"===$e.getValue(wi)}class Xi extends R.JT{constructor(c){super(),this.configurationService=c,this.useAltAsMultipleSelectionModifier=Io(c),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(c=>{c.affectsConfiguration(wi)&&(this.useAltAsMultipleSelectionModifier=Io(this.configurationService))}))}isSelectionSingleChangeEvent(c){return this.useAltAsMultipleSelectionModifier?c.browserEvent.altKey:(0,j.Zo)(c)}isSelectionRangeChangeEvent(c){return(0,j.wn)(c)}}function Wo($e,c,C){var O;const ee=new R.SL;return[Object.assign(Object.assign({},$e),{keyboardNavigationDelegate:{mightProducePrintableCharacter:oe=>C.mightProducePrintableCharacter(oe)},smoothScrolling:Boolean(c.getValue(Zo)),mouseWheelScrollSensitivity:c.getValue(Gn),fastScrollSensitivity:c.getValue(ds),multipleSelectionController:null!==(O=$e.multipleSelectionController)&&void 0!==O?O:ee.add(new Xi(c))}),ee]}let nr=class extends j.aV{constructor(c,C,O,ee,de,oe,Qe,et,xt,It){const Ft=void 0!==de.horizontalScrolling?de.horizontalScrolling:Boolean(xt.getValue(fi)),[Yt,nt]=Wo(de,xt,It);super(c,C,O,ee,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ni.o)(et.getColorTheme(),Ni.O2)),Yt),{horizontalScrolling:Ft})),this.disposables.add(nt),this.contextKeyService=Oo(oe,this),this.themeService=et,this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==de.multipleSelectionSupport),vo.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listHasSelectionOrFocus=Ri.bindTo(this.contextKeyService),this.listDoubleSelection=co.bindTo(this.contextKeyService),this.listMultiSelection=Pi.bindTo(this.contextKeyService),this.horizontalScrolling=de.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Io(xt),this.disposables.add(this.contextKeyService),this.disposables.add(Qe.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const De=this.getSelection(),Fe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(De.length>0||Fe.length>0),this.listMultiSelection.set(De.length>1),this.listDoubleSelection.set(2===De.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const De=this.getSelection(),Fe=this.getFocus();this.listHasSelectionOrFocus.set(De.length>0||Fe.length>0)})),this.disposables.add(xt.onDidChangeConfiguration(De=>{De.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Io(xt));let Fe={};if(De.affectsConfiguration(fi)&&void 0===this.horizontalScrolling){const _t=Boolean(xt.getValue(fi));Fe=Object.assign(Object.assign({},Fe),{horizontalScrolling:_t})}if(De.affectsConfiguration(Zo)){const _t=Boolean(xt.getValue(Zo));Fe=Object.assign(Object.assign({},Fe),{smoothScrolling:_t})}if(De.affectsConfiguration(Gn)){const _t=xt.getValue(Gn);Fe=Object.assign(Object.assign({},Fe),{mouseWheelScrollSensitivity:_t})}if(De.affectsConfiguration(ds)){const _t=xt.getValue(ds);Fe=Object.assign(Object.assign({},Fe),{fastScrollSensitivity:_t})}Object.keys(Fe).length>0&&this.updateOptions(Fe)})),this.navigator=new dr(this,Object.assign({configurationService:xt},de)),this.disposables.add(this.navigator)}updateOptions(c){super.updateOptions(c),c.overrideStyles&&this.updateStyles(c.overrideStyles),void 0!==c.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyles(c){var C;null===(C=this._styler)||void 0===C||C.dispose(),this._styler=(0,Ni.Jl)(this,this.themeService,c)}dispose(){var c;null===(c=this._styler)||void 0===c||c.dispose(),super.dispose()}};nr=to([Kn(5,ii.i6),Kn(6,Pn),Kn(7,Ai.XE),Kn(8,qn.Ui),Kn(9,Ti.d)],nr);let Is=class extends class w{constructor(c,C,O,ee,de={}){const oe=()=>this.model,Qe=ee.map(et=>new Y(et,oe));this.list=new j.aV(c,C,O,Qe,function x($e,c){return Object.assign(Object.assign({},c),{accessibilityProvider:c.accessibilityProvider&&new V($e,c.accessibilityProvider)})}(oe,de))}updateOptions(c){this.list.updateOptions(c)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return k.ju.map(this.list.onMouseDblClick,({element:c,index:C,browserEvent:O})=>({element:void 0===c?void 0:this._model.get(c),index:C,browserEvent:O}))}get onPointer(){return k.ju.map(this.list.onPointer,({element:c,index:C,browserEvent:O})=>({element:void 0===c?void 0:this._model.get(c),index:C,browserEvent:O}))}get onDidChangeSelection(){return k.ju.map(this.list.onDidChangeSelection,({elements:c,indexes:C,browserEvent:O})=>({elements:c.map(ee=>this._model.get(ee)),indexes:C,browserEvent:O}))}get model(){return this._model}set model(c){this._model=c,this.list.splice(0,this.list.length,(0,h.w6)(c.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(c=>this.model.get(c))}style(c){this.list.style(c)}dispose(){this.list.dispose()}}{constructor(c,C,O,ee,de,oe,Qe,et,xt,It){const Ft=void 0!==de.horizontalScrolling?de.horizontalScrolling:Boolean(xt.getValue(fi)),[Yt,nt]=Wo(de,xt,It);super(c,C,O,ee,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ni.o)(et.getColorTheme(),Ni.O2)),Yt),{horizontalScrolling:Ft})),this.disposables=new R.SL,this.disposables.add(nt),this.contextKeyService=Oo(oe,this),this.themeService=et,this.horizontalScrolling=de.horizontalScrolling,this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==de.multipleSelectionSupport),vo.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this._useAltAsMultipleSelectionModifier=Io(xt),this.disposables.add(this.contextKeyService),this.disposables.add(Qe.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),de.overrideStyles&&this.disposables.add((0,Ni.Jl)(this,et,de.overrideStyles)),this.disposables.add(xt.onDidChangeConfiguration(De=>{De.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Io(xt));let Fe={};if(De.affectsConfiguration(fi)&&void 0===this.horizontalScrolling){const _t=Boolean(xt.getValue(fi));Fe=Object.assign(Object.assign({},Fe),{horizontalScrolling:_t})}if(De.affectsConfiguration(Zo)){const _t=Boolean(xt.getValue(Zo));Fe=Object.assign(Object.assign({},Fe),{smoothScrolling:_t})}if(De.affectsConfiguration(Gn)){const _t=xt.getValue(Gn);Fe=Object.assign(Object.assign({},Fe),{mouseWheelScrollSensitivity:_t})}if(De.affectsConfiguration(ds)){const _t=xt.getValue(ds);Fe=Object.assign(Object.assign({},Fe),{fastScrollSensitivity:_t})}Object.keys(Fe).length>0&&this.updateOptions(Fe)})),this.navigator=new dr(this,Object.assign({configurationService:xt},de)),this.disposables.add(this.navigator)}updateOptions(c){super.updateOptions(c),c.overrideStyles&&this.updateStyles(c.overrideStyles),void 0!==c.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyles(c){var C;null===(C=this._styler)||void 0===C||C.dispose(),this._styler=(0,Ni.Jl)(this,this.themeService,c)}dispose(){var c;null===(c=this._styler)||void 0===c||c.dispose(),this.disposables.dispose(),super.dispose()}};Is=to([Kn(5,ii.i6),Kn(6,Pn),Kn(7,Ai.XE),Kn(8,qn.Ui),Kn(9,Ti.d)],Is);let vs=class extends I{constructor(c,C,O,ee,de,oe,Qe,et,xt,It,Ft){const Yt=void 0!==oe.horizontalScrolling?oe.horizontalScrolling:Boolean(It.getValue(fi)),[nt,Le]=Wo(oe,It,Ft);super(c,C,O,ee,de,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ni.o)(xt.getColorTheme(),Ni.O2)),nt),{horizontalScrolling:Yt})),this.disposables.add(Le),this.contextKeyService=Oo(Qe,this),this.themeService=xt,this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==oe.multipleSelectionSupport),vo.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this.listHasSelectionOrFocus=Ri.bindTo(this.contextKeyService),this.listDoubleSelection=co.bindTo(this.contextKeyService),this.listMultiSelection=Pi.bindTo(this.contextKeyService),this.horizontalScrolling=oe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Io(It),this.disposables.add(this.contextKeyService),this.disposables.add(et.register(this)),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Fe=this.getSelection(),_t=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Fe.length>0||_t.length>0),this.listMultiSelection.set(Fe.length>1),this.listDoubleSelection.set(2===Fe.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Fe=this.getSelection(),_t=this.getFocus();this.listHasSelectionOrFocus.set(Fe.length>0||_t.length>0)})),this.disposables.add(It.onDidChangeConfiguration(Fe=>{Fe.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Io(It));let _t={};if(Fe.affectsConfiguration(fi)&&void 0===this.horizontalScrolling){const Gt=Boolean(It.getValue(fi));_t=Object.assign(Object.assign({},_t),{horizontalScrolling:Gt})}if(Fe.affectsConfiguration(Zo)){const Gt=Boolean(It.getValue(Zo));_t=Object.assign(Object.assign({},_t),{smoothScrolling:Gt})}if(Fe.affectsConfiguration(Gn)){const Gt=It.getValue(Gn);_t=Object.assign(Object.assign({},_t),{mouseWheelScrollSensitivity:Gt})}if(Fe.affectsConfiguration(ds)){const Gt=It.getValue(ds);_t=Object.assign(Object.assign({},_t),{fastScrollSensitivity:Gt})}Object.keys(_t).length>0&&this.updateOptions(_t)})),this.navigator=new wr(this,Object.assign({configurationService:It},oe)),this.disposables.add(this.navigator)}updateOptions(c){super.updateOptions(c),c.overrideStyles&&this.updateStyles(c.overrideStyles),void 0!==c.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyles(c){var C;null===(C=this._styler)||void 0===C||C.dispose(),this._styler=(0,Ni.Jl)(this,this.themeService,c)}dispose(){var c;null===(c=this._styler)||void 0===c||c.dispose(),this.disposables.dispose(),super.dispose()}};vs=to([Kn(6,ii.i6),Kn(7,Pn),Kn(8,Ai.XE),Kn(9,qn.Ui),Kn(10,Ti.d)],vs);class Ks extends R.JT{constructor(c,C){var O;super(),this.widget=c,this._onDidOpen=this._register(new k.Q5),this.onDidOpen=this._onDidOpen.event,this._register(k.ju.filter(this.widget.onDidChangeSelection,ee=>ee.browserEvent instanceof KeyboardEvent)(ee=>this.onSelectionFromKeyboard(ee))),this._register(this.widget.onPointer(ee=>this.onPointer(ee.element,ee.browserEvent))),this._register(this.widget.onMouseDblClick(ee=>this.onMouseDblClick(ee.element,ee.browserEvent))),"boolean"!=typeof(null==C?void 0:C.openOnSingleClick)&&(null==C?void 0:C.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==C?void 0:C.configurationService.getValue($o)),this._register(null==C?void 0:C.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==C?void 0:C.configurationService.getValue($o))}))):this.openOnSingleClick=null===(O=null==C?void 0:C.openOnSingleClick)||void 0===O||O}onSelectionFromKeyboard(c){if(1!==c.elements.length)return;const C=c.browserEvent,O="boolean"!=typeof C.preserveFocus||C.preserveFocus,ee="boolean"==typeof C.pinned?C.pinned:!O;this._open(this.getSelectedElement(),O,ee,!1,c.browserEvent)}onPointer(c,C){this.openOnSingleClick&&2!==C.detail&&this._open(c,!0,1===C.button,C.ctrlKey||C.metaKey||C.altKey,C)}onMouseDblClick(c,C){if(!C)return;const O=C.target;O.classList.contains("monaco-tl-twistie")||O.classList.contains("monaco-icon-label")&&O.classList.contains("folder-icon")&&C.offsetX<16||this._open(c,!1,!0,C.ctrlKey||C.metaKey||C.altKey,C)}_open(c,C,O,ee,de){!c||this._onDidOpen.fire({editorOptions:{preserveFocus:C,pinned:O,revealIfVisible:!0},sideBySide:ee,element:c,browserEvent:de})}}class dr extends Ks{constructor(c,C){super(c,C),this.widget=c}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class wr extends Ks{constructor(c,C){super(c,C)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class $s extends Ks{constructor(c,C){super(c,C)}getSelectedElement(){var c;return null!==(c=this.widget.getSelection()[0])&&void 0!==c?c:void 0}}function Gs($e,c){let C=!1;return O=>{if(O.toKeybinding().isModifierKey())return!1;if(C)return C=!1,!1;const ee=c.softDispatch(O,$e);return ee&&ee.enterChord?(C=!0,!1):(C=!1,!0)}}let ks=class extends ei{constructor(c,C,O,ee,de,oe,Qe,et,xt,It,Ft){const{options:Yt,getAutomaticKeyboardNavigation:nt,disposable:Le}=Qs(C,de,oe,xt,It,Ft);super(c,C,O,ee,Yt),this.disposables.add(Le),this.internals=new ir(this,de,nt,de.overrideStyles,oe,Qe,et,xt,Ft),this.disposables.add(this.internals)}updateOptions(c){super.updateOptions(c),this.internals.updateOptions(c)}};ks=to([Kn(5,ii.i6),Kn(6,Pn),Kn(7,Ai.XE),Kn(8,qn.Ui),Kn(9,Ti.d),Kn(10,Jn.F)],ks);let Ar=class extends ft{constructor(c,C,O,ee,de,oe,Qe,et,xt,It,Ft){const{options:Yt,getAutomaticKeyboardNavigation:nt,disposable:Le}=Qs(C,de,oe,xt,It,Ft);super(c,C,O,ee,Yt),this.disposables.add(Le),this.internals=new ir(this,de,nt,de.overrideStyles,oe,Qe,et,xt,Ft),this.disposables.add(this.internals)}updateOptions(c={}){super.updateOptions(c),c.overrideStyles&&this.internals.updateStyleOverrides(c.overrideStyles),this.internals.updateOptions(c)}};Ar=to([Kn(5,ii.i6),Kn(6,Pn),Kn(7,Ai.XE),Kn(8,qn.Ui),Kn(9,Ti.d),Kn(10,Jn.F)],Ar);let qs=class extends jn{constructor(c,C,O,ee,de,oe,Qe,et,xt,It,Ft,Yt){const{options:nt,getAutomaticKeyboardNavigation:Le,disposable:De}=Qs(C,oe,Qe,It,Ft,Yt);super(c,C,O,ee,de,nt),this.disposables.add(De),this.internals=new ir(this,oe,Le,oe.overrideStyles,Qe,et,xt,It,Yt),this.disposables.add(this.internals)}updateOptions(c={}){super.updateOptions(c),c.overrideStyles&&this.internals.updateStyleOverrides(c.overrideStyles),this.internals.updateOptions(c)}};qs=to([Kn(6,ii.i6),Kn(7,Pn),Kn(8,Ai.XE),Kn(9,qn.Ui),Kn(10,Ti.d),Kn(11,Jn.F)],qs);let Co=class extends Te{constructor(c,C,O,ee,de,oe,Qe,et,xt,It,Ft,Yt){const{options:nt,getAutomaticKeyboardNavigation:Le,disposable:De}=Qs(C,oe,Qe,It,Ft,Yt);super(c,C,O,ee,de,nt),this.disposables.add(De),this.internals=new ir(this,oe,Le,oe.overrideStyles,Qe,et,xt,It,Yt),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(c={}){super.updateOptions(c),c.overrideStyles&&this.internals.updateStyleOverrides(c.overrideStyles),this.internals.updateOptions(c)}};Co=to([Kn(6,ii.i6),Kn(7,Pn),Kn(8,Ai.XE),Kn(9,qn.Ui),Kn(10,Ti.d),Kn(11,Jn.F)],Co);let Bs=class extends Ge{constructor(c,C,O,ee,de,oe,Qe,et,xt,It,Ft,Yt,nt){const{options:Le,getAutomaticKeyboardNavigation:De,disposable:Fe}=Qs(C,Qe,et,Ft,Yt,nt);super(c,C,O,ee,de,oe,Le),this.disposables.add(Fe),this.internals=new ir(this,Qe,De,Qe.overrideStyles,et,xt,It,Ft,nt),this.disposables.add(this.internals)}updateOptions(c){super.updateOptions(c),this.internals.updateOptions(c)}};function Qs($e,c,C,O,ee,de){var oe;const Qe=()=>{let Le=Boolean(C.getContextKeyValue(Bo));return Le&&(Le=Boolean(O.getValue(xi))),Le},et=de.isScreenReaderOptimized(),xt=c.simpleKeyboardNavigation||et?"simple":O.getValue(ss),It=void 0!==c.horizontalScrolling?c.horizontalScrolling:Boolean(O.getValue(fi)),[Ft,Yt]=Wo(c,O,ee),nt=c.additionalScrollHeight;return{getAutomaticKeyboardNavigation:Qe,disposable:Yt,options:Object.assign(Object.assign({keyboardSupport:!1},Ft),{indent:"number"==typeof O.getValue(Ii)?O.getValue(Ii):void 0,renderIndentGuides:O.getValue(xo),smoothScrolling:Boolean(O.getValue(Zo)),automaticKeyboardNavigation:Qe(),simpleKeyboardNavigation:"simple"===xt,filterOnType:"filter"===xt,horizontalScrolling:It,keyboardNavigationEventFilter:Gs($e,ee),additionalScrollHeight:nt,hideTwistiesOfChildlessElements:c.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(oe=c.expandOnlyOnTwistieClick)&&void 0!==oe?oe:"doubleClick"===O.getValue(oo)})}}Bs=to([Kn(7,ii.i6),Kn(8,Pn),Kn(9,Ai.XE),Kn(10,qn.Ui),Kn(11,Ti.d),Kn(12,Jn.F)],Bs);let ir=class{constructor(c,C,O,ee,de,oe,Qe,et,xt){this.tree=c,this.themeService=Qe,this.disposables=[],this.contextKeyService=Oo(de,c),this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==C.multipleSelectionSupport),vo.bindTo(this.contextKeyService).set(Boolean(C.selectionNavigation)),this.hasSelectionOrFocus=Ri.bindTo(this.contextKeyService),this.hasDoubleSelection=co.bindTo(this.contextKeyService),this.hasMultiSelection=Pi.bindTo(this.contextKeyService),this.treeElementCanCollapse=Li.bindTo(this.contextKeyService),this.treeElementHasParent=Di.bindTo(this.contextKeyService),this.treeElementCanExpand=Mo.bindTo(this.contextKeyService),this.treeElementHasChild=Yi.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Io(et);const Ft=new Set;Ft.add(Bo);const Yt=()=>{const De=xt.isScreenReaderOptimized()?"simple":et.getValue(ss);c.updateOptions({simpleKeyboardNavigation:"simple"===De,filterOnType:"filter"===De})};this.updateStyleOverrides(ee);const nt=()=>{const Le=c.getFocus()[0];if(!Le)return;const De=c.getNode(Le);this.treeElementCanCollapse.set(De.collapsible&&!De.collapsed),this.treeElementHasParent.set(!!c.getParentElement(Le)),this.treeElementCanExpand.set(De.collapsible&&De.collapsed),this.treeElementHasChild.set(!!c.getFirstElementChild(Le))};this.disposables.push(this.contextKeyService,oe.register(c),c.onDidChangeSelection(()=>{const Le=c.getSelection(),De=c.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Le.length>0||De.length>0),this.hasMultiSelection.set(Le.length>1),this.hasDoubleSelection.set(2===Le.length)})}),c.onDidChangeFocus(()=>{const Le=c.getSelection(),De=c.getFocus();this.hasSelectionOrFocus.set(Le.length>0||De.length>0),nt()}),c.onDidChangeCollapseState(nt),c.onDidChangeModel(nt),et.onDidChangeConfiguration(Le=>{let De={};if(Le.affectsConfiguration(wi)&&(this._useAltAsMultipleSelectionModifier=Io(et)),Le.affectsConfiguration(Ii)){const Fe=et.getValue(Ii);De=Object.assign(Object.assign({},De),{indent:Fe})}if(Le.affectsConfiguration(xo)){const Fe=et.getValue(xo);De=Object.assign(Object.assign({},De),{renderIndentGuides:Fe})}if(Le.affectsConfiguration(Zo)){const Fe=Boolean(et.getValue(Zo));De=Object.assign(Object.assign({},De),{smoothScrolling:Fe})}if(Le.affectsConfiguration(ss)&&Yt(),Le.affectsConfiguration(xi)&&(De=Object.assign(Object.assign({},De),{automaticKeyboardNavigation:O()})),Le.affectsConfiguration(fi)&&void 0===C.horizontalScrolling){const Fe=Boolean(et.getValue(fi));De=Object.assign(Object.assign({},De),{horizontalScrolling:Fe})}if(Le.affectsConfiguration(oo)&&void 0===C.expandOnlyOnTwistieClick&&(De=Object.assign(Object.assign({},De),{expandOnlyOnTwistieClick:"doubleClick"===et.getValue(oo)})),Le.affectsConfiguration(Gn)){const Fe=et.getValue(Gn);De=Object.assign(Object.assign({},De),{mouseWheelScrollSensitivity:Fe})}if(Le.affectsConfiguration(ds)){const Fe=et.getValue(ds);De=Object.assign(Object.assign({},De),{fastScrollSensitivity:Fe})}Object.keys(De).length>0&&c.updateOptions(De)}),this.contextKeyService.onDidChangeContext(Le=>{Le.affectsSome(Ft)&&c.updateOptions({automaticKeyboardNavigation:O()})}),xt.onDidChangeScreenReaderOptimized(()=>Yt())),this.navigator=new $s(c,Object.assign({configurationService:et},C)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(c){void 0!==c.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!c.multipleSelectionSupport)}updateStyleOverrides(c){(0,R.B9)(this.styler),this.styler=c?(0,Ni.Jl)(this.tree,this.themeService,c):R.JT.None}dispose(){this.disposables=(0,R.B9)(this.disposables),(0,R.B9)(this.styler),this.styler=void 0}};ir=to([Kn(4,ii.i6),Kn(5,Pn),Kn(6,Ai.XE),Kn(7,qn.Ui),Kn(8,Jn.F)],ir),yi.B.as(Qn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,we.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[wi]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,we.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,we.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,we.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[$o]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,we.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[fi]:{type:"boolean",default:!1,description:(0,we.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Ii]:{type:"number",default:8,minimum:4,maximum:40,description:(0,we.N)("tree indent setting","Controls tree indentation in pixels.")},[xo]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,we.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[Zo]:{type:"boolean",default:!1,description:(0,we.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Gn]:{type:"number",default:1,description:(0,we.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ds]:{type:"number",default:5,description:(0,we.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ss]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,we.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,we.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,we.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,we.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[xi]:{type:"boolean",default:!0,markdownDescription:(0,we.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[oo]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,we.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},2241:(vt,Ke,m)=>{m.d(Ke,{VZ:()=>k,in:()=>R,kw:()=>Y,$V:()=>V});var v=m(2787),h=m(2425);const k=(0,m(4725).yh)("logService");var R=(()=>{return(x=R||(R={}))[x.Trace=0]="Trace",x[x.Debug=1]="Debug",x[x.Info=2]="Info",x[x.Warning=3]="Warning",x[x.Error=4]="Error",x[x.Critical=5]="Critical",x[x.Off=6]="Off",R;var x})();const se=R.Info;class j extends h.JT{constructor(){super(...arguments),this.level=se,this._onDidChangeLogLevel=this._register(new v.Q5)}setLevel(w){this.level!==w&&(this.level=w,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class Y extends j{constructor(w=se){super(),this.setLevel(w)}trace(w,...D){this.getLevel()<=R.Trace&&console.log("%cTRACE","color: #888",w,...D)}debug(w,...D){this.getLevel()<=R.Debug&&console.log("%cDEBUG","background: #eee; color: #888",w,...D)}info(w,...D){this.getLevel()<=R.Info&&console.log("%c INFO","color: #33f",w,...D)}error(w,...D){this.getLevel()<=R.Error&&console.log("%c  ERR","color: #f33",w,...D)}dispose(){}}class V extends h.JT{constructor(w){super(),this.logger=w,this._register(w)}getLevel(){return this.logger.getLevel()}trace(w,...D){this.logger.trace(w,...D)}debug(w,...D){this.logger.debug(w,...D)}info(w,...D){this.logger.info(w,...D)}error(w,...D){this.logger.error(w,...D)}}},2882:(vt,Ke,m)=>{m.d(Ke,{ZL:()=>k,H0:()=>R,lT:()=>se});var R,v=m(3570),h=m(402),Q=m(4725),k=(()=>{return(j=k||(k={}))[j.Hint=1]="Hint",j[j.Info=2]="Info",j[j.Warning=4]="Warning",j[j.Error=8]="Error",k;var j})();!function(j){j.compare=function Y(F,f){return f-F};const V=Object.create(null);V[j.Error]=(0,h.N)("sev.error","Error"),V[j.Warning]=(0,h.N)("sev.warning","Warning"),V[j.Info]=(0,h.N)("sev.info","Info"),j.toString=function x(F){return V[F]||""},j.fromSeverity=function w(F){switch(F){case v.Z.Error:return j.Error;case v.Z.Warning:return j.Warning;case v.Z.Info:return j.Info;case v.Z.Ignore:return j.Hint}},j.toSeverity=function D(F){switch(F){case j.Error:return v.Z.Error;case j.Warning:return v.Z.Warning;case j.Info:return v.Z.Info;case j.Hint:return v.Z.Ignore}}}(k||(k={})),function(j){const Y="";function x(w,D){let F=[Y];return F.push(w.source?w.source.replace("\xa6","\\\xa6"):Y),F.push(w.code?"string"==typeof w.code?w.code.replace("\xa6","\\\xa6"):w.code.value.replace("\xa6","\\\xa6"):Y),F.push(null!=w.severity?k.toString(w.severity):Y),F.push(w.message&&D?w.message.replace("\xa6","\\\xa6"):Y),F.push(null!=w.startLineNumber?w.startLineNumber.toString():Y),F.push(null!=w.startColumn?w.startColumn.toString():Y),F.push(null!=w.endLineNumber?w.endLineNumber.toString():Y),F.push(null!=w.endColumn?w.endColumn.toString():Y),F.push(Y),F.join("\xa6")}j.makeKey=function V(w){return x(w,!0)},j.makeKeyOptionalMessage=x}(R||(R={}));const se=(0,Q.yh)("markerService")},8782:(vt,Ke,m)=>{m.d(Ke,{zb:()=>Q,lT:()=>k,EO:()=>R});var v=m(3570),h=m(4725),Q=v.Z;const k=(0,h.yh)("notificationService");class R{}},8661:(vt,Ke,m)=>{m.d(Ke,{v4:()=>se,SW:()=>j,xn:()=>Y,Gs:()=>V,vO:()=>x});var v=m(2425),h=m(4705),Q=m(4672),k=m(4725),R=function(w,D,F,f){return new(F||(F=Promise))(function(z,I){function H(M){try{N(f.next(M))}catch(P){I(P)}}function K(M){try{N(f.throw(M))}catch(P){I(P)}}function N(M){M.done?z(M.value):function T(z){return z instanceof F?z:new F(function(I){I(z)})}(M.value).then(H,K)}N((f=f.apply(w,D||[])).next())})};const se=(0,k.yh)("openerService"),j=Object.freeze({_serviceBrand:void 0,registerOpener:()=>v.JT.None,registerValidator:()=>v.JT.None,registerExternalUriResolver:()=>v.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>v.JT.None,open(){return R(this,void 0,void 0,function*(){return!1})},resolveExternalUri(w){return R(this,void 0,void 0,function*(){return{resolved:w,dispose(){}}})}});function Y(w,D){return Q.o.isUri(w)?(0,h.qq)(w.scheme,D):(0,h.ok)(w,D+":")}function V(w,...D){return D.some(F=>Y(w,F))}function x(w){let D;const F=/^L?(\d+)(?:,(\d+))?/.exec(w.fragment);return F&&(D={startLineNumber:parseInt(F[1]),startColumn:F[2]?parseInt(F[2]):1}),D}},2534:(vt,Ke,m)=>{m.d(Ke,{Ex:()=>Q,ek:()=>k});var v=m(4725);Object.freeze({total(){},worked(){},done(){}});class Q{constructor(se){this.callback=se}report(se){this._value=se,this.callback(this._value)}}Q.None=Object.freeze({report(){}});const k=(0,v.yh)("editorProgressService")},4203:(vt,Ke,m)=>{m.d(Ke,{Ry:()=>k,IP:()=>R});var v=m(8337),h=m(2425),Q=m(9537),k=(()=>{return(j=k||(k={}))[j.PRESERVE=0]="PRESERVE",j[j.LAST=1]="LAST",k;var j})();const R={Quickaccess:"workbench.contributions.quickaccess"};Q.B.add(R.Quickaccess,new class se{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(Y){return 0===Y.prefix.length?this.defaultProvider=Y:this.providers.push(Y),this.providers.sort((V,x)=>x.prefix.length-V.prefix.length),(0,h.OF)(()=>{this.providers.splice(this.providers.indexOf(Y),1),this.defaultProvider===Y&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,v.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(Y){return Y&&this.providers.find(x=>Y.startsWith(x.prefix))||this.defaultProvider}})},7098:(vt,Ke,m)=>{m.d(Ke,{jG:()=>h.jG,eJ:()=>Q});var v=m(4725),h=m(2099);const Q=(0,v.yh)("quickInputService")},9537:(vt,Ke,m)=>{m.d(Ke,{B:()=>k});var v=m(8797),h=m(4435);const k=new class Q{constructor(){this.data=new Map}add(se,j){v.ok(h.HD(se)),v.ok(h.Kn(j)),v.ok(!this.data.has(se),"There is already an extension with this id"),this.data.set(se,j)}as(se){return this.data.get(se)||null}}},9571:(vt,Ke,m)=>{m.d(Ke,{Uy:()=>w,vm:()=>f,fk:()=>D});var v=m(2787),h=m(2425),Q=m(4435),k=m(3072),R=function(T,z,I,H){return new(I||(I=Promise))(function(N,M){function P(he){try{J(H.next(he))}catch(ye){M(ye)}}function W(he){try{J(H.throw(he))}catch(ye){M(ye)}}function J(he){he.done?N(he.value):function K(N){return N instanceof I?N:new I(function(M){M(N)})}(he.value).then(P,W)}J((H=H.apply(T,z||[])).next())})},se=(()=>{return(T=se||(se={}))[T.None=0]="None",T[T.Initialized=1]="Initialized",T[T.Closed=2]="Closed",se;var T})();let j=(()=>{class T extends h.JT{constructor(I,H=Object.create(null)){super(),this.database=I,this.options=H,this._onDidChangeStorage=this._register(new v.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=se.None,this.cache=new Map,this.flushDelayer=new k.rH(T.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(I=>this.onDidChangeItemsExternal(I)))}onDidChangeItemsExternal(I){var H,K;null===(H=I.changed)||void 0===H||H.forEach((N,M)=>this.accept(M,N)),null===(K=I.deleted)||void 0===K||K.forEach(N=>this.accept(N,void 0))}accept(I,H){if(this.state===se.Closed)return;let K=!1;(0,Q.Jp)(H)?K=this.cache.delete(I):this.cache.get(I)!==H&&(this.cache.set(I,H),K=!0),K&&this._onDidChangeStorage.fire(I)}get(I,H){const K=this.cache.get(I);return(0,Q.Jp)(K)?H:K}getBoolean(I,H){const K=this.get(I);return(0,Q.Jp)(K)?H:"true"===K}getNumber(I,H){const K=this.get(I);return(0,Q.Jp)(K)?H:parseInt(K,10)}set(I,H){return R(this,void 0,void 0,function*(){if(this.state===se.Closed)return;if((0,Q.Jp)(H))return this.delete(I);const K=String(H);return this.cache.get(I)!==K?(this.cache.set(I,K),this.pendingInserts.set(I,K),this.pendingDeletes.delete(I),this._onDidChangeStorage.fire(I),this.doFlush()):void 0})}delete(I){return R(this,void 0,void 0,function*(){if(this.state!==se.Closed&&this.cache.delete(I))return this.pendingDeletes.has(I)||this.pendingDeletes.add(I),this.pendingInserts.delete(I),this._onDidChangeStorage.fire(I),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return R(this,void 0,void 0,function*(){if(!this.hasPending)return;const I={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(I).finally(()=>{var H;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(H=this.whenFlushedCallbacks.pop())||void 0===H||H()})})}doFlush(I){return R(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),I)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return T.DEFAULT_FLUSH_DELAY=100,T})();class Y{constructor(){this.onDidChangeItemsExternal=v.ju.None,this.items=new Map}updateItems(z){return R(this,void 0,void 0,function*(){z.insert&&z.insert.forEach((I,H)=>this.items.set(H,I)),z.delete&&z.delete.forEach(I=>this.items.delete(I))})}}var V=m(4725);const x="__$__targetStorageMarker",w=(0,V.yh)("storageService");var D=(()=>{return(T=D||(D={}))[T.NONE=0]="NONE",T[T.SHUTDOWN=1]="SHUTDOWN",D;var T})();let F=(()=>{class T extends h.JT{constructor(I={flushInterval:T.DEFAULT_FLUSH_INTERVAL}){super(),this.options=I,this._onDidChangeValue=this._register(new v.K3),this._onDidChangeTarget=this._register(new v.K3),this._onWillSaveState=this._register(new v.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(I,H){H===x?(0===I?this._globalKeyTargets=void 0:1===I&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:I})):this._onDidChangeValue.fire({scope:I,key:H,target:this.getKeyTargets(I)[H]})}get(I,H,K){var N;return null===(N=this.getStorage(H))||void 0===N?void 0:N.get(I,K)}getBoolean(I,H,K){var N;return null===(N=this.getStorage(H))||void 0===N?void 0:N.getBoolean(I,K)}getNumber(I,H,K){var N;return null===(N=this.getStorage(H))||void 0===N?void 0:N.getNumber(I,K)}store(I,H,K,N){(0,Q.Jp)(H)?this.remove(I,K):this.withPausedEmitters(()=>{var M;this.updateKeyTarget(I,K,N),null===(M=this.getStorage(K))||void 0===M||M.set(I,H)})}remove(I,H){this.withPausedEmitters(()=>{var K;this.updateKeyTarget(I,H,void 0),null===(K=this.getStorage(H))||void 0===K||K.delete(I)})}withPausedEmitters(I){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{I()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(I,H,K){var N,M;const P=this.getKeyTargets(H);"number"==typeof K?P[I]!==K&&(P[I]=K,null===(N=this.getStorage(H))||void 0===N||N.set(x,JSON.stringify(P))):"number"==typeof P[I]&&(delete P[I],null===(M=this.getStorage(H))||void 0===M||M.set(x,JSON.stringify(P)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(I){return 0===I?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(I){const H=this.get(x,I);if(H)try{return JSON.parse(H)}catch(K){}return Object.create(null)}}return T.DEFAULT_FLUSH_INTERVAL=6e4,T})();class f extends F{constructor(){super(),this.globalStorage=this._register(new j(new Y)),this.workspaceStorage=this._register(new j(new Y)),this._register(this.workspaceStorage.onDidChangeStorage(z=>this.emitDidChangeValue(1,z))),this._register(this.globalStorage.onDidChangeStorage(z=>this.emitDidChangeValue(0,z)))}getStorage(z){return 0===z?this.globalStorage:this.workspaceStorage}}},9881:(vt,Ke,m)=>{m.d(Ke,{b:()=>h});const h=(0,m(4725).yh)("telemetryService")},8708:(vt,Ke,m)=>{m.d(Ke,{QO2:()=>Y,IPX:()=>V,P6G:()=>D,dRz:()=>F,Ido:()=>f,XZx:()=>z,R80:()=>I,lRK:()=>H,xL1:()=>K,url:()=>P,sgC:()=>W,SwI:()=>fe,rh:()=>Se,sEe:()=>Ie,zJb:()=>_e,dt_:()=>$,PRb:()=>X,XEs:()=>re,Pvw:()=>ne,_lC:()=>ue,YI3:()=>we,EPQ:()=>He,RV_:()=>lt,SUG:()=>ut,C3g:()=>Ve,paE:()=>ct,_t9:()=>Nt,OZR:()=>un,j5u:()=>Kt,b7$:()=>nn,GO4:()=>Mn,g8u:()=>_n,qeD:()=>In,_wn:()=>it,etL:()=>$t,ABB:()=>bt,ynu:()=>Zt,zRJ:()=>Rn,L_H:()=>vn,lXJ:()=>Wn,b6y:()=>pt,gpD:()=>ei,uoC:()=>dt,pW3:()=>ke,few:()=>ft,c63:()=>Me,T83:()=>ot,Dut:()=>on,fEB:()=>Tn,cvW:()=>xn,NOs:()=>rn,D0T:()=>tn,Hfx:()=>bn,D1_:()=>mt,Ng6:()=>Xe,zKr:()=>Dn,tZ6:()=>An,loF:()=>Ye,kJk:()=>Te,opG:()=>Ae,oQ$:()=>ht,lWp:()=>Mt,AWI:()=>Ge,K19:()=>ln,hEj:()=>jn,yb5:()=>Jn,ES4:()=>qn,Rzx:()=>Qn,g_n:()=>ii,nyM:()=>gi,MUv:()=>ui,jUe:()=>Ti,pnM:()=>yi,EiJ:()=>Ni,gkn:()=>Ai,ptc:()=>Pn,yJx:()=>Ei,Sbf:()=>vi,CNo:()=>Wi,LoV:()=>Ci,_Yy:()=>Ri,VVv:()=>co,PpC:()=>Pi,hX8:()=>vo,bKB:()=>Li,HCL:()=>Di,phM:()=>Mo,Fu1:()=>Yi,sKV:()=>Bo,CzK:()=>Oo,keg:()=>wi,ypS:()=>$o,P4M:()=>fi,XL$:()=>ss,mHy:()=>xi,LLc:()=>Ii,L_t:()=>xo,_bK:()=>Zo,_2n:()=>Gn,Oop:()=>ds,dCr:()=>oo,M6C:()=>Io,Tnx:()=>Xi,rg2:()=>Wo,ytC:()=>nr,kvU:()=>Is,s$:()=>vs,F3d:()=>Ks,mV1:()=>dr,$d5:()=>wr,AS1:()=>$s,Gwp:()=>Gs,PX0:()=>ks,vGG:()=>Bs,oSI:()=>Qs,Saq:()=>ir,UnT:()=>c,uxu:()=>C,EQn:()=>O,NPS:()=>oe,cbQ:()=>Qe,Vqd:()=>et,Cdg:()=>xt,DEr:()=>It,Hz8:()=>Ft,jbW:()=>Yt,$DX:()=>nt,E3h:()=>Le,ZGJ:()=>De,lUq:()=>Fe,Fm_:()=>ra,SPM:()=>To,SUY:()=>Qr,IYc:()=>aa,ov3:()=>qe,Gj_:()=>Ue,Ivo:()=>Be,kVY:()=>kt,Itd:()=>ri,CA6:()=>Vn,Xy4:()=>so,brw:()=>er,JpG:()=>Ls,BOY:()=>Ct,OLZ:()=>me,ZnX:()=>pi,kwl:()=>fo,Snq:()=>Ss});var v=m(3072),h=m(8927),Q=m(2787),k=m(4435),R=m(402),se=m(3350),j=m(9537);function Y(io){return`--vscode-${io.replace(".","-")}`}const V={ColorContribution:"base.contributions.colors"},w=new class x{constructor(){this._onDidChangeSchema=new Q.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Do,Ro,Cs,Ms=!1,Ps){this.colorsById[Do]={id:Do,description:Cs,defaults:Ro,needsTransparency:Ms,deprecationMessage:Ps};let Er={type:"string",description:Cs,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Ps&&(Er.deprecationMessage=Ps),this.colorSchema.properties[Do]=Er,this.colorReferenceSchema.enum.push(Do),this.colorReferenceSchema.enumDescriptions.push(Cs),this._onDidChangeSchema.fire(),Do}getColors(){return Object.keys(this.colorsById).map(Do=>this.colorsById[Do])}resolveDefaultColor(Do,Ro){const Cs=this.colorsById[Do];if(Cs&&Cs.defaults)return Ss(Cs.defaults[Ro.type],Ro)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Ro,Cs)=>{let Ms=-1===Ro.indexOf(".")?0:1,Ps=-1===Cs.indexOf(".")?0:1;return Ms!==Ps?Ms-Ps:Ro.localeCompare(Cs)}).map(Ro=>`- \`${Ro}\`: ${this.colorsById[Ro].description}`).join("\n")}};function D(io,Do,Ro,Cs,Ms){return w.registerColor(io,Do,Ro,Cs,Ms)}j.B.add(V.ColorContribution,w);const F=D("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},R.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),f=D("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},R.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),z=(D("descriptionForeground",{light:"#717171",dark:pi(F,.7),hc:pi(F,.7)},R.N("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),D("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},R.N("iconForeground","The default color for icons in the workbench."))),I=D("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},R.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),H=D("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},R.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),K=D("contrastActiveBorder",{light:null,dark:null,hc:I},R.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),P=(D("selection.background",{light:null,dark:null,hc:null},R.N("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),D("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:h.Il.black},R.N("textSeparatorForeground","Color for text separators.")),D("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},R.N("textLinkForeground","Foreground color for links in text."))),W=D("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},R.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),fe=(D("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},R.N("textPreformatForeground","Foreground color for preformatted text segments.")),D("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},R.N("textBlockQuoteBackground","Background color for block quotes in text.")),D("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:h.Il.white},R.N("textBlockQuoteBorder","Border color for block quotes in text.")),D("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:h.Il.black},R.N("textCodeBlockBackground","Background color for code blocks in text."))),Se=D("widget.shadow",{dark:pi(h.Il.black,.36),light:pi(h.Il.black,.16),hc:null},R.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Ie=D("input.background",{dark:"#3C3C3C",light:h.Il.white,hc:h.Il.black},R.N("inputBoxBackground","Input box background.")),_e=D("input.foreground",{dark:F,light:F,hc:F},R.N("inputBoxForeground","Input box foreground.")),$=D("input.border",{dark:null,light:null,hc:H},R.N("inputBoxBorder","Input box border.")),X=D("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:H},R.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),re=(D("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},R.N("inputOption.hoverBackground","Background color of activated options in input fields.")),D("inputOption.activeBackground",{dark:pi(I,.4),light:pi(I,.2),hc:h.Il.transparent},R.N("inputOption.activeBackground","Background hover color of options in input fields."))),ne=D("inputOption.activeForeground",{dark:h.Il.white,light:h.Il.black,hc:null},R.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),ue=(D("input.placeholderForeground",{light:pi(F,.5),dark:pi(F,.5),hc:pi(F,.7)},R.N("inputPlaceholderForeground","Input box foreground color for placeholder text.")),D("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:h.Il.black},R.N("inputValidationInfoBackground","Input validation background color for information severity."))),we=D("inputValidation.infoForeground",{dark:null,light:null,hc:null},R.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),He=D("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:H},R.N("inputValidationInfoBorder","Input validation border color for information severity.")),lt=D("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:h.Il.black},R.N("inputValidationWarningBackground","Input validation background color for warning severity.")),ut=D("inputValidation.warningForeground",{dark:null,light:null,hc:null},R.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ve=D("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:H},R.N("inputValidationWarningBorder","Input validation border color for warning severity.")),ct=D("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:h.Il.black},R.N("inputValidationErrorBackground","Input validation background color for error severity.")),Nt=D("inputValidation.errorForeground",{dark:null,light:null,hc:null},R.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),un=D("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:H},R.N("inputValidationErrorBorder","Input validation border color for error severity.")),Jt=D("dropdown.background",{dark:"#3C3C3C",light:h.Il.white,hc:h.Il.black},R.N("dropdownBackground","Dropdown background.")),en=(D("dropdown.listBackground",{dark:null,light:null,hc:h.Il.black},R.N("dropdownListBackground","Dropdown list background.")),D("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:h.Il.white},R.N("dropdownForeground","Dropdown foreground."))),pn=D("dropdown.border",{dark:Jt,light:"#CECECE",hc:H},R.N("dropdownBorder","Dropdown border.")),Kt=(D("checkbox.background",{dark:Jt,light:Jt,hc:Jt},R.N("checkbox.background","Background color of checkbox widget.")),D("checkbox.foreground",{dark:en,light:en,hc:en},R.N("checkbox.foreground","Foreground color of checkbox widget.")),D("checkbox.border",{dark:pn,light:pn,hc:pn},R.N("checkbox.border","Border color of checkbox widget.")),D("button.foreground",{dark:h.Il.white,light:h.Il.white,hc:h.Il.white},R.N("buttonForeground","Button foreground color."))),nn=D("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},R.N("buttonBackground","Button background color.")),Mn=D("button.hoverBackground",{dark:ao(nn,.2),light:ro(nn,.2),hc:null},R.N("buttonHoverBackground","Button background color when hovering.")),Ht=(D("button.border",{dark:H,light:H,hc:H},R.N("buttonBorder","Button border color.")),D("button.secondaryForeground",{dark:h.Il.white,light:h.Il.white,hc:h.Il.white},R.N("buttonSecondaryForeground","Secondary button foreground color.")),D("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},R.N("buttonSecondaryBackground","Secondary button background color."))),_n=(D("button.secondaryHoverBackground",{dark:ao(Ht,.2),light:ro(Ht,.2),hc:null},R.N("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),D("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:h.Il.black},R.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),In=D("badge.foreground",{dark:h.Il.white,light:"#333",hc:h.Il.white},R.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),it=D("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},R.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),$t=D("scrollbarSlider.background",{dark:h.Il.fromHex("#797979").transparent(.4),light:h.Il.fromHex("#646464").transparent(.4),hc:pi(H,.6)},R.N("scrollbarSliderBackground","Scrollbar slider background color.")),bt=D("scrollbarSlider.hoverBackground",{dark:h.Il.fromHex("#646464").transparent(.7),light:h.Il.fromHex("#646464").transparent(.7),hc:pi(H,.8)},R.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Zt=D("scrollbarSlider.activeBackground",{dark:h.Il.fromHex("#BFBFBF").transparent(.4),light:h.Il.fromHex("#000000").transparent(.6),hc:H},R.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Rn=D("progressBar.background",{dark:h.Il.fromHex("#0E70C0"),light:h.Il.fromHex("#0E70C0"),hc:H},R.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),vn=D("editorError.background",{dark:null,light:null,hc:null},R.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Wn=D("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},R.N("editorError.foreground","Foreground color of error squigglies in the editor.")),pt=D("editorError.border",{dark:null,light:null,hc:h.Il.fromHex("#E47777").transparent(.8)},R.N("errorBorder","Border color of error boxes in the editor.")),ei=D("editorWarning.background",{dark:null,light:null,hc:null},R.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),dt=D("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},R.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ke=D("editorWarning.border",{dark:null,light:null,hc:h.Il.fromHex("#FFCC00").transparent(.8)},R.N("warningBorder","Border color of warning boxes in the editor.")),ft=D("editorInfo.background",{dark:null,light:null,hc:null},R.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Me=D("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},R.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),ot=D("editorInfo.border",{dark:null,light:null,hc:h.Il.fromHex("#3794FF").transparent(.8)},R.N("infoBorder","Border color of info boxes in the editor.")),on=D("editorHint.foreground",{dark:h.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},R.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Tn=D("editorHint.border",{dark:null,light:null,hc:h.Il.fromHex("#eeeeee").transparent(.8)},R.N("hintBorder","Border color of hint boxes in the editor.")),xn=(D("sash.hoverBorder",{dark:I,light:I,hc:I},R.N("sashActiveBorder","Border color of active sashes.")),D("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:h.Il.black},R.N("editorBackground","Editor background color."))),rn=D("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:h.Il.white},R.N("editorForeground","Editor default foreground color.")),tn=D("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},R.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),bn=D("editorWidget.foreground",{dark:F,light:F,hc:F},R.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),mt=D("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:H},R.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Xe=D("editorWidget.resizeBorder",{light:null,dark:null,hc:null},R.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Dn=D("quickInput.background",{dark:tn,light:tn,hc:tn},R.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),An=D("quickInput.foreground",{dark:bn,light:bn,hc:bn},R.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ye=D("quickInputTitle.background",{dark:new h.Il(new h.VS(255,255,255,.105)),light:new h.Il(new h.VS(0,0,0,.06)),hc:"#000000"},R.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Te=D("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:h.Il.white},R.N("pickerGroupForeground","Quick picker color for grouping labels.")),Ae=D("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:h.Il.white},R.N("pickerGroupBorder","Quick picker color for grouping borders.")),ht=D("keybindingLabel.background",{dark:new h.Il(new h.VS(128,128,128,.17)),light:new h.Il(new h.VS(221,221,221,.4)),hc:h.Il.transparent},R.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Mt=D("keybindingLabel.foreground",{dark:h.Il.fromHex("#CCCCCC"),light:h.Il.fromHex("#555555"),hc:h.Il.white},R.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Ge=D("keybindingLabel.border",{dark:new h.Il(new h.VS(51,51,51,.6)),light:new h.Il(new h.VS(204,204,204,.4)),hc:new h.Il(new h.VS(111,195,223))},R.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),ln=D("keybindingLabel.bottomBorder",{dark:new h.Il(new h.VS(68,68,68,.6)),light:new h.Il(new h.VS(187,187,187,.4)),hc:new h.Il(new h.VS(111,195,223))},R.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),jn=D("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},R.N("editorSelectionBackground","Color of the editor selection.")),Jn=D("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},R.N("editorSelectionForeground","Color of the selected text for high contrast.")),qn=D("editor.inactiveSelectionBackground",{light:pi(jn,.5),dark:pi(jn,.5),hc:pi(jn,.5)},R.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Qn=D("editor.selectionHighlightBackground",{light:hs(jn,xn,.3,.6),dark:hs(jn,xn,.3,.6),hc:null},R.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),ii=D("editor.selectionHighlightBorder",{light:null,dark:null,hc:K},R.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),gi=D("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},R.N("editorFindMatch","Color of the current search match.")),ui=D("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},R.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ti=D("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},R.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),yi=D("editor.findMatchBorder",{light:null,dark:null,hc:K},R.N("editorFindMatchBorder","Border color of the current search match.")),Ni=D("editor.findMatchHighlightBorder",{light:null,dark:null,hc:K},R.N("findMatchHighlightBorder","Border color of the other search matches.")),Ai=D("editor.findRangeHighlightBorder",{dark:null,light:null,hc:pi(K,.4)},R.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Pn=(D("searchEditor.findMatchBackground",{light:pi(ui,.66),dark:pi(ui,.66),hc:ui},R.N("searchEditor.queryMatch","Color of the Search Editor query matches.")),D("searchEditor.findMatchBorder",{light:pi(Ni,.66),dark:pi(Ni,.66),hc:Ni},R.N("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),D("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},R.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),Ei=D("editorHoverWidget.background",{light:tn,dark:tn,hc:tn},R.N("hoverBackground","Background color of the editor hover.")),vi=D("editorHoverWidget.foreground",{light:bn,dark:bn,hc:bn},R.N("hoverForeground","Foreground color of the editor hover.")),Wi=D("editorHoverWidget.border",{light:mt,dark:mt,hc:mt},R.N("hoverBorder","Border color of the editor hover.")),Ci=D("editorHoverWidget.statusBarBackground",{dark:ao(Ei,.2),light:ro(Ei,.05),hc:tn},R.N("statusBarBackground","Background color of the editor hover status bar.")),Ri=D("editorLink.activeForeground",{dark:"#4E94CE",light:h.Il.blue,hc:h.Il.cyan},R.N("activeLinkForeground","Color of active links.")),co=D("editorInlayHint.foreground",{dark:pi(In,.8),light:pi(In,.8),hc:In},R.N("editorInlayHintForeground","Foreground color of inline hints")),Pi=D("editorInlayHint.background",{dark:pi(_n,.6),light:pi(_n,.3),hc:_n},R.N("editorInlayHintBackground","Background color of inline hints")),vo=D("editorInlayHint.typeForeground",{dark:co,light:co,hc:co},R.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Li=D("editorInlayHint.typeBackground",{dark:Pi,light:Pi,hc:Pi},R.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Di=D("editorInlayHint.parameterForeground",{dark:co,light:co,hc:co},R.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Mo=D("editorInlayHint.parameterBackground",{dark:Pi,light:Pi,hc:Pi},R.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Yi=D("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},R.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Bo=D("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},R.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Oo=new h.Il(new h.VS(155,185,85,.2)),wi=new h.Il(new h.VS(255,0,0,.2)),$o=D("diffEditor.insertedTextBackground",{dark:Oo,light:Oo,hc:null},R.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),fi=D("diffEditor.removedTextBackground",{dark:wi,light:wi,hc:null},R.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ss=D("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},R.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),xi=D("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},R.N("diffEditorRemovedOutline","Outline color for text that got removed.")),Ii=D("diffEditor.border",{dark:null,light:null,hc:H},R.N("diffEditorBorder","Border color between the two text editors.")),xo=D("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},R.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Zo=D("list.focusBackground",{dark:null,light:null,hc:null},R.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gn=D("list.focusForeground",{dark:null,light:null,hc:null},R.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ds=D("list.focusOutline",{dark:I,light:I,hc:K},R.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),oo=D("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},R.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Io=D("list.activeSelectionForeground",{dark:h.Il.white,light:h.Il.white,hc:null},R.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Xi=D("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},R.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Wo=D("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},R.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),nr=D("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},R.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Is=D("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},R.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),vs=D("list.inactiveFocusBackground",{dark:null,light:null,hc:null},R.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ks=D("list.inactiveFocusOutline",{dark:null,light:null,hc:null},R.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),dr=D("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},R.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),wr=D("list.hoverForeground",{dark:null,light:null,hc:null},R.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),$s=D("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},R.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Gs=D("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:I},R.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),ks=D("list.focusHighlightForeground",{dark:Gs,light:function Lo(io,Do,Ro){return{op:5,if:io,then:Do,else:Ro}}(oo,Gs,"#9DDDFF"),hc:Gs},R.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Bs=(D("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},R.N("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),D("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},R.N("listErrorForeground","Foreground color of list items containing errors.")),D("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},R.N("listWarningForeground","Foreground color of list items containing warnings.")),D("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:h.Il.black},R.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),Qs=D("listFilterWidget.outline",{dark:h.Il.transparent,light:h.Il.transparent,hc:"#f38518"},R.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),ir=D("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:H},R.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),c=(D("list.filterMatchBackground",{dark:ui,light:ui,hc:null},R.N("listFilterMatchHighlight","Background color of the filtered match.")),D("list.filterMatchBorder",{dark:Ni,light:Ni,hc:H},R.N("listFilterMatchHighlightBorder","Border color of the filtered match.")),D("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},R.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),C=D("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},R.N("tableColumnsBorder","Table border color between columns.")),O=D("tree.tableOddRowsBackground",{dark:pi(F,.04),light:pi(F,.04),hc:null},R.N("tableOddRowsBackgroundColor","Background color for odd table rows.")),de=(D("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},R.N("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),D("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,R.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),oe=D("quickInputList.focusForeground",{dark:Io,light:Io,hc:Io},R.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Qe=D("quickInputList.focusIconForeground",{dark:Xi,light:Xi,hc:Xi},R.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),et=D("quickInputList.focusBackground",{dark:fo(de,oo),light:fo(de,oo),hc:null},R.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),xt=D("menu.border",{dark:null,light:null,hc:H},R.N("menuBorder","Border color of menus.")),It=D("menu.foreground",{dark:en,light:F,hc:en},R.N("menuForeground","Foreground color of menu items.")),Ft=D("menu.background",{dark:Jt,light:Jt,hc:Jt},R.N("menuBackground","Background color of menu items.")),Yt=D("menu.selectionForeground",{dark:Io,light:Io,hc:Io},R.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),nt=D("menu.selectionBackground",{dark:oo,light:oo,hc:oo},R.N("menuSelectionBackground","Background color of the selected menu item in menus.")),Le=D("menu.selectionBorder",{dark:null,light:null,hc:K},R.N("menuSelectionBorder","Border color of the selected menu item in menus.")),De=D("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:H},R.N("menuSeparatorBackground","Color of a separator menu item in menus.")),Fe=D("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},R.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),$n=(D("toolbar.hoverOutline",{dark:null,light:null,hc:K},R.N("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),D("toolbar.activeBackground",{dark:ao(Fe,.1),light:ro(Fe,.1),hc:null},R.N("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),D("editor.snippetTabstopHighlightBackground",{dark:new h.Il(new h.VS(124,124,124,.3)),light:new h.Il(new h.VS(10,50,100,.2)),hc:new h.Il(new h.VS(124,124,124,.3))},R.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),D("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},R.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),D("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},R.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),D("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new h.Il(new h.VS(10,50,100,.5)),hc:"#525252"},R.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),D("breadcrumb.foreground",{light:pi(F,.8),dark:pi(F,.8),hc:pi(F,.8)},R.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),D("breadcrumb.background",{light:xn,dark:xn,hc:xn},R.N("breadcrumbsBackground","Background color of breadcrumb items.")),D("breadcrumb.focusForeground",{light:ro(F,.2),dark:ao(F,.1),hc:ao(F,.1)},R.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),D("breadcrumb.activeSelectionForeground",{light:ro(F,.2),dark:ao(F,.1),hc:ao(F,.1)},R.N("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),D("breadcrumbPicker.background",{light:tn,dark:tn,hc:tn},R.N("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),h.Il.fromHex("#40C8AE").transparent(.5)),Fi=h.Il.fromHex("#40A6FF").transparent(.5),es=h.Il.fromHex("#606060").transparent(.4),No=.4,$i=D("merge.currentHeaderBackground",{dark:$n,light:$n,hc:null},R.N("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Go=(D("merge.currentContentBackground",{dark:pi($i,No),light:pi($i,No),hc:pi($i,No)},R.N("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),D("merge.incomingHeaderBackground",{dark:Fi,light:Fi,hc:null},R.N("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),bs=(D("merge.incomingContentBackground",{dark:pi(Go,No),light:pi(Go,No),hc:pi(Go,No)},R.N("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),D("merge.commonHeaderBackground",{dark:es,light:es,hc:null},R.N("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Vi=(D("merge.commonContentBackground",{dark:pi(bs,No),light:pi(bs,No),hc:pi(bs,No)},R.N("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),D("merge.border",{dark:null,light:null,hc:"#C3DF6F"},R.N("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),ra=(D("editorOverviewRuler.currentContentForeground",{dark:pi($i,1),light:pi($i,1),hc:Vi},R.N("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),D("editorOverviewRuler.incomingContentForeground",{dark:pi(Go,1),light:pi(Go,1),hc:Vi},R.N("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),D("editorOverviewRuler.commonContentForeground",{dark:pi(bs,1),light:pi(bs,1),hc:Vi},R.N("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),D("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},R.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),To=D("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},R.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Qr=D("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},R.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),aa=D("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},R.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),qe=D("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},R.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Ue=D("minimap.errorHighlight",{dark:new h.Il(new h.VS(255,18,18,.7)),light:new h.Il(new h.VS(255,18,18,.7)),hc:new h.Il(new h.VS(255,50,50,1))},R.N("minimapError","Minimap marker color for errors.")),Be=D("minimap.warningHighlight",{dark:dt,light:dt,hc:ke},R.N("overviewRuleWarning","Minimap marker color for warnings.")),kt=D("minimap.background",{dark:null,light:null,hc:null},R.N("minimapBackground","Minimap background color.")),ri=D("minimap.foregroundOpacity",{dark:h.Il.fromHex("#000f"),light:h.Il.fromHex("#000f"),hc:h.Il.fromHex("#000f")},R.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Vn=D("minimapSlider.background",{light:pi($t,.5),dark:pi($t,.5),hc:pi($t,.5)},R.N("minimapSliderBackground","Minimap slider background color.")),so=D("minimapSlider.hoverBackground",{light:pi(bt,.5),dark:pi(bt,.5),hc:pi(bt,.5)},R.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),er=D("minimapSlider.activeBackground",{light:pi(Zt,.5),dark:pi(Zt,.5),hc:pi(Zt,.5)},R.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Ls=D("problemsErrorIcon.foreground",{dark:Wn,light:Wn,hc:Wn},R.N("problemsErrorIconForeground","The color used for the problems error icon.")),Ct=D("problemsWarningIcon.foreground",{dark:dt,light:dt,hc:dt},R.N("problemsWarningIconForeground","The color used for the problems warning icon.")),me=D("problemsInfoIcon.foreground",{dark:Me,light:Me,hc:Me},R.N("problemsInfoIconForeground","The color used for the problems info icon."));function ro(io,Do){return{op:0,value:io,factor:Do}}function ao(io,Do){return{op:1,value:io,factor:Do}}function pi(io,Do){return{op:2,value:io,factor:Do}}function fo(...io){return{op:3,values:io}}function hs(io,Do,Ro,Cs){return{op:4,value:io,background:Do,factor:Ro,transparency:Cs}}function Ss(io,Do){if(null!==io){if("string"==typeof io)return"#"===io[0]?h.Il.fromHex(io):Do.getColor(io);if(io instanceof h.Il)return io;if("object"==typeof io)return function Hi(io,Do){var Ro,Cs,Ms;switch(io.op){case 0:return null===(Ro=Ss(io.value,Do))||void 0===Ro?void 0:Ro.darken(io.factor);case 1:return null===(Cs=Ss(io.value,Do))||void 0===Cs?void 0:Cs.lighten(io.factor);case 2:return null===(Ms=Ss(io.value,Do))||void 0===Ms?void 0:Ms.transparent(io.factor);case 3:for(const Ps of io.values){const lr=Ss(Ps,Do);if(lr)return lr}return;case 5:return Ss(Do.defines(io.if)?io.then:io.else,Do);case 4:{const Ps=Ss(io.value,Do);if(!Ps)return;const lr=Ss(io.background,Do);return lr?Ps.isDarkerThan(lr)?h.Il.getLighterColor(Ps,lr,io.factor).transparent(io.transparency):h.Il.getDarkerColor(Ps,lr,io.factor).transparent(io.transparency):Ps.transparent(io.factor*io.transparency)}default:throw(0,k.vE)(io)}}(io,Do)}}D("charts.foreground",{dark:F,light:F,hc:F},R.N("chartsForeground","The foreground color used in charts.")),D("charts.lines",{dark:pi(F,.5),light:pi(F,.5),hc:pi(F,.5)},R.N("chartsLines","The color used for horizontal lines in charts.")),D("charts.red",{dark:Wn,light:Wn,hc:Wn},R.N("chartsRed","The red color used in chart visualizations.")),D("charts.blue",{dark:Me,light:Me,hc:Me},R.N("chartsBlue","The blue color used in chart visualizations.")),D("charts.yellow",{dark:dt,light:dt,hc:dt},R.N("chartsYellow","The yellow color used in chart visualizations.")),D("charts.orange",{dark:Qr,light:Qr,hc:Qr},R.N("chartsOrange","The orange color used in chart visualizations.")),D("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},R.N("chartsGreen","The green color used in chart visualizations.")),D("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},R.N("chartsPurple","The purple color used in chart visualizations."));const Os="vscode://schemas/workbench-colors";let ts=j.B.as(se.I.JSONContribution);ts.registerSchema(Os,w.getColorSchema());const Jo=new v.pY(()=>ts.notifySchemaChanged(Os),200);w.onDidChangeSchema(()=>{Jo.isScheduled()||Jo.schedule()})},5836:(vt,Ke,m)=>{m.d(Ke,{q5:()=>D,Ks:()=>F,s_:()=>H});var V,v=m(3072),h=m(2450),Q=m(2787),k=m(402),R=m(3350),se=m(9537),j=m(3024);(V||(V={})).getDefinition=function J(he,ye){let fe=he.defaults;for(;j.kS.isThemeIcon(fe);){const Se=w.getIcon(fe.id);if(!Se)return;fe=Se.defaults}return fe};const w=new class x{constructor(){this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,k.N)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,k.N)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${h.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(J,he,ye,fe){const Se=this.iconsById[J];if(Se){if(ye&&!Se.description){Se.description=ye,this.iconSchema.properties[J].markdownDescription=`${ye} $(${J})`;const $=this.iconReferenceSchema.enum.indexOf(J);-1!==$&&(this.iconReferenceSchema.enumDescriptions[$]=ye),this._onDidChange.fire()}return Se}this.iconsById[J]={id:J,description:ye,defaults:he,deprecationMessage:fe};let _e={$ref:"#/definitions/icons"};return fe&&(_e.deprecationMessage=fe),ye&&(_e.markdownDescription=`${ye}: $(${J})`),this.iconSchema.properties[J]=_e,this.iconReferenceSchema.enum.push(J),this.iconReferenceSchema.enumDescriptions.push(ye||""),this._onDidChange.fire(),{id:J}}getIcons(){return Object.keys(this.iconsById).map(J=>this.iconsById[J])}getIcon(J){return this.iconsById[J]}getIconSchema(){return this.iconSchema}toString(){const J=(Se,Ie)=>Se.id.localeCompare(Ie.id),he=Se=>{for(;j.kS.isThemeIcon(Se.defaults);)Se=this.iconsById[Se.defaults.id];return`codicon codicon-${Se?Se.id:""}`};let ye=[];ye.push("| preview     | identifier                        | default codicon ID                | description"),ye.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const fe=Object.keys(this.iconsById).map(Se=>this.iconsById[Se]);for(const Se of fe.filter(Ie=>!!Ie.description).sort(J))ye.push(`|<i class="${he(Se)}"></i>|${Se.id}|${j.kS.isThemeIcon(Se.defaults)?Se.defaults.id:Se.id}|${Se.description||""}|`);ye.push("| preview     | identifier                        "),ye.push("| ----------- | --------------------------------- |");for(const Se of fe.filter(Ie=>!j.kS.isThemeIcon(Ie.defaults)).sort(J))ye.push(`|<i class="${he(Se)}"></i>|${Se.id}|`);return ye.join("\n")}};function D(W,J,he,ye){return w.registerIcon(W,J,he,ye)}function F(){return w}se.B.add("base.contributions.icons",w),function f(){for(const W of h.lA.getAll())w.registerIcon(W.id,W.definition,W.description)}();const T="vscode://schemas/icons";let z=se.B.as(R.I.JSONContribution);z.registerSchema(T,w.getIconSchema());const I=new v.pY(()=>z.notifySchemaChanged(T),200);w.onDidChange(()=>{I.isScheduled()||I.schedule()});const H=D("widget-close",h.lA.close,(0,k.N)("widgetClose","Icon for the close action in widgets."));D("goto-previous-location",h.lA.arrowUp,(0,k.N)("previousChangeIcon","Icon for goto previous editor location.")),D("goto-next-location",h.lA.arrowDown,(0,k.N)("nextChangeIcon","Icon for goto next editor location.")),j.kS.modify(h.lA.sync,"spin"),j.kS.modify(h.lA.loading,"spin")},2151:(vt,Ke,m)=>{m.d(Ke,{o:()=>h,WZ:()=>k,Jl:()=>R,O2:()=>se,tj:()=>Y});var v=m(8708);function h(V,x){const w=Object.create(null);for(let D in x){const F=x[D];F&&(w[D]=(0,v.Snq)(F,V))}return w}function Q(V,x,w){function D(){const F=h(V.getColorTheme(),x);"function"==typeof w?w(F):w.style(F)}return D(),V.onDidColorThemeChange(D)}function k(V,x,w){return Q(x,{badgeBackground:(null==w?void 0:w.badgeBackground)||v.g8u,badgeForeground:(null==w?void 0:w.badgeForeground)||v.qeD,badgeBorder:v.lRK},V)}function R(V,x,w){return Q(x,Object.assign(Object.assign({},se),w||{}),V)}const se={listFocusBackground:v._bK,listFocusForeground:v._2n,listFocusOutline:v.Oop,listActiveSelectionBackground:v.dCr,listActiveSelectionForeground:v.M6C,listActiveSelectionIconForeground:v.Tnx,listFocusAndSelectionBackground:v.dCr,listFocusAndSelectionForeground:v.M6C,listInactiveSelectionBackground:v.rg2,listInactiveSelectionIconForeground:v.kvU,listInactiveSelectionForeground:v.ytC,listInactiveFocusBackground:v.s$,listInactiveFocusOutline:v.F3d,listHoverBackground:v.mV1,listHoverForeground:v.$d5,listDropBackground:v.AS1,listSelectionOutline:v.xL1,listHoverOutline:v.xL1,listFilterWidgetBackground:v.vGG,listFilterWidgetOutline:v.oSI,listFilterWidgetNoMatchesOutline:v.Saq,listMatchesShadow:v.rh,treeIndentGuidesStroke:v.UnT,tableColumnsBorder:v.uxu,tableOddRowsBackgroundColor:v.EQn},j={shadowColor:v.rh,borderColor:v.Cdg,foregroundColor:v.DEr,backgroundColor:v.Hz8,selectionForegroundColor:v.jbW,selectionBackgroundColor:v.$DX,selectionBorderColor:v.E3h,separatorColor:v.ZGJ,scrollbarShadow:v._wn,scrollbarSliderBackground:v.etL,scrollbarSliderHoverBackground:v.ABB,scrollbarSliderActiveBackground:v.ynu};function Y(V,x,w){return Q(x,Object.assign(Object.assign({},j),w),V)}},8676:(vt,Ke,m)=>{m.d(Ke,{e:()=>v});var v=(()=>{return(h=v||(v={})).DARK="dark",h.LIGHT="light",h.HIGH_CONTRAST="hc",v;var h})()},3024:(vt,Ke,m)=>{m.d(Ke,{XE:()=>j,EN:()=>V,kS:()=>x,m6:()=>w,IP:()=>D,Ic:()=>T,bB:()=>z});var v=m(2450),h=m(2787),Q=m(2425),k=m(4725),R=m(9537),se=m(8676);const j=(0,k.yh)("themeService");var Y,x;function V(I){return{id:I}}function w(I){switch(I){case se.e.DARK:return"vs-dark";case se.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(Y||(Y={})).isThemeColor=function H(K){return K&&"object"==typeof K&&"string"==typeof K.id},function(I){I.isThemeIcon=function H(ye){return ye&&"object"==typeof ye&&"string"==typeof ye.id&&(void 0===ye.color||Y.isThemeColor(ye.color))};const K=new RegExp(`^\\$\\((${v.dT.iconNameExpression}(?:${v.dT.iconModifierExpression})?)\\)$`);I.fromString=function N(ye){const fe=K.exec(ye);if(!fe)return;let[,Se]=fe;return{id:Se}},I.fromId=function M(ye){return{id:ye}},I.modify=function P(ye,fe){let Se=ye.id;const Ie=Se.lastIndexOf("~");return-1!==Ie&&(Se=Se.substring(0,Ie)),fe&&(Se=`${Se}~${fe}`),{id:Se}},I.getModifier=function W(ye){const fe=ye.id.lastIndexOf("~");if(-1!==fe)return ye.id.substring(fe+1)},I.isEqual=function J(ye,fe){var Se,Ie;return ye.id===fe.id&&(null===(Se=ye.color)||void 0===Se?void 0:Se.id)===(null===(Ie=fe.color)||void 0===Ie?void 0:Ie.id)},I.asThemeIcon=function he(ye,fe){return{id:ye.id,color:fe?V(fe):void 0}},I.asClassNameArray=v.dT.asClassNameArray,I.asClassName=v.dT.asClassName,I.asCSSSelector=v.dT.asCSSSelector}(x||(x={}));const D={ThemingContribution:"base.contributions.theming"};let f=new class F{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new h.Q5}onColorThemeChange(H){return this.themingParticipants.push(H),this.onThemingParticipantAddedEmitter.fire(H),(0,Q.OF)(()=>{const K=this.themingParticipants.indexOf(H);this.themingParticipants.splice(K,1)})}getThemingParticipants(){return this.themingParticipants}};function T(I){return f.onColorThemeChange(I)}R.B.add(D.ThemingContribution,f);class z extends Q.JT{constructor(H){super(),this.themeService=H,this.theme=H.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(K=>this.onThemeChange(K)))}onThemeChange(H){this.theme=H,this.updateStyles()}updateStyles(){}}},8846:(vt,Ke,m)=>{m.d(Ke,{tJ:()=>h,YO:()=>Q,Xt:()=>k,gJ:()=>R});const h=(0,m(4725).yh)("undoRedoService");class Q{constructor(j,Y){this.resource=j,this.elements=Y}}class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}k._ID=0,k.None=new k;class R{constructor(){this.id=R._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}R._ID=0,R.None=new R},2405:(vt,Ke,m)=>{m.d(Ke,{ec:()=>Q,md:()=>R}),m(7838);const Q=(0,m(4725).yh)("contextService");class R{constructor(j,Y){this.raw=Y,this.uri=j.uri,this.index=j.index,this.name=j.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},6031:(vt,Ke,m)=>{m.d(Ke,{Y:()=>h});const h=(0,m(4725).yh)("workspaceTrustManagementService")},8704:(vt,Ke,m)=>{m.d(Ke,{PG:()=>x,nm:()=>D});var v=m(4893),h=m(3554),Q=m(4968),k=m(9808);const R=["editorContainer"],se=new v.OlP("NGX_MONACO_EDITOR_CONFIG");let Y,j=!1,V=(()=>{class F{constructor(T){this.config=T,this.onInit=new v.vpe}ngAfterViewInit(){j?Y.then(()=>{this.initMonaco(this._options)}):(j=!0,Y=new Promise(T=>{const z=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if("object"==typeof window.monaco)return void T();const I=()=>{window.require.config({paths:{vs:`${z}`}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options),T()})};if(window.require)I();else{const H=document.createElement("script");H.type="text/javascript",H.src=`${z}/loader.js`,H.addEventListener("load",I),document.body.appendChild(H)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return F.\u0275fac=function(T){return new(T||F)(v.Y36(se))},F.\u0275cmp=v.Xpm({type:F,selectors:[["ng-component"]],viewQuery:function(T,z){if(1&T&&v.Gf(R,7),2&T){let I;v.iGM(I=v.CRH())&&(z._editorContainer=I.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(T,z){},encapsulation:2}),F})(),x=(()=>{class F extends V{constructor(T,z){super(z),this.zone=T,this.editorConfig=z,this._value="",this.propagateChange=I=>{},this.onTouched=()=>{}}set options(T){this._options=Object.assign({},this.config.defaultOptions,T),this._editor&&(this._editor.dispose(),this.initMonaco(T))}get options(){return this._options}set model(T){this.options.model=T,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(T){this._value=T||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(T){this.propagateChange=T}registerOnTouched(T){this.onTouched=T}initMonaco(T){const z=!!T.model;if(z){const I=monaco.editor.getModel(T.model.uri||"");I?(T.model=I,T.model.setValue(this._value)):T.model=monaco.editor.createModel(T.model.value,T.model.language,T.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,T),z||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(I=>{const H=this._editor.getValue();this.zone.run(()=>{this.propagateChange(H),this._value=H})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,Q.R)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return F.\u0275fac=function(T){return new(T||F)(v.Y36(v.R0b),v.Y36(se))},F.\u0275cmp=v.Xpm({type:F,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[v._Bn([{provide:h.JU,useExisting:(0,v.Gpc)(()=>F),multi:!0}]),v.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(T,z){1&T&&v._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%] {\n          display: block;\n          height: 200px;\n      }\n\n      .editor-container[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 98%;\n      }"]}),F})(),D=(()=>{class F{static forRoot(T={}){return{ngModule:F,providers:[{provide:se,useValue:T}]}}}return F.\u0275fac=function(T){return new(T||F)},F.\u0275mod=v.oAB({type:F}),F.\u0275inj=v.cJS({imports:[[k.ez]]}),F})()},8306:(vt,Ke,m)=>{m.d(Ke,{y:()=>x});var v=m(930),h=m(4211),Q=m(8822),k=m(4671);var j=m(2416),Y=m(576),V=m(2806);let x=(()=>{class f{constructor(z){z&&(this._subscribe=z)}lift(z){const I=new f;return I.source=this,I.operator=z,I}subscribe(z,I,H){const K=function F(f){return f&&f instanceof v.Lv||function D(f){return f&&(0,Y.m)(f.next)&&(0,Y.m)(f.error)&&(0,Y.m)(f.complete)}(f)&&(0,h.Nn)(f)}(z)?z:new v.Hp(z,I,H);return(0,V.x)(()=>{const{operator:N,source:M}=this;K.add(N?N.call(K,M):M?this._subscribe(K):this._trySubscribe(K))}),K}_trySubscribe(z){try{return this._subscribe(z)}catch(I){z.error(I)}}forEach(z,I){return new(I=w(I))((H,K)=>{const N=new v.Hp({next:M=>{try{z(M)}catch(P){K(P),N.unsubscribe()}},error:K,complete:H});this.subscribe(N)})}_subscribe(z){var I;return null===(I=this.source)||void 0===I?void 0:I.subscribe(z)}[Q.L](){return this}pipe(...z){return function se(f){return 0===f.length?k.y:1===f.length?f[0]:function(z){return f.reduce((I,H)=>H(I),z)}}(z)(this)}toPromise(z){return new(z=w(z))((I,H)=>{let K;this.subscribe(N=>K=N,N=>H(N),()=>I(K))})}}return f.create=T=>new f(T),f})();function w(f){var T;return null!==(T=null!=f?f:j.v.Promise)&&void 0!==T?T:Promise}},7579:(vt,Ke,m)=>{m.d(Ke,{x:()=>j});var v=m(8306),h=m(4211);const k=(0,m(3888).d)(V=>function(){V(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var R=m(8737),se=m(2806);let j=(()=>{class V extends v.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(w){const D=new Y(this,this);return D.operator=w,D}_throwIfClosed(){if(this.closed)throw new k}next(w){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const D=this.observers.slice();for(const F of D)F.next(w)}})}error(w){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=w;const{observers:D}=this;for(;D.length;)D.shift().error(w)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:w}=this;for(;w.length;)w.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var w;return(null===(w=this.observers)||void 0===w?void 0:w.length)>0}_trySubscribe(w){return this._throwIfClosed(),super._trySubscribe(w)}_subscribe(w){return this._throwIfClosed(),this._checkFinalizedStatuses(w),this._innerSubscribe(w)}_innerSubscribe(w){const{hasError:D,isStopped:F,observers:f}=this;return D||F?h.Lc:(f.push(w),new h.w0(()=>(0,R.P)(f,w)))}_checkFinalizedStatuses(w){const{hasError:D,thrownError:F,isStopped:f}=this;D?w.error(F):f&&w.complete()}asObservable(){const w=new v.y;return w.source=this,w}}return V.create=(x,w)=>new Y(x,w),V})();class Y extends j{constructor(x,w){super(),this.destination=x,this.source=w}next(x){var w,D;null===(D=null===(w=this.destination)||void 0===w?void 0:w.next)||void 0===D||D.call(w,x)}error(x){var w,D;null===(D=null===(w=this.destination)||void 0===w?void 0:w.error)||void 0===D||D.call(w,x)}complete(){var x,w;null===(w=null===(x=this.destination)||void 0===x?void 0:x.complete)||void 0===w||w.call(x)}_subscribe(x){var w,D;return null!==(D=null===(w=this.source)||void 0===w?void 0:w.subscribe(x))&&void 0!==D?D:h.Lc}}},930:(vt,Ke,m)=>{m.d(Ke,{Hp:()=>z,Lv:()=>D});var v=m(576),h=m(4211),Q=m(2416),k=m(7849),R=m(5032);const se=V("C",void 0,void 0);function V(M,P,W){return{kind:M,value:P,error:W}}var x=m(3410),w=m(2806);class D extends h.w0{constructor(P){super(),this.isStopped=!1,P?(this.destination=P,(0,h.Nn)(P)&&P.add(this)):this.destination=N}static create(P,W,J){return new z(P,W,J)}next(P){this.isStopped?K(function Y(M){return V("N",M,void 0)}(P),this):this._next(P)}error(P){this.isStopped?K(function j(M){return V("E",void 0,M)}(P),this):(this.isStopped=!0,this._error(P))}complete(){this.isStopped?K(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(P){this.destination.next(P)}_error(P){try{this.destination.error(P)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function f(M,P){return F.call(M,P)}class T{constructor(P){this.partialObserver=P}next(P){const{partialObserver:W}=this;if(W.next)try{W.next(P)}catch(J){I(J)}}error(P){const{partialObserver:W}=this;if(W.error)try{W.error(P)}catch(J){I(J)}else I(P)}complete(){const{partialObserver:P}=this;if(P.complete)try{P.complete()}catch(W){I(W)}}}class z extends D{constructor(P,W,J){let he;if(super(),(0,v.m)(P)||!P)he={next:null!=P?P:void 0,error:null!=W?W:void 0,complete:null!=J?J:void 0};else{let ye;this&&Q.v.useDeprecatedNextContext?(ye=Object.create(P),ye.unsubscribe=()=>this.unsubscribe(),he={next:P.next&&f(P.next,ye),error:P.error&&f(P.error,ye),complete:P.complete&&f(P.complete,ye)}):he=P}this.destination=new T(he)}}function I(M){Q.v.useDeprecatedSynchronousErrorHandling?(0,w.O)(M):(0,k.h)(M)}function K(M,P){const{onStoppedNotification:W}=Q.v;W&&x.z.setTimeout(()=>W(M,P))}const N={closed:!0,next:R.Z,error:function H(M){throw M},complete:R.Z}},4211:(vt,Ke,m)=>{m.d(Ke,{Lc:()=>se,w0:()=>R,Nn:()=>j});var v=m(576);const Q=(0,m(3888).d)(V=>function(w){V(this),this.message=w?`${w.length} errors occurred during unsubscription:\n${w.map((D,F)=>`${F+1}) ${D.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=w});var k=m(8737);class R{constructor(x){this.initialTeardown=x,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let x;if(!this.closed){this.closed=!0;const{_parentage:w}=this;if(w)if(this._parentage=null,Array.isArray(w))for(const f of w)f.remove(this);else w.remove(this);const{initialTeardown:D}=this;if((0,v.m)(D))try{D()}catch(f){x=f instanceof Q?f.errors:[f]}const{_teardowns:F}=this;if(F){this._teardowns=null;for(const f of F)try{Y(f)}catch(T){x=null!=x?x:[],T instanceof Q?x=[...x,...T.errors]:x.push(T)}}if(x)throw new Q(x)}}add(x){var w;if(x&&x!==this)if(this.closed)Y(x);else{if(x instanceof R){if(x.closed||x._hasParent(this))return;x._addParent(this)}(this._teardowns=null!==(w=this._teardowns)&&void 0!==w?w:[]).push(x)}}_hasParent(x){const{_parentage:w}=this;return w===x||Array.isArray(w)&&w.includes(x)}_addParent(x){const{_parentage:w}=this;this._parentage=Array.isArray(w)?(w.push(x),w):w?[w,x]:x}_removeParent(x){const{_parentage:w}=this;w===x?this._parentage=null:Array.isArray(w)&&(0,k.P)(w,x)}remove(x){const{_teardowns:w}=this;w&&(0,k.P)(w,x),x instanceof R&&x._removeParent(this)}}R.EMPTY=(()=>{const V=new R;return V.closed=!0,V})();const se=R.EMPTY;function j(V){return V instanceof R||V&&"closed"in V&&(0,v.m)(V.remove)&&(0,v.m)(V.add)&&(0,v.m)(V.unsubscribe)}function Y(V){(0,v.m)(V)?V():V.unsubscribe()}},2416:(vt,Ke,m)=>{m.d(Ke,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(vt,Ke,m)=>{m.d(Ke,{z:()=>R});var v=m(8189),Q=m(3269),k=m(2076);function R(...se){return function h(){return(0,v.J)(1)}()((0,k.D)(se,(0,Q.yG)(se)))}},515:(vt,Ke,m)=>{m.d(Ke,{E:()=>h});const h=new(m(8306).y)(R=>R.complete())},2076:(vt,Ke,m)=>{m.d(Ke,{D:()=>J});var v=m(8421),h=m(9672),Q=m(4482),k=m(5403);function R(he,ye=0){return(0,Q.e)((fe,Se)=>{fe.subscribe((0,k.x)(Se,Ie=>(0,h.f)(Se,he,()=>Se.next(Ie),ye),()=>(0,h.f)(Se,he,()=>Se.complete(),ye),Ie=>(0,h.f)(Se,he,()=>Se.error(Ie),ye)))})}function se(he,ye=0){return(0,Q.e)((fe,Se)=>{Se.add(he.schedule(()=>fe.subscribe(Se),ye))})}var V=m(8306),w=m(2202),D=m(576);function f(he,ye){if(!he)throw new Error("Iterable cannot be null");return new V.y(fe=>{(0,h.f)(fe,ye,()=>{const Se=he[Symbol.asyncIterator]();(0,h.f)(fe,ye,()=>{Se.next().then(Ie=>{Ie.done?fe.complete():fe.next(Ie.value)})},0,!0)})})}var T=m(3670),z=m(8239),I=m(1144),H=m(6495),K=m(2206),N=m(4532),M=m(3260);function J(he,ye){return ye?function W(he,ye){if(null!=he){if((0,T.c)(he))return function j(he,ye){return(0,v.Xf)(he).pipe(se(ye),R(ye))}(he,ye);if((0,I.z)(he))return function x(he,ye){return new V.y(fe=>{let Se=0;return ye.schedule(function(){Se===he.length?fe.complete():(fe.next(he[Se++]),fe.closed||this.schedule())})})}(he,ye);if((0,z.t)(he))return function Y(he,ye){return(0,v.Xf)(he).pipe(se(ye),R(ye))}(he,ye);if((0,K.D)(he))return f(he,ye);if((0,H.T)(he))return function F(he,ye){return new V.y(fe=>{let Se;return(0,h.f)(fe,ye,()=>{Se=he[w.h](),(0,h.f)(fe,ye,()=>{let Ie,_e;try{({value:Ie,done:_e}=Se.next())}catch($){return void fe.error($)}_e?fe.complete():fe.next(Ie)},0,!0)}),()=>(0,D.m)(null==Se?void 0:Se.return)&&Se.return()})}(he,ye);if((0,M.L)(he))return function P(he,ye){return f((0,M.Q)(he),ye)}(he,ye)}throw(0,N.z)(he)}(he,ye):(0,v.Xf)(he)}},4968:(vt,Ke,m)=>{m.d(Ke,{R:()=>x});var v=m(8421),h=m(8306),Q=m(5577),k=m(1144),R=m(576),se=m(3268);const j=["addListener","removeListener"],Y=["addEventListener","removeEventListener"],V=["on","off"];function x(T,z,I,H){if((0,R.m)(I)&&(H=I,I=void 0),H)return x(T,z,I).pipe((0,se.Z)(H));const[K,N]=function f(T){return(0,R.m)(T.addEventListener)&&(0,R.m)(T.removeEventListener)}(T)?Y.map(M=>P=>T[M](z,P,I)):function D(T){return(0,R.m)(T.addListener)&&(0,R.m)(T.removeListener)}(T)?j.map(w(T,z)):function F(T){return(0,R.m)(T.on)&&(0,R.m)(T.off)}(T)?V.map(w(T,z)):[];if(!K&&(0,k.z)(T))return(0,Q.z)(M=>x(M,z,I))((0,v.Xf)(T));if(!K)throw new TypeError("Invalid event target");return new h.y(M=>{const P=(...W)=>M.next(1<W.length?W:W[0]);return K(P),()=>N(P)})}function w(T,z){return I=>H=>T[I](z,H)}},8421:(vt,Ke,m)=>{m.d(Ke,{Xf:()=>F});var v=m(655),h=m(1144),Q=m(8239),k=m(8306),R=m(3670),se=m(2206),j=m(4532),Y=m(6495),V=m(3260),x=m(576),w=m(7849),D=m(8822);function F(M){if(M instanceof k.y)return M;if(null!=M){if((0,R.c)(M))return function f(M){return new k.y(P=>{const W=M[D.L]();if((0,x.m)(W.subscribe))return W.subscribe(P);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(M);if((0,h.z)(M))return function T(M){return new k.y(P=>{for(let W=0;W<M.length&&!P.closed;W++)P.next(M[W]);P.complete()})}(M);if((0,Q.t)(M))return function z(M){return new k.y(P=>{M.then(W=>{P.closed||(P.next(W),P.complete())},W=>P.error(W)).then(null,w.h)})}(M);if((0,se.D)(M))return H(M);if((0,Y.T)(M))return function I(M){return new k.y(P=>{for(const W of M)if(P.next(W),P.closed)return;P.complete()})}(M);if((0,V.L)(M))return function K(M){return H((0,V.Q)(M))}(M)}throw(0,j.z)(M)}function H(M){return new k.y(P=>{(function N(M,P){var W,J,he,ye;return(0,v.mG)(this,void 0,void 0,function*(){try{for(W=(0,v.KL)(M);!(J=yield W.next()).done;)if(P.next(J.value),P.closed)return}catch(fe){he={error:fe}}finally{try{J&&!J.done&&(ye=W.return)&&(yield ye.call(W))}finally{if(he)throw he.error}}P.complete()})})(M,P).catch(W=>P.error(W))})}},6451:(vt,Ke,m)=>{m.d(Ke,{T:()=>se});var v=m(8189),h=m(8421),Q=m(515),k=m(3269),R=m(2076);function se(...j){const Y=(0,k.yG)(j),V=(0,k._6)(j,1/0),x=j;return x.length?1===x.length?(0,h.Xf)(x[0]):(0,v.J)(V)((0,R.D)(x,Y)):Q.E}},9646:(vt,Ke,m)=>{m.d(Ke,{of:()=>Q});var v=m(3269),h=m(2076);function Q(...k){const R=(0,v.yG)(k);return(0,h.D)(k,R)}},5403:(vt,Ke,m)=>{m.d(Ke,{x:()=>h});var v=m(930);function h(k,R,se,j,Y){return new Q(k,R,se,j,Y)}class Q extends v.Lv{constructor(R,se,j,Y,V,x){super(R),this.onFinalize=V,this.shouldUnsubscribe=x,this._next=se?function(w){try{se(w)}catch(D){R.error(D)}}:super._next,this._error=Y?function(w){try{Y(w)}catch(D){R.error(D)}finally{this.unsubscribe()}}:super._error,this._complete=j?function(){try{j()}catch(w){R.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var R;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(R=this.onFinalize)||void 0===R||R.call(this))}}}},8372:(vt,Ke,m)=>{m.d(Ke,{b:()=>k});var v=m(4986),h=m(4482),Q=m(5403);function k(R,se=v.z){return(0,h.e)((j,Y)=>{let V=null,x=null,w=null;const D=()=>{if(V){V.unsubscribe(),V=null;const f=x;x=null,Y.next(f)}};function F(){const f=w+R,T=se.now();if(T<f)return V=this.schedule(void 0,f-T),void Y.add(V);D()}j.subscribe((0,Q.x)(Y,f=>{x=f,w=se.now(),V||(V=se.schedule(F,R),Y.add(V))},()=>{D(),Y.complete()},void 0,()=>{x=V=null}))})}},9300:(vt,Ke,m)=>{m.d(Ke,{h:()=>Q});var v=m(4482),h=m(5403);function Q(k,R){return(0,v.e)((se,j)=>{let Y=0;se.subscribe((0,h.x)(j,V=>k.call(R,V,Y++)&&j.next(V)))})}},4004:(vt,Ke,m)=>{m.d(Ke,{U:()=>Q});var v=m(4482),h=m(5403);function Q(k,R){return(0,v.e)((se,j)=>{let Y=0;se.subscribe((0,h.x)(j,V=>{j.next(k.call(R,V,Y++))}))})}},8189:(vt,Ke,m)=>{m.d(Ke,{J:()=>Q});var v=m(5577),h=m(4671);function Q(k=1/0){return(0,v.z)(h.y,k)}},5577:(vt,Ke,m)=>{m.d(Ke,{z:()=>Y});var v=m(4004),h=m(8421),Q=m(4482),k=m(9672),R=m(5403),j=m(576);function Y(V,x,w=1/0){return(0,j.m)(x)?Y((D,F)=>(0,v.U)((f,T)=>x(D,f,F,T))((0,h.Xf)(V(D,F))),w):("number"==typeof x&&(w=x),(0,Q.e)((D,F)=>function se(V,x,w,D,F,f,T,z){const I=[];let H=0,K=0,N=!1;const M=()=>{N&&!I.length&&!H&&x.complete()},P=J=>H<D?W(J):I.push(J),W=J=>{f&&x.next(J),H++;let he=!1;(0,h.Xf)(w(J,K++)).subscribe((0,R.x)(x,ye=>{null==F||F(ye),f?P(ye):x.next(ye)},()=>{he=!0},void 0,()=>{if(he)try{for(H--;I.length&&H<D;){const ye=I.shift();T?(0,k.f)(x,T,()=>W(ye)):W(ye)}M()}catch(ye){x.error(ye)}}))};return V.subscribe((0,R.x)(x,P,()=>{N=!0,M()})),()=>{null==z||z()}}(D,F,V,w)))}},8675:(vt,Ke,m)=>{m.d(Ke,{O:()=>k});var v=m(7272),h=m(3269),Q=m(4482);function k(...R){const se=(0,h.yG)(R);return(0,Q.e)((j,Y)=>{(se?(0,v.z)(R,j,se):(0,v.z)(R,j)).subscribe(Y)})}},5698:(vt,Ke,m)=>{m.d(Ke,{q:()=>k});var v=m(515),h=m(4482),Q=m(5403);function k(R){return R<=0?()=>v.E:(0,h.e)((se,j)=>{let Y=0;se.subscribe((0,Q.x)(j,V=>{++Y<=R&&(j.next(V),R<=Y&&j.complete())}))})}},2722:(vt,Ke,m)=>{m.d(Ke,{R:()=>R});var v=m(4482),h=m(5403),Q=m(8421),k=m(5032);function R(se){return(0,v.e)((j,Y)=>{(0,Q.Xf)(se).subscribe((0,h.x)(Y,()=>Y.complete(),k.Z)),!Y.closed&&j.subscribe(Y)})}},4408:(vt,Ke,m)=>{m.d(Ke,{o:()=>R});var v=m(4211);class h extends v.w0{constructor(j,Y){super()}schedule(j,Y=0){return this}}const Q={setInterval(...se){const{delegate:j}=Q;return((null==j?void 0:j.setInterval)||setInterval)(...se)},clearInterval(se){const{delegate:j}=Q;return((null==j?void 0:j.clearInterval)||clearInterval)(se)},delegate:void 0};var k=m(8737);class R extends h{constructor(j,Y){super(j,Y),this.scheduler=j,this.work=Y,this.pending=!1}schedule(j,Y=0){if(this.closed)return this;this.state=j;const V=this.id,x=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(x,V,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(x,this.id,Y),this}requestAsyncId(j,Y,V=0){return Q.setInterval(j.flush.bind(j,this),V)}recycleAsyncId(j,Y,V=0){if(null!=V&&this.delay===V&&!1===this.pending)return Y;Q.clearInterval(Y)}execute(j,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const V=this._execute(j,Y);if(V)return V;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,Y){let x,V=!1;try{this.work(j)}catch(w){V=!0,x=w||new Error("Scheduled action threw falsy error")}if(V)return this.unsubscribe(),x}unsubscribe(){if(!this.closed){const{id:j,scheduler:Y}=this,{actions:V}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,k.P)(V,this),null!=j&&(this.id=this.recycleAsyncId(Y,j,null)),this.delay=null,super.unsubscribe()}}}},640:(vt,Ke,m)=>{m.d(Ke,{v:()=>Q});const v={now:()=>(v.delegate||Date).now(),delegate:void 0};class h{constructor(R,se=h.now){this.schedulerActionCtor=R,this.now=se}schedule(R,se=0,j){return new this.schedulerActionCtor(this,R).schedule(j,se)}}h.now=v.now;class Q extends h{constructor(R,se=h.now){super(R,se),this.actions=[],this._active=!1,this._scheduled=void 0}flush(R){const{actions:se}=this;if(this._active)return void se.push(R);let j;this._active=!0;do{if(j=R.execute(R.state,R.delay))break}while(R=se.shift());if(this._active=!1,j){for(;R=se.shift();)R.unsubscribe();throw j}}}},4986:(vt,Ke,m)=>{m.d(Ke,{z:()=>Q,P:()=>k});var v=m(4408);const Q=new(m(640).v)(v.o),k=Q},3410:(vt,Ke,m)=>{m.d(Ke,{z:()=>v});const v={setTimeout(...h){const{delegate:Q}=v;return((null==Q?void 0:Q.setTimeout)||setTimeout)(...h)},clearTimeout(h){const{delegate:Q}=v;return((null==Q?void 0:Q.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(vt,Ke,m)=>{m.d(Ke,{h:()=>h});const h=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ke,m)=>{m.d(Ke,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Ke,m)=>{m.d(Ke,{jO:()=>k,yG:()=>R,_6:()=>se});var v=m(576),h=m(3532);function Q(j){return j[j.length-1]}function k(j){return(0,v.m)(Q(j))?j.pop():void 0}function R(j){return(0,h.K)(Q(j))?j.pop():void 0}function se(j,Y){return"number"==typeof Q(j)?j.pop():Y}},8737:(vt,Ke,m)=>{function v(h,Q){if(h){const k=h.indexOf(Q);0<=k&&h.splice(k,1)}}m.d(Ke,{P:()=>v})},3888:(vt,Ke,m)=>{function v(h){const k=h(R=>{Error.call(R),R.stack=(new Error).stack});return k.prototype=Object.create(Error.prototype),k.prototype.constructor=k,k}m.d(Ke,{d:()=>v})},2806:(vt,Ke,m)=>{m.d(Ke,{x:()=>Q,O:()=>k});var v=m(2416);let h=null;function Q(R){if(v.v.useDeprecatedSynchronousErrorHandling){const se=!h;if(se&&(h={errorThrown:!1,error:null}),R(),se){const{errorThrown:j,error:Y}=h;if(h=null,j)throw Y}}else R()}function k(R){v.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=R)}},9672:(vt,Ke,m)=>{function v(h,Q,k,R=0,se=!1){const j=Q.schedule(function(){k(),se?h.add(this.schedule(null,R)):this.unsubscribe()},R);if(h.add(j),!se)return j}m.d(Ke,{f:()=>v})},4671:(vt,Ke,m)=>{function v(h){return h}m.d(Ke,{y:()=>v})},1144:(vt,Ke,m)=>{m.d(Ke,{z:()=>v});const v=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(vt,Ke,m)=>{m.d(Ke,{D:()=>h});var v=m(576);function h(Q){return Symbol.asyncIterator&&(0,v.m)(null==Q?void 0:Q[Symbol.asyncIterator])}},576:(vt,Ke,m)=>{function v(h){return"function"==typeof h}m.d(Ke,{m:()=>v})},3670:(vt,Ke,m)=>{m.d(Ke,{c:()=>Q});var v=m(8822),h=m(576);function Q(k){return(0,h.m)(k[v.L])}},6495:(vt,Ke,m)=>{m.d(Ke,{T:()=>Q});var v=m(2202),h=m(576);function Q(k){return(0,h.m)(null==k?void 0:k[v.h])}},8239:(vt,Ke,m)=>{m.d(Ke,{t:()=>h});var v=m(576);function h(Q){return(0,v.m)(null==Q?void 0:Q.then)}},3260:(vt,Ke,m)=>{m.d(Ke,{Q:()=>Q,L:()=>k});var v=m(655),h=m(576);function Q(R){return(0,v.FC)(this,arguments,function*(){const j=R.getReader();try{for(;;){const{value:Y,done:V}=yield(0,v.qq)(j.read());if(V)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Y)}}finally{j.releaseLock()}})}function k(R){return(0,h.m)(null==R?void 0:R.getReader)}},3532:(vt,Ke,m)=>{m.d(Ke,{K:()=>h});var v=m(576);function h(Q){return Q&&(0,v.m)(Q.schedule)}},4482:(vt,Ke,m)=>{m.d(Ke,{e:()=>Q});var v=m(576);function Q(k){return R=>{if(function h(k){return(0,v.m)(null==k?void 0:k.lift)}(R))return R.lift(function(se){try{return k(se,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vt,Ke,m)=>{m.d(Ke,{Z:()=>k});var v=m(4004);const{isArray:h}=Array;function k(R){return(0,v.U)(se=>function Q(R,se){return h(se)?R(...se):R(se)}(R,se))}},5032:(vt,Ke,m)=>{function v(){}m.d(Ke,{Z:()=>v})},7849:(vt,Ke,m)=>{m.d(Ke,{h:()=>Q});var v=m(2416),h=m(3410);function Q(k){h.z.setTimeout(()=>{const{onUnhandledError:R}=v.v;if(!R)throw k;R(k)})}},4532:(vt,Ke,m)=>{function v(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}m.d(Ke,{z:()=>v})},655:(vt,Ke,m)=>{function Y(fe,Se,Ie,_e){return new(Ie||(Ie=Promise))(function(X,pe){function re(ue){try{ce(_e.next(ue))}catch(we){pe(we)}}function ne(ue){try{ce(_e.throw(ue))}catch(we){pe(we)}}function ce(ue){ue.done?X(ue.value):function $(X){return X instanceof Ie?X:new Ie(function(pe){pe(X)})}(ue.value).then(re,ne)}ce((_e=_e.apply(fe,Se||[])).next())})}function I(fe){return this instanceof I?(this.v=fe,this):new I(fe)}function H(fe,Se,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,_e=Ie.apply(fe,Se||[]),X=[];return $={},pe("next"),pe("throw"),pe("return"),$[Symbol.asyncIterator]=function(){return this},$;function pe(He){_e[He]&&($[He]=function(lt){return new Promise(function(ut,Ve){X.push([He,lt,ut,Ve])>1||re(He,lt)})})}function re(He,lt){try{!function ne(He){He.value instanceof I?Promise.resolve(He.value.v).then(ce,ue):we(X[0][2],He)}(_e[He](lt))}catch(ut){we(X[0][3],ut)}}function ce(He){re("next",He)}function ue(He){re("throw",He)}function we(He,lt){He(lt),X.shift(),X.length&&re(X[0][0],X[0][1])}}function N(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Se=fe[Symbol.asyncIterator];return Se?Se.call(fe):(fe=function D(fe){var Se="function"==typeof Symbol&&Symbol.iterator,Ie=Se&&fe[Se],_e=0;if(Ie)return Ie.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&_e>=fe.length&&(fe=void 0),{value:fe&&fe[_e++],done:!fe}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Ie={},_e("next"),_e("throw"),_e("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function _e(X){Ie[X]=fe[X]&&function(pe){return new Promise(function(re,ne){!function $(X,pe,re,ne){Promise.resolve(ne).then(function(ce){X({value:ce,done:re})},pe)}(re,ne,(pe=fe[X](pe)).done,pe.value)})}}}m.d(Ke,{mG:()=>Y,qq:()=>I,FC:()=>H,KL:()=>N})},552:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n"},2898:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}"},8620:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown > .monaco-dropdown-button {\n\tmargin-left: 1px;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n"},9792:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-checkbox {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-checkbox:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-checkbox {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tbackground: none;\n}\n\n.monaco-custom-checkbox.monaco-simple-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n\n.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n"},2175:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n"},4376:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: \"codicon\";\n\tfont-display: block;\n\tsrc: url('codicon.4f488a798bc8bce2.ttf') format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n"},5169:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n\tz-index: 2500;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tz-index: 2500;\n\tcolor: inherit;\n}\n"},3667:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n"},5524:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},796:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n.monaco-findInput {\n\tposition: relative;\n}\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n.monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}"},1541:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n"},9141:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n"},5395:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n"},539:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n"},4397:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Type filter */\n\n.monaco-list-type-filter {\n\tdisplay: flex;\n\talign-items: center;\n\tposition: absolute;\n\tborder-radius: 2px;\n\tpadding: 0px 3px;\n\tmax-width: calc(100% - 10px);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\ttext-align: right;\n\tbox-sizing: border-box;\n\tcursor: all-scroll;\n\tfont-size: 13px;\n\tline-height: 18px;\n\theight: 20px;\n\tz-index: 1;\n\ttop: 4px;\n}\n\n.monaco-list-type-filter.dragging {\n\ttransition: top 0.2s, left 0.2s;\n}\n\n.monaco-list-type-filter.ne {\n\tright: 4px;\n}\n\n.monaco-list-type-filter.nw {\n\tleft: 4px;\n}\n\n.monaco-list-type-filter > .controls {\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\ttransition: width 0.2s;\n\twidth: 0;\n}\n\n.monaco-list-type-filter.dragging > .controls,\n.monaco-list-type-filter:hover > .controls {\n\twidth: 36px;\n}\n\n.monaco-list-type-filter > .controls > * {\n\tborder: none;\n\tbox-sizing: border-box;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tbackground: none;\n\twidth: 16px;\n\theight: 16px;\n\tflex-shrink: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n}\n\n.monaco-list-type-filter > .controls > .filter {\n\tmargin-left: 4px;\n}\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n\n/* Electron */\n\n.monaco-list-type-filter {\n\tcursor: grab;\n}\n\n.monaco-list-type-filter.dragging {\n\tcursor: grabbing;\n}\n"},8928:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n"},1693:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t   The more smooth `linear` timing function can cause\n\t   higher GPU consumption as indicated in\n\t   https://github.com/microsoft/vscode/issues/97900 &\n\t   https://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n"},9215:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n"},5352:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n"},2013:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n"},6282:vt=>{vt.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n'},5598:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n"},2083:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2000;\n\tpadding: 0 1px 1px 1px;\n\tleft: 50%;\n\tmargin-left: -300px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n"},2366:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n"},6964:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n"},2830:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}"},3196:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n"},3382:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n"},9399:vt=>{vt.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-feature-settings: "tnum";\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n'},5632:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n"},1594:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}"},5994:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}"},1215:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n"},8719:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}"},7349:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}"},8051:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}"},3535:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n"},274:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n"},4548:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n/* ---------- Diff ---------- */\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign {\n\topacity: 1;\n}\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n/* ---------- Inline Diff ---------- */\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n"},9043:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n"},3214:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n\n/* I am not a big fan of this rule */\n\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n"},1578:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n"},6700:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n"},5885:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n"},5087:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration > span,\n.monaco-editor .codelens-decoration > a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration > a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration > a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% { opacity: 0; visibility: visible;}\n\t100% { opacity: 1; }\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n"},6299:vt=>{vt.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n'},6073:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}"},7889:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\topacity: 0.3;\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n"},5279:vt=>{vt.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n'},9161:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n"},7547:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}"},6039:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n"},1964:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n"},3822:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n"},3539:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n"},9784:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\topacity: 0.5;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n"},834:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n"},8216:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n"},900:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n"},8119:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left, .monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused) .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon, .monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},5344:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n"},3112:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbox-sizing: border-box;\n}\n"},3271:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n"},2981:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}"},617:vt=>{vt.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}'},8426:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},5775:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n"},4827:vt=>{vt.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n\n\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n\n\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\t-webkit-clip-path: inset(50%);\n\t        clip-path: inset(50%);\n}\n\n\n/* The hc-black theme is already high contrast optimized */\n\n\n.monaco-editor.hc-black {\n\t-ms-high-contrast-adjust: none;\n}\n\n\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n\n\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n'},8412:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-action-bar .action-item.menu-entry .action-label,\n.hc-black .monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-dropdown-with-default > .action-container.menu-entry > .action-label,\n.hc-black .monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},3840:vt=>{vt.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view .monaco-menu {\n\tmin-width: 130px;\n}\n\n"},1777:(vt,Ke,m)=>{m.d(Ke,{l3:()=>Q,_j:()=>v,LC:()=>h,ZN:()=>H,jt:()=>R,vP:()=>j,SB:()=>V,oB:()=>Y,eR:()=>w,X$:()=>k,ZE:()=>K,k1:()=>N});class v{}class h{}const Q="*";function k(M,P){return{type:7,name:M,definitions:P,options:{}}}function R(M,P=null){return{type:4,styles:P,timings:M}}function j(M,P=null){return{type:2,steps:M,options:P}}function Y(M){return{type:6,styles:M,offset:null}}function V(M,P,W){return{type:0,name:M,styles:P,options:W}}function w(M,P,W=null){return{type:1,expr:M,animation:P,options:W}}function I(M){Promise.resolve(null).then(M)}class H{constructor(P=0,W=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=P+W}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(P=>P()),this._onDoneFns=[])}onStart(P){this._onStartFns.push(P)}onDone(P){this._onDoneFns.push(P)}onDestroy(P){this._onDestroyFns.push(P)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){I(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(P=>P()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(P=>P()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(P){this._position=this.totalTime?P*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(P){const W="start"==P?this._onStartFns:this._onDoneFns;W.forEach(J=>J()),W.length=0}}class K{constructor(P){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=P;let W=0,J=0,he=0;const ye=this.players.length;0==ye?I(()=>this._onFinish()):this.players.forEach(fe=>{fe.onDone(()=>{++W==ye&&this._onFinish()}),fe.onDestroy(()=>{++J==ye&&this._onDestroy()}),fe.onStart(()=>{++he==ye&&this._onStart()})}),this.totalTime=this.players.reduce((fe,Se)=>Math.max(fe,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(P=>P()),this._onDoneFns=[])}init(){this.players.forEach(P=>P.init())}onStart(P){this._onStartFns.push(P)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(P=>P()),this._onStartFns=[])}onDone(P){this._onDoneFns.push(P)}onDestroy(P){this._onDestroyFns.push(P)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(P=>P.play())}pause(){this.players.forEach(P=>P.pause())}restart(){this.players.forEach(P=>P.restart())}finish(){this._onFinish(),this.players.forEach(P=>P.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(P=>P.destroy()),this._onDestroyFns.forEach(P=>P()),this._onDestroyFns=[])}reset(){this.players.forEach(P=>P.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(P){const W=P*this.totalTime;this.players.forEach(J=>{const he=J.totalTime?Math.min(1,W/J.totalTime):1;J.setPosition(he)})}getPosition(){const P=this.players.reduce((W,J)=>null===W||J.totalTime>W.totalTime?J:W,null);return null!=P?P.getPosition():0}beforeDestroy(){this.players.forEach(P=>{P.beforeDestroy&&P.beforeDestroy()})}triggerCallback(P){const W="start"==P?this._onStartFns:this._onDoneFns;W.forEach(J=>J()),W.length=0}}const N="!"},531:(vt,Ke,m)=>{m.d(Ke,{Em:()=>ne,tE:()=>ke,qm:()=>Tn,X6:()=>Ht,yG:()=>jt});var v=m(9808),h=m(4893),Q=m(925),k=m(7579);class R extends k.x{constructor(rn){super(),this._value=rn}get value(){return this.getValue()}_subscribe(rn){const tn=super._subscribe(rn);return!tn.closed&&rn.next(this._value),tn}getValue(){const{hasError:rn,thrownError:tn,_value:bn}=this;if(rn)throw tn;return this._throwIfClosed(),bn}next(rn){super.next(this._value=rn)}}var se=m(4211),j=m(9646),Y=m(1159),V=m(576),x=m(4482),w=m(5403),D=m(4671),f=m(9300);function I(xn,rn){return xn===rn}var H=m(8372),K=m(4004),N=m(2722),M=m(3191);class ne extends class pe{constructor(rn){this._items=rn,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new k.x,this._typeaheadSubscription=se.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=tn=>tn.disabled,this._pressedLetters=[],this.tabOut=new k.x,this.change=new k.x,rn instanceof h.n_E&&rn.changes.subscribe(tn=>{if(this._activeItem){const mt=tn.toArray().indexOf(this._activeItem);mt>-1&&mt!==this._activeItemIndex&&(this._activeItemIndex=mt)}})}skipPredicate(rn){return this._skipPredicateFn=rn,this}withWrap(rn=!0){return this._wrap=rn,this}withVerticalOrientation(rn=!0){return this._vertical=rn,this}withHorizontalOrientation(rn){return this._horizontal=rn,this}withAllowedModifierKeys(rn){return this._allowedModifierKeys=rn,this}withTypeAhead(rn=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(function F(xn,rn,tn){const bn=(0,V.m)(xn)||rn||tn?{next:xn,error:rn,complete:tn}:xn;return bn?(0,x.e)((mt,Xe)=>{var Dn;null===(Dn=bn.subscribe)||void 0===Dn||Dn.call(bn);let An=!0;mt.subscribe((0,w.x)(Xe,Ye=>{var Te;null===(Te=bn.next)||void 0===Te||Te.call(bn,Ye),Xe.next(Ye)},()=>{var Ye;An=!1,null===(Ye=bn.complete)||void 0===Ye||Ye.call(bn),Xe.complete()},Ye=>{var Te;An=!1,null===(Te=bn.error)||void 0===Te||Te.call(bn,Ye),Xe.error(Ye)},()=>{var Ye,Te;An&&(null===(Ye=bn.unsubscribe)||void 0===Ye||Ye.call(bn)),null===(Te=bn.finalize)||void 0===Te||Te.call(bn)}))}):D.y}(tn=>this._pressedLetters.push(tn)),(0,H.b)(rn),(0,f.h)(()=>this._pressedLetters.length>0),(0,K.U)(()=>this._pressedLetters.join(""))).subscribe(tn=>{const bn=this._getItemsArray();for(let mt=1;mt<bn.length+1;mt++){const Xe=(this._activeItemIndex+mt)%bn.length,Dn=bn[Xe];if(!this._skipPredicateFn(Dn)&&0===Dn.getLabel().toUpperCase().trim().indexOf(tn)){this.setActiveItem(Xe);break}}this._pressedLetters=[]}),this}withHomeAndEnd(rn=!0){return this._homeAndEnd=rn,this}setActiveItem(rn){const tn=this._activeItem;this.updateActiveItem(rn),this._activeItem!==tn&&this.change.next(this._activeItemIndex)}onKeydown(rn){const tn=rn.keyCode,mt=["altKey","ctrlKey","metaKey","shiftKey"].every(Xe=>!rn[Xe]||this._allowedModifierKeys.indexOf(Xe)>-1);switch(tn){case Y.Mf:return void this.tabOut.next();case Y.JH:if(this._vertical&&mt){this.setNextItemActive();break}return;case Y.LH:if(this._vertical&&mt){this.setPreviousItemActive();break}return;case Y.SV:if(this._horizontal&&mt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Y.oh:if(this._horizontal&&mt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Y.Sd:if(this._homeAndEnd&&mt){this.setFirstItemActive();break}return;case Y.uR:if(this._homeAndEnd&&mt){this.setLastItemActive();break}return;default:return void((mt||(0,Y.Vb)(rn,"shiftKey"))&&(rn.key&&1===rn.key.length?this._letterKeyStream.next(rn.key.toLocaleUpperCase()):(tn>=Y.A&&tn<=Y.Z||tn>=Y.xE&&tn<=Y.aO)&&this._letterKeyStream.next(String.fromCharCode(tn))))}this._pressedLetters=[],rn.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(rn){const tn=this._getItemsArray(),bn="number"==typeof rn?rn:tn.indexOf(rn),mt=tn[bn];this._activeItem=null==mt?null:mt,this._activeItemIndex=bn}_setActiveItemByDelta(rn){this._wrap?this._setActiveInWrapMode(rn):this._setActiveInDefaultMode(rn)}_setActiveInWrapMode(rn){const tn=this._getItemsArray();for(let bn=1;bn<=tn.length;bn++){const mt=(this._activeItemIndex+rn*bn+tn.length)%tn.length;if(!this._skipPredicateFn(tn[mt]))return void this.setActiveItem(mt)}}_setActiveInDefaultMode(rn){this._setActiveItemByIndex(this._activeItemIndex+rn,rn)}_setActiveItemByIndex(rn,tn){const bn=this._getItemsArray();if(bn[rn]){for(;this._skipPredicateFn(bn[rn]);)if(!bn[rn+=tn])return;this.setActiveItem(rn)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(rn){return this._origin=rn,this}setActiveItem(rn){super.setActiveItem(rn),this.activeItem&&this.activeItem.focus(this._origin)}}function Ht(xn){return 0===xn.buttons||0===xn.offsetX&&0===xn.offsetY}function jt(xn){const rn=xn.touches&&xn.touches[0]||xn.changedTouches&&xn.changedTouches[0];return!(!rn||-1!==rn.identifier||null!=rn.radiusX&&1!==rn.radiusX||null!=rn.radiusY&&1!==rn.radiusY)}const _n=new h.OlP("cdk-input-modality-detector-options"),In={ignoreKeys:[Y.zL,Y.jx,Y.b2,Y.MW,Y.JU]},$t=(0,Q.i$)({passive:!0,capture:!0});let bt=(()=>{class xn{constructor(tn,bn,mt,Xe){this._platform=tn,this._mostRecentTarget=null,this._modality=new R(null),this._lastTouchMs=0,this._onKeydown=Dn=>{var An,Ye;(null===(Ye=null===(An=this._options)||void 0===An?void 0:An.ignoreKeys)||void 0===Ye?void 0:Ye.some(Te=>Te===Dn.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Q.sA)(Dn))},this._onMousedown=Dn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ht(Dn)?"keyboard":"mouse"),this._mostRecentTarget=(0,Q.sA)(Dn))},this._onTouchstart=Dn=>{jt(Dn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Q.sA)(Dn))},this._options=Object.assign(Object.assign({},In),Xe),this.modalityDetected=this._modality.pipe(function T(xn){return(0,f.h)((rn,tn)=>xn<=tn)}(1)),this.modalityChanged=this.modalityDetected.pipe(function z(xn,rn=D.y){return xn=null!=xn?xn:I,(0,x.e)((tn,bn)=>{let mt,Xe=!0;tn.subscribe((0,w.x)(bn,Dn=>{const An=rn(Dn);(Xe||!xn(mt,An))&&(Xe=!1,mt=An,bn.next(Dn))}))})}()),tn.isBrowser&&bn.runOutsideAngular(()=>{mt.addEventListener("keydown",this._onKeydown,$t),mt.addEventListener("mousedown",this._onMousedown,$t),mt.addEventListener("touchstart",this._onTouchstart,$t)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$t),document.removeEventListener("mousedown",this._onMousedown,$t),document.removeEventListener("touchstart",this._onTouchstart,$t))}}return xn.\u0275fac=function(tn){return new(tn||xn)(h.LFG(Q.t4),h.LFG(h.R0b),h.LFG(v.K0),h.LFG(_n,8))},xn.\u0275prov=h.Yz7({token:xn,factory:xn.\u0275fac,providedIn:"root"}),xn})();const ei=new h.OlP("cdk-focus-monitor-default-options"),dt=(0,Q.i$)({passive:!0,capture:!0});let ke=(()=>{class xn{constructor(tn,bn,mt,Xe,Dn){this._ngZone=tn,this._platform=bn,this._inputModalityDetector=mt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new k.x,this._rootNodeFocusAndBlurListener=An=>{const Ye=(0,Q.sA)(An),Te="focus"===An.type?this._onFocus:this._onBlur;for(let Ae=Ye;Ae;Ae=Ae.parentElement)Te.call(this,An,Ae)},this._document=Xe,this._detectionMode=(null==Dn?void 0:Dn.detectionMode)||0}monitor(tn,bn=!1){const mt=(0,M.fI)(tn);if(!this._platform.isBrowser||1!==mt.nodeType)return(0,j.of)(null);const Xe=(0,Q.kV)(mt)||this._getDocument(),Dn=this._elementInfo.get(mt);if(Dn)return bn&&(Dn.checkChildren=!0),Dn.subject;const An={checkChildren:bn,subject:new k.x,rootNode:Xe};return this._elementInfo.set(mt,An),this._registerGlobalListeners(An),An.subject}stopMonitoring(tn){const bn=(0,M.fI)(tn),mt=this._elementInfo.get(bn);mt&&(mt.subject.complete(),this._setClasses(bn),this._elementInfo.delete(bn),this._removeGlobalListeners(mt))}focusVia(tn,bn,mt){const Xe=(0,M.fI)(tn);Xe===this._getDocument().activeElement?this._getClosestElementsInfo(Xe).forEach(([An,Ye])=>this._originChanged(An,bn,Ye)):(this._setOrigin(bn),"function"==typeof Xe.focus&&Xe.focus(mt))}ngOnDestroy(){this._elementInfo.forEach((tn,bn)=>this.stopMonitoring(bn))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(tn){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(tn)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(tn){return 1===this._detectionMode||!!(null==tn?void 0:tn.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(tn,bn){tn.classList.toggle("cdk-focused",!!bn),tn.classList.toggle("cdk-touch-focused","touch"===bn),tn.classList.toggle("cdk-keyboard-focused","keyboard"===bn),tn.classList.toggle("cdk-mouse-focused","mouse"===bn),tn.classList.toggle("cdk-program-focused","program"===bn)}_setOrigin(tn,bn=!1){this._ngZone.runOutsideAngular(()=>{this._origin=tn,this._originFromTouchInteraction="touch"===tn&&bn,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(tn,bn){const mt=this._elementInfo.get(bn),Xe=(0,Q.sA)(tn);!mt||!mt.checkChildren&&bn!==Xe||this._originChanged(bn,this._getFocusOrigin(Xe),mt)}_onBlur(tn,bn){const mt=this._elementInfo.get(bn);!mt||mt.checkChildren&&tn.relatedTarget instanceof Node&&bn.contains(tn.relatedTarget)||(this._setClasses(bn),this._emitOrigin(mt.subject,null))}_emitOrigin(tn,bn){this._ngZone.run(()=>tn.next(bn))}_registerGlobalListeners(tn){if(!this._platform.isBrowser)return;const bn=tn.rootNode,mt=this._rootNodeFocusListenerCount.get(bn)||0;mt||this._ngZone.runOutsideAngular(()=>{bn.addEventListener("focus",this._rootNodeFocusAndBlurListener,dt),bn.addEventListener("blur",this._rootNodeFocusAndBlurListener,dt)}),this._rootNodeFocusListenerCount.set(bn,mt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,N.R)(this._stopInputModalityDetector)).subscribe(Xe=>{this._setOrigin(Xe,!0)}))}_removeGlobalListeners(tn){const bn=tn.rootNode;if(this._rootNodeFocusListenerCount.has(bn)){const mt=this._rootNodeFocusListenerCount.get(bn);mt>1?this._rootNodeFocusListenerCount.set(bn,mt-1):(bn.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dt),bn.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dt),this._rootNodeFocusListenerCount.delete(bn))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(tn,bn,mt){this._setClasses(tn,bn),this._emitOrigin(mt.subject,bn),this._lastFocusOrigin=bn}_getClosestElementsInfo(tn){const bn=[];return this._elementInfo.forEach((mt,Xe)=>{(Xe===tn||mt.checkChildren&&Xe.contains(tn))&&bn.push([Xe,mt])}),bn}}return xn.\u0275fac=function(tn){return new(tn||xn)(h.LFG(h.R0b),h.LFG(Q.t4),h.LFG(bt),h.LFG(v.K0,8),h.LFG(ei,8))},xn.\u0275prov=h.Yz7({token:xn,factory:xn.\u0275fac,providedIn:"root"}),xn})();const Me="cdk-high-contrast-black-on-white",ot="cdk-high-contrast-white-on-black",on="cdk-high-contrast-active";let Tn=(()=>{class xn{constructor(tn,bn){this._platform=tn,this._document=bn}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const tn=this._document.createElement("div");tn.style.backgroundColor="rgb(1,2,3)",tn.style.position="absolute",this._document.body.appendChild(tn);const bn=this._document.defaultView||window,mt=bn&&bn.getComputedStyle?bn.getComputedStyle(tn):null,Xe=(mt&&mt.backgroundColor||"").replace(/ /g,"");switch(tn.remove(),Xe){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const tn=this._document.body.classList;tn.remove(on),tn.remove(Me),tn.remove(ot),this._hasCheckedHighContrastMode=!0;const bn=this.getHighContrastMode();1===bn?(tn.add(on),tn.add(Me)):2===bn&&(tn.add(on),tn.add(ot))}}}return xn.\u0275fac=function(tn){return new(tn||xn)(h.LFG(Q.t4),h.LFG(v.K0))},xn.\u0275prov=h.Yz7({token:xn,factory:xn.\u0275fac,providedIn:"root"}),xn})()},226:(vt,Ke,m)=>{m.d(Ke,{vT:()=>V,Is:()=>j});var v=m(4893),h=m(9808);const Q=new v.OlP("cdk-dir-doc",{providedIn:"root",factory:function k(){return(0,v.f3M)(h.K0)}}),R=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let j=(()=>{class x{constructor(D){if(this.value="ltr",this.change=new v.vpe,D){const f=D.documentElement?D.documentElement.dir:null;this.value=function se(x){const w=(null==x?void 0:x.toLowerCase())||"";return"auto"===w&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?R.test(navigator.language)?"rtl":"ltr":"rtl"===w?"rtl":"ltr"}((D.body?D.body.dir:null)||f||"ltr")}}ngOnDestroy(){this.change.complete()}}return x.\u0275fac=function(D){return new(D||x)(v.LFG(Q,8))},x.\u0275prov=v.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),V=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275mod=v.oAB({type:x}),x.\u0275inj=v.cJS({}),x})()},3191:(vt,Ke,m)=>{m.d(Ke,{Eq:()=>R,Ig:()=>h,HM:()=>se,fI:()=>j,su:()=>Q});var v=m(4893);function h(V){return null!=V&&"false"!=`${V}`}function Q(V,x=0){return function k(V){return!isNaN(parseFloat(V))&&!isNaN(Number(V))}(V)?Number(V):x}function R(V){return Array.isArray(V)?V:[V]}function se(V){return null==V?"":"string"==typeof V?V:`${V}px`}function j(V){return V instanceof v.SBq?V.nativeElement:V}},1159:(vt,Ke,m)=>{m.d(Ke,{A:()=>He,zL:()=>Y,jx:()=>j,JH:()=>N,uR:()=>T,K5:()=>R,hY:()=>w,Sd:()=>z,oh:()=>I,b2:()=>Yi,MW:()=>Zt,aO:()=>re,SV:()=>K,JU:()=>se,L_:()=>D,Mf:()=>Q,LH:()=>H,Z:()=>bt,xE:()=>he,Vb:()=>Bo});const Q=9,R=13,se=16,j=17,Y=18,w=27,D=32,T=35,z=36,I=37,H=38,K=39,N=40,he=48,re=57,He=65,bt=90,Zt=91,Yi=224;function Bo(Oo,...wi){return wi.length?wi.some($o=>Oo[$o]):Oo.altKey||Oo.shiftKey||Oo.ctrlKey||Oo.metaKey}},925:(vt,Ke,m)=>{m.d(Ke,{t4:()=>k,sA:()=>N,kV:()=>H,Oy:()=>M,qK:()=>Y,i$:()=>w,Mq:()=>f});var v=m(4893),h=m(9808);let Q;try{Q="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(P){Q=!1}let se,k=(()=>{class P{constructor(J){this._platformId=J,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Q)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return P.\u0275fac=function(J){return new(J||P)(v.LFG(v.Lbi))},P.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();const j=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Y(){if(se)return se;if("object"!=typeof document||!document)return se=new Set(j),se;let P=document.createElement("input");return se=new Set(j.filter(W=>(P.setAttribute("type",W),P.type===W))),se}let V,F,z;function w(P){return function x(){if(null==V&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>V=!0}))}finally{V=V||!1}return V}()?P:!!P.capture}function f(){if(null==F){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return F=!1,F;if("scrollBehavior"in document.documentElement.style)F=!0;else{const P=Element.prototype.scrollTo;F=!!P&&!/\{\s*\[native code\]\s*\}/.test(P.toString())}}return F}function H(P){if(function I(){if(null==z){const P="undefined"!=typeof document?document.head:null;z=!(!P||!P.createShadowRoot&&!P.attachShadow)}return z}()){const W=P.getRootNode?P.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&W instanceof ShadowRoot)return W}return null}function N(P){return P.composedPath?P.composedPath()[0]:P.target}function M(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},9808:(vt,Ke,m)=>{m.d(Ke,{ez:()=>Qe,K0:()=>j,Ye:()=>P,mk:()=>Pi,O5:()=>Bo,RF:()=>fi,n9:()=>ss,JF:()=>ci,NF:()=>Yt,w_:()=>se,bD:()=>et,q:()=>Q,Mx:()=>co,HT:()=>R});var v=m(4893);let h=null;function Q(){return h}function R(Re){h||(h=Re)}class se{}const j=new v.OlP("DocumentToken");let Y=(()=>{class Re{historyGo(Ze){throw new Error("Not implemented")}}return Re.\u0275fac=function(Ze){return new(Ze||Re)},Re.\u0275prov=v.Yz7({token:Re,factory:function(){return function V(){return(0,v.LFG)(w)}()},providedIn:"platform"}),Re})(),w=(()=>{class Re extends Y{constructor(Ze){super(),this._doc=Ze,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(Ze){const Ot=Q().getGlobalEventTarget(this._doc,"window");return Ot.addEventListener("popstate",Ze,!1),()=>Ot.removeEventListener("popstate",Ze)}onHashChange(Ze){const Ot=Q().getGlobalEventTarget(this._doc,"window");return Ot.addEventListener("hashchange",Ze,!1),()=>Ot.removeEventListener("hashchange",Ze)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Ze){this.location.pathname=Ze}pushState(Ze,Ot,hn){D()?this._history.pushState(Ze,Ot,hn):this.location.hash=hn}replaceState(Ze,Ot,hn){D()?this._history.replaceState(Ze,Ot,hn):this.location.hash=hn}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ze=0){this._history.go(Ze)}getState(){return this._history.state}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(v.LFG(j))},Re.\u0275prov=v.Yz7({token:Re,factory:function(){return function F(){return new w((0,v.LFG)(j))}()},providedIn:"platform"}),Re})();function D(){return!!window.history.pushState}function f(Re,wt){if(0==Re.length)return wt;if(0==wt.length)return Re;let Ze=0;return Re.endsWith("/")&&Ze++,wt.startsWith("/")&&Ze++,2==Ze?Re+wt.substring(1):1==Ze?Re+wt:Re+"/"+wt}function T(Re){const wt=Re.match(/#|\?|$/),Ze=wt&&wt.index||Re.length;return Re.slice(0,Ze-("/"===Re[Ze-1]?1:0))+Re.slice(Ze)}function z(Re){return Re&&"?"!==Re[0]?"?"+Re:Re}let I=(()=>{class Re{historyGo(Ze){throw new Error("Not implemented")}}return Re.\u0275fac=function(Ze){return new(Ze||Re)},Re.\u0275prov=v.Yz7({token:Re,factory:function(){return function H(Re){const wt=(0,v.LFG)(j).location;return new N((0,v.LFG)(Y),wt&&wt.origin||"")}()},providedIn:"root"}),Re})();const K=new v.OlP("appBaseHref");let N=(()=>{class Re extends I{constructor(Ze,Ot){if(super(),this._platformLocation=Ze,this._removeListenerFns=[],null==Ot&&(Ot=this._platformLocation.getBaseHrefFromDOM()),null==Ot)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ot}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ze){this._removeListenerFns.push(this._platformLocation.onPopState(Ze),this._platformLocation.onHashChange(Ze))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ze){return f(this._baseHref,Ze)}path(Ze=!1){const Ot=this._platformLocation.pathname+z(this._platformLocation.search),hn=this._platformLocation.hash;return hn&&Ze?`${Ot}${hn}`:Ot}pushState(Ze,Ot,hn,Hn){const $n=this.prepareExternalUrl(hn+z(Hn));this._platformLocation.pushState(Ze,Ot,$n)}replaceState(Ze,Ot,hn,Hn){const $n=this.prepareExternalUrl(hn+z(Hn));this._platformLocation.replaceState(Ze,Ot,$n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Ze=0){var Ot,hn;null===(hn=(Ot=this._platformLocation).historyGo)||void 0===hn||hn.call(Ot,Ze)}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(v.LFG(Y),v.LFG(K,8))},Re.\u0275prov=v.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),P=(()=>{class Re{constructor(Ze,Ot){this._subject=new v.vpe,this._urlChangeListeners=[],this._platformStrategy=Ze;const hn=this._platformStrategy.getBaseHref();this._platformLocation=Ot,this._baseHref=T(he(hn)),this._platformStrategy.onPopState(Hn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Hn.state,type:Hn.type})})}path(Ze=!1){return this.normalize(this._platformStrategy.path(Ze))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Ze,Ot=""){return this.path()==this.normalize(Ze+z(Ot))}normalize(Ze){return Re.stripTrailingSlash(function J(Re,wt){return Re&&wt.startsWith(Re)?wt.substring(Re.length):wt}(this._baseHref,he(Ze)))}prepareExternalUrl(Ze){return Ze&&"/"!==Ze[0]&&(Ze="/"+Ze),this._platformStrategy.prepareExternalUrl(Ze)}go(Ze,Ot="",hn=null){this._platformStrategy.pushState(hn,"",Ze,Ot),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ze+z(Ot)),hn)}replaceState(Ze,Ot="",hn=null){this._platformStrategy.replaceState(hn,"",Ze,Ot),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ze+z(Ot)),hn)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Ze=0){var Ot,hn;null===(hn=(Ot=this._platformStrategy).historyGo)||void 0===hn||hn.call(Ot,Ze)}onUrlChange(Ze){this._urlChangeListeners.push(Ze),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ot=>{this._notifyUrlChangeListeners(Ot.url,Ot.state)}))}_notifyUrlChangeListeners(Ze="",Ot){this._urlChangeListeners.forEach(hn=>hn(Ze,Ot))}subscribe(Ze,Ot,hn){return this._subject.subscribe({next:Ze,error:Ot,complete:hn})}}return Re.normalizeQueryParams=z,Re.joinWithSlash=f,Re.stripTrailingSlash=T,Re.\u0275fac=function(Ze){return new(Ze||Re)(v.LFG(I),v.LFG(Y))},Re.\u0275prov=v.Yz7({token:Re,factory:function(){return function W(){return new P((0,v.LFG)(I),(0,v.LFG)(Y))}()},providedIn:"root"}),Re})();function he(Re){return Re.replace(/\/index.html$/,"")}var Se=(()=>((Se=Se||{})[Se.Zero=0]="Zero",Se[Se.One=1]="One",Se[Se.Two=2]="Two",Se[Se.Few=3]="Few",Se[Se.Many=4]="Many",Se[Se.Other=5]="Other",Se))();const Xt=v.kL8;class vi{}let Ci=(()=>{class Re extends vi{constructor(Ze){super(),this.locale=Ze}getPluralCategory(Ze,Ot){switch(Xt(Ot||this.locale)(Ze)){case Se.Zero:return"zero";case Se.One:return"one";case Se.Two:return"two";case Se.Few:return"few";case Se.Many:return"many";default:return"other"}}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(v.LFG(v.soG))},Re.\u0275prov=v.Yz7({token:Re,factory:Re.\u0275fac}),Re})();function co(Re,wt){wt=encodeURIComponent(wt);for(const Ze of Re.split(";")){const Ot=Ze.indexOf("="),[hn,Hn]=-1==Ot?[Ze,""]:[Ze.slice(0,Ot),Ze.slice(Ot+1)];if(hn.trim()===wt)return decodeURIComponent(Hn)}return null}let Pi=(()=>{class Re{constructor(Ze,Ot,hn,Hn){this._iterableDiffers=Ze,this._keyValueDiffers=Ot,this._ngEl=hn,this._renderer=Hn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Ze){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Ze?Ze.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Ze){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Ze?Ze.split(/\s+/):Ze,this._rawClass&&((0,v.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Ze=this._iterableDiffer.diff(this._rawClass);Ze&&this._applyIterableChanges(Ze)}else if(this._keyValueDiffer){const Ze=this._keyValueDiffer.diff(this._rawClass);Ze&&this._applyKeyValueChanges(Ze)}}_applyKeyValueChanges(Ze){Ze.forEachAddedItem(Ot=>this._toggleClass(Ot.key,Ot.currentValue)),Ze.forEachChangedItem(Ot=>this._toggleClass(Ot.key,Ot.currentValue)),Ze.forEachRemovedItem(Ot=>{Ot.previousValue&&this._toggleClass(Ot.key,!1)})}_applyIterableChanges(Ze){Ze.forEachAddedItem(Ot=>{if("string"!=typeof Ot.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,v.AaK)(Ot.item)}`);this._toggleClass(Ot.item,!0)}),Ze.forEachRemovedItem(Ot=>this._toggleClass(Ot.item,!1))}_applyClasses(Ze){Ze&&(Array.isArray(Ze)||Ze instanceof Set?Ze.forEach(Ot=>this._toggleClass(Ot,!0)):Object.keys(Ze).forEach(Ot=>this._toggleClass(Ot,!!Ze[Ot])))}_removeClasses(Ze){Ze&&(Array.isArray(Ze)||Ze instanceof Set?Ze.forEach(Ot=>this._toggleClass(Ot,!1)):Object.keys(Ze).forEach(Ot=>this._toggleClass(Ot,!1)))}_toggleClass(Ze,Ot){(Ze=Ze.trim())&&Ze.split(/\s+/g).forEach(hn=>{Ot?this._renderer.addClass(this._ngEl.nativeElement,hn):this._renderer.removeClass(this._ngEl.nativeElement,hn)})}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},Re.\u0275dir=v.lG2({type:Re,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Re})(),Bo=(()=>{class Re{constructor(Ze,Ot){this._viewContainer=Ze,this._context=new Oo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ot}set ngIf(Ze){this._context.$implicit=this._context.ngIf=Ze,this._updateView()}set ngIfThen(Ze){wi("ngIfThen",Ze),this._thenTemplateRef=Ze,this._thenViewRef=null,this._updateView()}set ngIfElse(Ze){wi("ngIfElse",Ze),this._elseTemplateRef=Ze,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ze,Ot){return!0}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(v.Y36(v.s_b),v.Y36(v.Rgc))},Re.\u0275dir=v.lG2({type:Re,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Re})();class Oo{constructor(){this.$implicit=null,this.ngIf=null}}function wi(Re,wt){if(wt&&!wt.createEmbeddedView)throw new Error(`${Re} must be a TemplateRef, but received '${(0,v.AaK)(wt)}'.`)}class $o{constructor(wt,Ze){this._viewContainerRef=wt,this._templateRef=Ze,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(wt){wt&&!this._created?this.create():!wt&&this._created&&this.destroy()}}let fi=(()=>{class Re{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ze){this._ngSwitch=Ze,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ze){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Ze)}_matchCase(Ze){const Ot=Ze==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ot,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ot}_updateDefaultCases(Ze){if(this._defaultViews&&Ze!==this._defaultUsed){this._defaultUsed=Ze;for(let Ot=0;Ot<this._defaultViews.length;Ot++)this._defaultViews[Ot].enforceState(Ze)}}}return Re.\u0275fac=function(Ze){return new(Ze||Re)},Re.\u0275dir=v.lG2({type:Re,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Re})(),ss=(()=>{class Re{constructor(Ze,Ot,hn){this.ngSwitch=hn,hn._addCase(),this._view=new $o(Ze,Ot)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(fi,9))},Re.\u0275dir=v.lG2({type:Re,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Re})(),Qe=(()=>{class Re{}return Re.\u0275fac=function(Ze){return new(Ze||Re)},Re.\u0275mod=v.oAB({type:Re}),Re.\u0275inj=v.cJS({providers:[{provide:vi,useClass:Ci}]}),Re})();const et="browser";function Yt(Re){return Re===et}class ci{}},4893:(vt,Ke,m)=>{m.d(Ke,{AFp:()=>Xp,ip1:()=>sm,CZH:()=>qd,hGG:()=>ey,z2F:()=>cm,sBO:()=>oD,_Vd:()=>ed,EJc:()=>Cv,SBq:()=>Qg,qLn:()=>Rd,vpe:()=>xc,OlP:()=>Xs,zs3:()=>Tr,ZZ4:()=>X1,aQg:()=>Av,soG:()=>Jp,h0i:()=>wf,R0b:()=>fa,Lbi:()=>x1,g9A:()=>vv,n_E:()=>em,Qsj:()=>cS,FYo:()=>$0,JOm:()=>Pa,Rgc:()=>tm,dDg:()=>rm,GfV:()=>td,s_b:()=>Hp,ifc:()=>Wn,eFA:()=>P1,G48:()=>iD,Gpc:()=>z,f3M:()=>uc,_c5:()=>fD,VLi:()=>eD,zSh:()=>j_,wAp:()=>Vo,vHH:()=>N,cg1:()=>I0,kL8:()=>SC,dqk:()=>ft,sIi:()=>Mg,CqO:()=>d0,QGY:()=>Sp,F4k:()=>Xb,RDi:()=>wt,AaK:()=>F,qOj:()=>ol,TTD:()=>et,_Bn:()=>KC,xp6:()=>np,uIk:()=>fp,ekj:()=>_0,Suo:()=>d1,Xpm:()=>Dn,lG2:()=>ln,Yz7:()=>Jt,cJS:()=>en,oAB:()=>ht,Yjl:()=>jn,Y36:()=>Qc,_UZ:()=>af,BQk:()=>wp,ynx:()=>Sc,qZA:()=>Tu,TgZ:()=>Kd,EpF:()=>kg,n5z:()=>fr,Ikx:()=>x0,LFG:()=>is,$8M:()=>ac,NdJ:()=>Rg,CRH:()=>uv,O4$:()=>rs,oxw:()=>Jb,Hsn:()=>Pg,F$t:()=>Lp,Q6J:()=>a0,iGM:()=>dv,MAs:()=>Wb,CHM:()=>er,YNc:()=>pp,_uU:()=>fw,Oqu:()=>v0,Gf:()=>c1});var v=m(7579),h=m(4211),Q=m(8306),k=m(6451),R=m(2076),se=m(5698),j=m(930),Y=m(4482);function x(i,o,...u){return!0===o?(i(),null):!1===o?null:o(...u).pipe((0,se.q)(1)).subscribe(()=>i())}function w(i){for(let o in i)if(i[o]===w)return o;throw Error("Could not find renamed property on target object.")}function D(i,o){for(const u in o)o.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=o[u])}function F(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(F).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function f(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const T=w({__forward_ref__:w});function z(i){return i.__forward_ref__=z,i.toString=function(){return F(this())},i}function I(i){return H(i)?i():i}function H(i){return"function"==typeof i&&i.hasOwnProperty(T)&&i.__forward_ref__===z}class N extends Error{constructor(o,u){super(function M(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,u)),this.code=o}}function P(i){return"string"==typeof i?i:null==i?"":String(i)}function W(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():P(i)}function fe(i,o){const u=o?` in ${o}`:"";throw new N(-201,`No provider for ${W(i)} found${u}`)}function ut(i,o){null==i&&function Ve(i,o,u,y){throw new Error(`ASSERTION ERROR: ${i}`+(null==y?"":` [Expected=> ${u} ${y} ${o} <=Actual]`))}(o,i,null,"!=")}function Jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function en(i){return{providers:i.providers||[],imports:i.imports||[]}}function pn(i){return Xt(i,nn)||Xt(i,Nn)}function Xt(i,o){return i.hasOwnProperty(o)?i[o]:null}function Kt(i){return i&&(i.hasOwnProperty(Mn)||i.hasOwnProperty(yt))?i[Mn]:null}const nn=w({\u0275prov:w}),Mn=w({\u0275inj:w}),Nn=w({ngInjectableDef:w}),yt=w({ngInjectorDef:w});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let jt;function In(i){const o=jt;return jt=i,o}function it(i,o,u){const y=pn(i);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:u&Ht.Optional?null:void 0!==o?o:void fe(F(i),"Injector")}function bt(i){return{toString:i}.toString()}var Zt=(()=>((Zt=Zt||{})[Zt.OnPush=0]="OnPush",Zt[Zt.Default=1]="Default",Zt))(),Wn=(()=>{return(i=Wn||(Wn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Wn;var i})();const pt="undefined"!=typeof globalThis&&globalThis,ei="undefined"!=typeof window&&window,dt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ft=pt||"undefined"!=typeof global&&global||ei||dt,on={},Tn=[],Mi=w({\u0275cmp:w}),xn=w({\u0275dir:w}),rn=w({\u0275pipe:w}),tn=w({\u0275mod:w}),bn=w({\u0275fac:w}),mt=w({__NG_ELEMENT_ID__:w});let Xe=0;function Dn(i){return bt(()=>{const u={},y={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Zt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Tn,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Wn.Emulated,id:"c",styles:i.styles||Tn,_:null,setInput:null,schemas:i.schemas||null,tView:null},A=i.directives,G=i.features,ge=i.pipes;return y.id+=Xe++,y.inputs=Ge(i.inputs,u),y.outputs=Ge(i.outputs),G&&G.forEach(xe=>xe(y)),y.directiveDefs=A?()=>("function"==typeof A?A():A).map(Ye):null,y.pipeDefs=ge?()=>("function"==typeof ge?ge():ge).map(Te):null,y})}function Ye(i){return Jn(i)||function qn(i){return i[xn]||null}(i)}function Te(i){return function Qn(i){return i[rn]||null}(i)}const Ae={};function ht(i){return bt(()=>{const o={type:i.type,bootstrap:i.bootstrap||Tn,declarations:i.declarations||Tn,imports:i.imports||Tn,exports:i.exports||Tn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ae[i.id]=i.type),o})}function Ge(i,o){if(null==i)return on;const u={};for(const y in i)if(i.hasOwnProperty(y)){let A=i[y],G=A;Array.isArray(A)&&(G=A[1],A=A[0]),u[A]=y,o&&(o[A]=G)}return u}const ln=Dn;function jn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Jn(i){return i[Mi]||null}function ii(i,o){const u=i[tn]||null;if(!u&&!0===o)throw new Error(`Type ${F(i)} does not have '\u0275mod' property.`);return u}function Zo(i){return Array.isArray(i)&&"object"==typeof i[1]}function Gn(i){return Array.isArray(i)&&!0===i[1]}function ds(i){return 0!=(8&i.flags)}function oo(i){return 2==(2&i.flags)}function Io(i){return 1==(1&i.flags)}function Xi(i){return null!==i.template}function Wo(i){return 0!=(512&i[2])}function oe(i,o){return i.hasOwnProperty(bn)?i[bn]:null}class Qe{constructor(o,u,y){this.previousValue=o,this.currentValue=u,this.firstChange=y}isFirstChange(){return this.firstChange}}function et(){return xt}function xt(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ft),It}function It(){const i=nt(this),o=null==i?void 0:i.current;if(o){const u=i.previous;if(u===on)i.previous=o;else for(let y in o)u[y]=o[y];i.current=null,this.ngOnChanges(o)}}function Ft(i,o,u,y){const A=nt(i)||function Le(i,o){return i[Yt]=o}(i,{previous:on,current:null}),G=A.current||(A.current={}),ge=A.previous,xe=this.declaredInputs[u],Pe=ge[xe];G[xe]=new Qe(Pe&&Pe.currentValue,o,ge===on),i[y]=o}et.ngInherit=!0;const Yt="__ngSimpleChanges__";function nt(i){return i[Yt]||null}let Re;function wt(i){Re=i}function hn(i){return!!i.listen}const Hn={createRenderer:(i,o)=>function Ze(){return void 0!==Re?Re:"undefined"!=typeof document?document:void 0}()};function Fi(i){for(;Array.isArray(i);)i=i[0];return i}function yo(i,o){return Fi(o[i])}function $i(i,o){return Fi(o[i.index])}function Go(i,o){return i.data[o]}function bs(i,o){const u=o[i];return Zo(u)?u:u[0]}function Rs(i){return 4==(4&i[2])}function Vi(i){return 128==(128&i[2])}function Hs(i,o){return null==o?null:i[o]}function Ys(i){i[18]=0}function ra(i,o){i[5]+=o;let u=i,y=i[3];for(;null!==y&&(1===o&&1===u[5]||-1===o&&0===u[5]);)y[5]+=o,u=y,y=y[3]}const To={lFrame:Ps(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Be(){return To.bindingsEnabled}function Vn(){return To.lFrame.lView}function so(){return To.lFrame.tView}function er(i){return To.lFrame.contextLView=i,i[8]}function Ls(){let i=Ct();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ct(){return To.lFrame.currentTNode}function be(i,o){const u=To.lFrame;u.currentTNode=i,u.isParent=o}function We(){return To.lFrame.isParent}function Tt(){To.lFrame.isParent=!1}function cn(){return To.isInCheckNoChangesMode}function wn(i){To.isInCheckNoChangesMode=i}function ao(){return To.lFrame.bindingIndex++}function hs(i,o){const u=To.lFrame;u.bindingIndex=u.bindingRootIndex=i,Os(o)}function Os(i){To.lFrame.currentDirectiveIndex=i}function Jo(){return To.lFrame.currentQueryIndex}function io(i){To.lFrame.currentQueryIndex=i}function Do(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Ro(i,o,u){if(u&Ht.SkipSelf){let A=o,G=i;for(;!(A=A.parent,null!==A||u&Ht.Host||(A=Do(G),null===A||(G=G[15],10&A.type))););if(null===A)return!1;o=A,i=G}const y=To.lFrame=Ms();return y.currentTNode=o,y.lView=i,!0}function Cs(i){const o=Ms(),u=i[1];To.lFrame=o,o.currentTNode=u.firstChild,o.lView=i,o.tView=u,o.contextLView=i,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Ms(){const i=To.lFrame,o=null===i?null:i.child;return null===o?Ps(i):o}function Ps(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function lr(){const i=To.lFrame;return To.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Er=lr;function gr(){const i=lr();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ji(){return To.lFrame.selectedIndex}function bi(i){To.lFrame.selectedIndex=i}function eo(){const i=To.lFrame;return Go(i.tView,i.selectedIndex)}function rs(){To.lFrame.currentNamespace="svg"}function ns(i,o){for(let u=o.directiveStart,y=o.directiveEnd;u<y;u++){const G=i.data[u].type.prototype,{ngAfterContentInit:ge,ngAfterContentChecked:xe,ngAfterViewInit:Pe,ngAfterViewChecked:at,ngOnDestroy:Et}=G;ge&&(i.contentHooks||(i.contentHooks=[])).push(-u,ge),xe&&((i.contentHooks||(i.contentHooks=[])).push(u,xe),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(u,xe)),Pe&&(i.viewHooks||(i.viewHooks=[])).push(-u,Pe),at&&((i.viewHooks||(i.viewHooks=[])).push(u,at),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(u,at)),null!=Et&&(i.destroyHooks||(i.destroyHooks=[])).push(u,Et)}}function Ur(i,o,u){ur(i,o,3,u)}function Es(i,o,u,y){(3&i[2])===u&&ur(i,o,u,y)}function _a(i,o){let u=i[2];(3&u)===o&&(u&=2047,u+=1,i[2]=u)}function ur(i,o,u,y){const G=null!=y?y:-1,ge=o.length-1;let xe=0;for(let Pe=void 0!==y?65535&i[18]:0;Pe<ge;Pe++)if("number"==typeof o[Pe+1]){if(xe=o[Pe],null!=y&&xe>=y)break}else o[Pe]<0&&(i[18]+=65536),(xe<G||-1==G)&&(jr(i,u,o,Pe),i[18]=(4294901760&i[18])+Pe+2),Pe++}function jr(i,o,u,y){const A=u[y]<0,G=u[y+1],xe=i[A?-u[y]:u[y]];if(A){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{G.call(xe)}finally{}}}else try{G.call(xe)}finally{}}class Pl{constructor(o,u,y){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=y}}function Vl(i,o,u){const y=hn(i);let A=0;for(;A<u.length;){const G=u[A];if("number"==typeof G){if(0!==G)break;A++;const ge=u[A++],xe=u[A++],Pe=u[A++];y?i.setAttribute(o,xe,Pe,ge):o.setAttributeNS(ge,xe,Pe)}else{const ge=G,xe=u[++A];ba(ge)?y&&i.setProperty(o,ge,xe):y?i.setAttribute(o,ge,xe):o.setAttribute(ge,xe),A++}}return A}function kr(i){return 3===i||4===i||6===i}function ba(i){return 64===i.charCodeAt(0)}function qr(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let u=-1;for(let y=0;y<o.length;y++){const A=o[y];"number"==typeof A?u=A:0===u||$a(i,u,A,null,-1===u||2===u?o[++y]:null)}}return i}function $a(i,o,u,y,A){let G=0,ge=i.length;if(-1===o)ge=-1;else for(;G<i.length;){const xe=i[G++];if("number"==typeof xe){if(xe===o){ge=-1;break}if(xe>o){ge=G-1;break}}}for(;G<i.length;){const xe=i[G];if("number"==typeof xe)break;if(xe===u){if(null===y)return void(null!==A&&(i[G+1]=A));if(y===i[G+1])return void(i[G+2]=A)}G++,null!==y&&G++,null!==A&&G++}-1!==ge&&(i.splice(ge,0,o),G=ge+1),i.splice(G++,0,u),null!==y&&i.splice(G++,0,y),null!==A&&i.splice(G++,0,A)}function iu(i){return-1!==i}function Ga(i){return 32767&i}function Wl(i,o){let u=function fd(i){return i>>16}(i),y=o;for(;u>0;)y=y[15],u--;return y}let gd=!0;function md(i){const o=gd;return gd=i,o}let wl=0;function Ac(i,o){const u=vd(i,o);if(-1!==u)return u;const y=o[1];y.firstCreatePass&&(i.injectorIndex=o.length,_d(y.data,i),_d(o,null),_d(y.blueprint,null));const A=kc(i,o),G=i.injectorIndex;if(iu(A)){const ge=Ga(A),xe=Wl(A,o),Pe=xe[1].data;for(let at=0;at<8;at++)o[G+at]=xe[ge+at]|Pe[ge+at]}return o[G+8]=A,G}function _d(i,o){i.push(0,0,0,0,0,0,0,0,o)}function vd(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function kc(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,y=null,A=o;for(;null!==A;){const G=A[1],ge=G.type;if(y=2===ge?G.declTNode:1===ge?A[6]:null,null===y)return-1;if(u++,A=A[15],-1!==y.injectorIndex)return y.injectorIndex|u<<16}return-1}function Rc(i,o,u){!function Uf(i,o,u){let y;"string"==typeof u?y=u.charCodeAt(0)||0:u.hasOwnProperty(mt)&&(y=u[mt]),null==y&&(y=u[mt]=wl++);const A=255&y;o.data[i+(A>>5)]|=1<<A}(i,o,u)}function hr(i,o,u){if(u&Ht.Optional)return i;fe(o,"NodeInjector")}function Hl(i,o,u,y){if(u&Ht.Optional&&void 0===y&&(y=null),0==(u&(Ht.Self|Ht.Host))){const A=i[9],G=In(void 0);try{return A?A.get(o,y,u&Ht.Optional):it(o,y,u&Ht.Optional)}finally{In(G)}}return hr(y,o,u)}function bd(i,o,u,y=Ht.Default,A){if(null!==i){const G=function Pc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(mt)?i[mt]:void 0;return"number"==typeof o?o>=0?255&o:Cd:o}(u);if("function"==typeof G){if(!Ro(o,i,y))return y&Ht.Host?hr(A,u,y):Hl(o,u,y,A);try{const ge=G(y);if(null!=ge||y&Ht.Optional)return ge;fe(u)}finally{Er()}}else if("number"==typeof G){let ge=null,xe=vd(i,o),Pe=-1,at=y&Ht.Host?o[16][6]:null;for((-1===xe||y&Ht.SkipSelf)&&(Pe=-1===xe?kc(i,o):o[xe+8],-1!==Pe&&zl(y,!1)?(ge=o[1],xe=Ga(Pe),o=Wl(Pe,o)):xe=-1);-1!==xe;){const Et=o[1];if(Fc(G,xe,Et.data)){const qt=Kr(xe,o,u,ge,y,at);if(qt!==Xu)return qt}Pe=o[xe+8],-1!==Pe&&zl(y,o[1].data[xe+8]===at)&&Fc(G,xe,o)?(ge=Et,xe=Ga(Pe),o=Wl(Pe,o)):xe=-1}}}return Hl(o,u,y,A)}const Xu={};function Cd(){return new Rr(Ls(),Vn())}function Kr(i,o,u,y,A,G){const ge=o[1],xe=ge.data[i+8],Et=xa(xe,ge,u,null==y?oo(xe)&&gd:y!=ge&&0!=(3&xe.type),A&Ht.Host&&G===xe);return null!==Et?Lr(o,ge,Et,xe):Xu}function xa(i,o,u,y,A){const G=i.providerIndexes,ge=o.data,xe=1048575&G,Pe=i.directiveStart,Et=G>>20,yn=A?xe+Et:i.directiveEnd;for(let Fn=y?xe:xe+Et;Fn<yn;Fn++){const hi=ge[Fn];if(Fn<Pe&&u===hi||Fn>=Pe&&hi.type===u)return Fn}if(A){const Fn=ge[Pe];if(Fn&&Xi(Fn)&&Fn.type===u)return Pe}return null}function Lr(i,o,u,y){let A=i[u];const G=o.data;if(function Fl(i){return i instanceof Pl}(A)){const ge=A;ge.resolving&&function J(i,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new N(-200,`Circular dependency in DI detected for ${i}${u}`)}(W(G[u]));const xe=md(ge.canSeeViewProviders);ge.resolving=!0;const Pe=ge.injectImpl?In(ge.injectImpl):null;Ro(i,y,Ht.Default);try{A=i[u]=ge.factory(void 0,G,i,y),o.firstCreatePass&&u>=y.directiveStart&&function zs(i,o,u){const{ngOnChanges:y,ngOnInit:A,ngDoCheck:G}=o.type.prototype;if(y){const ge=xt(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(i,ge),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,ge)}A&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-i,A),G&&((u.preOrderHooks||(u.preOrderHooks=[])).push(i,G),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,G))}(u,G[u],o)}finally{null!==Pe&&In(Pe),md(xe),ge.resolving=!1,Er()}}return A}function Fc(i,o,u){return!!(u[o+(i>>5)]&1<<i)}function zl(i,o){return!(i&Ht.Self||i&Ht.Host&&o)}class Rr{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,y){return bd(this._tNode,this._lView,o,y,u)}}function fr(i){return bt(()=>{const o=i.prototype.constructor,u=o[bn]||Ya(o),y=Object.prototype;let A=Object.getPrototypeOf(i.prototype).constructor;for(;A&&A!==y;){const G=A[bn]||Ya(A);if(G&&G!==u)return G;A=Object.getPrototypeOf(A)}return G=>new G})}function Ya(i){return H(i)?()=>{const o=Ya(I(i));return o&&o()}:oe(i)}function ac(i){return function Oc(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const u=i.attrs;if(u){const y=u.length;let A=0;for(;A<y;){const G=u[A];if(kr(G))break;if(0===G)A+=2;else if("number"==typeof G)for(A++;A<y&&"string"==typeof u[A];)A++;else{if(G===o)return u[A+1];A+=2}}}return null}(Ls(),i)}const Ia="__parameters__";function lc(i,o,u){return bt(()=>{const y=function yd(i){return function(...u){if(i){const y=i(...u);for(const A in y)this[A]=y[A]}}}(o);function A(...G){if(this instanceof A)return y.apply(this,G),this;const ge=new A(...G);return xe.annotation=ge,xe;function xe(Pe,at,Et){const qt=Pe.hasOwnProperty(Ia)?Pe[Ia]:Object.defineProperty(Pe,Ia,{value:[]})[Ia];for(;qt.length<=Et;)qt.push(null);return(qt[Et]=qt[Et]||[]).push(ge),Pe}}return u&&(A.prototype=Object.create(u.prototype)),A.prototype.ngMetadataName=i,A.annotationCls=A,A})}class Xs{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Jt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}function js(i,o){void 0===o&&(o=i);for(let u=0;u<i.length;u++){let y=i[u];Array.isArray(y)?(o===i&&(o=i.slice(0,u)),js(y,o)):o!==i&&o.push(y)}return o}function ta(i,o){i.forEach(u=>Array.isArray(u)?ta(u,o):o(u))}function st(i,o,u){o>=i.length?i.push(u):i.splice(o,0,u)}function r(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function d(i,o){const u=[];for(let y=0;y<i;y++)u.push(o);return u}function je(i,o,u){let y=Dt(i,o);return y>=0?i[1|y]=u:(y=~y,function U(i,o,u,y){let A=i.length;if(A==o)i.push(u,y);else if(1===A)i.push(y,i[0]),i[0]=u;else{for(A--,i.push(i[A-1],i[A]);A>o;)i[A]=i[A-2],A--;i[o]=u,i[o+1]=y}}(i,y,o,u)),y}function rt(i,o){const u=Dt(i,o);if(u>=0)return i[1|u]}function Dt(i,o){return function Wt(i,o,u){let y=0,A=i.length>>u;for(;A!==y;){const G=y+(A-y>>1),ge=i[G<<u];if(o===ge)return G<<u;ge>o?A=G:y=G+1}return~(A<<u)}(i,o,1)}const Gi={},Si="__NG_DI_FLAG__",qi="ngTempTokenPath",uo=/\n/gm,Ts="__source",Js=w({provide:String,useValue:w});let Uo;function or(i){const o=Uo;return Uo=i,o}function Zs(i,o=Ht.Default){if(void 0===Uo)throw new N(203,"");return null===Uo?it(i,void 0,o):Uo.get(i,o&Ht.Optional?null:void 0,o)}function is(i,o=Ht.Default){return(function _n(){return jt}()||Zs)(I(i),o)}const uc=is;function Kl(i){const o=[];for(let u=0;u<i.length;u++){const y=I(i[u]);if(Array.isArray(y)){if(0===y.length)throw new N(900,"");let A,G=Ht.Default;for(let ge=0;ge<y.length;ge++){const xe=y[ge],Pe=Sd(xe);"number"==typeof Pe?-1===Pe?A=xe.token:G|=Pe:A=xe}o.push(is(A,G))}else o.push(is(y))}return o}function Bc(i,o){return i[Si]=o,i.prototype[Si]=o,i}function Sd(i){return i[Si]}const Dd=Bc(lc("Inject",i=>({token:i})),-1),$l=Bc(lc("Optional"),8),ws=Bc(lc("SkipSelf"),4);const ia="__ngContext__";function Fr(i,o){i[ia]=o}function el(i){const o=function kd(i){return i[ia]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function Oa(i){return i.ngOriginalError}function Fm(i,...o){i.error(...o)}class Rd{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),y=function C_(i){return i&&i.ngErrorLogger||Fm}(o);y(this._console,"ERROR",o),u&&y(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Oa(o);for(;u&&Oa(u);)u=Oa(u);return u||null}}const cs=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft))();function xl(i){return i instanceof Function?i():i}var Pa=(()=>((Pa=Pa||{})[Pa.Important=1]="Important",Pa[Pa.DashCase=2]="DashCase",Pa))();function bh(i,o){return undefined(i,o)}function Fa(i){const o=i[3];return Gn(o)?o[3]:o}function ig(i){return jm(i[13])}function _u(i){return jm(i[4])}function jm(i){for(;null!==i&&!Gn(i);)i=i[4];return i}function Od(i,o,u,y,A){if(null!=y){let G,ge=!1;Gn(y)?G=y:Zo(y)&&(ge=!0,y=y[0]);const xe=Fi(y);0===i&&null!==u?null==A?Zm(o,u,xe):ya(o,u,xe,A||null,!0):1===i&&null!==u?ya(o,u,xe,A||null,!0):2===i?function cg(i,o,u){const y=bu(i,o);y&&function Lh(i,o,u,y){hn(i)?i.removeChild(o,u,y):o.removeChild(u)}(i,y,o,u)}(o,xe,ge):3===i&&o.destroyNode(xe),null!=G&&function E_(i,o,u,y,A){const G=u[7];G!==Fi(u)&&Od(o,i,y,G,A);for(let xe=10;xe<u.length;xe++){const Pe=u[xe];vc(Pe[1],Pe,i,o,y,G)}}(o,i,G,u,A)}}function Pd(i,o,u){if(hn(i))return i.createElement(o,u);{const y=null!==u?function ci(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===y?i.createElement(o):i.createElementNS(y,o)}}function wh(i,o){const u=i[9],y=u.indexOf(o),A=o[3];1024&o[2]&&(o[2]&=-1025,ra(A,-1)),u.splice(y,1)}function Sh(i,o){if(i.length<=10)return;const u=10+o,y=i[u];if(y){const A=y[17];null!==A&&A!==i&&wh(A,y),o>0&&(i[u-1][4]=y[4]);const G=r(i,10+o);!function Km(i,o){vc(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(y[1],y);const ge=G[19];null!==ge&&ge.detachView(G[1]),y[3]=null,y[4]=null,y[2]&=-129}return y}function Dh(i,o){if(!(256&o[2])){const u=o[11];hn(u)&&u.destroyNode&&vc(i,o,u,3,null,null),function Gm(i){let o=i[13];if(!o)return Ir(i[1],i);for(;o;){let u=null;if(Zo(o))u=o[13];else{const y=o[10];y&&(u=y)}if(!u){for(;o&&!o[4]&&o!==i;)Zo(o)&&Ir(o[1],o),o=o[3];null===o&&(o=i),Zo(o)&&Ir(o[1],o),u=o&&o[4]}o=u}}(o)}}function Ir(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Gc(i,o){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let y=0;y<u.length;y+=2){const A=o[u[y]];if(!(A instanceof Pl)){const G=u[y+1];if(Array.isArray(G))for(let ge=0;ge<G.length;ge+=2){const xe=A[G[ge]],Pe=G[ge+1];try{Pe.call(xe)}finally{}}else try{G.call(A)}finally{}}}}(i,o),function sg(i,o){const u=i.cleanup,y=o[7];let A=-1;if(null!==u)for(let G=0;G<u.length-1;G+=2)if("string"==typeof u[G]){const ge=u[G+1],xe="function"==typeof ge?ge(o):Fi(o[ge]),Pe=y[A=u[G+2]],at=u[G+3];"boolean"==typeof at?xe.removeEventListener(u[G],Pe,at):at>=0?y[A=at]():y[A=-at].unsubscribe(),G+=2}else{const ge=y[A=u[G+1]];u[G].call(ge)}if(null!==y){for(let G=A+1;G<y.length;G++)y[G]();o[7]=null}}(i,o),1===o[1].type&&hn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Gn(o[3])){u!==o[3]&&wh(u,o);const y=o[19];null!==y&&y.detachView(i)}}}function Eh(i,o,u){return function rg(i,o,u){let y=o;for(;null!==y&&40&y.type;)y=(o=y).parent;if(null===y)return u[0];if(2&y.flags){const A=i.data[y.directiveStart].encapsulation;if(A===Wn.None||A===Wn.Emulated)return null}return $i(y,u)}(i,o.parent,u)}function ya(i,o,u,y,A){hn(i)?i.insertBefore(o,u,y,A):o.insertBefore(u,y,A)}function Zm(i,o,u){hn(i)?i.appendChild(o,u):o.appendChild(u)}function Yc(i,o,u,y,A){null!==y?ya(i,o,u,y,A):Zm(i,o,u)}function bu(i,o){return hn(i)?i.parentNode(o):o.parentNode}function xh(i,o,u){return Ih(i,o,u)}let Ih=function Qm(i,o,u){return 40&i.type?$i(i,u):null};function Nh(i,o,u,y){const A=Eh(i,y,o),G=o[11],xe=xh(y.parent||o[6],y,o);if(null!=A)if(Array.isArray(u))for(let Pe=0;Pe<u.length;Pe++)Yc(G,A,u[Pe],xe,!1);else Yc(G,A,u,xe,!1)}function Th(i,o){if(null!==o){const u=o.type;if(3&u)return $i(o,i);if(4&u)return Bd(-1,i[o.index]);if(8&u){const y=o.child;if(null!==y)return Th(i,y);{const A=i[o.index];return Gn(A)?Bd(-1,A):Fi(A)}}if(32&u)return bh(o,i)()||Fi(i[o.index]);{const y=Fd(i,o);return null!==y?Array.isArray(y)?y[0]:Th(Fa(i[16]),y):Th(i,o.next)}}return null}function Fd(i,o){return null!==o?i[16][6].projection[o.projection]:null}function Bd(i,o){const u=10+i+1;if(u<o.length){const y=o[u],A=y[1].firstChild;if(null!==A)return Th(y,A)}return o[7]}function pl(i,o,u,y,A,G,ge){for(;null!=u;){const xe=y[u.index],Pe=u.type;if(ge&&0===o&&(xe&&Fr(Fi(xe),y),u.flags|=4),64!=(64&u.flags))if(8&Pe)pl(i,o,u.child,y,A,G,!1),Od(o,i,A,xe,G);else if(32&Pe){const at=bh(u,y);let Et;for(;Et=at();)Od(o,i,A,Et,G);Od(o,i,A,xe,G)}else 16&Pe?Yl(i,o,y,u,A,G):Od(o,i,A,xe,G);u=ge?u.projectionNext:u.next}}function vc(i,o,u,y,A,G){pl(u,y,i.firstChild,o,A,G,!1)}function Yl(i,o,u,y,A,G){const ge=u[16],Pe=ge[6].projection[y.projection];if(Array.isArray(Pe))for(let at=0;at<Pe.length;at++)Od(o,i,A,Pe[at],G);else pl(i,o,Pe,ge[3],A,G,!0)}function dg(i,o,u){hn(i)?i.setAttribute(o,"style",u):o.style.cssText=u}function ug(i,o,u){hn(i)?""===u?i.removeAttribute(o,"class"):i.setAttribute(o,"class",u):o.className=u}function Xm(i,o,u){let y=i.length;for(;;){const A=i.indexOf(o,u);if(-1===A)return A;if(0===A||i.charCodeAt(A-1)<=32){const G=o.length;if(A+G===y||i.charCodeAt(A+G)<=32)return A}u=A+1}}const Ba="ng-template";function I_(i,o,u){let y=0;for(;y<i.length;){let A=i[y++];if(u&&"class"===A){if(A=i[y],-1!==Xm(A.toLowerCase(),o,0))return!0}else if(1===A){for(;y<i.length&&"string"==typeof(A=i[y++]);)if(A.toLowerCase()===o)return!0;return!1}}return!1}function hg(i){return 4===i.type&&i.value!==Ba}function fg(i,o,u){return o===(4!==i.type||u?i.value:Ba)}function M_(i,o,u){let y=4;const A=i.attrs||[],G=function T_(i){for(let o=0;o<i.length;o++)if(kr(i[o]))return o;return i.length}(A);let ge=!1;for(let xe=0;xe<o.length;xe++){const Pe=o[xe];if("number"!=typeof Pe){if(!ge)if(4&y){if(y=2|1&y,""!==Pe&&!fg(i,Pe,u)||""===Pe&&1===o.length){if(tl(y))return!1;ge=!0}}else{const at=8&y?Pe:o[++xe];if(8&y&&null!==i.attrs){if(!I_(i.attrs,at,u)){if(tl(y))return!1;ge=!0}continue}const qt=tr(8&y?"class":Pe,A,hg(i),u);if(-1===qt){if(tl(y))return!1;ge=!0;continue}if(""!==at){let yn;yn=qt>G?"":A[qt+1].toLowerCase();const Fn=8&y?yn:null;if(Fn&&-1!==Xm(Fn,at,0)||2&y&&at!==yn){if(tl(y))return!1;ge=!0}}}}else{if(!ge&&!tl(y)&&!tl(Pe))return!1;if(ge&&tl(Pe))continue;ge=!1,y=Pe|1&y}}return tl(y)||ge}function tl(i){return 0==(1&i)}function tr(i,o,u,y){if(null===o)return-1;let A=0;if(y||!u){let G=!1;for(;A<o.length;){const ge=o[A];if(ge===i)return A;if(3===ge||6===ge)G=!0;else{if(1===ge||2===ge){let xe=o[++A];for(;"string"==typeof xe;)xe=o[++A];continue}if(4===ge)break;if(0===ge){A+=4;continue}}A+=G?1:2}return-1}return function Jm(i,o){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const y=i[u];if("number"==typeof y)return-1;if(y===o)return u;u++}return-1}(o,i)}function gg(i,o,u=!1){for(let y=0;y<o.length;y++)if(M_(i,o[y],u))return!0;return!1}function qm(i,o){e:for(let u=0;u<o.length;u++){const y=o[u];if(i.length===y.length){for(let A=0;A<i.length;A++)if(i[A]!==y[A])continue e;return!0}}return!1}function ep(i,o){return i?":not("+o.trim()+")":o}function A_(i){let o=i[0],u=1,y=2,A="",G=!1;for(;u<i.length;){let ge=i[u];if("string"==typeof ge)if(2&y){const xe=i[++u];A+="["+ge+(xe.length>0?'="'+xe+'"':"")+"]"}else 8&y?A+="."+ge:4&y&&(A+=" "+ge);else""!==A&&!tl(ge)&&(o+=ep(G,A),A=""),y=ge,G=G||!tl(y);u++}return""!==A&&(o+=ep(G,A)),o}const Qo={};function np(i){ip(so(),Vn(),ji()+i,cn())}function ip(i,o,u,y){if(!y)if(3==(3&o[2])){const G=i.preOrderCheckHooks;null!==G&&Ur(o,G,u)}else{const G=i.preOrderHooks;null!==G&&Es(o,G,0,u)}bi(u)}function Ah(i,o){return i<<17|o<<2}function _l(i){return i>>17&32767}function Mr(i){return 2|i}function Ql(i){return(131068&i)>>2}function kh(i,o){return-131069&i|o<<2}function Cu(i){return 1|i}function Hd(i,o){const u=i.contentQueries;if(null!==u)for(let y=0;y<u.length;y+=2){const A=u[y],G=u[y+1];if(-1!==G){const ge=i.data[G];io(A),ge.contentQueries(2,o[G],G)}}}function Al(i,o,u,y,A,G,ge,xe,Pe,at){const Et=o.blueprint.slice();return Et[0]=A,Et[2]=140|y,Ys(Et),Et[3]=Et[15]=i,Et[8]=u,Et[10]=ge||i&&i[10],Et[11]=xe||i&&i[11],Et[12]=Pe||i&&i[12]||null,Et[9]=at||i&&i[9]||null,Et[6]=G,Et[16]=2==o.type?i[16]:Et,Et}function Fh(i,o,u,y,A){let G=i.data[o];if(null===G)G=function Bh(i,o,u,y,A){const G=Ct(),ge=We(),Pe=i.data[o]=function Wr(i,o,u,y,A,G){return{type:u,index:y,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:A,attrs:G,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ge?G:G&&G.parent,u,o,y,A);return null===i.firstChild&&(i.firstChild=Pe),null!==G&&(ge?null==G.child&&null!==Pe.parent&&(G.child=Pe):null===G.next&&(G.next=Pe)),Pe}(i,o,u,y,A),function fo(){return To.lFrame.inI18n}()&&(G.flags|=64);else if(64&G.type){G.type=u,G.value=y,G.attrs=A;const ge=function me(){const i=To.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();G.injectorIndex=null===ge?-1:ge.injectorIndex}return be(G,!0),G}function bc(i,o,u,y){if(0===u)return-1;const A=o.length;for(let G=0;G<u;G++)o.push(y),i.blueprint.push(y),i.data.push(null);return A}function bg(i,o,u){Cs(o);try{const y=i.viewQuery;null!==y&&z_(1,y,u);const A=i.template;null!==A&&sp(i,o,A,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Hd(i,o),i.staticViewQueries&&z_(2,i.viewQuery,u);const G=i.components;null!==G&&function Yo(i,o){for(let u=0;u<o.length;u++)Ly(i,o[u])}(o,G)}catch(y){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),y}finally{o[2]&=-5,gr()}}function Vh(i,o,u,y){const A=o[2];if(256==(256&A))return;Cs(o);const G=cn();try{Ys(o),function ro(i){return To.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&sp(i,o,u,2,y);const ge=3==(3&A);if(!G)if(ge){const at=i.preOrderCheckHooks;null!==at&&Ur(o,at,null)}else{const at=i.preOrderHooks;null!==at&&Es(o,at,0,null),_a(o,0)}if(function B_(i){for(let o=ig(i);null!==o;o=_u(o)){if(!o[2])continue;const u=o[9];for(let y=0;y<u.length;y++){const A=u[y],G=A[3];0==(1024&A[2])&&ra(G,1),A[2]|=1024}}}(o),function Dy(i){for(let o=ig(i);null!==o;o=_u(o))for(let u=10;u<o.length;u++){const y=o[u],A=y[1];Vi(y)&&Vh(A,y,A.template,y[8])}}(o),null!==i.contentQueries&&Hd(i,o),!G)if(ge){const at=i.contentCheckHooks;null!==at&&Ur(o,at)}else{const at=i.contentHooks;null!==at&&Es(o,at,1),_a(o,1)}!function ib(i,o){const u=i.hostBindingOpCodes;if(null!==u)try{for(let y=0;y<u.length;y++){const A=u[y];if(A<0)bi(~A);else{const G=A,ge=u[++y],xe=u[++y];hs(ge,G),xe(2,o[G])}}}finally{bi(-1)}}(i,o);const xe=i.components;null!==xe&&function vg(i,o){for(let u=0;u<o.length;u++)Ey(i,o[u])}(o,xe);const Pe=i.viewQuery;if(null!==Pe&&z_(2,Pe,y),!G)if(ge){const at=i.viewCheckHooks;null!==at&&Ur(o,at)}else{const at=i.viewHooks;null!==at&&Es(o,at,2),_a(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),G||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,ra(o[3],-1))}finally{gr()}}function ob(i,o,u,y){const A=o[10],G=!cn(),ge=Rs(o);try{G&&!ge&&A.begin&&A.begin(),ge&&bg(i,o,y),Vh(i,o,u,y)}finally{G&&!ge&&A.end&&A.end()}}function sp(i,o,u,y,A){const G=ji(),ge=2&y;try{bi(-1),ge&&o.length>20&&ip(i,o,20,cn()),u(y,A)}finally{bi(G)}}function sb(i,o,u){if(ds(o)){const A=o.directiveEnd;for(let G=o.directiveStart;G<A;G++){const ge=i.data[G];ge.contentQueries&&ge.contentQueries(1,u[G],G)}}}function k_(i,o,u){!Be()||(function wu(i,o,u,y){const A=u.directiveStart,G=u.directiveEnd;i.firstCreatePass||Ac(u,o),Fr(y,o);const ge=u.initialInputs;for(let xe=A;xe<G;xe++){const Pe=i.data[xe],at=Xi(Pe);at&&Su(o,u,Pe);const Et=Lr(o,i,xe,u);Fr(Et,o),null!==ge&&Sy(0,xe-A,Et,Pe,0,ge),at&&(bs(u.index,o)[8]=Et)}}(i,o,u,$i(u,o)),128==(128&u.flags)&&function zh(i,o,u){const y=u.directiveStart,A=u.directiveEnd,ge=u.index,xe=function Ss(){return To.lFrame.currentDirectiveIndex}();try{bi(ge);for(let Pe=y;Pe<A;Pe++){const at=i.data[Pe],Et=o[Pe];Os(Pe),(null!==at.hostBindings||0!==at.hostVars||null!==at.hostAttrs)&&cb(at,Et)}}finally{bi(-1),Os(xe)}}(i,o,u))}function Wh(i,o,u=$i){const y=o.localNames;if(null!==y){let A=o.index+1;for(let G=0;G<y.length;G+=2){const ge=y[G+1],xe=-1===ge?u(o,i):i[ge];i[A++]=xe}}}function R_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Hh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Hh(i,o,u,y,A,G,ge,xe,Pe,at){const Et=20+y,qt=Et+A,yn=function py(i,o){const u=[];for(let y=0;y<o;y++)u.push(y<i?null:Qo);return u}(Et,qt),Fn="function"==typeof at?at():at;return yn[1]={type:i,blueprint:yn,template:u,queries:null,viewQuery:xe,declTNode:o,data:yn.slice().fill(null,Et),bindingStartIndex:Et,expandoStartIndex:qt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof G?G():G,pipeRegistry:"function"==typeof ge?ge():ge,firstChild:null,schemas:Pe,consts:Fn,incompleteFirstPass:!1}}function P_(i,o,u,y){const A=mb(o);null===u?A.push(y):(A.push(u),i.firstCreatePass&&pb(i).push(y,A.length-1))}function yg(i,o,u){for(let y in i)if(i.hasOwnProperty(y)){const A=i[y];(u=null===u?{}:u).hasOwnProperty(y)?u[y].push(o,A):u[y]=[o,A]}return u}function Va(i,o,u,y,A,G,ge,xe){const Pe=$i(o,u);let Et,at=o.inputs;!xe&&null!=at&&(Et=at[y])?(bb(i,u,Et,y,A),oo(o)&&function ab(i,o){const u=bs(o,i);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(y=function rb(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(y),A=null!=ge?ge(A,o.value||"",y):A,hn(G)?G.setProperty(Pe,y,A):ba(y)||(Pe.setProperty?Pe.setProperty(y,A):Pe[y]=A))}function yu(i,o,u,y){let A=!1;if(Be()){const G=function wg(i,o,u){const y=i.directiveRegistry;let A=null;if(y)for(let G=0;G<y.length;G++){const ge=y[G];gg(u,ge.selectors,!1)&&(A||(A=[]),Rc(Ac(u,o),i,ge.type),Xi(ge)?(db(i,u),A.unshift(ge)):A.push(ge))}return A}(i,o,u),ge=null===y?null:{"":-1};if(null!==G){A=!0,Xl(u,i.data.length,G.length);for(let Et=0;Et<G.length;Et++){const qt=G[Et];qt.providersResolver&&qt.providersResolver(qt)}let xe=!1,Pe=!1,at=bc(i,o,G.length,null);for(let Et=0;Et<G.length;Et++){const qt=G[Et];u.mergedAttrs=qr(u.mergedAttrs,qt.hostAttrs),wy(i,u,o,at,qt),yy(at,qt,ge),null!==qt.contentQueries&&(u.flags|=8),(null!==qt.hostBindings||null!==qt.hostAttrs||0!==qt.hostVars)&&(u.flags|=128);const yn=qt.type.prototype;!xe&&(yn.ngOnChanges||yn.ngOnInit||yn.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(u.index),xe=!0),!Pe&&(yn.ngOnChanges||yn.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(u.index),Pe=!0),at++}!function _y(i,o){const y=o.directiveEnd,A=i.data,G=o.attrs,ge=[];let xe=null,Pe=null;for(let at=o.directiveStart;at<y;at++){const Et=A[at],qt=Et.inputs,yn=null===G||hg(o)?null:Uh(qt,G);ge.push(yn),xe=yg(qt,at,xe),Pe=yg(Et.outputs,at,Pe)}null!==xe&&(xe.hasOwnProperty("class")&&(o.flags|=16),xe.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=ge,o.inputs=xe,o.outputs=Pe}(i,u)}ge&&function ub(i,o,u){if(o){const y=i.localNames=[];for(let A=0;A<o.length;A+=2){const G=u[o[A+1]];if(null==G)throw new N(-301,!1);y.push(o[A],G)}}}(u,y,ge)}return u.mergedAttrs=qr(u.mergedAttrs,u.attrs),A}function lb(i,o,u,y,A,G){const ge=G.hostBindings;if(ge){let xe=i.hostBindingOpCodes;null===xe&&(xe=i.hostBindingOpCodes=[]);const Pe=~o.index;(function Cy(i){let o=i.length;for(;o>0;){const u=i[--o];if("number"==typeof u&&u<0)return u}return 0})(xe)!=Pe&&xe.push(Pe),xe.push(y,A,ge)}}function cb(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function db(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function yy(i,o,u){if(u){if(o.exportAs)for(let y=0;y<o.exportAs.length;y++)u[o.exportAs[y]]=i;Xi(o)&&(u[""]=i)}}function Xl(i,o,u){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+u,i.providerIndexes=o}function wy(i,o,u,y,A){i.data[y]=A;const G=A.factory||(A.factory=oe(A.type)),ge=new Pl(G,Xi(A),null);i.blueprint[y]=ge,u[y]=ge,lb(i,o,0,y,bc(i,u,A.hostVars,Qo),A)}function Su(i,o,u){const y=$i(o,i),A=R_(u),G=i[10],ge=V_(i,Al(i,A,null,u.onPush?64:16,y,o,G,G.createRenderer(y,u),null,null));i[o.index]=ge}function Cc(i,o,u,y,A,G){const ge=$i(i,o);!function zd(i,o,u,y,A,G,ge){if(null==G)hn(i)?i.removeAttribute(o,A,u):o.removeAttribute(A);else{const xe=null==ge?P(G):ge(G,y||"",A);hn(i)?i.setAttribute(o,A,xe,u):u?o.setAttributeNS(u,A,xe):o.setAttribute(A,xe)}}(o[11],ge,G,i.value,u,y,A)}function Sy(i,o,u,y,A,G){const ge=G[o];if(null!==ge){const xe=y.setInput;for(let Pe=0;Pe<ge.length;){const at=ge[Pe++],Et=ge[Pe++],qt=ge[Pe++];null!==xe?y.setInput(u,qt,at,Et):u[Et]=qt}}}function Uh(i,o){let u=null,y=0;for(;y<o.length;){const A=o[y];if(0!==A)if(5!==A){if("number"==typeof A)break;i.hasOwnProperty(A)&&(null===u&&(u=[]),u.push(A,i[A],o[y+1])),y+=2}else y+=2;else y+=4}return u}function hb(i,o,u,y){return new Array(i,!0,!1,o,null,0,y,u,null,null)}function Ey(i,o){const u=bs(o,i);if(Vi(u)){const y=u[1];80&u[2]?Vh(y,u,y.template,u[8]):u[5]>0&&fb(u)}}function fb(i){for(let y=ig(i);null!==y;y=_u(y))for(let A=10;A<y.length;A++){const G=y[A];if(1024&G[2]){const ge=G[1];Vh(ge,G,ge.template,G[8])}else G[5]>0&&fb(G)}const u=i[1].components;if(null!==u)for(let y=0;y<u.length;y++){const A=bs(u[y],i);Vi(A)&&A[5]>0&&fb(A)}}function Ly(i,o){const u=bs(o,i),y=u[1];(function xy(i,o){for(let u=o.length;u<i.blueprint.length;u++)o.push(i.blueprint[u])})(y,u),bg(y,u,u[8])}function V_(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function W_(i){for(;i;){i[2]|=64;const o=Fa(i);if(Wo(i)&&!o)return i;i=o}return null}function Dg(i,o,u){const y=o[10];y.begin&&y.begin();try{Vh(i,o,i.template,u)}catch(A){throw vb(o,A),A}finally{y.end&&y.end()}}function gb(i){!function Sg(i){for(let o=0;o<i.components.length;o++){const u=i.components[o],y=el(u),A=y[1];ob(A,y,A.template,u)}}(i[8])}function z_(i,o,u){io(0),o(i,u)}const Ny=(()=>Promise.resolve(null))();function mb(i){return i[7]||(i[7]=[])}function pb(i){return i.cleanup||(i.cleanup=[])}function vb(i,o){const u=i[9],y=u?u.get(Rd,null):null;y&&y.handleError(o)}function bb(i,o,u,y,A){for(let G=0;G<u.length;){const ge=u[G++],xe=u[G++],Pe=o[ge],at=i.data[ge];null!==at.setInput?at.setInput(Pe,A,y,xe):Pe[xe]=A}}function Zc(i,o,u){const y=yo(o,i);!function og(i,o,u){hn(i)?i.setValue(o,u):o.textContent=u}(i[11],y,u)}function ap(i,o,u){let y=u?i.styles:null,A=u?i.classes:null,G=0;if(null!==o)for(let ge=0;ge<o.length;ge++){const xe=o[ge];"number"==typeof xe?G=xe:1==G?A=f(A,xe):2==G&&(y=f(y,xe+": "+o[++ge]+";"))}u?i.styles=y:i.stylesWithoutHost=y,u?i.classes=A:i.classesWithoutHost=A}const U_=new Xs("INJECTOR",-1);class Cb{get(o,u=Gi){if(u===Gi){const y=new Error(`NullInjectorError: No provider for ${F(o)}!`);throw y.name="NullInjectorError",y}return u}}const j_=new Xs("Set Injector scope."),Eg={},ky={};let K_;function yb(){return void 0===K_&&(K_=new Cb),K_}function wb(i,o=null,u=null,y){const A=Sb(i,o,u,y);return A._resolveInjectorDefTypes(),A}function Sb(i,o=null,u=null,y){return new Ry(i,u,o||yb(),y)}class Ry{constructor(o,u,y,A=null){this.parent=y,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const G=[];u&&ta(u,xe=>this.processProvider(xe,o,u)),ta([o],xe=>this.processInjectorType(xe,[],G)),this.records.set(U_,jh(void 0,this));const ge=this.records.get(j_);this.scope=null!=ge?ge.value:null,this.source=A||("object"==typeof o?null:F(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Gi,y=Ht.Default){this.assertNotDestroyed();const A=or(this),G=In(void 0);try{if(!(y&Ht.SkipSelf)){let xe=this.records.get(o);if(void 0===xe){const Pe=function Vy(i){return"function"==typeof i||"object"==typeof i&&i instanceof Xs}(o)&&pn(o);xe=Pe&&this.injectableDefInScope(Pe)?jh($_(o),Eg):null,this.records.set(o,xe)}if(null!=xe)return this.hydrate(o,xe)}return(y&Ht.Self?yb():this.parent).get(o,u=y&Ht.Optional&&u===Gi?null:u)}catch(ge){if("NullInjectorError"===ge.name){if((ge[qi]=ge[qi]||[]).unshift(F(o)),A)throw ge;return function Kf(i,o,u,y){const A=i[qi];throw o[Ts]&&A.unshift(o[Ts]),i.message=function Ta(i,o,u,y=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let A=F(o);if(Array.isArray(o))A=o.map(F).join(" -> ");else if("object"==typeof o){let G=[];for(let ge in o)if(o.hasOwnProperty(ge)){let xe=o[ge];G.push(ge+":"+("string"==typeof xe?JSON.stringify(xe):F(xe)))}A=`{${G.join(", ")}}`}return`${u}${y?"("+y+")":""}[${A}]: ${i.replace(uo,"\n  ")}`}("\n"+i.message,A,u,y),i.ngTokenPath=A,i[qi]=null,i}(ge,o,"R3InjectorError",this.source)}throw ge}finally{In(G),or(A)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((y,A)=>o.push(F(A))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processInjectorType(o,u,y){if(!(o=I(o)))return!1;let A=Kt(o);const G=null==A&&o.ngModule||void 0,ge=void 0===G?o:G,xe=-1!==y.indexOf(ge);if(void 0!==G&&(A=Kt(G)),null==A)return!1;if(null!=A.imports&&!xe){let Et;y.push(ge);try{ta(A.imports,qt=>{this.processInjectorType(qt,u,y)&&(void 0===Et&&(Et=[]),Et.push(qt))})}finally{}if(void 0!==Et)for(let qt=0;qt<Et.length;qt++){const{ngModule:yn,providers:Fn}=Et[qt];ta(Fn,hi=>this.processProvider(hi,yn,Fn||Tn))}}this.injectorDefTypes.add(ge);const Pe=oe(ge)||(()=>new ge);this.records.set(ge,jh(Pe,Eg));const at=A.providers;if(null!=at&&!xe){const Et=o;ta(at,qt=>this.processProvider(qt,Et,at))}return void 0!==G&&void 0!==o.providers}processProvider(o,u,y){let A=Kh(o=I(o))?o:I(o&&o.provide);const G=function Py(i,o,u){return Eb(i)?jh(void 0,i.useValue):jh(Db(i),Eg)}(o);if(Kh(o)||!0!==o.multi)this.records.get(A);else{let ge=this.records.get(A);ge||(ge=jh(void 0,Eg,!0),ge.factory=()=>Kl(ge.multi),this.records.set(A,ge)),A=o,ge.multi.push(o)}this.records.set(A,G)}hydrate(o,u){return u.value===Eg&&(u.value=ky,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Y_(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=I(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function $_(i){const o=pn(i),u=null!==o?o.factory:oe(i);if(null!==u)return u;if(i instanceof Xs)throw new N(204,!1);if(i instanceof Function)return function Oy(i){const o=i.length;if(o>0)throw d(o,"?"),new N(204,!1);const u=function ze(i){const o=i&&(i[nn]||i[Nn]);if(o){const u=function At(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new N(204,!1)}function Db(i,o,u){let y;if(Kh(i)){const A=I(i);return oe(A)||$_(A)}if(Eb(i))y=()=>I(i.useValue);else if(function Lb(i){return!(!i||!i.useFactory)}(i))y=()=>i.useFactory(...Kl(i.deps||[]));else if(function Fy(i){return!(!i||!i.useExisting)}(i))y=()=>is(I(i.useExisting));else{const A=I(i&&(i.useClass||i.provide));if(!function G_(i){return!!i.deps}(i))return oe(A)||$_(A);y=()=>new A(...Kl(i.deps))}return y}function jh(i,o,u=!1){return{factory:i,value:o,multi:u?[]:void 0}}function Eb(i){return null!==i&&"object"==typeof i&&Js in i}function Kh(i){return"function"==typeof i}let Tr=(()=>{class i{static create(u,y){var A;if(Array.isArray(u))return wb({name:""},y,u,"");{const G=null!==(A=u.name)&&void 0!==A?A:"";return wb({name:G},u.parent,u.providers,G)}}}return i.THROW_IF_NOT_FOUND=Gi,i.NULL=new Cb,i.\u0275prov=Jt({token:i,providedIn:"any",factory:()=>is(U_)}),i.__NG_ELEMENT_ID__=-1,i})();function Yh(i,o){ns(el(i)[1],Ls())}function ol(i){let o=function Ob(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const y=[i];for(;o;){let A;if(Xi(i))A=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new N(903,"");A=o.\u0275dir}if(A){if(u){y.push(A);const ge=i;ge.inputs=up(i.inputs),ge.declaredInputs=up(i.declaredInputs),ge.outputs=up(i.outputs);const xe=A.hostBindings;xe&&Ky(i,xe);const Pe=A.viewQuery,at=A.contentQueries;if(Pe&&Cl(i,Pe),at&&Wa(i,at),D(i.inputs,A.inputs),D(i.declaredInputs,A.declaredInputs),D(i.outputs,A.outputs),Xi(A)&&A.data.animation){const Et=i.data;Et.animation=(Et.animation||[]).concat(A.data.animation)}}const G=A.features;if(G)for(let ge=0;ge<G.length;ge++){const xe=G[ge];xe&&xe.ngInherit&&xe(i),xe===ol&&(u=!1)}}o=Object.getPrototypeOf(o)}!function jy(i){let o=0,u=null;for(let y=i.length-1;y>=0;y--){const A=i[y];A.hostVars=o+=A.hostVars,A.hostAttrs=qr(A.hostAttrs,u=qr(u,A.hostAttrs))}}(y)}function up(i){return i===on?{}:i===Tn?[]:i}function Cl(i,o){const u=i.viewQuery;i.viewQuery=u?(y,A)=>{o(y,A),u(y,A)}:o}function Wa(i,o){const u=i.contentQueries;i.contentQueries=u?(y,A,G)=>{o(y,A,G),u(y,A,G)}:o}function Ky(i,o){const u=i.hostBindings;i.hostBindings=u?(y,A)=>{o(y,A),u(y,A)}:o}let Ig=null;function Zh(){if(!Ig){const i=ft.Symbol;if(i&&i.iterator)Ig=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const y=o[u];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(Ig=y)}}}return Ig}function Mg(i){return!!Q_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Zh()in i)}function Q_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function wa(i,o,u){return!Object.is(i[o],u)&&(i[o]=u,!0)}function fp(i,o,u,y){const A=Vn();return wa(A,ao(),o)&&(so(),Cc(eo(),A,i,o,u,y)),fp}function pp(i,o,u,y,A,G,ge,xe){const Pe=Vn(),at=so(),Et=i+20,qt=at.firstCreatePass?function q_(i,o,u,y,A,G,ge,xe,Pe){const at=o.consts,Et=Fh(o,i,4,ge||null,Hs(at,xe));yu(o,u,Et,Hs(at,Pe)),ns(o,Et);const qt=Et.tViews=Hh(2,Et,y,A,G,o.directiveRegistry,o.pipeRegistry,null,o.schemas,at);return null!==o.queries&&(o.queries.template(o,Et),qt.queries=o.queries.embeddedTView(Et)),Et}(Et,at,Pe,o,u,y,A,G,ge):at.data[Et];be(qt,!1);const yn=Pe[11].createComment("");Nh(at,Pe,yn,qt),Fr(yn,Pe),V_(Pe,Pe[Et]=hb(yn,Pe,yn,qt)),Io(qt)&&k_(at,Pe,qt),null!=ge&&Wh(Pe,qt,xe)}function Wb(i){return function So(i,o){return i[o]}(function fn(){return To.lFrame.contextLView}(),20+i)}function Qc(i,o=Ht.Default){const u=Vn();return null===u?is(i,o):bd(Ls(),u,I(i),o)}function a0(i,o,u){const y=Vn();return wa(y,ao(),o)&&Va(so(),eo(),y,i,o,y[11],u,!1),a0}function l0(i,o,u,y,A){const ge=A?"class":"style";bb(i,u,o.inputs[ge],ge,y)}function Kd(i,o,u,y){const A=Vn(),G=so(),ge=20+i,xe=A[11],Pe=A[ge]=Pd(xe,o,function Xr(){return To.lFrame.currentNamespace}()),at=G.firstCreatePass?function rw(i,o,u,y,A,G,ge){const xe=o.consts,at=Fh(o,i,2,A,Hs(xe,G));return yu(o,u,at,Hs(xe,ge)),null!==at.attrs&&ap(at,at.attrs,!1),null!==at.mergedAttrs&&ap(at,at.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,at),at}(ge,G,A,0,o,u,y):G.data[ge];be(at,!0);const Et=at.mergedAttrs;null!==Et&&Vl(xe,Pe,Et);const qt=at.classes;null!==qt&&ug(xe,Pe,qt);const yn=at.styles;return null!==yn&&dg(xe,Pe,yn),64!=(64&at.flags)&&Nh(G,A,Pe,at),0===function aa(){return To.lFrame.elementDepthCount}()&&Fr(Pe,A),function qe(){To.lFrame.elementDepthCount++}(),Io(at)&&(k_(G,A,at),sb(G,at,A)),null!==y&&Wh(A,at),Kd}function Tu(){let i=Ls();We()?Tt():(i=i.parent,be(i,!1));const o=i;!function Ue(){To.lFrame.elementDepthCount--}();const u=so();return u.firstCreatePass&&(ns(u,i),ds(i)&&u.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Tc(i){return 0!=(16&i.flags)}(o)&&l0(u,o,Vn(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function _m(i){return 0!=(32&i.flags)}(o)&&l0(u,o,Vn(),o.stylesWithoutHost,!1),Tu}function af(i,o,u,y){return Kd(i,o,u,y),Tu(),af}function Sc(i,o,u){const y=Vn(),A=so(),G=i+20,ge=A.firstCreatePass?function c0(i,o,u,y,A){const G=o.consts,ge=Hs(G,y),xe=Fh(o,i,8,"ng-container",ge);return null!==ge&&ap(xe,ge,!0),yu(o,u,xe,Hs(G,A)),null!==o.queries&&o.queries.elementStart(o,xe),xe}(G,A,y,o,u):A.data[G];be(ge,!0);const xe=y[G]=y[11].createComment("");return Nh(A,y,xe,ge),Fr(xe,y),Io(ge)&&(k_(A,y,ge),sb(A,ge,y)),null!=u&&Wh(y,ge),Sc}function wp(){let i=Ls();const o=so();return We()?Tt():(i=i.parent,be(i,!1)),o.firstCreatePass&&(ns(o,i),ds(i)&&o.queries.elementEnd(i)),wp}function kg(){return Vn()}function Sp(i){return!!i&&"function"==typeof i.then}function Xb(i){return!!i&&"function"==typeof i.subscribe}const d0=Xb;function Rg(i,o,u,y){const A=Vn(),G=so(),ge=Ls();return function u0(i,o,u,y,A,G,ge,xe){const Pe=Io(y),Et=i.firstCreatePass&&pb(i),qt=o[8],yn=mb(o);let Fn=!0;if(3&y.type||xe){const Qi=$i(y,o),lo=xe?xe(Qi):Qi,_i=yn.length,Ao=xe?_s=>xe(Fi(_s[y.index])):y.index;if(hn(u)){let _s=null;if(!xe&&Pe&&(_s=function Ep(i,o,u,y){const A=i.cleanup;if(null!=A)for(let G=0;G<A.length-1;G+=2){const ge=A[G];if(ge===u&&A[G+1]===y){const xe=o[7],Pe=A[G+2];return xe.length>Pe?xe[Pe]:null}"string"==typeof ge&&(G+=2)}return null}(i,o,A,y.index)),null!==_s)(_s.__ngLastListenerFn__||_s).__ngNextListenerFn__=G,_s.__ngLastListenerFn__=G,Fn=!1;else{G=h0(y,o,qt,G,!1);const As=u.listen(lo,A,G);yn.push(G,As),Et&&Et.push(A,Ao,_i,_i+1)}}else G=h0(y,o,qt,G,!0),lo.addEventListener(A,G,ge),yn.push(G),Et&&Et.push(A,Ao,_i,ge)}else G=h0(y,o,qt,G,!1);const hi=y.outputs;let ki;if(Fn&&null!==hi&&(ki=hi[A])){const Qi=ki.length;if(Qi)for(let lo=0;lo<Qi;lo+=2){const Yr=o[ki[lo]][ki[lo+1]].subscribe(G),sd=yn.length;yn.push(G,Yr),Et&&Et.push(A,y.index,sd,-(sd+1))}}}(G,A,A[11],ge,i,o,!!u,y),Rg}function Og(i,o,u,y){try{return!1!==u(y)}catch(A){return vb(i,A),!1}}function h0(i,o,u,y,A){return function G(ge){if(ge===Function)return y;const xe=2&i.flags?bs(i.index,o):o;0==(32&o[2])&&W_(xe);let Pe=Og(o,0,y,ge),at=G.__ngNextListenerFn__;for(;at;)Pe=Og(o,0,at,ge)&&Pe,at=at.__ngNextListenerFn__;return A&&!1===Pe&&(ge.preventDefault(),ge.returnValue=!1),Pe}}function Jb(i=1){return function la(i){return(To.lFrame.contextLView=function ul(i,o){for(;i>0;)o=o[15],i--;return o}(i,To.lFrame.contextLView))[8]}(i)}function Au(i,o){let u=null;const y=function N_(i){const o=i.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(i);for(let A=0;A<o.length;A++){const G=o[A];if("*"!==G){if(null===y?gg(i,G,!0):qm(y,G))return A}else u=A}return u}function Lp(i){const o=Vn()[16][6];if(!o.projection){const y=o.projection=d(i?i.length:1,null),A=y.slice();let G=o.child;for(;null!==G;){const ge=i?Au(G,i):0;null!==ge&&(A[ge]?A[ge].projectionNext=G:y[ge]=G,A[ge]=G),G=G.next}}}function Pg(i,o=0,u){const y=Vn(),A=so(),G=Fh(A,20+i,16,null,u||null);null===G.projection&&(G.projection=o),Tt(),64!=(64&G.flags)&&function Il(i,o,u){Yl(o[11],0,o,u,Eh(i,u,o),xh(u.parent||o[6],u,o))}(A,y,G)}function iC(i,o,u,y,A){const G=i[u+1],ge=null===o;let xe=y?_l(G):Ql(G),Pe=!1;for(;0!==xe&&(!1===Pe||ge);){const Et=i[xe+1];cw(i[xe],o)&&(Pe=!0,i[xe+1]=y?Cu(Et):Mr(Et)),xe=y?_l(Et):Ql(Et)}Pe&&(i[u+1]=y?Mr(G):Cu(G))}function cw(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Dt(i,o)>=0}function _0(i,o){return function tc(i,o,u,y){const A=Vn(),G=so(),ge=function pi(i){const o=To.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,u}(2);G.firstUpdatePass&&function cC(i,o,u,y){const A=i.data;if(null===A[u+1]){const G=A[ji()],ge=function Gd(i,o){return o>=i.expandoStartIndex}(i,u);(function uf(i,o){return 0!=(i.flags&(o?16:32))})(G,y)&&null===o&&!ge&&(o=!1),o=function uw(i,o,u,y){const A=function ts(i){const o=To.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let G=y?o.residualClasses:o.residualStyles;if(null===A)0===(y?o.classBindings:o.styleBindings)&&(u=Zd(u=Hg(null,i,o,u,y),o.attrs,y),G=null);else{const ge=o.directiveStylingLast;if(-1===ge||i[ge]!==A)if(u=Hg(A,i,o,u,y),null===G){let Pe=function Yd(i,o,u){const y=u?o.classBindings:o.styleBindings;if(0!==Ql(y))return i[_l(y)]}(i,o,y);void 0!==Pe&&Array.isArray(Pe)&&(Pe=Hg(null,i,o,Pe[1],y),Pe=Zd(Pe,o.attrs,y),function UD(i,o,u,y){i[_l(u?o.classBindings:o.styleBindings)]=y}(i,o,y,Pe))}else G=function Ip(i,o,u){let y;const A=o.directiveEnd;for(let G=1+o.directiveStylingLast;G<A;G++)y=Zd(y,i[G].hostAttrs,u);return Zd(y,o.attrs,u)}(i,o,y)}return void 0!==G&&(y?o.residualClasses=G:o.residualStyles=G),u}(A,G,o,y),function m0(i,o,u,y,A,G){let ge=G?o.classBindings:o.styleBindings,xe=_l(ge),Pe=Ql(ge);i[y]=u;let Et,at=!1;if(Array.isArray(u)){const qt=u;Et=qt[1],(null===Et||Dt(qt,Et)>0)&&(at=!0)}else Et=u;if(A)if(0!==Pe){const yn=_l(i[xe+1]);i[y+1]=Ah(yn,xe),0!==yn&&(i[yn+1]=kh(i[yn+1],y)),i[xe+1]=function mg(i,o){return 131071&i|o<<17}(i[xe+1],y)}else i[y+1]=Ah(xe,0),0!==xe&&(i[xe+1]=kh(i[xe+1],y)),xe=y;else i[y+1]=Ah(Pe,0),0===xe?xe=y:i[Pe+1]=kh(i[Pe+1],y),Pe=y;at&&(i[y+1]=Mr(i[y+1])),iC(i,Et,y,!0),iC(i,Et,y,!1),function lw(i,o,u,y,A){const G=A?i.residualClasses:i.residualStyles;null!=G&&"string"==typeof o&&Dt(G,o)>=0&&(u[y+1]=Cu(u[y+1]))}(o,Et,i,y,G),ge=Ah(xe,Pe),G?o.classBindings=ge:o.styleBindings=ge}(A,G,o,u,ge,y)}}(G,i,ge,y),o!==Qo&&wa(A,ge,o)&&function Ug(i,o,u,y,A,G,ge,xe){if(!(3&o.type))return;const Pe=i.data,at=Pe[xe+1];nc(function Nl(i){return 1==(1&i)}(at)?xs(Pe,o,u,A,Ql(at),ge):void 0)||(nc(G)||function op(i){return 2==(2&i)}(at)&&(G=xs(Pe,null,u,A,xe,ge)),function L_(i,o,u,y,A){const G=hn(i);if(o)A?G?i.addClass(u,y):u.classList.add(y):G?i.removeClass(u,y):u.classList.remove(y);else{let ge=-1===y.indexOf("-")?void 0:Pa.DashCase;if(null==A)G?i.removeStyle(u,y,ge):u.style.removeProperty(y);else{const xe="string"==typeof A&&A.endsWith("!important");xe&&(A=A.slice(0,-10),ge|=Pa.Important),G?i.setStyle(u,y,A,ge):u.style.setProperty(y,A,xe?"important":"")}}}(y,ge,yo(ji(),u),A,G))}(G,G.data[ji()],A,A[11],i,A[ge+1]=function hw(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=F(function Dl(i){return i instanceof class fc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?i.changingThisBreaksApplicationSecurity:i}(i)))),i}(o,u),y,ge)}(i,o,null,!0),_0}function Hg(i,o,u,y,A){let G=null;const ge=u.directiveEnd;let xe=u.directiveStylingLast;for(-1===xe?xe=u.directiveStart:xe++;xe<ge&&(G=o[xe],y=Zd(y,G.hostAttrs,A),G!==i);)xe++;return null!==i&&(u.directiveStylingLast=xe),y}function Zd(i,o,u){const y=u?1:2;let A=-1;if(null!==o)for(let G=0;G<o.length;G++){const ge=o[G];"number"==typeof ge?A=ge:A===y&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),je(i,ge,!!u||o[++G]))}return void 0===i?null:i}function xs(i,o,u,y,A,G){const ge=null===o;let xe;for(;A>0;){const Pe=i[A],at=Array.isArray(Pe),Et=at?Pe[1]:Pe,qt=null===Et;let yn=u[A+1];yn===Qo&&(yn=qt?Tn:void 0);let Fn=qt?rt(yn,y):Et===y?yn:void 0;if(at&&!nc(Fn)&&(Fn=rt(Pe,y)),nc(Fn)&&(xe=Fn,ge))return xe;const hi=i[A+1];A=ge?_l(hi):Ql(hi)}if(null!==o){let Pe=G?o.residualClasses:o.residualStyles;null!=Pe&&(xe=rt(Pe,y))}return xe}function nc(i){return void 0!==i}function fw(i,o=""){const u=Vn(),y=so(),A=i+20,G=y.firstCreatePass?Fh(y,A,1,o,null):y.data[A],ge=u[A]=function vu(i,o){return hn(i)?i.createText(o):i.createTextNode(o)}(u[11],o);Nh(y,u,ge,G),be(G,!1)}function v0(i){return ku("",i,""),v0}function ku(i,o,u){const y=Vn(),A=function Xh(i,o,u,y){return wa(i,ao(),u)?o+P(u)+y:Qo}(y,i,o,u);return A!==Qo&&Zc(y,ji(),A),ku}function x0(i,o,u){const y=Vn();return wa(y,ao(),o)&&Va(so(),eo(),y,i,o,y[11],u,!0),x0}const Ru=void 0;var Dw=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sw(i){const u=Math.floor(Math.abs(i)),y=i.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===y?1:5}];let hf={};function I0(i){const o=function Ew(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=DC(o);if(u)return u;const y=o.split("-")[0];if(u=DC(y),u)return u;if("en"===y)return Dw;throw new Error(`Missing locale data for the locale "${i}".`)}function SC(i){return I0(i)[Vo.PluralCase]}function DC(i){return i in hf||(hf[i]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[i]),hf[i]}var Vo=(()=>((Vo=Vo||{})[Vo.LocaleId=0]="LocaleId",Vo[Vo.DayPeriodsFormat=1]="DayPeriodsFormat",Vo[Vo.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vo[Vo.DaysFormat=3]="DaysFormat",Vo[Vo.DaysStandalone=4]="DaysStandalone",Vo[Vo.MonthsFormat=5]="MonthsFormat",Vo[Vo.MonthsStandalone=6]="MonthsStandalone",Vo[Vo.Eras=7]="Eras",Vo[Vo.FirstDayOfWeek=8]="FirstDayOfWeek",Vo[Vo.WeekendRange=9]="WeekendRange",Vo[Vo.DateFormat=10]="DateFormat",Vo[Vo.TimeFormat=11]="TimeFormat",Vo[Vo.DateTimeFormat=12]="DateTimeFormat",Vo[Vo.NumberSymbols=13]="NumberSymbols",Vo[Vo.NumberFormats=14]="NumberFormats",Vo[Vo.CurrencyCode=15]="CurrencyCode",Vo[Vo.CurrencySymbol=16]="CurrencySymbol",Vo[Vo.CurrencyName=17]="CurrencyName",Vo[Vo.Currencies=18]="Currencies",Vo[Vo.Directionality=19]="Directionality",Vo[Vo.PluralCase=20]="PluralCase",Vo[Vo.ExtraData=21]="ExtraData",Vo))();const kp="en-US";let LC=kp;function Fp(i,o,u,y,A){if(i=I(i),Array.isArray(i))for(let G=0;G<i.length;G++)Fp(i[G],o,u,y,A);else{const G=so(),ge=Vn();let xe=Kh(i)?i:I(i.provide),Pe=Db(i);const at=Ls(),Et=1048575&at.providerIndexes,qt=at.directiveStart,yn=at.providerIndexes>>20;if(Kh(i)||!i.multi){const Fn=new Pl(Pe,A,Qc),hi=U0(xe,o,A?Et:Et+yn,qt);-1===hi?(Rc(Ac(at,ge),G,xe),z0(G,i,o.length),o.push(xe),at.directiveStart++,at.directiveEnd++,A&&(at.providerIndexes+=1048576),u.push(Fn),ge.push(Fn)):(u[hi]=Fn,ge[hi]=Fn)}else{const Fn=U0(xe,o,Et+yn,qt),hi=U0(xe,o,Et,Et+yn),ki=Fn>=0&&u[Fn],Qi=hi>=0&&u[hi];if(A&&!Qi||!A&&!ki){Rc(Ac(at,ge),G,xe);const lo=function sS(i,o,u,y,A){const G=new Pl(i,u,Qc);return G.multi=[],G.index=o,G.componentProviders=0,jC(G,A,y&&!u),G}(A?oS:iS,u.length,A,y,Pe);!A&&Qi&&(u[hi].providerFactory=lo),z0(G,i,o.length,0),o.push(xe),at.directiveStart++,at.directiveEnd++,A&&(at.providerIndexes+=1048576),u.push(lo),ge.push(lo)}else z0(G,i,Fn>-1?Fn:hi,jC(u[A?hi:Fn],Pe,!A&&y));!A&&y&&Qi&&u[hi].componentProviders++}}}function z0(i,o,u,y){const A=Kh(o),G=function By(i){return!!i.useClass}(o);if(A||G){const Pe=(G?I(o.useClass):o).prototype.ngOnDestroy;if(Pe){const at=i.destroyHooks||(i.destroyHooks=[]);if(!A&&o.multi){const Et=at.indexOf(u);-1===Et?at.push(u,[y,Pe]):at[Et+1].push(y,Pe)}else at.push(u,Pe)}}}function jC(i,o,u){return u&&i.componentProviders++,i.multi.push(o)-1}function U0(i,o,u,y){for(let A=u;A<y;A++)if(o[A]===i)return A;return-1}function iS(i,o,u,y){return Fu(this.multi,[])}function oS(i,o,u,y){const A=this.multi;let G;if(this.providerFactory){const ge=this.providerFactory.componentProviders,xe=Lr(u,u[1],this.providerFactory.index,y);G=xe.slice(0,ge),Fu(A,G);for(let Pe=ge;Pe<xe.length;Pe++)G.push(xe[Pe])}else G=[],Fu(A,G);return G}function Fu(i,o){for(let u=0;u<i.length;u++)o.push((0,i[u])());return o}function KC(i,o=[]){return u=>{u.providersResolver=(y,A)=>function nS(i,o,u){const y=so();if(y.firstCreatePass){const A=Xi(i);Fp(u,y.data,y.blueprint,A,!0),Fp(o,y.data,y.blueprint,A,!1)}}(y,A?A(i):i,o)}}class vf{}class K0{resolveComponentFactory(o){throw function aS(i){const o=Error(`No component factory found for ${F(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let ed=(()=>{class i{}return i.NULL=new K0,i})();function Zg(){return bf(Ls(),Vn())}function bf(i,o){return new Qg($i(i,o))}let Qg=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=Zg,i})();function $C(i){return i instanceof Qg?i.nativeElement:i}class $0{}let cS=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function GC(){const i=Vn(),u=bs(Ls().index,i);return function Cf(i){return i[11]}(Zo(u)?u:i)}(),i})(),dS=(()=>{class i{}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:()=>null}),i})();class td{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Bp=new td("13.2.4"),Xg={};function Vp(i,o,u,y,A=!1){for(;null!==u;){const G=o[u.index];if(null!==G&&y.push(Fi(G)),Gn(G))for(let xe=10;xe<G.length;xe++){const Pe=G[xe],at=Pe[1].firstChild;null!==at&&Vp(Pe[1],Pe,at,y)}const ge=u.type;if(8&ge)Vp(i,o,u.child,y);else if(32&ge){const xe=bh(u,o);let Pe;for(;Pe=xe();)y.push(Pe)}else if(16&ge){const xe=Fd(o,u);if(Array.isArray(xe))y.push(...xe);else{const Pe=Fa(o[16]);Vp(Pe[1],Pe,xe,y,!0)}}u=A?u.projectionNext:u.next}return y}class Lc{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Vp(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Gn(o)){const u=o[8],y=u?u.indexOf(this):-1;y>-1&&(Sh(o,y),r(u,y))}this._attachedToViewContainer=!1}Dh(this._lView[1],this._lView)}onDestroy(o){P_(this._lView[1],this._lView,null,o)}markForCheck(){W_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Iy(i,o,u){wn(!0);try{Dg(i,o,u)}finally{wn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new N(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $m(i,o){vc(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new N(902,"");this._appRef=o}}class za extends Lc{constructor(o){super(o),this._view=o}detectChanges(){gb(this._view)}checkNoChanges(){!function My(i){wn(!0);try{gb(i)}finally{wn(!1)}}(this._view)}get context(){return null}}class yf extends ed{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Jn(o);return new Y0(u,this.ngModule)}}function G0(i){const o=[];for(let u in i)i.hasOwnProperty(u)&&o.push({propName:i[u],templateName:u});return o}const hS=new Xs("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>cs});class Y0 extends vf{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function tp(i){return i.map(A_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return G0(this.componentDef.inputs)}get outputs(){return G0(this.componentDef.outputs)}create(o,u,y,A){const G=(A=A||this.ngModule)?function YC(i,o){return{get:(u,y,A)=>{const G=i.get(u,Xg,A);return G!==Xg||y===Xg?G:o.get(u,y,A)}}}(o,A.injector):o,ge=G.get($0,Hn),xe=G.get(dS,null),Pe=ge.createRenderer(null,this.componentDef),at=this.componentDef.selectors[0][0]||"div",Et=y?function O_(i,o,u){if(hn(i))return i.selectRootElement(o,u===Wn.ShadowDom);let y="string"==typeof o?i.querySelector(o):o;return y.textContent="",y}(Pe,y,this.componentDef.encapsulation):Pd(ge.createRenderer(null,this.componentDef),at,function uS(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(at)),qt=this.componentDef.onPush?576:528,yn=function Rb(i,o){return{components:[],scheduler:i||cs,clean:Ny,playerHandler:o||null,flags:0}}(),Fn=Hh(0,null,null,1,0,null,null,null,null,null),hi=Al(null,Fn,yn,qt,null,null,ge,Pe,xe,G);let ki,Qi;Cs(hi);try{const lo=function Gh(i,o,u,y,A,G){const ge=u[1];u[20]=i;const Pe=Fh(ge,20,2,"#host",null),at=Pe.mergedAttrs=o.hostAttrs;null!==at&&(ap(Pe,at,!0),null!==i&&(Vl(A,i,at),null!==Pe.classes&&ug(A,i,Pe.classes),null!==Pe.styles&&dg(A,i,Pe.styles)));const Et=y.createRenderer(i,o),qt=Al(u,R_(o),null,o.onPush?64:16,u[20],Pe,y,Et,G||null,null);return ge.firstCreatePass&&(Rc(Ac(Pe,u),ge,o.type),db(ge,Pe),Xl(Pe,u.length,1)),V_(u,qt),u[20]=qt}(Et,this.componentDef,hi,ge,Pe);if(Et)if(y)Vl(Pe,Et,["ng-version",Bp.full]);else{const{attrs:_i,classes:Ao}=function Ml(i){const o=[],u=[];let y=1,A=2;for(;y<i.length;){let G=i[y];if("string"==typeof G)2===A?""!==G&&o.push(G,i[++y]):8===A&&u.push(G);else{if(!tl(A))break;A=G}y++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);_i&&Vl(Pe,Et,_i),Ao&&Ao.length>0&&ug(Pe,Et,Ao.join(" "))}if(Qi=Go(Fn,20),void 0!==u){const _i=Qi.projection=[];for(let Ao=0;Ao<this.ngContentSelectors.length;Ao++){const _s=u[Ao];_i.push(null!=_s?Array.from(_s):null)}}ki=function kb(i,o,u,y,A){const G=u[1],ge=function by(i,o,u){const y=Ls();i.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),wy(i,y,o,bc(i,o,1,null),u));const A=Lr(o,i,y.directiveStart,y);Fr(A,o);const G=$i(y,o);return G&&Fr(G,o),A}(G,u,o);if(y.components.push(ge),i[8]=ge,A&&A.forEach(Pe=>Pe(ge,o)),o.contentQueries){const Pe=Ls();o.contentQueries(1,ge,Pe.directiveStart)}const xe=Ls();return!G.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(bi(xe.index),lb(u[1],xe,0,xe.directiveStart,xe.directiveEnd,o),cb(o,ge)),ge}(lo,this.componentDef,hi,yn,[Yh]),bg(Fn,hi,null)}finally{gr()}return new gS(this.componentType,ki,bf(Qi,hi),hi,Qi)}}class gS extends class rS{}{constructor(o,u,y,A,G){super(),this.location=y,this._rootLView=A,this._tNode=G,this.instance=u,this.hostView=this.changeDetectorRef=new za(A),this.componentType=o}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class wf{}const Bu=new Map;class JC extends wf{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yf(this);const y=ii(o);this._bootstrapComponents=xl(y.bootstrap),this._r3Injector=Sb(o,u,[{provide:wf,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],F(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Tr.THROW_IF_NOT_FOUND,y=Ht.Default){return o===Tr||o===wf||o===U_?this:this._r3Injector.get(o,u,y)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Z0 extends class ZC{}{constructor(o){super(),this.moduleType=o,null!==ii(o)&&function pS(i){const o=new Set;!function u(y){const A=ii(y,!0),G=A.id;null!==G&&(function QC(i,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${i} - ${F(o)} vs ${F(o.name)}`)}(G,Bu.get(G),y),Bu.set(G,y));const ge=xl(A.imports);for(const xe of ge)o.has(xe)||(o.add(xe),u(xe))}(i)}(o)}create(o){return new JC(this.moduleType,o)}}function tv(i){return o=>{setTimeout(i,void 0,o)}}const xc=class xS extends v.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,y){var A,G,ge;let xe=o,Pe=u||(()=>null),at=y;if(o&&"object"==typeof o){const qt=o;xe=null===(A=qt.next)||void 0===A?void 0:A.bind(qt),Pe=null===(G=qt.error)||void 0===G?void 0:G.bind(qt),at=null===(ge=qt.complete)||void 0===ge?void 0:ge.bind(qt)}this.__isAsync&&(Pe=tv(Pe),xe&&(xe=tv(xe)),at&&(at=tv(at)));const Et=super.subscribe({next:xe,error:Pe,complete:at});return o instanceof h.w0&&o.add(Et),Et}};function IS(){return this._results[Zh()]()}class em{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Zh(),y=em.prototype;y[u]||(y[u]=IS)}get changes(){return this._changes||(this._changes=new xc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const y=this;y.dirty=!1;const A=js(o);(this._changesDetected=!function dc(i,o,u){if(i.length!==o.length)return!1;for(let y=0;y<i.length;y++){let A=i[y],G=o[y];if(u&&(A=u(A),G=u(G)),G!==A)return!1}return!0}(y._results,A,u))&&(y._results=A,y.length=A.length,y.last=A[this.length-1],y.first=A[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let tm=(()=>{class i{}return i.__NG_ELEMENT_ID__=TS,i})();const MS=tm,NS=class extends MS{constructor(o,u,y){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=y}createEmbeddedView(o){const u=this._declarationTContainer.tViews,y=Al(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);y[17]=this._declarationLView[this._declarationTContainer.index];const G=this._declarationLView[19];return null!==G&&(y[19]=G.createEmbeddedView(u)),bg(u,y,o),new Lc(y)}};function TS(){return Wu(Ls(),Vn())}function Wu(i,o){return 4&i.type?new NS(o,i,bf(i,o)):null}let Hp=(()=>{class i{}return i.__NG_ELEMENT_ID__=AS,i})();function AS(){return ov(Ls(),Vn())}const nv=Hp,Sf=class extends nv{constructor(o,u,y){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=y}get element(){return bf(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const o=kc(this._hostTNode,this._hostLView);if(iu(o)){const u=Wl(o,this._hostLView),y=Ga(o);return new Rr(u[1].data[y+8],u)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=nd(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,y){const A=o.createEmbeddedView(u||{});return this.insert(A,y),A}createComponent(o,u,y,A,G){const ge=o&&!function go(i){return"function"==typeof i}(o);let xe;if(ge)xe=u;else{const qt=u||{};xe=qt.index,y=qt.injector,A=qt.projectableNodes,G=qt.ngModuleRef}const Pe=ge?o:new Y0(Jn(o)),at=y||this.parentInjector;if(!G&&null==Pe.ngModule){const yn=(ge?at:this.parentInjector).get(wf,null);yn&&(G=yn)}const Et=Pe.create(at,A,void 0,G);return this.insert(Et.hostView,xe),Et}insert(o,u){const y=o._lView,A=y[1];if(function Dr(i){return Gn(i[3])}(y)){const Et=this.indexOf(o);if(-1!==Et)this.detach(Et);else{const qt=y[3],yn=new Sf(qt,qt[6],qt[3]);yn.detach(yn.indexOf(o))}}const G=this._adjustIndex(u),ge=this._lContainer;!function yh(i,o,u,y){const A=10+y,G=u.length;y>0&&(u[A-1][4]=o),y<G-10?(o[4]=u[A],st(u,10+y,o)):(u.push(o),o[4]=null),o[3]=u;const ge=o[17];null!==ge&&u!==ge&&function Ym(i,o){const u=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===u?i[9]=[o]:u.push(o)}(ge,o);const xe=o[19];null!==xe&&xe.insertView(i),o[2]|=128}(A,y,ge,G);const xe=Bd(G,ge),Pe=y[11],at=bu(Pe,ge[7]);return null!==at&&function D_(i,o,u,y,A,G){y[0]=A,y[6]=o,vc(i,y,u,1,A,G)}(A,ge[6],Pe,y,at,xe),o.attachToViewContainerRef(),st(iv(ge),G,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=nd(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),y=Sh(this._lContainer,u);y&&(r(iv(this._lContainer),u),Dh(y[1],y))}detach(o){const u=this._adjustIndex(o,-1),y=Sh(this._lContainer,u);return y&&null!=r(iv(this._lContainer),u)?new Lc(y):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function nd(i){return i[8]}function iv(i){return i[8]||(i[8]=[])}function ov(i,o){let u;const y=o[i.index];if(Gn(y))u=y;else{let A;if(8&i.type)A=Fi(y);else{const G=o[11];A=G.createComment("");const ge=$i(i,o);ya(G,bu(G,ge),A,function ag(i,o){return hn(i)?i.nextSibling(o):o.nextSibling}(G,ge),!1)}o[i.index]=u=hb(y,o,A,i),V_(o,u)}return new Sf(u,i,o)}class Ic{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ic(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const y=null!==o.contentQueries?o.contentQueries[0]:u.length,A=[];for(let G=0;G<y;G++){const ge=u.getByIndex(G);A.push(this.queries[ge.indexInDeclarationView].clone())}return new rv(A)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==h1(o,u).matches&&this.queries[u].setDirty()}}class a1{constructor(o,u,y=null){this.predicate=o,this.flags=u,this.read=y}}class zp{constructor(o=[]){this.queries=o}elementStart(o,u){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let y=0;y<this.length;y++){const A=null!==u?u.length:0,G=this.getByIndex(y).embeddedTView(o,A);G&&(G.indexInDeclarationView=y,null!==u?u.push(G):u=[G])}return null!==u?new zp(u):null}template(o,u){for(let y=0;y<this.queries.length;y++)this.queries[y].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class av{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new av(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let y=o.parent;for(;null!==y&&8&y.type&&y.index!==u;)y=y.parent;return u===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const y=this.metadata.predicate;if(Array.isArray(y))for(let A=0;A<y.length;A++){const G=y[A];this.matchTNodeWithReadOption(o,u,iE(u,G)),this.matchTNodeWithReadOption(o,u,xa(u,o,G,!1,!1))}else y===tm?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,xa(u,o,y,!1,!1))}matchTNodeWithReadOption(o,u,y){if(null!==y){const A=this.metadata.read;if(null!==A)if(A===Qg||A===Hp||A===tm&&4&u.type)this.addMatch(u.index,-2);else{const G=xa(u,o,A,!1,!1);null!==G&&this.addMatch(u.index,G)}else this.addMatch(u.index,y)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function iE(i,o){const u=i.localNames;if(null!==u)for(let y=0;y<u.length;y+=2)if(u[y]===o)return u[y+1];return null}function RS(i,o,u,y){return-1===u?function l1(i,o){return 11&i.type?bf(i,o):4&i.type?Wu(i,o):null}(o,i):-2===u?function Up(i,o,u){return u===Qg?bf(o,i):u===tm?Wu(o,i):u===Hp?ov(o,i):void 0}(i,o,y):Lr(i,i[1],u,o)}function lv(i,o,u,y){const A=o[19].queries[y];if(null===A.matches){const G=i.data,ge=u.matches,xe=[];for(let Pe=0;Pe<ge.length;Pe+=2){const at=ge[Pe];xe.push(at<0?null:RS(o,G[at],ge[Pe+1],u.metadata.read))}A.matches=xe}return A.matches}function cv(i,o,u,y){const A=i.queries.getByIndex(u),G=A.matches;if(null!==G){const ge=lv(i,o,A,u);for(let xe=0;xe<G.length;xe+=2){const Pe=G[xe];if(Pe>0)y.push(ge[xe/2]);else{const at=G[xe+1],Et=o[-Pe];for(let qt=10;qt<Et.length;qt++){const yn=Et[qt];yn[17]===yn[3]&&cv(yn[1],yn,at,y)}if(null!==Et[9]){const qt=Et[9];for(let yn=0;yn<qt.length;yn++){const Fn=qt[yn];cv(Fn[1],Fn,at,y)}}}}}return y}function dv(i){const o=Vn(),u=so(),y=Jo();io(y+1);const A=h1(u,y);if(i.dirty&&Rs(o)===(2==(2&A.metadata.flags))){if(null===A.matches)i.reset([]);else{const G=A.crossesNgTemplate?cv(u,o,y,[]):lv(u,o,A,y);i.reset(G,$C),i.notifyOnChanges()}return!0}return!1}function c1(i,o,u){const y=so();y.firstCreatePass&&(u1(y,new a1(i,o,u),-1),2==(2&o)&&(y.staticViewQueries=!0)),Qd(y,Vn(),o)}function d1(i,o,u,y){const A=so();if(A.firstCreatePass){const G=Ls();u1(A,new a1(o,u,y),G.index),function Ef(i,o){const u=i.contentQueries||(i.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,o)}(A,i),2==(2&u)&&(A.staticContentQueries=!0)}Qd(A,Vn(),u)}function uv(){return function Df(i,o){return i[19].queries[o].queryList}(Vn(),Jo())}function Qd(i,o,u){const y=new em(4==(4&u));P_(i,o,y,y.destroy),null===o[19]&&(o[19]=new rv),o[19].queries.push(new Ic(y))}function u1(i,o,u){null===i.queries&&(i.queries=new zp),i.queries.track(new av(o,u))}function h1(i,o){return i.queries.getByIndex(o)}function Nf(...i){}const sm=new Xs("Application Initializer");let qd=(()=>{class i{constructor(u){this.appInits=u,this.resolve=Nf,this.reject=Nf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,A)=>{this.resolve=y,this.reject=A})}runInitializers(){if(this.initialized)return;const u=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let A=0;A<this.appInits.length;A++){const G=this.appInits[A]();if(Sp(G))u.push(G);else if(d0(G)){const ge=new Promise((xe,Pe)=>{G.subscribe({complete:xe,error:Pe})});u.push(ge)}}Promise.all(u).then(()=>{y()}).catch(A=>{this.reject(A)}),0===u.length&&y(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)(is(sm,8))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();const Xp=new Xs("AppId"),KS={provide:Xp,useFactory:function L1(){return`${_v()}${_v()}${_v()}`},deps:[]};function _v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vv=new Xs("Platform Initializer"),x1=new Xs("Platform ID"),I1=new Xs("appBootstrapListener");let bv=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();const Jp=new Xs("LocaleId"),Cv=new Xs("DefaultCurrencyCode");class GS{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let Tf=(()=>{class i{compileModuleSync(u){return new Z0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const y=this.compileModuleSync(u),G=xl(ii(u).declarations).reduce((ge,xe)=>{const Pe=Jn(xe);return Pe&&ge.push(new Y0(Pe)),ge},[]);return new GS(y,G)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();const ZS=(()=>Promise.resolve(0))();function yv(i){"undefined"==typeof Zone?ZS.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class fa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xc(!1),this.onMicrotaskEmpty=new xc(!1),this.onStable=new xc(!1),this.onError=new xc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!y&&u,A.shouldCoalesceRunChangeDetection=y,A.lastRequestAnimationFrameId=-1,A.nativeRequestAnimationFrame=function qp(){let i=ft.requestAnimationFrame,o=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const y=o[Zone.__symbol__("OriginalDelegate")];y&&(o=y)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function JS(i){const o=()=>{!function XS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Sv(i),i.isCheckStableRunning=!0,wv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Sv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,y,A,G,ge,xe)=>{try{return T1(i),u.invokeTask(A,G,ge,xe)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===G.type||i.shouldCoalesceRunChangeDetection)&&o(),A1(i)}},onInvoke:(u,y,A,G,ge,xe,Pe)=>{try{return T1(i),u.invoke(A,G,ge,xe,Pe)}finally{i.shouldCoalesceRunChangeDetection&&o(),A1(i)}},onHasTask:(u,y,A,G)=>{u.hasTask(A,G),y===A&&("microTask"==G.change?(i._hasPendingMicrotasks=G.microTask,Sv(i),wv(i)):"macroTask"==G.change&&(i.hasPendingMacrotasks=G.macroTask))},onHandleError:(u,y,A,G)=>(u.handleError(A,G),i.runOutsideAngular(()=>i.onError.emit(G)),!1)})}(A)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,y){return this._inner.run(o,u,y)}runTask(o,u,y,A){const G=this._inner,ge=G.scheduleEventTask("NgZoneEvent: "+A,o,QS,Nf,Nf);try{return G.runTask(ge,u,y)}finally{G.cancelTask(ge)}}runGuarded(o,u,y){return this._inner.runGuarded(o,u,y)}runOutsideAngular(o){return this._outer.run(o)}}const QS={};function wv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Sv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function T1(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function A1(i){i._nesting--,wv(i)}class qS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xc,this.onMicrotaskEmpty=new xc,this.onStable=new xc,this.onError=new xc}run(o,u,y){return o.apply(u,y)}runGuarded(o,u,y){return o.apply(u,y)}runOutsideAngular(o){return o()}runTask(o,u,y,A){return o.apply(u,y)}}let rm=(()=>{class i{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fa.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(u)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,y,A){let G=-1;y&&y>0&&(G=setTimeout(()=>{this._callbacks=this._callbacks.filter(ge=>ge.timeoutId!==G),u(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:u,timeoutId:G,updateCb:A})}whenStable(u,y,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,y,A),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,y,A){return[]}}return i.\u0275fac=function(u){return new(u||i)(is(fa))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})(),Dv=(()=>{class i{constructor(){this._applications=new Map,Ev.addToWindow(this)}registerApplication(u,y){this._applications.set(u,y)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,y=!0){return Ev.findTestabilityInTree(this,u,y)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();class k1{addToWindow(o){}findTestabilityInTree(o,u,y){return null}}function eD(i){Ev=i}let oc,Ev=new k1;const O1=new Xs("AllowMultipleToken");function P1(i,o,u=[]){const y=`Platform: ${o}`,A=new Xs(y);return(G=[])=>{let ge=am();if(!ge||ge.injector.get(O1,!1))if(i)i(u.concat(G).concat({provide:A,useValue:!0}));else{const xe=u.concat(G).concat({provide:A,useValue:!0},{provide:j_,useValue:"platform"});!function tD(i){if(oc&&!oc.destroyed&&!oc.injector.get(O1,!1))throw new N(400,"");oc=i.get(lm);const o=i.get(vv,null);o&&o.forEach(u=>u())}(Tr.create({providers:xe,name:y}))}return function od(i){const o=am();if(!o)throw new N(401,"");return o}()}}function am(){return oc&&!oc.destroyed?oc:null}let lm=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,y){const xe=function eu(i,o){let u;return u="noop"===i?new qS:("zone.js"===i?void 0:i)||new fa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(y?y.ngZone:void 0,{ngZoneEventCoalescing:y&&y.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:y&&y.ngZoneRunCoalescing||!1}),Pe=[{provide:fa,useValue:xe}];return xe.run(()=>{const at=Tr.create({providers:Pe,parent:this.injector,name:u.moduleType.name}),Et=u.create(at),qt=Et.injector.get(Rd,null);if(!qt)throw new N(402,"");return xe.runOutsideAngular(()=>{const yn=xe.onError.subscribe({next:Fn=>{qt.handleError(Fn)}});Et.onDestroy(()=>{Lv(this._modules,Et),yn.unsubscribe()})}),function tu(i,o,u){try{const y=u();return Sp(y)?y.catch(A=>{throw o.runOutsideAngular(()=>i.handleError(A)),A}):y}catch(y){throw o.runOutsideAngular(()=>i.handleError(y)),y}}(qt,xe,()=>{const yn=Et.injector.get(qd);return yn.runInitializers(),yn.donePromise.then(()=>(function xC(i){ut(i,"Expected localeId to be defined"),"string"==typeof i&&(LC=i.toLowerCase().replace(/_/g,"-"))}(Et.injector.get(Jp,kp)||kp),this._moduleDoBootstrap(Et),Et))})})}bootstrapModule(u,y=[]){const A=F1({},y);return function Af(i,o,u){const y=new Z0(u);return Promise.resolve(y)}(0,0,u).then(G=>this.bootstrapModuleFactory(G,A))}_moduleDoBootstrap(u){const y=u.injector.get(cm);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(A=>y.bootstrap(A));else{if(!u.instance.ngDoBootstrap)throw new N(403,"");u.instance.ngDoBootstrap(y)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(is(Tr))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();function F1(i,o){return Array.isArray(o)?o.reduce(F1,i):Object.assign(Object.assign({},i),o)}let cm=(()=>{class i{constructor(u,y,A,G,ge){this._zone=u,this._injector=y,this._exceptionHandler=A,this._componentFactoryResolver=G,this._initStatus=ge,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const xe=new Q.y(at=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{at.next(this._stable),at.complete()})}),Pe=new Q.y(at=>{let Et;this._zone.runOutsideAngular(()=>{Et=this._zone.onStable.subscribe(()=>{fa.assertNotInAngularZone(),yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,at.next(!0))})})});const qt=this._zone.onUnstable.subscribe(()=>{fa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{at.next(!1)}))});return()=>{Et.unsubscribe(),qt.unsubscribe()}});this.isStable=(0,k.T)(xe,Pe.pipe(function V(i={}){const{connector:o=(()=>new v.x),resetOnError:u=!0,resetOnComplete:y=!0,resetOnRefCountZero:A=!0}=i;return G=>{let ge=null,xe=null,Pe=null,at=0,Et=!1,qt=!1;const yn=()=>{null==xe||xe.unsubscribe(),xe=null},Fn=()=>{yn(),ge=Pe=null,Et=qt=!1},hi=()=>{const ki=ge;Fn(),null==ki||ki.unsubscribe()};return(0,Y.e)((ki,Qi)=>{at++,!qt&&!Et&&yn();const lo=Pe=null!=Pe?Pe:o();Qi.add(()=>{at--,0===at&&!qt&&!Et&&(xe=x(hi,A))}),lo.subscribe(Qi),ge||(ge=new j.Hp({next:_i=>lo.next(_i),error:_i=>{qt=!0,yn(),xe=x(Fn,u,_i),lo.error(_i)},complete:()=>{Et=!0,yn(),xe=x(Fn,y),lo.complete()}}),(0,R.D)(ki).subscribe(ge))})(G)}}()))}bootstrap(u,y){if(!this._initStatus.done)throw new N(405,"");let A;A=u instanceof vf?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(A.componentType);const G=function R1(i){return i.isBoundToModule}(A)?void 0:this._injector.get(wf),xe=A.create(Tr.NULL,[],y||A.selector,G),Pe=xe.location.nativeElement,at=xe.injector.get(rm,null),Et=at&&xe.injector.get(Dv);return at&&Et&&Et.registerApplication(Pe,at),xe.onDestroy(()=>{this.detachView(xe.hostView),Lv(this.components,xe),Et&&Et.unregisterApplication(Pe)}),this._loadComponent(xe),xe}tick(){if(this._runningTick)throw new N(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const y=u;this._views.push(y),y.attachToAppRef(this)}detachView(u){const y=u;Lv(this._views,y),y.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(I1,[]).concat(this._bootstrapListeners).forEach(A=>A(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(u){return new(u||i)(is(fa),is(Tr),is(Rd),is(ed),is(qd))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();function Lv(i,o){const u=i.indexOf(o);u>-1&&i.splice(u,1)}let V1=!0;function iD(){V1=!1}let oD=(()=>{class i{}return i.__NG_ELEMENT_ID__=sD,i})();function sD(i){return function rD(i,o,u){if(oo(i)&&!u){const y=bs(i.index,o);return new Lc(y,y)}return 47&i.type?new Lc(o[16],o):null}(Ls(),Vn(),16==(16&i))}class Nv{constructor(){}supports(o){return Mg(o)}create(o){return new $1(o)}}const o_=(i,o)=>o;class $1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||o_}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,y=this._removalsHead,A=0,G=null;for(;u||y;){const ge=!y||u&&u.currentIndex<G1(y,A,G)?u:y,xe=G1(ge,A,G),Pe=ge.currentIndex;if(ge===y)A--,y=y._nextRemoved;else if(u=u._next,null==ge.previousIndex)A++;else{G||(G=[]);const at=xe-A,Et=Pe-A;if(at!=Et){for(let yn=0;yn<at;yn++){const Fn=yn<G.length?G[yn]:G[yn]=0,hi=Fn+yn;Et<=hi&&hi<at&&(G[yn]=Fn+1)}G[ge.previousIndex]=Et-at}}xe!==Pe&&o(ge,xe,Pe)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Mg(o))throw new N(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let A,G,ge,u=this._itHead,y=!1;if(Array.isArray(o)){this.length=o.length;for(let xe=0;xe<this.length;xe++)G=o[xe],ge=this._trackByFn(xe,G),null!==u&&Object.is(u.trackById,ge)?(y&&(u=this._verifyReinsertion(u,G,ge,xe)),Object.is(u.item,G)||this._addIdentityChange(u,G)):(u=this._mismatch(u,G,ge,xe),y=!0),u=u._next}else A=0,function Fb(i,o){if(Array.isArray(i))for(let u=0;u<i.length;u++)o(i[u]);else{const u=i[Zh()]();let y;for(;!(y=u.next()).done;)o(y.value)}}(o,xe=>{ge=this._trackByFn(A,xe),null!==u&&Object.is(u.trackById,ge)?(y&&(u=this._verifyReinsertion(u,xe,ge,A)),Object.is(u.item,xe)||this._addIdentityChange(u,xe)):(u=this._mismatch(u,xe,ge,A),y=!0),u=u._next,A++}),this.length=A;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,y,A){let G;return null===o?G=this._itTail:(G=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,G,A)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(y,A))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,G,A)):o=this._addAfter(new ju(u,y),G,A),o}_verifyReinsertion(o,u,y,A){let G=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==G?o=this._reinsertAfter(G,o._prev,A):o.currentIndex!=A&&(o.currentIndex=A,this._addToMoves(o,A)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const A=o._prevRemoved,G=o._nextRemoved;return null===A?this._removalsHead=G:A._nextRemoved=G,null===G?this._removalsTail=A:G._prevRemoved=A,this._insertAfter(o,u,y),this._addToMoves(o,y),o}_moveAfter(o,u,y){return this._unlink(o),this._insertAfter(o,u,y),this._addToMoves(o,y),o}_addAfter(o,u,y){return this._insertAfter(o,u,y),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,y){const A=null===u?this._itHead:u._next;return o._next=A,o._prev=u,null===A?this._itTail=o:A._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ku),this._linkedRecords.put(o),o.currentIndex=y,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,y=o._next;return null===u?this._itHead=y:u._next=y,null===y?this._itTail=u:y._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ku),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ju{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===u||u<=y.currentIndex)&&Object.is(y.trackById,o))return y;return null}remove(o){const u=o._prevDup,y=o._nextDup;return null===u?this._head=y:u._nextDup=y,null===y?this._tail=u:y._prevDup=u,null===this._head}}class Ku{constructor(){this.map=new Map}put(o){const u=o.trackById;let y=this.map.get(u);y||(y=new hD,this.map.set(u,y)),y.add(o)}get(o,u){const A=this.map.get(o);return A?A.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function G1(i,o,u){const y=i.previousIndex;if(null===y)return y;let A=0;return u&&y<u.length&&(A=u[y]),y+o+A}class Y1{constructor(){}supports(o){return o instanceof Map||Q_(o)}create(){return new bE}}class bE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Q_(o)))throw new N(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(y,A)=>{if(u&&u.key===A)this._maybeAddToChanges(u,y),this._appendAfter=u,u=u._next;else{const G=this._getOrCreateRecordForKey(A,y);u=this._insertBeforeOrAppend(u,G)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let y=u;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const y=o._prev;return u._next=o,u._prev=y,o._prev=u,y&&(y._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const A=this._records.get(o);this._maybeAddToChanges(A,u);const G=A._prev,ge=A._next;return G&&(G._next=ge),ge&&(ge._prev=G),A._next=null,A._prev=null,A}const y=new Z1(o);return this._records.set(o,y),y.currentValue=u,this._addToAdditions(y),y}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(y=>u(o[y],y))}}class Z1{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q1(){return new X1([new Nv])}let X1=(()=>{class i{constructor(u){this.factories=u}static create(u,y){if(null!=y){const A=y.factories.slice();u=u.concat(A)}return new i(u)}static extend(u){return{provide:i,useFactory:y=>i.create(u,y||Q1()),deps:[[i,new ws,new $l]]}}find(u){const y=this.factories.find(A=>A.supports(u));if(null!=y)return y;throw new N(901,"")}}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:Q1}),i})();function Tv(){return new Av([new Y1])}let Av=(()=>{class i{constructor(u){this.factories=u}static create(u,y){if(y){const A=y.factories.slice();u=u.concat(A)}return new i(u)}static extend(u){return{provide:i,useFactory:y=>i.create(u,y||Tv()),deps:[[i,new ws,new $l]]}}find(u){const y=this.factories.find(G=>G.supports(u));if(y)return y;throw new N(901,"")}}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:Tv}),i})();const fD=P1(null,"core",[{provide:x1,useValue:"unknown"},{provide:lm,deps:[Tr]},{provide:Dv,deps:[]},{provide:bv,deps:[]}]),mD=[{provide:cm,useClass:cm,deps:[fa,Tr,Rd,ed,qd]},{provide:hS,deps:[fa],useFactory:function s_(i){let o=[];return i.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:qd,useClass:qd,deps:[[new $l,sm]]},{provide:Tf,useClass:Tf,deps:[]},KS,{provide:Jp,useFactory:function dm(i){return i||function gD(){return"undefined"!=typeof $localize&&$localize.locale||kp}()},deps:[[new Dd(Jp),new $l,new ws]]},{provide:Cv,useValue:"USD"}];let ey=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(is(cm))},i.\u0275mod=ht({type:i}),i.\u0275inj=en({providers:mD}),i})()},3554:(vt,Ke,m)=>{m.d(Ke,{Fj:()=>ye,NI:()=>wi,oH:()=>ir,sg:()=>$e,u5:()=>Ys,qQ:()=>Ot,JU:()=>N,a5:()=>_n,JJ:()=>Zt,F:()=>Ii,On:()=>Is,wV:()=>dr,UX:()=>ra,Q7:()=>$n,kI:()=>X});var v=m(4893),h=m(9808),Q=m(8306);const{isArray:k}=Array,{getPrototypeOf:R,prototype:se,keys:j}=Object;var x=m(8421),w=m(3269),D=m(5403),F=m(3268);function f(qe,Ue){return qe.reduce((Be,kt,ri)=>(Be[kt]=Ue[ri],Be),{})}var z=m(2076),I=m(4004);let H=(()=>{class qe{constructor(Be,kt){this._renderer=Be,this._elementRef=kt,this.onChange=ri=>{},this.onTouched=()=>{}}setProperty(Be,kt){this._renderer.setProperty(this._elementRef.nativeElement,Be,kt)}registerOnTouched(Be){this.onTouched=Be}registerOnChange(Be){this.onChange=Be}setDisabledState(Be){this.setProperty("disabled",Be)}}return qe.\u0275fac=function(Be){return new(Be||qe)(v.Y36(v.Qsj),v.Y36(v.SBq))},qe.\u0275dir=v.lG2({type:qe}),qe})(),K=(()=>{class qe extends H{}return qe.\u0275fac=function(){let Ue;return function(kt){return(Ue||(Ue=v.n5z(qe)))(kt||qe)}}(),qe.\u0275dir=v.lG2({type:qe,features:[v.qOj]}),qe})();const N=new v.OlP("NgValueAccessor"),W={provide:N,useExisting:(0,v.Gpc)(()=>ye),multi:!0},he=new v.OlP("CompositionEventMode");let ye=(()=>{class qe extends H{constructor(Be,kt,ri){super(Be,kt),this._compositionMode=ri,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J(){const qe=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(qe.toLowerCase())}())}writeValue(Be){this.setProperty("value",null==Be?"":Be)}_handleInput(Be){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Be)}_compositionStart(){this._composing=!0}_compositionEnd(Be){this._composing=!1,this._compositionMode&&this.onChange(Be)}}return qe.\u0275fac=function(Be){return new(Be||qe)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(he,8))},qe.\u0275dir=v.lG2({type:qe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Be,kt){1&Be&&v.NdJ("input",function(Vn){return kt._handleInput(Vn.target.value)})("blur",function(){return kt.onTouched()})("compositionstart",function(){return kt._compositionStart()})("compositionend",function(Vn){return kt._compositionEnd(Vn.target.value)})},features:[v._Bn([W]),v.qOj]}),qe})();function fe(qe){return null==qe||0===qe.length}function Se(qe){return null!=qe&&"number"==typeof qe.length}const Ie=new v.OlP("NgValidators"),_e=new v.OlP("NgAsyncValidators"),$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class X{static min(Ue){return pe(Ue)}static max(Ue){return function re(qe){return Ue=>{if(fe(Ue.value)||fe(qe))return null;const Be=parseFloat(Ue.value);return!isNaN(Be)&&Be>qe?{max:{max:qe,actual:Ue.value}}:null}}(Ue)}static required(Ue){return ne(Ue)}static requiredTrue(Ue){return function ce(qe){return!0===qe.value?null:{required:!0}}(Ue)}static email(Ue){return function ue(qe){return fe(qe.value)||$.test(qe.value)?null:{email:!0}}(Ue)}static minLength(Ue){return function we(qe){return Ue=>fe(Ue.value)||!Se(Ue.value)?null:Ue.value.length<qe?{minlength:{requiredLength:qe,actualLength:Ue.value.length}}:null}(Ue)}static maxLength(Ue){return function He(qe){return Ue=>Se(Ue.value)&&Ue.value.length>qe?{maxlength:{requiredLength:qe,actualLength:Ue.value.length}}:null}(Ue)}static pattern(Ue){return function lt(qe){if(!qe)return ut;let Ue,Be;return"string"==typeof qe?(Be="","^"!==qe.charAt(0)&&(Be+="^"),Be+=qe,"$"!==qe.charAt(qe.length-1)&&(Be+="$"),Ue=new RegExp(Be)):(Be=qe.toString(),Ue=qe),kt=>{if(fe(kt.value))return null;const ri=kt.value;return Ue.test(ri)?null:{pattern:{requiredPattern:Be,actualValue:ri}}}}(Ue)}static nullValidator(Ue){return null}static compose(Ue){return en(Ue)}static composeAsync(Ue){return Xt(Ue)}}function pe(qe){return Ue=>{if(fe(Ue.value)||fe(qe))return null;const Be=parseFloat(Ue.value);return!isNaN(Be)&&Be<qe?{min:{min:qe,actual:Ue.value}}:null}}function ne(qe){return fe(qe.value)?{required:!0}:null}function ut(qe){return null}function Ve(qe){return null!=qe}function ct(qe){const Ue=(0,v.QGY)(qe)?(0,z.D)(qe):qe;return(0,v.CqO)(Ue),Ue}function Nt(qe){let Ue={};return qe.forEach(Be=>{Ue=null!=Be?Object.assign(Object.assign({},Ue),Be):Ue}),0===Object.keys(Ue).length?null:Ue}function un(qe,Ue){return Ue.map(Be=>Be(qe))}function St(qe){return qe.map(Ue=>function Jt(qe){return!qe.validate}(Ue)?Ue:Be=>Ue.validate(Be))}function en(qe){if(!qe)return null;const Ue=qe.filter(Ve);return 0==Ue.length?null:function(Be){return Nt(un(Be,Ue))}}function pn(qe){return null!=qe?en(St(qe)):null}function Xt(qe){if(!qe)return null;const Ue=qe.filter(Ve);return 0==Ue.length?null:function(Be){return function T(...qe){const Ue=(0,w.jO)(qe),{args:Be,keys:kt}=function Y(qe){if(1===qe.length){const Ue=qe[0];if(k(Ue))return{args:Ue,keys:null};if(function V(qe){return qe&&"object"==typeof qe&&R(qe)===se}(Ue)){const Be=j(Ue);return{args:Be.map(kt=>Ue[kt]),keys:Be}}}return{args:qe,keys:null}}(qe),ri=new Q.y(Vn=>{const{length:so}=Be;if(!so)return void Vn.complete();const er=new Array(so);let Ls=so,Ct=so;for(let me=0;me<so;me++){let be=!1;(0,x.Xf)(Be[me]).subscribe((0,D.x)(Vn,We=>{be||(be=!0,Ct--),er[me]=We},()=>Ls--,void 0,()=>{(!Ls||!be)&&(Ct||Vn.next(kt?f(kt,er):er),Vn.complete())}))}});return Ue?ri.pipe((0,F.Z)(Ue)):ri}(un(Be,Ue).map(ct)).pipe((0,I.U)(Nt))}}function ze(qe){return null!=qe?Xt(St(qe)):null}function At(qe,Ue){return null===qe?[Ue]:Array.isArray(qe)?[...qe,Ue]:[qe,Ue]}function Kt(qe){return qe._rawValidators}function nn(qe){return qe._rawAsyncValidators}function Mn(qe){return qe?Array.isArray(qe)?qe:[qe]:[]}function Nn(qe,Ue){return Array.isArray(qe)?qe.includes(Ue):qe===Ue}function yt(qe,Ue){const Be=Mn(Ue);return Mn(qe).forEach(ri=>{Nn(Be,ri)||Be.push(ri)}),Be}function Ht(qe,Ue){return Mn(Ue).filter(Be=>!Nn(qe,Be))}class jt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ue){this._rawValidators=Ue||[],this._composedValidatorFn=pn(this._rawValidators)}_setAsyncValidators(Ue){this._rawAsyncValidators=Ue||[],this._composedAsyncValidatorFn=ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ue){this._onDestroyCallbacks.push(Ue)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ue=>Ue()),this._onDestroyCallbacks=[]}reset(Ue){this.control&&this.control.reset(Ue)}hasError(Ue,Be){return!!this.control&&this.control.hasError(Ue,Be)}getError(Ue,Be){return this.control?this.control.getError(Ue,Be):null}}class _n extends jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class In extends jt{get formDirective(){return null}get path(){return null}}let Zt=(()=>{class qe extends class it{constructor(Ue){this._cd=Ue}is(Ue){var Be,kt,ri;return"submitted"===Ue?!!(null===(Be=this._cd)||void 0===Be?void 0:Be.submitted):!!(null===(ri=null===(kt=this._cd)||void 0===kt?void 0:kt.control)||void 0===ri?void 0:ri[Ue])}}{constructor(Be){super(Be)}}return qe.\u0275fac=function(Be){return new(Be||qe)(v.Y36(_n,2))},qe.\u0275dir=v.lG2({type:qe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Be,kt){2&Be&&v.ekj("ng-untouched",kt.is("untouched"))("ng-touched",kt.is("touched"))("ng-pristine",kt.is("pristine"))("ng-dirty",kt.is("dirty"))("ng-valid",kt.is("valid"))("ng-invalid",kt.is("invalid"))("ng-pending",kt.is("pending"))},features:[v.qOj]}),qe})();function Xe(qe,Ue){Te(qe,Ue),Ue.valueAccessor.writeValue(qe.value),function ht(qe,Ue){Ue.valueAccessor.registerOnChange(Be=>{qe._pendingValue=Be,qe._pendingChange=!0,qe._pendingDirty=!0,"change"===qe.updateOn&&Ge(qe,Ue)})}(qe,Ue),function ln(qe,Ue){const Be=(kt,ri)=>{Ue.valueAccessor.writeValue(kt),ri&&Ue.viewToModelUpdate(kt)};qe.registerOnChange(Be),Ue._registerOnDestroy(()=>{qe._unregisterOnChange(Be)})}(qe,Ue),function Mt(qe,Ue){Ue.valueAccessor.registerOnTouched(()=>{qe._pendingTouched=!0,"blur"===qe.updateOn&&qe._pendingChange&&Ge(qe,Ue),"submit"!==qe.updateOn&&qe.markAsTouched()})}(qe,Ue),function Ye(qe,Ue){if(Ue.valueAccessor.setDisabledState){const Be=kt=>{Ue.valueAccessor.setDisabledState(kt)};qe.registerOnDisabledChange(Be),Ue._registerOnDestroy(()=>{qe._unregisterOnDisabledChange(Be)})}}(qe,Ue)}function Dn(qe,Ue,Be=!0){const kt=()=>{};Ue.valueAccessor&&(Ue.valueAccessor.registerOnChange(kt),Ue.valueAccessor.registerOnTouched(kt)),Ae(qe,Ue),qe&&(Ue._invokeOnDestroyCallbacks(),qe._registerOnCollectionChange(()=>{}))}function An(qe,Ue){qe.forEach(Be=>{Be.registerOnValidatorChange&&Be.registerOnValidatorChange(Ue)})}function Te(qe,Ue){const Be=Kt(qe);null!==Ue.validator?qe.setValidators(At(Be,Ue.validator)):"function"==typeof Be&&qe.setValidators([Be]);const kt=nn(qe);null!==Ue.asyncValidator?qe.setAsyncValidators(At(kt,Ue.asyncValidator)):"function"==typeof kt&&qe.setAsyncValidators([kt]);const ri=()=>qe.updateValueAndValidity();An(Ue._rawValidators,ri),An(Ue._rawAsyncValidators,ri)}function Ae(qe,Ue){let Be=!1;if(null!==qe){if(null!==Ue.validator){const ri=Kt(qe);if(Array.isArray(ri)&&ri.length>0){const Vn=ri.filter(so=>so!==Ue.validator);Vn.length!==ri.length&&(Be=!0,qe.setValidators(Vn))}}if(null!==Ue.asyncValidator){const ri=nn(qe);if(Array.isArray(ri)&&ri.length>0){const Vn=ri.filter(so=>so!==Ue.asyncValidator);Vn.length!==ri.length&&(Be=!0,qe.setAsyncValidators(Vn))}}}const kt=()=>{};return An(Ue._rawValidators,kt),An(Ue._rawAsyncValidators,kt),Be}function Ge(qe,Ue){qe._pendingDirty&&qe.markAsDirty(),qe.setValue(qe._pendingValue,{emitModelToViewChange:!1}),Ue.viewToModelUpdate(qe._pendingValue),qe._pendingChange=!1}function jn(qe,Ue){Te(qe,Ue)}function ii(qe,Ue){if(!qe.hasOwnProperty("model"))return!1;const Be=qe.model;return!!Be.isFirstChange()||!Object.is(Ue,Be.currentValue)}function ui(qe,Ue){qe._syncPendingControls(),Ue.forEach(Be=>{const kt=Be.control;"submit"===kt.updateOn&&kt._pendingChange&&(Be.viewToModelUpdate(kt._pendingValue),kt._pendingChange=!1)})}function Ti(qe,Ue){if(!Ue)return null;let Be,kt,ri;return Array.isArray(Ue),Ue.forEach(Vn=>{Vn.constructor===ye?Be=Vn:function gi(qe){return Object.getPrototypeOf(qe.constructor)===K}(Vn)?kt=Vn:ri=Vn}),ri||kt||Be||null}function yi(qe,Ue){const Be=qe.indexOf(Ue);Be>-1&&qe.splice(Be,1)}const to="VALID",Kn="INVALID",Pn="PENDING",Ei="DISABLED";function Wi(qe){return(Pi(qe)?qe.validators:qe)||null}function Ci(qe){return Array.isArray(qe)?pn(qe):qe||null}function Ri(qe,Ue){return(Pi(Ue)?Ue.asyncValidators:qe)||null}function co(qe){return Array.isArray(qe)?ze(qe):qe||null}function Pi(qe){return null!=qe&&!Array.isArray(qe)&&"object"==typeof qe}const vo=qe=>qe instanceof wi,Li=qe=>qe instanceof $o;function Mo(qe){return vo(qe)?qe.value:qe.getRawValue()}function Yi(qe,Ue){const Be=Li(qe),kt=qe.controls;if(!(Be?Object.keys(kt):kt).length)throw new v.vHH(1e3,"");if(!kt[Ue])throw new v.vHH(1001,"")}function Bo(qe,Ue){Li(qe),qe._forEachChild((kt,ri)=>{if(void 0===Ue[ri])throw new v.vHH(1002,"")})}class Oo{constructor(Ue,Be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Ue,this._rawAsyncValidators=Be,this._composedValidatorFn=Ci(this._rawValidators),this._composedAsyncValidatorFn=co(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Ue){this._rawValidators=this._composedValidatorFn=Ue}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ue){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ue}get parent(){return this._parent}get valid(){return this.status===to}get invalid(){return this.status===Kn}get pending(){return this.status==Pn}get disabled(){return this.status===Ei}get enabled(){return this.status!==Ei}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ue){this._rawValidators=Ue,this._composedValidatorFn=Ci(Ue)}setAsyncValidators(Ue){this._rawAsyncValidators=Ue,this._composedAsyncValidatorFn=co(Ue)}addValidators(Ue){this.setValidators(yt(Ue,this._rawValidators))}addAsyncValidators(Ue){this.setAsyncValidators(yt(Ue,this._rawAsyncValidators))}removeValidators(Ue){this.setValidators(Ht(Ue,this._rawValidators))}removeAsyncValidators(Ue){this.setAsyncValidators(Ht(Ue,this._rawAsyncValidators))}hasValidator(Ue){return Nn(this._rawValidators,Ue)}hasAsyncValidator(Ue){return Nn(this._rawAsyncValidators,Ue)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ue={}){this.touched=!0,this._parent&&!Ue.onlySelf&&this._parent.markAsTouched(Ue)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ue=>Ue.markAllAsTouched())}markAsUntouched(Ue={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Be=>{Be.markAsUntouched({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}markAsDirty(Ue={}){this.pristine=!1,this._parent&&!Ue.onlySelf&&this._parent.markAsDirty(Ue)}markAsPristine(Ue={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Be=>{Be.markAsPristine({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}markAsPending(Ue={}){this.status=Pn,!1!==Ue.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ue.onlySelf&&this._parent.markAsPending(Ue)}disable(Ue={}){const Be=this._parentMarkedDirty(Ue.onlySelf);this.status=Ei,this.errors=null,this._forEachChild(kt=>{kt.disable(Object.assign(Object.assign({},Ue),{onlySelf:!0}))}),this._updateValue(),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},Ue),{skipPristineCheck:Be})),this._onDisabledChange.forEach(kt=>kt(!0))}enable(Ue={}){const Be=this._parentMarkedDirty(Ue.onlySelf);this.status=to,this._forEachChild(kt=>{kt.enable(Object.assign(Object.assign({},Ue),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},Ue),{skipPristineCheck:Be})),this._onDisabledChange.forEach(kt=>kt(!1))}_updateAncestors(Ue){this._parent&&!Ue.onlySelf&&(this._parent.updateValueAndValidity(Ue),Ue.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ue){this._parent=Ue}updateValueAndValidity(Ue={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===to||this.status===Pn)&&this._runAsyncValidator(Ue.emitEvent)),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ue.onlySelf&&this._parent.updateValueAndValidity(Ue)}_updateTreeValidity(Ue={emitEvent:!0}){this._forEachChild(Be=>Be._updateTreeValidity(Ue)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ei:to}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ue){if(this.asyncValidator){this.status=Pn,this._hasOwnPendingAsyncValidator=!0;const Be=ct(this.asyncValidator(this));this._asyncValidationSubscription=Be.subscribe(kt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(kt,{emitEvent:Ue})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ue,Be={}){this.errors=Ue,this._updateControlsErrors(!1!==Be.emitEvent)}get(Ue){return function vi(qe,Ue,Be){if(null==Ue||(Array.isArray(Ue)||(Ue=Ue.split(Be)),Array.isArray(Ue)&&0===Ue.length))return null;let kt=qe;return Ue.forEach(ri=>{kt=Li(kt)?kt.controls.hasOwnProperty(ri)?kt.controls[ri]:null:(qe=>qe instanceof fi)(kt)&&kt.at(ri)||null}),kt}(this,Ue,".")}getError(Ue,Be){const kt=Be?this.get(Be):this;return kt&&kt.errors?kt.errors[Ue]:null}hasError(Ue,Be){return!!this.getError(Ue,Be)}get root(){let Ue=this;for(;Ue._parent;)Ue=Ue._parent;return Ue}_updateControlsErrors(Ue){this.status=this._calculateStatus(),Ue&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ue)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?Ei:this.errors?Kn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pn)?Pn:this._anyControlsHaveStatus(Kn)?Kn:to}_anyControlsHaveStatus(Ue){return this._anyControls(Be=>Be.status===Ue)}_anyControlsDirty(){return this._anyControls(Ue=>Ue.dirty)}_anyControlsTouched(){return this._anyControls(Ue=>Ue.touched)}_updatePristine(Ue={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}_updateTouched(Ue={}){this.touched=this._anyControlsTouched(),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}_isBoxedValue(Ue){return"object"==typeof Ue&&null!==Ue&&2===Object.keys(Ue).length&&"value"in Ue&&"disabled"in Ue}_registerOnCollectionChange(Ue){this._onCollectionChange=Ue}_setUpdateStrategy(Ue){Pi(Ue)&&null!=Ue.updateOn&&(this._updateOn=Ue.updateOn)}_parentMarkedDirty(Ue){return!Ue&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wi extends Oo{constructor(Ue=null,Be,kt){super(Wi(Be),Ri(kt,Be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ue),this._setUpdateStrategy(Be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pi(Be)&&Be.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(Ue)?Ue.value:Ue)}setValue(Ue,Be={}){this.value=this._pendingValue=Ue,this._onChange.length&&!1!==Be.emitModelToViewChange&&this._onChange.forEach(kt=>kt(this.value,!1!==Be.emitViewToModelChange)),this.updateValueAndValidity(Be)}patchValue(Ue,Be={}){this.setValue(Ue,Be)}reset(Ue=this.defaultValue,Be={}){this._applyFormState(Ue),this.markAsPristine(Be),this.markAsUntouched(Be),this.setValue(this.value,Be),this._pendingChange=!1}_updateValue(){}_anyControls(Ue){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ue){this._onChange.push(Ue)}_unregisterOnChange(Ue){yi(this._onChange,Ue)}registerOnDisabledChange(Ue){this._onDisabledChange.push(Ue)}_unregisterOnDisabledChange(Ue){yi(this._onDisabledChange,Ue)}_forEachChild(Ue){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ue){this._isBoxedValue(Ue)?(this.value=this._pendingValue=Ue.value,Ue.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ue}}class $o extends Oo{constructor(Ue,Be,kt){super(Wi(Be),Ri(kt,Be)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(Be),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ue,Be){return this.controls[Ue]?this.controls[Ue]:(this.controls[Ue]=Be,Be.setParent(this),Be._registerOnCollectionChange(this._onCollectionChange),Be)}addControl(Ue,Be,kt={}){this.registerControl(Ue,Be),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}removeControl(Ue,Be={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],this.updateValueAndValidity({emitEvent:Be.emitEvent}),this._onCollectionChange()}setControl(Ue,Be,kt={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],Be&&this.registerControl(Ue,Be),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}contains(Ue){return this.controls.hasOwnProperty(Ue)&&this.controls[Ue].enabled}setValue(Ue,Be={}){Bo(this,Ue),Object.keys(Ue).forEach(kt=>{Yi(this,kt),this.controls[kt].setValue(Ue[kt],{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be)}patchValue(Ue,Be={}){null!=Ue&&(Object.keys(Ue).forEach(kt=>{this.controls[kt]&&this.controls[kt].patchValue(Ue[kt],{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be))}reset(Ue={},Be={}){this._forEachChild((kt,ri)=>{kt.reset(Ue[ri],{onlySelf:!0,emitEvent:Be.emitEvent})}),this._updatePristine(Be),this._updateTouched(Be),this.updateValueAndValidity(Be)}getRawValue(){return this._reduceChildren({},(Ue,Be,kt)=>(Ue[kt]=Mo(Be),Ue))}_syncPendingControls(){let Ue=this._reduceChildren(!1,(Be,kt)=>!!kt._syncPendingControls()||Be);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){Object.keys(this.controls).forEach(Be=>{const kt=this.controls[Be];kt&&Ue(kt,Be)})}_setUpControls(){this._forEachChild(Ue=>{Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ue){for(const Be of Object.keys(this.controls)){const kt=this.controls[Be];if(this.contains(Be)&&Ue(kt))return!0}return!1}_reduceValue(){return this._reduceChildren({},(Ue,Be,kt)=>((Be.enabled||this.disabled)&&(Ue[kt]=Be.value),Ue))}_reduceChildren(Ue,Be){let kt=Ue;return this._forEachChild((ri,Vn)=>{kt=Be(kt,ri,Vn)}),kt}_allControlsDisabled(){for(const Ue of Object.keys(this.controls))if(this.controls[Ue].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class fi extends Oo{constructor(Ue,Be,kt){super(Wi(Be),Ri(kt,Be)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(Be),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ue){return this.controls[Ue]}push(Ue,Be={}){this.controls.push(Ue),this._registerControl(Ue),this.updateValueAndValidity({emitEvent:Be.emitEvent}),this._onCollectionChange()}insert(Ue,Be,kt={}){this.controls.splice(Ue,0,Be),this._registerControl(Be),this.updateValueAndValidity({emitEvent:kt.emitEvent})}removeAt(Ue,Be={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),this.controls.splice(Ue,1),this.updateValueAndValidity({emitEvent:Be.emitEvent})}setControl(Ue,Be,kt={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),this.controls.splice(Ue,1),Be&&(this.controls.splice(Ue,0,Be),this._registerControl(Be)),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ue,Be={}){Bo(this,Ue),Ue.forEach((kt,ri)=>{Yi(this,ri),this.at(ri).setValue(kt,{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be)}patchValue(Ue,Be={}){null!=Ue&&(Ue.forEach((kt,ri)=>{this.at(ri)&&this.at(ri).patchValue(kt,{onlySelf:!0,emitEvent:Be.emitEvent})}),this.updateValueAndValidity(Be))}reset(Ue=[],Be={}){this._forEachChild((kt,ri)=>{kt.reset(Ue[ri],{onlySelf:!0,emitEvent:Be.emitEvent})}),this._updatePristine(Be),this._updateTouched(Be),this.updateValueAndValidity(Be)}getRawValue(){return this.controls.map(Ue=>Mo(Ue))}clear(Ue={}){this.controls.length<1||(this._forEachChild(Be=>Be._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ue.emitEvent}))}_syncPendingControls(){let Ue=this.controls.reduce((Be,kt)=>!!kt._syncPendingControls()||Be,!1);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){this.controls.forEach((Be,kt)=>{Ue(Be,kt)})}_updateValue(){this.value=this.controls.filter(Ue=>Ue.enabled||this.disabled).map(Ue=>Ue.value)}_anyControls(Ue){return this.controls.some(Be=>Be.enabled&&Ue(Be))}_setUpControls(){this._forEachChild(Ue=>this._registerControl(Ue))}_allControlsDisabled(){for(const Ue of this.controls)if(Ue.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ue){Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)}}const ss={provide:In,useExisting:(0,v.Gpc)(()=>Ii)},xi=(()=>Promise.resolve(null))();let Ii=(()=>{class qe extends In{constructor(Be,kt){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new v.vpe,this.form=new $o({},pn(Be),ze(kt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Be){xi.then(()=>{const kt=this._findContainer(Be.path);Be.control=kt.registerControl(Be.name,Be.control),Xe(Be.control,Be),Be.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Be)})}getControl(Be){return this.form.get(Be.path)}removeControl(Be){xi.then(()=>{const kt=this._findContainer(Be.path);kt&&kt.removeControl(Be.name),this._directives.delete(Be)})}addFormGroup(Be){xi.then(()=>{const kt=this._findContainer(Be.path),ri=new $o({});jn(ri,Be),kt.registerControl(Be.name,ri),ri.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Be){xi.then(()=>{const kt=this._findContainer(Be.path);kt&&kt.removeControl(Be.name)})}getFormGroup(Be){return this.form.get(Be.path)}updateModel(Be,kt){xi.then(()=>{this.form.get(Be.path).setValue(kt)})}setValue(Be){this.control.setValue(Be)}onSubmit(Be){return this.submitted=!0,ui(this.form,this._directives),this.ngSubmit.emit(Be),!1}onReset(){this.resetForm()}resetForm(Be){this.form.reset(Be),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Be){return Be.pop(),Be.length?this.form.get(Be):this.form}}return qe.\u0275fac=function(Be){return new(Be||qe)(v.Y36(Ie,10),v.Y36(_e,10))},qe.\u0275dir=v.lG2({type:qe,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Be,kt){1&Be&&v.NdJ("submit",function(Vn){return kt.onSubmit(Vn)})("reset",function(){return kt.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([ss]),v.qOj]}),qe})();const Wo={provide:_n,useExisting:(0,v.Gpc)(()=>Is)},nr=(()=>Promise.resolve(null))();let Is=(()=>{class qe extends _n{constructor(Be,kt,ri,Vn,so){super(),this._changeDetectorRef=so,this.control=new wi,this._registered=!1,this.update=new v.vpe,this._parent=Be,this._setValidators(kt),this._setAsyncValidators(ri),this.valueAccessor=Ti(0,Vn)}ngOnChanges(Be){if(this._checkForErrors(),!this._registered||"name"in Be){if(this._registered&&(this._checkName(),this.formDirective)){const kt=Be.name.previousValue;this.formDirective.removeControl({name:kt,path:this._getPath(kt)})}this._setUpControl()}"isDisabled"in Be&&this._updateDisabled(Be),ii(Be,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Be){this.viewModel=Be,this.update.emit(Be)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Be){nr.then(()=>{var kt;this.control.setValue(Be,{emitViewToModelChange:!1}),null===(kt=this._changeDetectorRef)||void 0===kt||kt.markForCheck()})}_updateDisabled(Be){const kt=Be.isDisabled.currentValue,ri=""===kt||kt&&"false"!==kt;nr.then(()=>{var Vn;ri&&!this.control.disabled?this.control.disable():!ri&&this.control.disabled&&this.control.enable(),null===(Vn=this._changeDetectorRef)||void 0===Vn||Vn.markForCheck()})}_getPath(Be){return this._parent?function mt(qe,Ue){return[...Ue.path,qe]}(Be,this._parent):[Be]}}return qe.\u0275fac=function(Be){return new(Be||qe)(v.Y36(In,9),v.Y36(Ie,10),v.Y36(_e,10),v.Y36(N,10),v.Y36(v.sBO,8))},qe.\u0275dir=v.lG2({type:qe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v._Bn([Wo]),v.qOj,v.TTD]}),qe})();const Ks={provide:N,useExisting:(0,v.Gpc)(()=>dr),multi:!0};let dr=(()=>{class qe extends K{writeValue(Be){this.setProperty("value",null==Be?"":Be)}registerOnChange(Be){this.onChange=kt=>{Be(""==kt?null:parseFloat(kt))}}}return qe.\u0275fac=function(){let Ue;return function(kt){return(Ue||(Ue=v.n5z(qe)))(kt||qe)}}(),qe.\u0275dir=v.lG2({type:qe,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Be,kt){1&Be&&v.NdJ("input",function(Vn){return kt.onChange(Vn.target.value)})("blur",function(){return kt.onTouched()})},features:[v._Bn([Ks]),v.qOj]}),qe})(),Gs=(()=>{class qe{}return qe.\u0275fac=function(Be){return new(Be||qe)},qe.\u0275mod=v.oAB({type:qe}),qe.\u0275inj=v.cJS({}),qe})();const Bs=new v.OlP("NgModelWithFormControlWarning"),Qs={provide:_n,useExisting:(0,v.Gpc)(()=>ir)};let ir=(()=>{class qe extends _n{constructor(Be,kt,ri,Vn){super(),this._ngModelWarningConfig=Vn,this.update=new v.vpe,this._ngModelWarningSent=!1,this._setValidators(Be),this._setAsyncValidators(kt),this.valueAccessor=Ti(0,ri)}set isDisabled(Be){}ngOnChanges(Be){if(this._isControlChanged(Be)){const kt=Be.form.previousValue;kt&&Dn(kt,this,!1),Xe(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ii(Be,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Dn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Be){this.viewModel=Be,this.update.emit(Be)}_isControlChanged(Be){return Be.hasOwnProperty("form")}}return qe._ngModelWarningSentOnce=!1,qe.\u0275fac=function(Be){return new(Be||qe)(v.Y36(Ie,10),v.Y36(_e,10),v.Y36(N,10),v.Y36(Bs,8))},qe.\u0275dir=v.lG2({type:qe,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[v._Bn([Qs]),v.qOj,v.TTD]}),qe})();const Sr={provide:In,useExisting:(0,v.Gpc)(()=>$e)};let $e=(()=>{class qe extends In{constructor(Be,kt){super(),this.validators=Be,this.asyncValidators=kt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(Be),this._setAsyncValidators(kt)}ngOnChanges(Be){this._checkFormPresent(),Be.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ae(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Be){const kt=this.form.get(Be.path);return Xe(kt,Be),kt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Be),kt}getControl(Be){return this.form.get(Be.path)}removeControl(Be){Dn(Be.control||null,Be,!1),yi(this.directives,Be)}addFormGroup(Be){this._setUpFormContainer(Be)}removeFormGroup(Be){this._cleanUpFormContainer(Be)}getFormGroup(Be){return this.form.get(Be.path)}addFormArray(Be){this._setUpFormContainer(Be)}removeFormArray(Be){this._cleanUpFormContainer(Be)}getFormArray(Be){return this.form.get(Be.path)}updateModel(Be,kt){this.form.get(Be.path).setValue(kt)}onSubmit(Be){return this.submitted=!0,ui(this.form,this.directives),this.ngSubmit.emit(Be),!1}onReset(){this.resetForm()}resetForm(Be){this.form.reset(Be),this.submitted=!1}_updateDomValue(){this.directives.forEach(Be=>{const kt=Be.control,ri=this.form.get(Be.path);kt!==ri&&(Dn(kt||null,Be),vo(ri)&&(Xe(ri,Be),Be.control=ri))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Be){const kt=this.form.get(Be.path);jn(kt,Be),kt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Be){if(this.form){const kt=this.form.get(Be.path);kt&&function Jn(qe,Ue){return Ae(qe,Ue)}(kt,Be)&&kt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Te(this.form,this),this._oldForm&&Ae(this._oldForm,this)}_checkFormPresent(){}}return qe.\u0275fac=function(Be){return new(Be||qe)(v.Y36(Ie,10),v.Y36(_e,10))},qe.\u0275dir=v.lG2({type:qe,selectors:[["","formGroup",""]],hostBindings:function(Be,kt){1&Be&&v.NdJ("submit",function(Vn){return kt.onSubmit(Vn)})("reset",function(){return kt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([Sr]),v.qOj,v.TTD]}),qe})();let ci=(()=>{class qe{constructor(){this._validator=ut}ngOnChanges(Be){if(this.inputName in Be){const kt=this.normalizeInput(Be[this.inputName].currentValue);this._enabled=this.enabled(kt),this._validator=this._enabled?this.createValidator(kt):ut,this._onChange&&this._onChange()}}validate(Be){return this._validator(Be)}registerOnValidatorChange(Be){this._onChange=Be}enabled(Be){return null!=Be}}return qe.\u0275fac=function(Be){return new(Be||qe)},qe.\u0275dir=v.lG2({type:qe,features:[v.TTD]}),qe})();const Ze={provide:Ie,useExisting:(0,v.Gpc)(()=>Ot),multi:!0};let Ot=(()=>{class qe extends ci{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=Be=>function zt(qe){return"number"==typeof qe?qe:parseFloat(qe)}(Be),this.createValidator=Be=>pe(Be)}}return qe.\u0275fac=function(){let Ue;return function(kt){return(Ue||(Ue=v.n5z(qe)))(kt||qe)}}(),qe.\u0275dir=v.lG2({type:qe,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Be,kt){2&Be&&v.uIk("min",kt._enabled?kt.min:null)},inputs:{min:"min"},features:[v._Bn([Ze]),v.qOj]}),qe})();const hn={provide:Ie,useExisting:(0,v.Gpc)(()=>$n),multi:!0};let $n=(()=>{class qe extends ci{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Be=>function Ln(qe){return null!=qe&&!1!==qe&&"false"!=`${qe}`}(Be),this.createValidator=Be=>ne}enabled(Be){return Be}}return qe.\u0275fac=function(){let Ue;return function(kt){return(Ue||(Ue=v.n5z(qe)))(kt||qe)}}(),qe.\u0275dir=v.lG2({type:qe,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Be,kt){2&Be&&v.uIk("required",kt._enabled?"":null)},inputs:{required:"required"},features:[v._Bn([hn]),v.qOj]}),qe})(),Hs=(()=>{class qe{}return qe.\u0275fac=function(Be){return new(Be||qe)},qe.\u0275mod=v.oAB({type:qe}),qe.\u0275inj=v.cJS({imports:[[Gs]]}),qe})(),Ys=(()=>{class qe{}return qe.\u0275fac=function(Be){return new(Be||qe)},qe.\u0275mod=v.oAB({type:qe}),qe.\u0275inj=v.cJS({imports:[Hs]}),qe})(),ra=(()=>{class qe{static withConfig(Be){return{ngModule:qe,providers:[{provide:Bs,useValue:Be.warnOnNgModelWithFormControl}]}}}return qe.\u0275fac=function(Be){return new(Be||qe)},qe.\u0275mod=v.oAB({type:qe}),qe.\u0275inj=v.cJS({imports:[Hs]}),qe})()},7423:(vt,Ke,m)=>{m.d(Ke,{lW:()=>w,ot:()=>F});var v=m(4893),h=m(508),Q=m(6360),k=m(531);const R=["mat-button",""],se=["*"],V=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],x=(0,h.pj)((0,h.Id)((0,h.Kr)(class{constructor(f){this._elementRef=f}})));let w=(()=>{class f extends x{constructor(z,I,H){super(z),this._focusMonitor=I,this._animationMode=H,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const K of V)this._hasHostAttributes(K)&&this._getHostElement().classList.add(K);z.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(z,I){z?this._focusMonitor.focusVia(this._getHostElement(),z,I):this._getHostElement().focus(I)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...z){return z.some(I=>this._getHostElement().hasAttribute(I))}}return f.\u0275fac=function(z){return new(z||f)(v.Y36(v.SBq),v.Y36(k.tE),v.Y36(Q.Qb,8))},f.\u0275cmp=v.Xpm({type:f,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(z,I){if(1&z&&v.Gf(h.wG,5),2&z){let H;v.iGM(H=v.CRH())&&(I.ripple=H.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(z,I){2&z&&(v.uIk("disabled",I.disabled||null),v.ekj("_mat-animation-noopable","NoopAnimations"===I._animationMode)("mat-button-disabled",I.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[v.qOj],attrs:R,ngContentSelectors:se,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(z,I){1&z&&(v.F$t(),v.TgZ(0,"span",0),v.Hsn(1),v.qZA(),v._UZ(2,"span",1)(3,"span",2)),2&z&&(v.xp6(2),v.ekj("mat-button-ripple-round",I.isRoundButton||I.isIconButton),v.Q6J("matRippleDisabled",I._isRippleDisabled())("matRippleCentered",I.isIconButton)("matRippleTrigger",I._getHostElement()))},directives:[h.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),f})(),F=(()=>{class f{}return f.\u0275fac=function(z){return new(z||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({imports:[[h.si,h.BQ],h.BQ]}),f})()},508:(vt,Ke,m)=>{m.d(Ke,{rD:()=>ut,BQ:()=>N,wG:()=>Nn,si:()=>yt,pj:()=>he,Kr:()=>ye,Id:()=>J,FD:()=>Se});var v=m(4893),h=m(226),k=m(9808),R=m(925),se=m(531),j=m(3191),Y=m(7579),V=m(6360);const K=new v.OlP("mat-sanity-checks",{providedIn:"root",factory:function H(){return!0}});let N=(()=>{class ft{constructor(ot,on,Tn){this._sanityChecks=on,this._document=Tn,this._hasDoneGlobalChecks=!1,ot._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ot){return!(0,R.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ot])}}return ft.\u0275fac=function(ot){return new(ot||ft)(v.LFG(se.qm),v.LFG(K,8),v.LFG(k.K0))},ft.\u0275mod=v.oAB({type:ft}),ft.\u0275inj=v.cJS({imports:[[h.vT],h.vT]}),ft})();function J(ft){return class extends ft{constructor(...Me){super(...Me),this._disabled=!1}get disabled(){return this._disabled}set disabled(Me){this._disabled=(0,j.Ig)(Me)}}}function he(ft,Me){return class extends ft{constructor(...ot){super(...ot),this.defaultColor=Me,this.color=Me}get color(){return this._color}set color(ot){const on=ot||this.defaultColor;on!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),on&&this._elementRef.nativeElement.classList.add(`mat-${on}`),this._color=on)}}}function ye(ft){return class extends ft{constructor(...Me){super(...Me),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Me){this._disableRipple=(0,j.Ig)(Me)}}}function Se(ft){return class extends ft{constructor(...Me){super(...Me),this.stateChanges=new Y.x,this.errorState=!1}updateErrorState(){const Me=this.errorState,Mi=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Mi!==Me&&(this.errorState=Mi,this.stateChanges.next())}}}let ut=(()=>{class ft{isErrorState(ot,on){return!!(ot&&ot.invalid&&(ot.touched||on&&on.submitted))}}return ft.\u0275fac=function(ot){return new(ot||ft)},ft.\u0275prov=v.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();class Jt{constructor(Me,ot,on){this._renderer=Me,this.element=ot,this.config=on,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St={enterDuration:225,exitDuration:150},pn=(0,R.i$)({passive:!0}),Xt=["mousedown","touchstart"],ze=["mouseup","mouseleave","touchend","touchcancel"];class At{constructor(Me,ot,on,Tn){this._target=Me,this._ngZone=ot,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Tn.isBrowser&&(this._containerElement=(0,j.fI)(on))}fadeInRipple(Me,ot,on={}){const Tn=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Mi=Object.assign(Object.assign({},St),on.animation);on.centered&&(Me=Tn.left+Tn.width/2,ot=Tn.top+Tn.height/2);const xn=on.radius||function nn(ft,Me,ot){const on=Math.max(Math.abs(ft-ot.left),Math.abs(ft-ot.right)),Tn=Math.max(Math.abs(Me-ot.top),Math.abs(Me-ot.bottom));return Math.sqrt(on*on+Tn*Tn)}(Me,ot,Tn),rn=Me-Tn.left,tn=ot-Tn.top,bn=Mi.enterDuration,mt=document.createElement("div");mt.classList.add("mat-ripple-element"),mt.style.left=rn-xn+"px",mt.style.top=tn-xn+"px",mt.style.height=2*xn+"px",mt.style.width=2*xn+"px",null!=on.color&&(mt.style.backgroundColor=on.color),mt.style.transitionDuration=`${bn}ms`,this._containerElement.appendChild(mt),function Kt(ft){window.getComputedStyle(ft).getPropertyValue("opacity")}(mt),mt.style.transform="scale(1)";const Xe=new Jt(this,mt,on);return Xe.state=0,this._activeRipples.add(Xe),on.persistent||(this._mostRecentTransientRipple=Xe),this._runTimeoutOutsideZone(()=>{const Dn=Xe===this._mostRecentTransientRipple;Xe.state=1,!on.persistent&&(!Dn||!this._isPointerDown)&&Xe.fadeOut()},bn),Xe}fadeOutRipple(Me){const ot=this._activeRipples.delete(Me);if(Me===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!ot)return;const on=Me.element,Tn=Object.assign(Object.assign({},St),Me.config.animation);on.style.transitionDuration=`${Tn.exitDuration}ms`,on.style.opacity="0",Me.state=2,this._runTimeoutOutsideZone(()=>{Me.state=3,on.remove()},Tn.exitDuration)}fadeOutAll(){this._activeRipples.forEach(Me=>Me.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(Me=>{Me.config.persistent||Me.fadeOut()})}setupTriggerEvents(Me){const ot=(0,j.fI)(Me);!ot||ot===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ot,this._registerEvents(Xt))}handleEvent(Me){"mousedown"===Me.type?this._onMousedown(Me):"touchstart"===Me.type?this._onTouchStart(Me):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ze),this._pointerUpEventsRegistered=!0)}_onMousedown(Me){const ot=(0,se.X6)(Me),on=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ot&&!on&&(this._isPointerDown=!0,this.fadeInRipple(Me.clientX,Me.clientY,this._target.rippleConfig))}_onTouchStart(Me){if(!this._target.rippleDisabled&&!(0,se.yG)(Me)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ot=Me.changedTouches;for(let on=0;on<ot.length;on++)this.fadeInRipple(ot[on].clientX,ot[on].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(Me=>{!Me.config.persistent&&(1===Me.state||Me.config.terminateOnPointerUp&&0===Me.state)&&Me.fadeOut()}))}_runTimeoutOutsideZone(Me,ot=0){this._ngZone.runOutsideAngular(()=>setTimeout(Me,ot))}_registerEvents(Me){this._ngZone.runOutsideAngular(()=>{Me.forEach(ot=>{this._triggerElement.addEventListener(ot,this,pn)})})}_removeTriggerEvents(){this._triggerElement&&(Xt.forEach(Me=>{this._triggerElement.removeEventListener(Me,this,pn)}),this._pointerUpEventsRegistered&&ze.forEach(Me=>{this._triggerElement.removeEventListener(Me,this,pn)}))}}const Mn=new v.OlP("mat-ripple-global-options");let Nn=(()=>{class ft{constructor(ot,on,Tn,Mi,xn){this._elementRef=ot,this._animationMode=xn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Mi||{},this._rippleRenderer=new At(this,on,ot,Tn)}get disabled(){return this._disabled}set disabled(ot){ot&&this.fadeOutAllNonPersistent(),this._disabled=ot,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ot){this._trigger=ot,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ot,on=0,Tn){return"number"==typeof ot?this._rippleRenderer.fadeInRipple(ot,on,Object.assign(Object.assign({},this.rippleConfig),Tn)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),ot))}}return ft.\u0275fac=function(ot){return new(ot||ft)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(R.t4),v.Y36(Mn,8),v.Y36(V.Qb,8))},ft.\u0275dir=v.lG2({type:ft,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ot,on){2&ot&&v.ekj("mat-ripple-unbounded",on.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),ft})(),yt=(()=>{class ft{}return ft.\u0275fac=function(ot){return new(ot||ft)},ft.\u0275mod=v.oAB({type:ft}),ft.\u0275inj=v.cJS({imports:[[N],N]}),ft})()},4106:(vt,Ke,m)=>{m.d(Ke,{G_:()=>jt,TO:()=>He,KE:()=>_n,Eo:()=>ut,lN:()=>In,hX:()=>en});var v=m(3191),h=m(4893),Q=m(8306),k=m(7579),R=m(8372);let se=(()=>{class it{create(bt){return"undefined"==typeof MutationObserver?null:new MutationObserver(bt)}}return it.\u0275fac=function(bt){return new(bt||it)},it.\u0275prov=h.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),j=(()=>{class it{constructor(bt){this._mutationObserverFactory=bt,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((bt,Zt)=>this._cleanupObserver(Zt))}observe(bt){const Zt=(0,v.fI)(bt);return new Q.y(Rn=>{const Wn=this._observeElement(Zt).subscribe(Rn);return()=>{Wn.unsubscribe(),this._unobserveElement(Zt)}})}_observeElement(bt){if(this._observedElements.has(bt))this._observedElements.get(bt).count++;else{const Zt=new k.x,Rn=this._mutationObserverFactory.create(vn=>Zt.next(vn));Rn&&Rn.observe(bt,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(bt,{observer:Rn,stream:Zt,count:1})}return this._observedElements.get(bt).stream}_unobserveElement(bt){this._observedElements.has(bt)&&(this._observedElements.get(bt).count--,this._observedElements.get(bt).count||this._cleanupObserver(bt))}_cleanupObserver(bt){if(this._observedElements.has(bt)){const{observer:Zt,stream:Rn}=this._observedElements.get(bt);Zt&&Zt.disconnect(),Rn.complete(),this._observedElements.delete(bt)}}}return it.\u0275fac=function(bt){return new(bt||it)(h.LFG(se))},it.\u0275prov=h.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),Y=(()=>{class it{constructor(bt,Zt,Rn){this._contentObserver=bt,this._elementRef=Zt,this._ngZone=Rn,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(bt){this._disabled=(0,v.Ig)(bt),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(bt){this._debounce=(0,v.su)(bt),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const bt=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?bt.pipe((0,R.b)(this.debounce)):bt).subscribe(this.event)})}_unsubscribe(){var bt;null===(bt=this._currentSubscription)||void 0===bt||bt.unsubscribe()}}return it.\u0275fac=function(bt){return new(bt||it)(h.Y36(j),h.Y36(h.SBq),h.Y36(h.R0b))},it.\u0275dir=h.lG2({type:it,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),it})(),V=(()=>{class it{}return it.\u0275fac=function(bt){return new(bt||it)},it.\u0275mod=h.oAB({type:it}),it.\u0275inj=h.cJS({providers:[se]}),it})();var x=m(9808),w=m(508),D=m(6451),F=m(4968),f=m(8675),T=m(2722),z=m(5698),I=m(1777),H=m(6360),K=m(226),N=m(925);const M=["connectionContainer"],P=["inputContainer"],W=["label"];function J(it,$t){1&it&&(h.ynx(0),h.TgZ(1,"div",14),h._UZ(2,"div",15)(3,"div",16)(4,"div",17),h.qZA(),h.TgZ(5,"div",18),h._UZ(6,"div",15)(7,"div",16)(8,"div",17),h.qZA(),h.BQk())}function he(it,$t){if(1&it){const bt=h.EpF();h.TgZ(0,"div",19),h.NdJ("cdkObserveContent",function(){return h.CHM(bt),h.oxw().updateOutlineGap()}),h.Hsn(1,1),h.qZA()}if(2&it){const bt=h.oxw();h.Q6J("cdkObserveContentDisabled","outline"!=bt.appearance)}}function ye(it,$t){if(1&it&&(h.ynx(0),h.Hsn(1,2),h.TgZ(2,"span"),h._uU(3),h.qZA(),h.BQk()),2&it){const bt=h.oxw(2);h.xp6(3),h.Oqu(bt._control.placeholder)}}function fe(it,$t){1&it&&h.Hsn(0,3,["*ngSwitchCase","true"])}function Se(it,$t){1&it&&(h.TgZ(0,"span",23),h._uU(1," *"),h.qZA())}function Ie(it,$t){if(1&it){const bt=h.EpF();h.TgZ(0,"label",20,21),h.NdJ("cdkObserveContent",function(){return h.CHM(bt),h.oxw().updateOutlineGap()}),h.YNc(2,ye,4,1,"ng-container",12),h.YNc(3,fe,1,0,"ng-content",12),h.YNc(4,Se,2,0,"span",22),h.qZA()}if(2&it){const bt=h.oxw();h.ekj("mat-empty",bt._control.empty&&!bt._shouldAlwaysFloat())("mat-form-field-empty",bt._control.empty&&!bt._shouldAlwaysFloat())("mat-accent","accent"==bt.color)("mat-warn","warn"==bt.color),h.Q6J("cdkObserveContentDisabled","outline"!=bt.appearance)("id",bt._labelId)("ngSwitch",bt._hasLabel()),h.uIk("for",bt._control.id)("aria-owns",bt._control.id),h.xp6(2),h.Q6J("ngSwitchCase",!1),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngIf",!bt.hideRequiredMarker&&bt._control.required&&!bt._control.disabled)}}function _e(it,$t){1&it&&(h.TgZ(0,"div",24),h.Hsn(1,4),h.qZA())}function $(it,$t){if(1&it&&(h.TgZ(0,"div",25),h._UZ(1,"span",26),h.qZA()),2&it){const bt=h.oxw();h.xp6(1),h.ekj("mat-accent","accent"==bt.color)("mat-warn","warn"==bt.color)}}function X(it,$t){if(1&it&&(h.TgZ(0,"div"),h.Hsn(1,5),h.qZA()),2&it){const bt=h.oxw();h.Q6J("@transitionMessages",bt._subscriptAnimationState)}}function pe(it,$t){if(1&it&&(h.TgZ(0,"div",30),h._uU(1),h.qZA()),2&it){const bt=h.oxw(2);h.Q6J("id",bt._hintLabelId),h.xp6(1),h.Oqu(bt.hintLabel)}}function re(it,$t){if(1&it&&(h.TgZ(0,"div",27),h.YNc(1,pe,2,2,"div",28),h.Hsn(2,6),h._UZ(3,"div",29),h.Hsn(4,7),h.qZA()),2&it){const bt=h.oxw();h.Q6J("@transitionMessages",bt._subscriptAnimationState),h.xp6(1),h.Q6J("ngIf",bt.hintLabel)}}const ne=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ce=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let ue=0;const we=new h.OlP("MatError");let He=(()=>{class it{constructor(bt,Zt){this.id="mat-error-"+ue++,bt||Zt.nativeElement.setAttribute("aria-live","polite")}}return it.\u0275fac=function(bt){return new(bt||it)(h.$8M("aria-live"),h.Y36(h.SBq))},it.\u0275dir=h.lG2({type:it,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(bt,Zt){2&bt&&h.uIk("id",Zt.id)},inputs:{id:"id"},features:[h._Bn([{provide:we,useExisting:it}])]}),it})();const lt={transitionMessages:(0,I.X$)("transitionMessages",[(0,I.SB)("enter",(0,I.oB)({opacity:1,transform:"translateY(0%)"})),(0,I.eR)("void => enter",[(0,I.oB)({opacity:0,transform:"translateY(-5px)"}),(0,I.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ut=(()=>{class it{}return it.\u0275fac=function(bt){return new(bt||it)},it.\u0275dir=h.lG2({type:it}),it})();const Jt=new h.OlP("MatHint");let en=(()=>{class it{}return it.\u0275fac=function(bt){return new(bt||it)},it.\u0275dir=h.lG2({type:it,selectors:[["mat-label"]]}),it})(),pn=(()=>{class it{}return it.\u0275fac=function(bt){return new(bt||it)},it.\u0275dir=h.lG2({type:it,selectors:[["mat-placeholder"]]}),it})();const Xt=new h.OlP("MatPrefix"),At=new h.OlP("MatSuffix");let nn=0;const yt=(0,w.pj)(class{constructor(it){this._elementRef=it}},"primary"),Ht=new h.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),jt=new h.OlP("MatFormField");let _n=(()=>{class it extends yt{constructor(bt,Zt,Rn,vn,Wn,pt,ei){super(bt),this._changeDetectorRef=Zt,this._dir=Rn,this._defaults=vn,this._platform=Wn,this._ngZone=pt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new k.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+nn++,this._labelId="mat-form-field-label-"+nn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==ei,this.appearance=vn&&vn.appearance?vn.appearance:"legacy",this._hideRequiredMarker=!(!vn||null==vn.hideRequiredMarker)&&vn.hideRequiredMarker}get appearance(){return this._appearance}set appearance(bt){const Zt=this._appearance;this._appearance=bt||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Zt!==bt&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(bt){this._hideRequiredMarker=(0,v.Ig)(bt)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(bt){this._hintLabel=bt,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(bt){bt!==this._floatLabel&&(this._floatLabel=bt||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(bt){this._explicitFormFieldControl=bt}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const bt=this._control;bt.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${bt.controlType}`),bt.stateChanges.pipe((0,f.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),bt.ngControl&&bt.ngControl.valueChanges&&bt.ngControl.valueChanges.pipe((0,T.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,T.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,D.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,f.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,f.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,T.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(bt){const Zt=this._control?this._control.ngControl:null;return Zt&&Zt[bt]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,F.R)(this._label.nativeElement,"transitionend").pipe((0,z.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let bt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&bt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Zt=this._hintChildren?this._hintChildren.find(vn=>"start"===vn.align):null,Rn=this._hintChildren?this._hintChildren.find(vn=>"end"===vn.align):null;Zt?bt.push(Zt.id):this._hintLabel&&bt.push(this._hintLabelId),Rn&&bt.push(Rn.id)}else this._errorChildren&&bt.push(...this._errorChildren.map(Zt=>Zt.id));this._control.setDescribedByIds(bt)}}_validateControlChild(){}updateOutlineGap(){const bt=this._label?this._label.nativeElement:null,Zt=this._connectionContainerRef.nativeElement,Rn=".mat-form-field-outline-start",vn=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!bt||!bt.children.length||!bt.textContent.trim()){const ke=Zt.querySelectorAll(`${Rn}, ${vn}`);for(let ft=0;ft<ke.length;ft++)ke[ft].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Wn=0,pt=0;const ei=Zt.querySelectorAll(Rn),dt=Zt.querySelectorAll(vn);if(this._label&&this._label.nativeElement.children.length){const ke=Zt.getBoundingClientRect();if(0===ke.width&&0===ke.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const ft=this._getStartEnd(ke),Me=bt.children,ot=this._getStartEnd(Me[0].getBoundingClientRect());let on=0;for(let Tn=0;Tn<Me.length;Tn++)on+=Me[Tn].offsetWidth;Wn=Math.abs(ot-ft)-5,pt=on>0?.75*on+10:0}for(let ke=0;ke<ei.length;ke++)ei[ke].style.width=`${Wn}px`;for(let ke=0;ke<dt.length;ke++)dt[ke].style.width=`${pt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(bt){return this._dir&&"rtl"===this._dir.value?bt.right:bt.left}_isAttachedToDOM(){const bt=this._elementRef.nativeElement;if(bt.getRootNode){const Zt=bt.getRootNode();return Zt&&Zt!==bt}return document.documentElement.contains(bt)}}return it.\u0275fac=function(bt){return new(bt||it)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(K.Is,8),h.Y36(Ht,8),h.Y36(N.t4),h.Y36(h.R0b),h.Y36(H.Qb,8))},it.\u0275cmp=h.Xpm({type:it,selectors:[["mat-form-field"]],contentQueries:function(bt,Zt,Rn){if(1&bt&&(h.Suo(Rn,ut,5),h.Suo(Rn,ut,7),h.Suo(Rn,en,5),h.Suo(Rn,en,7),h.Suo(Rn,pn,5),h.Suo(Rn,we,5),h.Suo(Rn,Jt,5),h.Suo(Rn,Xt,5),h.Suo(Rn,At,5)),2&bt){let vn;h.iGM(vn=h.CRH())&&(Zt._controlNonStatic=vn.first),h.iGM(vn=h.CRH())&&(Zt._controlStatic=vn.first),h.iGM(vn=h.CRH())&&(Zt._labelChildNonStatic=vn.first),h.iGM(vn=h.CRH())&&(Zt._labelChildStatic=vn.first),h.iGM(vn=h.CRH())&&(Zt._placeholderChild=vn.first),h.iGM(vn=h.CRH())&&(Zt._errorChildren=vn),h.iGM(vn=h.CRH())&&(Zt._hintChildren=vn),h.iGM(vn=h.CRH())&&(Zt._prefixChildren=vn),h.iGM(vn=h.CRH())&&(Zt._suffixChildren=vn)}},viewQuery:function(bt,Zt){if(1&bt&&(h.Gf(M,7),h.Gf(P,5),h.Gf(W,5)),2&bt){let Rn;h.iGM(Rn=h.CRH())&&(Zt._connectionContainerRef=Rn.first),h.iGM(Rn=h.CRH())&&(Zt._inputContainerRef=Rn.first),h.iGM(Rn=h.CRH())&&(Zt._label=Rn.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(bt,Zt){2&bt&&h.ekj("mat-form-field-appearance-standard","standard"==Zt.appearance)("mat-form-field-appearance-fill","fill"==Zt.appearance)("mat-form-field-appearance-outline","outline"==Zt.appearance)("mat-form-field-appearance-legacy","legacy"==Zt.appearance)("mat-form-field-invalid",Zt._control.errorState)("mat-form-field-can-float",Zt._canLabelFloat())("mat-form-field-should-float",Zt._shouldLabelFloat())("mat-form-field-has-label",Zt._hasFloatingLabel())("mat-form-field-hide-placeholder",Zt._hideControlPlaceholder())("mat-form-field-disabled",Zt._control.disabled)("mat-form-field-autofilled",Zt._control.autofilled)("mat-focused",Zt._control.focused)("ng-untouched",Zt._shouldForward("untouched"))("ng-touched",Zt._shouldForward("touched"))("ng-pristine",Zt._shouldForward("pristine"))("ng-dirty",Zt._shouldForward("dirty"))("ng-valid",Zt._shouldForward("valid"))("ng-invalid",Zt._shouldForward("invalid"))("ng-pending",Zt._shouldForward("pending"))("_mat-animation-noopable",!Zt._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[h._Bn([{provide:jt,useExisting:it}]),h.qOj],ngContentSelectors:ce,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(bt,Zt){1&bt&&(h.F$t(ne),h.TgZ(0,"div",0)(1,"div",1,2),h.NdJ("click",function(vn){return Zt._control.onContainerClick&&Zt._control.onContainerClick(vn)}),h.YNc(3,J,9,0,"ng-container",3),h.YNc(4,he,2,1,"div",4),h.TgZ(5,"div",5,6),h.Hsn(7),h.TgZ(8,"span",7),h.YNc(9,Ie,5,16,"label",8),h.qZA()(),h.YNc(10,_e,2,0,"div",9),h.qZA(),h.YNc(11,$,2,4,"div",10),h.TgZ(12,"div",11),h.YNc(13,X,2,1,"div",12),h.YNc(14,re,5,2,"div",13),h.qZA()()),2&bt&&(h.xp6(3),h.Q6J("ngIf","outline"==Zt.appearance),h.xp6(1),h.Q6J("ngIf",Zt._prefixChildren.length),h.xp6(5),h.Q6J("ngIf",Zt._hasFloatingLabel()),h.xp6(1),h.Q6J("ngIf",Zt._suffixChildren.length),h.xp6(1),h.Q6J("ngIf","outline"!=Zt.appearance),h.xp6(1),h.Q6J("ngSwitch",Zt._getDisplayedMessages()),h.xp6(1),h.Q6J("ngSwitchCase","error"),h.xp6(1),h.Q6J("ngSwitchCase","hint"))},directives:[x.O5,Y,x.RF,x.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[lt.transitionMessages]},changeDetection:0}),it})(),In=(()=>{class it{}return it.\u0275fac=function(bt){return new(bt||it)},it.\u0275mod=h.oAB({type:it}),it.\u0275inj=h.cJS({imports:[[x.ez,w.BQ,V],w.BQ]}),it})()},7531:(vt,Ke,m)=>{m.d(Ke,{Nt:()=>K,c:()=>N});var v=m(3191),h=m(925),Q=m(4893),k=m(3554),R=m(508),se=m(4106),j=m(7579),Y=m(515);const V=(0,h.i$)({passive:!0});let x=(()=>{class M{constructor(W,J){this._platform=W,this._ngZone=J,this._monitoredElements=new Map}monitor(W){if(!this._platform.isBrowser)return Y.E;const J=(0,v.fI)(W),he=this._monitoredElements.get(J);if(he)return he.subject;const ye=new j.x,fe="cdk-text-field-autofilled",Se=Ie=>{"cdk-text-field-autofill-start"!==Ie.animationName||J.classList.contains(fe)?"cdk-text-field-autofill-end"===Ie.animationName&&J.classList.contains(fe)&&(J.classList.remove(fe),this._ngZone.run(()=>ye.next({target:Ie.target,isAutofilled:!1}))):(J.classList.add(fe),this._ngZone.run(()=>ye.next({target:Ie.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{J.addEventListener("animationstart",Se,V),J.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(J,{subject:ye,unlisten:()=>{J.removeEventListener("animationstart",Se,V)}}),ye}stopMonitoring(W){const J=(0,v.fI)(W),he=this._monitoredElements.get(J);he&&(he.unlisten(),he.subject.complete(),J.classList.remove("cdk-text-field-autofill-monitored"),J.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(J))}ngOnDestroy(){this._monitoredElements.forEach((W,J)=>this.stopMonitoring(J))}}return M.\u0275fac=function(W){return new(W||M)(Q.LFG(h.t4),Q.LFG(Q.R0b))},M.\u0275prov=Q.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),F=(()=>{class M{}return M.\u0275fac=function(W){return new(W||M)},M.\u0275mod=Q.oAB({type:M}),M.\u0275inj=Q.cJS({}),M})();const T=new Q.OlP("MAT_INPUT_VALUE_ACCESSOR"),z=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let I=0;const H=(0,R.FD)(class{constructor(M,P,W,J){this._defaultErrorStateMatcher=M,this._parentForm=P,this._parentFormGroup=W,this.ngControl=J}});let K=(()=>{class M extends H{constructor(W,J,he,ye,fe,Se,Ie,_e,$,X){super(Se,ye,fe,he),this._elementRef=W,this._platform=J,this._autofillMonitor=_e,this._formField=X,this._uid="mat-input-"+I++,this.focused=!1,this.stateChanges=new j.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ne=>(0,h.qK)().has(ne));const pe=this._elementRef.nativeElement,re=pe.nodeName.toLowerCase();this._inputValueAccessor=Ie||pe,this._previousNativeValue=this.value,this.id=this.id,J.IOS&&$.runOutsideAngular(()=>{W.nativeElement.addEventListener("keyup",ne=>{const ce=ne.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===re,this._isTextarea="textarea"===re,this._isInFormField=!!X,this._isNativeSelect&&(this.controlType=pe.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(W){this._disabled=(0,v.Ig)(W),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(W){this._id=W||this._uid}get required(){var W,J,he,ye;return null!==(ye=null!==(W=this._required)&&void 0!==W?W:null===(he=null===(J=this.ngControl)||void 0===J?void 0:J.control)||void 0===he?void 0:he.hasValidator(k.kI.required))&&void 0!==ye&&ye}set required(W){this._required=(0,v.Ig)(W)}get type(){return this._type}set type(W){this._type=W||"text",this._validateType(),!this._isTextarea&&(0,h.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(W){W!==this.value&&(this._inputValueAccessor.value=W,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(W){this._readonly=(0,v.Ig)(W)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(W=>{this.autofilled=W.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(W){this._elementRef.nativeElement.focus(W)}_focusChanged(W){W!==this.focused&&(this.focused=W,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var W,J;const he=(null===(J=null===(W=this._formField)||void 0===W?void 0:W._hideControlPlaceholder)||void 0===J?void 0:J.call(W))?null:this.placeholder;if(he!==this._previousPlaceholder){const ye=this._elementRef.nativeElement;this._previousPlaceholder=he,he?ye.setAttribute("placeholder",he):ye.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const W=this._elementRef.nativeElement.value;this._previousNativeValue!==W&&(this._previousNativeValue=W,this.stateChanges.next())}_validateType(){z.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let W=this._elementRef.nativeElement.validity;return W&&W.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const W=this._elementRef.nativeElement,J=W.options[0];return this.focused||W.multiple||!this.empty||!!(W.selectedIndex>-1&&J&&J.label)}return this.focused||!this.empty}setDescribedByIds(W){W.length?this._elementRef.nativeElement.setAttribute("aria-describedby",W.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const W=this._elementRef.nativeElement;return this._isNativeSelect&&(W.multiple||W.size>1)}}return M.\u0275fac=function(W){return new(W||M)(Q.Y36(Q.SBq),Q.Y36(h.t4),Q.Y36(k.a5,10),Q.Y36(k.F,8),Q.Y36(k.sg,8),Q.Y36(R.rD),Q.Y36(T,10),Q.Y36(x),Q.Y36(Q.R0b),Q.Y36(se.G_,8))},M.\u0275dir=Q.lG2({type:M,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(W,J){1&W&&Q.NdJ("focus",function(){return J._focusChanged(!0)})("blur",function(){return J._focusChanged(!1)})("input",function(){return J._onInput()}),2&W&&(Q.Ikx("disabled",J.disabled)("required",J.required),Q.uIk("id",J.id)("data-placeholder",J.placeholder)("name",J.name||null)("readonly",J.readonly&&!J._isNativeSelect||null)("aria-invalid",J.empty&&J.required?null:J.errorState)("aria-required",J.required),Q.ekj("mat-input-server",J._isServer)("mat-native-select-inline",J._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Q._Bn([{provide:se.Eo,useExisting:M}]),Q.qOj,Q.TTD]}),M})(),N=(()=>{class M{}return M.\u0275fac=function(W){return new(W||M)},M.\u0275mod=Q.oAB({type:M}),M.\u0275inj=Q.cJS({providers:[R.rD],imports:[[F,se.lN,R.BQ],F,se.lN]}),M})()},5388:(vt,Ke,m)=>{m.d(Ke,{VK:()=>ee,OP:()=>Sr,Tx:()=>Yt,p6:()=>Ft});var v=m(531),h=m(3191),Q=m(1159),k=m(4893),R=m(4408);let j,se=1;const Y={};function V(nt){return nt in Y&&(delete Y[nt],!0)}const x={setImmediate(nt){const Le=se++;return Y[Le]=!0,j||(j=Promise.resolve()),j.then(()=>V(Le)&&nt()),Le},clearImmediate(nt){V(nt)}},{setImmediate:D,clearImmediate:F}=x,f={setImmediate(...nt){const{delegate:Le}=f;return((null==Le?void 0:Le.setImmediate)||D)(...nt)},clearImmediate(nt){const{delegate:Le}=f;return((null==Le?void 0:Le.clearImmediate)||F)(nt)},delegate:void 0};var z=m(640);const H=new class I extends z.v{flush(Le){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:Fe}=this;let _t;Le=Le||Fe.shift();do{if(_t=Le.execute(Le.state,Le.delay))break}while((Le=Fe[0])&&Le.id===De&&Fe.shift());if(this._active=!1,_t){for(;(Le=Fe[0])&&Le.id===De&&Fe.shift();)Le.unsubscribe();throw _t}}}(class T extends R.o{constructor(Le,De){super(Le,De),this.scheduler=Le,this.work=De}requestAsyncId(Le,De,Fe=0){return null!==Fe&&Fe>0?super.requestAsyncId(Le,De,Fe):(Le.actions.push(this),Le._scheduled||(Le._scheduled=f.setImmediate(Le.flush.bind(Le,void 0))))}recycleAsyncId(Le,De,Fe=0){if(null!=Fe&&Fe>0||null==Fe&&this.delay>0)return super.recycleAsyncId(Le,De,Fe);Le.actions.some(_t=>_t.id===De)||(f.clearImmediate(De),Le._scheduled=void 0)}});var N=m(7579),M=m(4211),P=m(6451),W=m(9646),J=m(8421),he=m(4482),ye=m(5403);function fe(nt,Le){return(0,he.e)((De,Fe)=>{let _t=null,Gt=0,an=!1;const Ln=()=>an&&!_t&&Fe.complete();De.subscribe((0,ye.x)(Fe,zt=>{null==_t||_t.unsubscribe();let ci=0;const Re=Gt++;(0,J.Xf)(nt(zt,Re)).subscribe(_t=(0,ye.x)(Fe,wt=>Fe.next(Le?Le(zt,wt,Re,ci++):wt),()=>{_t=null,Ln()}))},()=>{an=!0,Ln()}))})}var Se=m(4986),Ie=m(7272),_e=m(5698),$=m(5032),pe=m(4004),ne=m(5577);function ce(nt,Le){return Le?De=>(0,Ie.z)(Le.pipe((0,_e.q)(1),function X(){return(0,he.e)((nt,Le)=>{nt.subscribe((0,ye.x)(Le,$.Z))})}()),De.pipe(ce(nt))):(0,ne.z)((De,Fe)=>nt(De,Fe).pipe((0,_e.q)(1),function re(nt){return(0,pe.U)(()=>nt)}(De)))}var ue=m(8306),we=m(3532);function lt(nt=0,Le,De=Se.P){let Fe=-1;return null!=Le&&((0,we.K)(Le)?De=Le:Fe=Le),new ue.y(_t=>{let Gt=function He(nt){return nt instanceof Date&&!isNaN(nt)}(nt)?+nt-De.now():nt;Gt<0&&(Gt=0);let an=0;return De.schedule(function(){_t.closed||(_t.next(an++),0<=Fe?this.schedule(void 0,Fe):_t.complete())},Gt)})}function ut(nt,Le=Se.z){const De=lt(nt,Le);return ce(()=>De)}var Ve=m(8675),ct=m(2722),Nt=m(9300),un=m(1777);class At{attach(Le){return this._attachedHost=Le,Le.attach(this)}detach(){let Le=this._attachedHost;null!=Le&&(this._attachedHost=null,Le.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Le){this._attachedHost=Le}}class Kt extends At{constructor(Le,De,Fe,_t){super(),this.component=Le,this.viewContainerRef=De,this.injector=Fe,this.componentFactoryResolver=_t}}class nn extends At{constructor(Le,De,Fe){super(),this.templateRef=Le,this.viewContainerRef=De,this.context=Fe}get origin(){return this.templateRef.elementRef}attach(Le,De=this.context){return this.context=De,super.attach(Le)}detach(){return this.context=void 0,super.detach()}}class Mn extends At{constructor(Le){super(),this.element=Le instanceof k.SBq?Le.nativeElement:Le}}class Ht extends class Nn{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Le){return Le instanceof Kt?(this._attachedPortal=Le,this.attachComponentPortal(Le)):Le instanceof nn?(this._attachedPortal=Le,this.attachTemplatePortal(Le)):this.attachDomPortal&&Le instanceof Mn?(this._attachedPortal=Le,this.attachDomPortal(Le)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Le){this._disposeFn=Le}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(Le,De,Fe,_t,Gt){super(),this.outletElement=Le,this._componentFactoryResolver=De,this._appRef=Fe,this._defaultInjector=_t,this.attachDomPortal=an=>{const Ln=an.element,zt=this._document.createComment("dom-portal");Ln.parentNode.insertBefore(zt,Ln),this.outletElement.appendChild(Ln),this._attachedPortal=an,super.setDisposeFn(()=>{zt.parentNode&&zt.parentNode.replaceChild(Ln,zt)})},this._document=Gt}attachComponentPortal(Le){const Fe=(Le.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Le.component);let _t;return Le.viewContainerRef?(_t=Le.viewContainerRef.createComponent(Fe,Le.viewContainerRef.length,Le.injector||Le.viewContainerRef.injector),this.setDisposeFn(()=>_t.destroy())):(_t=Fe.create(Le.injector||this._defaultInjector),this._appRef.attachView(_t.hostView),this.setDisposeFn(()=>{this._appRef.detachView(_t.hostView),_t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(_t)),this._attachedPortal=Le,_t}attachTemplatePortal(Le){let De=Le.viewContainerRef,Fe=De.createEmbeddedView(Le.templateRef,Le.context);return Fe.rootNodes.forEach(_t=>this.outletElement.appendChild(_t)),Fe.detectChanges(),this.setDisposeFn(()=>{let _t=De.indexOf(Fe);-1!==_t&&De.remove(_t)}),this._attachedPortal=Le,Fe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Le){return Le.hostView.rootNodes[0]}}let bt=(()=>{class nt{}return nt.\u0275fac=function(De){return new(De||nt)},nt.\u0275mod=k.oAB({type:nt}),nt.\u0275inj=k.cJS({}),nt})();var Rn=m(9808),vn=m(508),Wn=m(4968);const pt={schedule(nt){let Le=requestAnimationFrame,De=cancelAnimationFrame;const{delegate:Fe}=pt;Fe&&(Le=Fe.requestAnimationFrame,De=Fe.cancelAnimationFrame);const _t=Le(Gt=>{De=void 0,nt(Gt)});return new M.w0(()=>null==De?void 0:De(_t))},requestAnimationFrame(...nt){const{delegate:Le}=pt;return((null==Le?void 0:Le.requestAnimationFrame)||requestAnimationFrame)(...nt)},cancelAnimationFrame(...nt){const{delegate:Le}=pt;return((null==Le?void 0:Le.cancelAnimationFrame)||cancelAnimationFrame)(...nt)},delegate:void 0};new class dt extends z.v{flush(Le){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:Fe}=this;let _t;Le=Le||Fe.shift();do{if(_t=Le.execute(Le.state,Le.delay))break}while((Le=Fe[0])&&Le.id===De&&Fe.shift());if(this._active=!1,_t){for(;(Le=Fe[0])&&Le.id===De&&Fe.shift();)Le.unsubscribe();throw _t}}}(class ei extends R.o{constructor(Le,De){super(Le,De),this.scheduler=Le,this.work=De}requestAsyncId(Le,De,Fe=0){return null!==Fe&&Fe>0?super.requestAsyncId(Le,De,Fe):(Le.actions.push(this),Le._scheduled||(Le._scheduled=pt.requestAnimationFrame(()=>Le.flush(void 0))))}recycleAsyncId(Le,De,Fe=0){if(null!=Fe&&Fe>0||null==Fe&&this.delay>0)return super.recycleAsyncId(Le,De,Fe);Le.actions.some(_t=>_t.id===De)||(pt.cancelAnimationFrame(De),Le._scheduled=void 0)}});function ot(nt,Le=Se.z){return function Me(nt){return(0,he.e)((Le,De)=>{let Fe=!1,_t=null,Gt=null,an=!1;const Ln=()=>{if(null==Gt||Gt.unsubscribe(),Gt=null,Fe){Fe=!1;const ci=_t;_t=null,De.next(ci)}an&&De.complete()},zt=()=>{Gt=null,an&&De.complete()};Le.subscribe((0,ye.x)(De,ci=>{Fe=!0,_t=ci,Gt||(0,J.Xf)(nt(ci)).subscribe(Gt=(0,ye.x)(De,Ln,zt))},()=>{an=!0,(!Fe||!Gt||Gt.closed)&&De.complete()}))})}(()=>lt(nt,Le))}var on=m(925),Tn=m(226);let Dn=(()=>{class nt{constructor(De,Fe,_t){this._ngZone=De,this._platform=Fe,this._scrolled=new N.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=_t}register(De){this.scrollContainers.has(De)||this.scrollContainers.set(De,De.elementScrolled().subscribe(()=>this._scrolled.next(De)))}deregister(De){const Fe=this.scrollContainers.get(De);Fe&&(Fe.unsubscribe(),this.scrollContainers.delete(De))}scrolled(De=20){return this._platform.isBrowser?new ue.y(Fe=>{this._globalSubscription||this._addGlobalListener();const _t=De>0?this._scrolled.pipe(ot(De)).subscribe(Fe):this._scrolled.subscribe(Fe);return this._scrolledCount++,()=>{_t.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,W.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((De,Fe)=>this.deregister(Fe)),this._scrolled.complete()}ancestorScrolled(De,Fe){const _t=this.getAncestorScrollContainers(De);return this.scrolled(Fe).pipe((0,Nt.h)(Gt=>!Gt||_t.indexOf(Gt)>-1))}getAncestorScrollContainers(De){const Fe=[];return this.scrollContainers.forEach((_t,Gt)=>{this._scrollableContainsElement(Gt,De)&&Fe.push(Gt)}),Fe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(De,Fe){let _t=(0,h.fI)(Fe),Gt=De.getElementRef().nativeElement;do{if(_t==Gt)return!0}while(_t=_t.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const De=this._getWindow();return(0,Wn.R)(De.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(k.R0b),k.LFG(on.t4),k.LFG(Rn.K0,8))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),Te=(()=>{class nt{constructor(De,Fe,_t){this._platform=De,this._change=new N.x,this._changeListener=Gt=>{this._change.next(Gt)},this._document=_t,Fe.runOutsideAngular(()=>{if(De.isBrowser){const Gt=this._getWindow();Gt.addEventListener("resize",this._changeListener),Gt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const De=this._getWindow();De.removeEventListener("resize",this._changeListener),De.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const De={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),De}getViewportRect(){const De=this.getViewportScrollPosition(),{width:Fe,height:_t}=this.getViewportSize();return{top:De.top,left:De.left,bottom:De.top+_t,right:De.left+Fe,height:_t,width:Fe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const De=this._document,Fe=this._getWindow(),_t=De.documentElement,Gt=_t.getBoundingClientRect();return{top:-Gt.top||De.body.scrollTop||Fe.scrollY||_t.scrollTop||0,left:-Gt.left||De.body.scrollLeft||Fe.scrollX||_t.scrollLeft||0}}change(De=20){return De>0?this._change.pipe(ot(De)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const De=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:De.innerWidth,height:De.innerHeight}:{width:0,height:0}}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(on.t4),k.LFG(k.R0b),k.LFG(Rn.K0,8))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),jn=(()=>{class nt{}return nt.\u0275fac=function(De){return new(De||nt)},nt.\u0275mod=k.oAB({type:nt}),nt.\u0275inj=k.cJS({}),nt})(),Jn=(()=>{class nt{}return nt.\u0275fac=function(De){return new(De||nt)},nt.\u0275mod=k.oAB({type:nt}),nt.\u0275inj=k.cJS({imports:[[Tn.vT,jn],Tn.vT,jn]}),nt})();const qn=(0,on.Mq)();class Qn{constructor(Le,De){this._viewportRuler=Le,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=De}attach(){}enable(){if(this._canBeEnabled()){const Le=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Le.style.left||"",this._previousHTMLStyles.top=Le.style.top||"",Le.style.left=(0,h.HM)(-this._previousScrollPosition.left),Le.style.top=(0,h.HM)(-this._previousScrollPosition.top),Le.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Le=this._document.documentElement,Fe=Le.style,_t=this._document.body.style,Gt=Fe.scrollBehavior||"",an=_t.scrollBehavior||"";this._isEnabled=!1,Fe.left=this._previousHTMLStyles.left,Fe.top=this._previousHTMLStyles.top,Le.classList.remove("cdk-global-scrollblock"),qn&&(Fe.scrollBehavior=_t.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qn&&(Fe.scrollBehavior=Gt,_t.scrollBehavior=an)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const De=this._document.body,Fe=this._viewportRuler.getViewportSize();return De.scrollHeight>Fe.height||De.scrollWidth>Fe.width}}class gi{constructor(Le,De,Fe,_t){this._scrollDispatcher=Le,this._ngZone=De,this._viewportRuler=Fe,this._config=_t,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Le){this._overlayRef=Le}enable(){if(this._scrollSubscription)return;const Le=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Le.subscribe(()=>{const De=this._viewportRuler.getViewportScrollPosition().top;Math.abs(De-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Le.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ui{enable(){}disable(){}attach(){}}function Ti(nt,Le){return Le.some(De=>nt.bottom<De.top||nt.top>De.bottom||nt.right<De.left||nt.left>De.right)}function yi(nt,Le){return Le.some(De=>nt.top<De.top||nt.bottom>De.bottom||nt.left<De.left||nt.right>De.right)}class Ni{constructor(Le,De,Fe,_t){this._scrollDispatcher=Le,this._viewportRuler=De,this._ngZone=Fe,this._config=_t,this._scrollSubscription=null}attach(Le){this._overlayRef=Le}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const De=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Fe,height:_t}=this._viewportRuler.getViewportSize();Ti(De,[{width:Fe,height:_t,bottom:_t,right:Fe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ai=(()=>{class nt{constructor(De,Fe,_t,Gt){this._scrollDispatcher=De,this._viewportRuler=Fe,this._ngZone=_t,this.noop=()=>new ui,this.close=an=>new gi(this._scrollDispatcher,this._ngZone,this._viewportRuler,an),this.block=()=>new Qn(this._viewportRuler,this._document),this.reposition=an=>new Ni(this._scrollDispatcher,this._viewportRuler,this._ngZone,an),this._document=Gt}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(Dn),k.LFG(Te),k.LFG(k.R0b),k.LFG(Rn.K0))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();class to{constructor(Le){if(this.scrollStrategy=new ui,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Le){const De=Object.keys(Le);for(const Fe of De)void 0!==Le[Fe]&&(this[Fe]=Le[Fe])}}}class Ei{constructor(Le,De){this.connectionPair=Le,this.scrollableViewProperties=De}}class Ci{constructor(Le,De,Fe,_t,Gt,an,Ln,zt,ci){this._portalOutlet=Le,this._host=De,this._pane=Fe,this._config=_t,this._ngZone=Gt,this._keyboardDispatcher=an,this._document=Ln,this._location=zt,this._outsideClickDispatcher=ci,this._backdropElement=null,this._backdropClick=new N.x,this._attachments=new N.x,this._detachments=new N.x,this._locationChanges=M.w0.EMPTY,this._backdropClickHandler=Re=>this._backdropClick.next(Re),this._keydownEvents=new N.x,this._outsidePointerEvents=new N.x,_t.scrollStrategy&&(this._scrollStrategy=_t.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=_t.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Le){let De=this._portalOutlet.attach(Le);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,_e.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),De}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Le=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Le}dispose(){var Le;const De=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(Le=this._host)||void 0===Le||Le.remove(),this._previousHostParent=this._pane=this._host=null,De&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Le){Le!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Le,this.hasAttached()&&(Le.attach(this),this.updatePosition()))}updateSize(Le){this._config=Object.assign(Object.assign({},this._config),Le),this._updateElementSize()}setDirection(Le){this._config=Object.assign(Object.assign({},this._config),{direction:Le}),this._updateElementDirection()}addPanelClass(Le){this._pane&&this._toggleClasses(this._pane,Le,!0)}removePanelClass(Le){this._pane&&this._toggleClasses(this._pane,Le,!1)}getDirection(){const Le=this._config.direction;return Le?"string"==typeof Le?Le:Le.value:"ltr"}updateScrollStrategy(Le){Le!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Le,this.hasAttached()&&(Le.attach(this),Le.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Le=this._pane.style;Le.width=(0,h.HM)(this._config.width),Le.height=(0,h.HM)(this._config.height),Le.minWidth=(0,h.HM)(this._config.minWidth),Le.minHeight=(0,h.HM)(this._config.minHeight),Le.maxWidth=(0,h.HM)(this._config.maxWidth),Le.maxHeight=(0,h.HM)(this._config.maxHeight)}_togglePointerEvents(Le){this._pane.style.pointerEvents=Le?"":"none"}_attachBackdrop(){const Le="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Le)})}):this._backdropElement.classList.add(Le)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Le=this._backdropElement;if(!Le)return;let De;const Fe=()=>{Le&&(Le.removeEventListener("click",this._backdropClickHandler),Le.removeEventListener("transitionend",Fe),this._disposeBackdrop(Le)),this._config.backdropClass&&this._toggleClasses(Le,this._config.backdropClass,!1),clearTimeout(De)};Le.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Le.addEventListener("transitionend",Fe)}),Le.style.pointerEvents="none",De=this._ngZone.runOutsideAngular(()=>setTimeout(Fe,500))}_toggleClasses(Le,De,Fe){const _t=(0,h.Eq)(De||[]).filter(Gt=>!!Gt);_t.length&&(Fe?Le.classList.add(..._t):Le.classList.remove(..._t))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Le=this._ngZone.onStable.pipe((0,ct.R)((0,P.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Le.unsubscribe())})})}_disposeScrollStrategy(){const Le=this._scrollStrategy;Le&&(Le.disable(),Le.detach&&Le.detach())}_disposeBackdrop(Le){Le&&(Le.remove(),this._backdropElement===Le&&(this._backdropElement=null))}}let Ri=(()=>{class nt{constructor(De,Fe){this._platform=Fe,this._document=De}ngOnDestroy(){var De;null===(De=this._containerElement)||void 0===De||De.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const De="cdk-overlay-container";if(this._platform.isBrowser||(0,on.Oy)()){const _t=this._document.querySelectorAll(`.${De}[platform="server"], .${De}[platform="test"]`);for(let Gt=0;Gt<_t.length;Gt++)_t[Gt].remove()}const Fe=this._document.createElement("div");Fe.classList.add(De),(0,on.Oy)()?Fe.setAttribute("platform","test"):this._platform.isBrowser||Fe.setAttribute("platform","server"),this._document.body.appendChild(Fe),this._containerElement=Fe}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(Rn.K0),k.LFG(on.t4))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();const co="cdk-overlay-connected-position-bounding-box",Pi=/([A-Za-z%]+)$/;class vo{constructor(Le,De,Fe,_t,Gt){this._viewportRuler=De,this._document=Fe,this._platform=_t,this._overlayContainer=Gt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new N.x,this._resizeSubscription=M.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Le)}get positions(){return this._preferredPositions}attach(Le){this._validatePositions(),Le.hostElement.classList.add(co),this._overlayRef=Le,this._boundingBox=Le.hostElement,this._pane=Le.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Le=this._originRect,De=this._overlayRect,Fe=this._viewportRect,_t=this._containerRect,Gt=[];let an;for(let Ln of this._preferredPositions){let zt=this._getOriginPoint(Le,_t,Ln),ci=this._getOverlayPoint(zt,De,Ln),Re=this._getOverlayFit(ci,De,Fe,Ln);if(Re.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ln,zt);this._canFitWithFlexibleDimensions(Re,ci,Fe)?Gt.push({position:Ln,origin:zt,overlayRect:De,boundingBoxRect:this._calculateBoundingBoxRect(zt,Ln)}):(!an||an.overlayFit.visibleArea<Re.visibleArea)&&(an={overlayFit:Re,overlayPoint:ci,originPoint:zt,position:Ln,overlayRect:De})}if(Gt.length){let Ln=null,zt=-1;for(const ci of Gt){const Re=ci.boundingBoxRect.width*ci.boundingBoxRect.height*(ci.position.weight||1);Re>zt&&(zt=Re,Ln=ci)}return this._isPushed=!1,void this._applyPosition(Ln.position,Ln.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(an.position,an.originPoint);this._applyPosition(an.position,an.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Li(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(co),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Le=this._lastPosition;if(Le){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const De=this._getOriginPoint(this._originRect,this._containerRect,Le);this._applyPosition(Le,De)}else this.apply()}withScrollableContainers(Le){return this._scrollables=Le,this}withPositions(Le){return this._preferredPositions=Le,-1===Le.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Le){return this._viewportMargin=Le,this}withFlexibleDimensions(Le=!0){return this._hasFlexibleDimensions=Le,this}withGrowAfterOpen(Le=!0){return this._growAfterOpen=Le,this}withPush(Le=!0){return this._canPush=Le,this}withLockedPosition(Le=!0){return this._positionLocked=Le,this}setOrigin(Le){return this._origin=Le,this}withDefaultOffsetX(Le){return this._offsetX=Le,this}withDefaultOffsetY(Le){return this._offsetY=Le,this}withTransformOriginOn(Le){return this._transformOriginSelector=Le,this}_getOriginPoint(Le,De,Fe){let _t,Gt;if("center"==Fe.originX)_t=Le.left+Le.width/2;else{const an=this._isRtl()?Le.right:Le.left,Ln=this._isRtl()?Le.left:Le.right;_t="start"==Fe.originX?an:Ln}return De.left<0&&(_t-=De.left),Gt="center"==Fe.originY?Le.top+Le.height/2:"top"==Fe.originY?Le.top:Le.bottom,De.top<0&&(Gt-=De.top),{x:_t,y:Gt}}_getOverlayPoint(Le,De,Fe){let _t,Gt;return _t="center"==Fe.overlayX?-De.width/2:"start"===Fe.overlayX?this._isRtl()?-De.width:0:this._isRtl()?0:-De.width,Gt="center"==Fe.overlayY?-De.height/2:"top"==Fe.overlayY?0:-De.height,{x:Le.x+_t,y:Le.y+Gt}}_getOverlayFit(Le,De,Fe,_t){const Gt=Mo(De);let{x:an,y:Ln}=Le,zt=this._getOffset(_t,"x"),ci=this._getOffset(_t,"y");zt&&(an+=zt),ci&&(Ln+=ci);let Ze=0-Ln,Ot=Ln+Gt.height-Fe.height,hn=this._subtractOverflows(Gt.width,0-an,an+Gt.width-Fe.width),Hn=this._subtractOverflows(Gt.height,Ze,Ot),$n=hn*Hn;return{visibleArea:$n,isCompletelyWithinViewport:Gt.width*Gt.height===$n,fitsInViewportVertically:Hn===Gt.height,fitsInViewportHorizontally:hn==Gt.width}}_canFitWithFlexibleDimensions(Le,De,Fe){if(this._hasFlexibleDimensions){const _t=Fe.bottom-De.y,Gt=Fe.right-De.x,an=Di(this._overlayRef.getConfig().minHeight),Ln=Di(this._overlayRef.getConfig().minWidth),ci=Le.fitsInViewportHorizontally||null!=Ln&&Ln<=Gt;return(Le.fitsInViewportVertically||null!=an&&an<=_t)&&ci}return!1}_pushOverlayOnScreen(Le,De,Fe){if(this._previousPushAmount&&this._positionLocked)return{x:Le.x+this._previousPushAmount.x,y:Le.y+this._previousPushAmount.y};const _t=Mo(De),Gt=this._viewportRect,an=Math.max(Le.x+_t.width-Gt.width,0),Ln=Math.max(Le.y+_t.height-Gt.height,0),zt=Math.max(Gt.top-Fe.top-Le.y,0),ci=Math.max(Gt.left-Fe.left-Le.x,0);let Re=0,wt=0;return Re=_t.width<=Gt.width?ci||-an:Le.x<this._viewportMargin?Gt.left-Fe.left-Le.x:0,wt=_t.height<=Gt.height?zt||-Ln:Le.y<this._viewportMargin?Gt.top-Fe.top-Le.y:0,this._previousPushAmount={x:Re,y:wt},{x:Le.x+Re,y:Le.y+wt}}_applyPosition(Le,De){if(this._setTransformOrigin(Le),this._setOverlayElementStyles(De,Le),this._setBoundingBoxStyles(De,Le),Le.panelClass&&this._addPanelClasses(Le.panelClass),this._lastPosition=Le,this._positionChanges.observers.length){const Fe=this._getScrollVisibility(),_t=new Ei(Le,Fe);this._positionChanges.next(_t)}this._isInitialRender=!1}_setTransformOrigin(Le){if(!this._transformOriginSelector)return;const De=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Fe,_t=Le.overlayY;Fe="center"===Le.overlayX?"center":this._isRtl()?"start"===Le.overlayX?"right":"left":"start"===Le.overlayX?"left":"right";for(let Gt=0;Gt<De.length;Gt++)De[Gt].style.transformOrigin=`${Fe} ${_t}`}_calculateBoundingBoxRect(Le,De){const Fe=this._viewportRect,_t=this._isRtl();let Gt,an,Ln,Re,wt,Ze;if("top"===De.overlayY)an=Le.y,Gt=Fe.height-an+this._viewportMargin;else if("bottom"===De.overlayY)Ln=Fe.height-Le.y+2*this._viewportMargin,Gt=Fe.height-Ln+this._viewportMargin;else{const Ot=Math.min(Fe.bottom-Le.y+Fe.top,Le.y),hn=this._lastBoundingBoxSize.height;Gt=2*Ot,an=Le.y-Ot,Gt>hn&&!this._isInitialRender&&!this._growAfterOpen&&(an=Le.y-hn/2)}if("end"===De.overlayX&&!_t||"start"===De.overlayX&&_t)Ze=Fe.width-Le.x+this._viewportMargin,Re=Le.x-this._viewportMargin;else if("start"===De.overlayX&&!_t||"end"===De.overlayX&&_t)wt=Le.x,Re=Fe.right-Le.x;else{const Ot=Math.min(Fe.right-Le.x+Fe.left,Le.x),hn=this._lastBoundingBoxSize.width;Re=2*Ot,wt=Le.x-Ot,Re>hn&&!this._isInitialRender&&!this._growAfterOpen&&(wt=Le.x-hn/2)}return{top:an,left:wt,bottom:Ln,right:Ze,width:Re,height:Gt}}_setBoundingBoxStyles(Le,De){const Fe=this._calculateBoundingBoxRect(Le,De);!this._isInitialRender&&!this._growAfterOpen&&(Fe.height=Math.min(Fe.height,this._lastBoundingBoxSize.height),Fe.width=Math.min(Fe.width,this._lastBoundingBoxSize.width));const _t={};if(this._hasExactPosition())_t.top=_t.left="0",_t.bottom=_t.right=_t.maxHeight=_t.maxWidth="",_t.width=_t.height="100%";else{const Gt=this._overlayRef.getConfig().maxHeight,an=this._overlayRef.getConfig().maxWidth;_t.height=(0,h.HM)(Fe.height),_t.top=(0,h.HM)(Fe.top),_t.bottom=(0,h.HM)(Fe.bottom),_t.width=(0,h.HM)(Fe.width),_t.left=(0,h.HM)(Fe.left),_t.right=(0,h.HM)(Fe.right),_t.alignItems="center"===De.overlayX?"center":"end"===De.overlayX?"flex-end":"flex-start",_t.justifyContent="center"===De.overlayY?"center":"bottom"===De.overlayY?"flex-end":"flex-start",Gt&&(_t.maxHeight=(0,h.HM)(Gt)),an&&(_t.maxWidth=(0,h.HM)(an))}this._lastBoundingBoxSize=Fe,Li(this._boundingBox.style,_t)}_resetBoundingBoxStyles(){Li(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Li(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Le,De){const Fe={},_t=this._hasExactPosition(),Gt=this._hasFlexibleDimensions,an=this._overlayRef.getConfig();if(_t){const Re=this._viewportRuler.getViewportScrollPosition();Li(Fe,this._getExactOverlayY(De,Le,Re)),Li(Fe,this._getExactOverlayX(De,Le,Re))}else Fe.position="static";let Ln="",zt=this._getOffset(De,"x"),ci=this._getOffset(De,"y");zt&&(Ln+=`translateX(${zt}px) `),ci&&(Ln+=`translateY(${ci}px)`),Fe.transform=Ln.trim(),an.maxHeight&&(_t?Fe.maxHeight=(0,h.HM)(an.maxHeight):Gt&&(Fe.maxHeight="")),an.maxWidth&&(_t?Fe.maxWidth=(0,h.HM)(an.maxWidth):Gt&&(Fe.maxWidth="")),Li(this._pane.style,Fe)}_getExactOverlayY(Le,De,Fe){let _t={top:"",bottom:""},Gt=this._getOverlayPoint(De,this._overlayRect,Le);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,Fe)),"bottom"===Le.overlayY?_t.bottom=this._document.documentElement.clientHeight-(Gt.y+this._overlayRect.height)+"px":_t.top=(0,h.HM)(Gt.y),_t}_getExactOverlayX(Le,De,Fe){let an,_t={left:"",right:""},Gt=this._getOverlayPoint(De,this._overlayRect,Le);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,Fe)),an=this._isRtl()?"end"===Le.overlayX?"left":"right":"end"===Le.overlayX?"right":"left","right"===an?_t.right=this._document.documentElement.clientWidth-(Gt.x+this._overlayRect.width)+"px":_t.left=(0,h.HM)(Gt.x),_t}_getScrollVisibility(){const Le=this._getOriginRect(),De=this._pane.getBoundingClientRect(),Fe=this._scrollables.map(_t=>_t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yi(Le,Fe),isOriginOutsideView:Ti(Le,Fe),isOverlayClipped:yi(De,Fe),isOverlayOutsideView:Ti(De,Fe)}}_subtractOverflows(Le,...De){return De.reduce((Fe,_t)=>Fe-Math.max(_t,0),Le)}_getNarrowedViewportRect(){const Le=this._document.documentElement.clientWidth,De=this._document.documentElement.clientHeight,Fe=this._viewportRuler.getViewportScrollPosition();return{top:Fe.top+this._viewportMargin,left:Fe.left+this._viewportMargin,right:Fe.left+Le-this._viewportMargin,bottom:Fe.top+De-this._viewportMargin,width:Le-2*this._viewportMargin,height:De-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Le,De){return"x"===De?null==Le.offsetX?this._offsetX:Le.offsetX:null==Le.offsetY?this._offsetY:Le.offsetY}_validatePositions(){}_addPanelClasses(Le){this._pane&&(0,h.Eq)(Le).forEach(De=>{""!==De&&-1===this._appliedPanelClasses.indexOf(De)&&(this._appliedPanelClasses.push(De),this._pane.classList.add(De))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Le=>{this._pane.classList.remove(Le)}),this._appliedPanelClasses=[])}_getOriginRect(){const Le=this._origin;if(Le instanceof k.SBq)return Le.nativeElement.getBoundingClientRect();if(Le instanceof Element)return Le.getBoundingClientRect();const De=Le.width||0,Fe=Le.height||0;return{top:Le.y,bottom:Le.y+Fe,left:Le.x,right:Le.x+De,height:Fe,width:De}}}function Li(nt,Le){for(let De in Le)Le.hasOwnProperty(De)&&(nt[De]=Le[De]);return nt}function Di(nt){if("number"!=typeof nt&&null!=nt){const[Le,De]=nt.split(Pi);return De&&"px"!==De?null:parseFloat(Le)}return nt||null}function Mo(nt){return{top:Math.floor(nt.top),right:Math.floor(nt.right),bottom:Math.floor(nt.bottom),left:Math.floor(nt.left),width:Math.floor(nt.width),height:Math.floor(nt.height)}}const Yi="cdk-global-overlay-wrapper";class Bo{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(Le){const De=Le.getConfig();this._overlayRef=Le,this._width&&!De.width&&Le.updateSize({width:this._width}),this._height&&!De.height&&Le.updateSize({height:this._height}),Le.hostElement.classList.add(Yi),this._isDisposed=!1}top(Le=""){return this._bottomOffset="",this._topOffset=Le,this._alignItems="flex-start",this}left(Le=""){return this._rightOffset="",this._leftOffset=Le,this._justifyContent="flex-start",this}bottom(Le=""){return this._topOffset="",this._bottomOffset=Le,this._alignItems="flex-end",this}right(Le=""){return this._leftOffset="",this._rightOffset=Le,this._justifyContent="flex-end",this}width(Le=""){return this._overlayRef?this._overlayRef.updateSize({width:Le}):this._width=Le,this}height(Le=""){return this._overlayRef?this._overlayRef.updateSize({height:Le}):this._height=Le,this}centerHorizontally(Le=""){return this.left(Le),this._justifyContent="center",this}centerVertically(Le=""){return this.top(Le),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Le=this._overlayRef.overlayElement.style,De=this._overlayRef.hostElement.style,Fe=this._overlayRef.getConfig(),{width:_t,height:Gt,maxWidth:an,maxHeight:Ln}=Fe,zt=!("100%"!==_t&&"100vw"!==_t||an&&"100%"!==an&&"100vw"!==an),ci=!("100%"!==Gt&&"100vh"!==Gt||Ln&&"100%"!==Ln&&"100vh"!==Ln);Le.position=this._cssPosition,Le.marginLeft=zt?"0":this._leftOffset,Le.marginTop=ci?"0":this._topOffset,Le.marginBottom=this._bottomOffset,Le.marginRight=this._rightOffset,zt?De.justifyContent="flex-start":"center"===this._justifyContent?De.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?De.justifyContent="flex-end":"flex-end"===this._justifyContent&&(De.justifyContent="flex-start"):De.justifyContent=this._justifyContent,De.alignItems=ci?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Le=this._overlayRef.overlayElement.style,De=this._overlayRef.hostElement,Fe=De.style;De.classList.remove(Yi),Fe.justifyContent=Fe.alignItems=Le.marginTop=Le.marginBottom=Le.marginLeft=Le.marginRight=Le.position="",this._overlayRef=null,this._isDisposed=!0}}let Oo=(()=>{class nt{constructor(De,Fe,_t,Gt){this._viewportRuler=De,this._document=Fe,this._platform=_t,this._overlayContainer=Gt}global(){return new Bo}flexibleConnectedTo(De){return new vo(De,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(Te),k.LFG(Rn.K0),k.LFG(on.t4),k.LFG(Ri))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),wi=(()=>{class nt{constructor(De){this._attachedOverlays=[],this._document=De}ngOnDestroy(){this.detach()}add(De){this.remove(De),this._attachedOverlays.push(De)}remove(De){const Fe=this._attachedOverlays.indexOf(De);Fe>-1&&this._attachedOverlays.splice(Fe,1),0===this._attachedOverlays.length&&this.detach()}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(Rn.K0))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),$o=(()=>{class nt extends wi{constructor(De,Fe){super(De),this._ngZone=Fe,this._keydownListener=_t=>{const Gt=this._attachedOverlays;for(let an=Gt.length-1;an>-1;an--)if(Gt[an]._keydownEvents.observers.length>0){const Ln=Gt[an]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ln.next(_t)):Ln.next(_t);break}}}add(De){super.add(De),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(Rn.K0),k.LFG(k.R0b,8))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),fi=(()=>{class nt extends wi{constructor(De,Fe,_t){super(De),this._platform=Fe,this._ngZone=_t,this._cursorStyleIsSet=!1,this._pointerDownListener=Gt=>{this._pointerDownEventTarget=(0,on.sA)(Gt)},this._clickListener=Gt=>{const an=(0,on.sA)(Gt),Ln="click"===Gt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:an;this._pointerDownEventTarget=null;const zt=this._attachedOverlays.slice();for(let ci=zt.length-1;ci>-1;ci--){const Re=zt[ci];if(Re._outsidePointerEvents.observers.length<1||!Re.hasAttached())continue;if(Re.overlayElement.contains(an)||Re.overlayElement.contains(Ln))break;const wt=Re._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>wt.next(Gt)):wt.next(Gt)}}}add(De){if(super.add(De),!this._isAttached){const Fe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Fe)):this._addEventListeners(Fe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Fe.style.cursor,Fe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const De=this._document.body;De.removeEventListener("pointerdown",this._pointerDownListener,!0),De.removeEventListener("click",this._clickListener,!0),De.removeEventListener("auxclick",this._clickListener,!0),De.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(De.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(De){De.addEventListener("pointerdown",this._pointerDownListener,!0),De.addEventListener("click",this._clickListener,!0),De.addEventListener("auxclick",this._clickListener,!0),De.addEventListener("contextmenu",this._clickListener,!0)}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(Rn.K0),k.LFG(on.t4),k.LFG(k.R0b,8))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),ss=0,xi=(()=>{class nt{constructor(De,Fe,_t,Gt,an,Ln,zt,ci,Re,wt,Ze){this.scrollStrategies=De,this._overlayContainer=Fe,this._componentFactoryResolver=_t,this._positionBuilder=Gt,this._keyboardDispatcher=an,this._injector=Ln,this._ngZone=zt,this._document=ci,this._directionality=Re,this._location=wt,this._outsideClickDispatcher=Ze}create(De){const Fe=this._createHostElement(),_t=this._createPaneElement(Fe),Gt=this._createPortalOutlet(_t),an=new to(De);return an.direction=an.direction||this._directionality.value,new Ci(Gt,Fe,_t,an,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(De){const Fe=this._document.createElement("div");return Fe.id="cdk-overlay-"+ss++,Fe.classList.add("cdk-overlay-pane"),De.appendChild(Fe),Fe}_createHostElement(){const De=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(De),De}_createPortalOutlet(De){return this._appRef||(this._appRef=this._injector.get(k.z2F)),new Ht(De,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return nt.\u0275fac=function(De){return new(De||nt)(k.LFG(Ai),k.LFG(Ri),k.LFG(k._Vd),k.LFG(Oo),k.LFG($o),k.LFG(k.zs3),k.LFG(k.R0b),k.LFG(Rn.K0),k.LFG(Tn.Is),k.LFG(Rn.Ye),k.LFG(fi))},nt.\u0275prov=k.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const oo={provide:new k.OlP("cdk-connected-overlay-scroll-strategy"),deps:[xi],useFactory:function ds(nt){return()=>nt.scrollStrategies.reposition()}};let Io=(()=>{class nt{}return nt.\u0275fac=function(De){return new(De||nt)},nt.\u0275mod=k.oAB({type:nt}),nt.\u0275inj=k.cJS({providers:[xi,oo],imports:[[Tn.vT,bt,Jn],Jn]}),nt})();const Wo=["mat-menu-item",""];function nr(nt,Le){1&nt&&(k.O4$(),k.TgZ(0,"svg",2),k._UZ(1,"polygon",3),k.qZA())}const Is=["*"];function vs(nt,Le){if(1&nt){const De=k.EpF();k.TgZ(0,"div",0),k.NdJ("keydown",function(_t){return k.CHM(De),k.oxw()._handleKeydown(_t)})("click",function(){return k.CHM(De),k.oxw().closed.emit("click")})("@transformMenu.start",function(_t){return k.CHM(De),k.oxw()._onAnimationStart(_t)})("@transformMenu.done",function(_t){return k.CHM(De),k.oxw()._onAnimationDone(_t)}),k.TgZ(1,"div",1),k.Hsn(2),k.qZA()()}if(2&nt){const De=k.oxw();k.Q6J("id",De.panelId)("ngClass",De._classList)("@transformMenu",De._panelAnimationState),k.uIk("aria-label",De.ariaLabel||null)("aria-labelledby",De.ariaLabelledby||null)("aria-describedby",De.ariaDescribedby||null)}}const Ks={transformMenu:(0,un.X$)("transformMenu",[(0,un.SB)("void",(0,un.oB)({opacity:0,transform:"scale(0.8)"})),(0,un.eR)("void => enter",(0,un.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,un.oB)({opacity:1,transform:"scale(1)"}))),(0,un.eR)("* => void",(0,un.jt)("100ms 25ms linear",(0,un.oB)({opacity:0})))]),fadeInItems:(0,un.X$)("fadeInItems",[(0,un.SB)("showing",(0,un.oB)({opacity:1})),(0,un.eR)("void => *",[(0,un.oB)({opacity:0}),(0,un.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},$s=new k.OlP("MatMenuContent"),Qs=new k.OlP("MAT_MENU_PANEL"),ir=(0,vn.Kr)((0,vn.Id)(class{}));let Sr=(()=>{class nt extends ir{constructor(De,Fe,_t,Gt,an){var Ln;super(),this._elementRef=De,this._document=Fe,this._focusMonitor=_t,this._parentMenu=Gt,this._changeDetectorRef=an,this.role="menuitem",this._hovered=new N.x,this._focused=new N.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(Ln=null==Gt?void 0:Gt.addItem)||void 0===Ln||Ln.call(Gt,this)}focus(De,Fe){this._focusMonitor&&De?this._focusMonitor.focusVia(this._getHostElement(),De,Fe):this._getHostElement().focus(Fe),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(De){this.disabled&&(De.preventDefault(),De.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var De;const Fe=this._elementRef.nativeElement.cloneNode(!0),_t=Fe.querySelectorAll("mat-icon, .material-icons");for(let Gt=0;Gt<_t.length;Gt++)_t[Gt].remove();return(null===(De=Fe.textContent)||void 0===De?void 0:De.trim())||""}_setHighlighted(De){var Fe;this._highlighted=De,null===(Fe=this._changeDetectorRef)||void 0===Fe||Fe.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return nt.\u0275fac=function(De){return new(De||nt)(k.Y36(k.SBq),k.Y36(Rn.K0),k.Y36(v.tE),k.Y36(Qs,8),k.Y36(k.sBO))},nt.\u0275cmp=k.Xpm({type:nt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(De,Fe){1&De&&k.NdJ("click",function(Gt){return Fe._checkDisabled(Gt)})("mouseenter",function(){return Fe._handleMouseEnter()}),2&De&&(k.uIk("role",Fe.role)("tabindex",Fe._getTabIndex())("aria-disabled",Fe.disabled.toString())("disabled",Fe.disabled||null),k.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",Fe._highlighted)("mat-menu-item-submenu-trigger",Fe._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[k.qOj],attrs:Wo,ngContentSelectors:Is,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(De,Fe){1&De&&(k.F$t(),k.Hsn(0),k._UZ(1,"div",0),k.YNc(2,nr,2,0,"svg",1)),2&De&&(k.xp6(1),k.Q6J("matRippleDisabled",Fe.disableRipple||Fe.disabled)("matRippleTrigger",Fe._getHostElement()),k.xp6(1),k.Q6J("ngIf",Fe._triggersSubmenu))},directives:[vn.wG,Rn.O5],encapsulation:2,changeDetection:0}),nt})();const $e=new k.OlP("mat-menu-default-options",{providedIn:"root",factory:function c(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let C=0,O=(()=>{class nt{constructor(De,Fe,_t,Gt){this._elementRef=De,this._ngZone=Fe,this._defaultOptions=_t,this._changeDetectorRef=Gt,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new k.n_E,this._tabSubscription=M.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new N.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new k.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+C++}get xPosition(){return this._xPosition}set xPosition(De){this._xPosition=De,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(De){this._yPosition=De,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(De){this._overlapTrigger=(0,h.Ig)(De)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(De){this._hasBackdrop=(0,h.Ig)(De)}set panelClass(De){const Fe=this._previousPanelClass;Fe&&Fe.length&&Fe.split(" ").forEach(_t=>{this._classList[_t]=!1}),this._previousPanelClass=De,De&&De.length&&(De.split(" ").forEach(_t=>{this._classList[_t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(De){this.panelClass=De}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new v.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,Ve.O)(this._directDescendantItems),fe(De=>(0,P.T)(...De.map(Fe=>Fe._focused)))).subscribe(De=>this._keyManager.updateActiveItem(De)),this._directDescendantItems.changes.subscribe(De=>{var Fe;const _t=this._keyManager;if("enter"===this._panelAnimationState&&(null===(Fe=_t.activeItem)||void 0===Fe?void 0:Fe._hasFocus())){const Gt=De.toArray(),an=Math.max(0,Math.min(Gt.length-1,_t.activeItemIndex||0));Gt[an]&&!Gt[an].disabled?_t.setActiveItem(an):_t.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,Ve.O)(this._directDescendantItems),fe(Fe=>(0,P.T)(...Fe.map(_t=>_t._hovered))))}addItem(De){}removeItem(De){}_handleKeydown(De){const Fe=De.keyCode,_t=this._keyManager;switch(Fe){case Q.hY:(0,Q.Vb)(De)||(De.preventDefault(),this.closed.emit("keydown"));break;case Q.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case Q.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(Fe===Q.LH||Fe===Q.JH)&&_t.setFocusOrigin("keyboard"),void _t.onKeydown(De)}De.stopPropagation()}focusFirstItem(De="program"){this.lazyContent?this._ngZone.onStable.pipe((0,_e.q)(1)).subscribe(()=>this._focusFirstItem(De)):this._focusFirstItem(De)}_focusFirstItem(De){const Fe=this._keyManager;if(Fe.setFocusOrigin(De).setFirstItemActive(),!Fe.activeItem&&this._directDescendantItems.length){let _t=this._directDescendantItems.first._getHostElement().parentElement;for(;_t;){if("menu"===_t.getAttribute("role")){_t.focus();break}_t=_t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(De){const Fe=Math.min(this._baseElevation+De,24),_t=`${this._elevationPrefix}${Fe}`,Gt=Object.keys(this._classList).find(an=>an.startsWith(this._elevationPrefix));(!Gt||Gt===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[_t]=!0,this._previousElevation=_t)}setPositionClasses(De=this.xPosition,Fe=this.yPosition){var _t;const Gt=this._classList;Gt["mat-menu-before"]="before"===De,Gt["mat-menu-after"]="after"===De,Gt["mat-menu-above"]="above"===Fe,Gt["mat-menu-below"]="below"===Fe,null===(_t=this._changeDetectorRef)||void 0===_t||_t.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(De){this._animationDone.next(De),this._isAnimating=!1}_onAnimationStart(De){this._isAnimating=!0,"enter"===De.toState&&0===this._keyManager.activeItemIndex&&(De.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,Ve.O)(this._allItems)).subscribe(De=>{this._directDescendantItems.reset(De.filter(Fe=>Fe._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return nt.\u0275fac=function(De){return new(De||nt)(k.Y36(k.SBq),k.Y36(k.R0b),k.Y36($e),k.Y36(k.sBO))},nt.\u0275dir=k.lG2({type:nt,contentQueries:function(De,Fe,_t){if(1&De&&(k.Suo(_t,$s,5),k.Suo(_t,Sr,5),k.Suo(_t,Sr,4)),2&De){let Gt;k.iGM(Gt=k.CRH())&&(Fe.lazyContent=Gt.first),k.iGM(Gt=k.CRH())&&(Fe._allItems=Gt),k.iGM(Gt=k.CRH())&&(Fe.items=Gt)}},viewQuery:function(De,Fe){if(1&De&&k.Gf(k.Rgc,5),2&De){let _t;k.iGM(_t=k.CRH())&&(Fe.templateRef=_t.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),nt})(),ee=(()=>{class nt extends O{constructor(De,Fe,_t,Gt){super(De,Fe,_t,Gt),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return nt.\u0275fac=function(De){return new(De||nt)(k.Y36(k.SBq),k.Y36(k.R0b),k.Y36($e),k.Y36(k.sBO))},nt.\u0275cmp=k.Xpm({type:nt,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(De,Fe){2&De&&k.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[k._Bn([{provide:Qs,useExisting:nt}]),k.qOj],ngContentSelectors:Is,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(De,Fe){1&De&&(k.F$t(),k.YNc(0,vs,3,6,"ng-template"))},directives:[Rn.mk],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[Ks.transformMenu,Ks.fadeInItems]},changeDetection:0}),nt})();const de=new k.OlP("mat-menu-scroll-strategy"),Qe={provide:de,deps:[xi],useFactory:function oe(nt){return()=>nt.scrollStrategies.reposition()}},xt=(0,on.i$)({passive:!0});let It=(()=>{class nt{constructor(De,Fe,_t,Gt,an,Ln,zt,ci,Re){this._overlay=De,this._element=Fe,this._viewContainerRef=_t,this._menuItemInstance=Ln,this._dir=zt,this._focusMonitor=ci,this._ngZone=Re,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=M.w0.EMPTY,this._hoverSubscription=M.w0.EMPTY,this._menuCloseSubscription=M.w0.EMPTY,this._handleTouchStart=wt=>{(0,v.yG)(wt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new k.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new k.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Gt,this._parentMaterialMenu=an instanceof O?an:void 0,Fe.nativeElement.addEventListener("touchstart",this._handleTouchStart,xt),Ln&&(Ln._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(De){this.menu=De}get menu(){return this._menu}set menu(De){De!==this._menu&&(this._menu=De,this._menuCloseSubscription.unsubscribe(),De&&(this._menuCloseSubscription=De.close.subscribe(Fe=>{this._destroyMenu(Fe),("click"===Fe||"tab"===Fe)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(Fe)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,xt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const De=this._createOverlay(),Fe=De.getConfig(),_t=Fe.positionStrategy;this._setPosition(_t),Fe.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,De.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof O&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe((0,ct.R)(this.menu.close)).subscribe(()=>{_t.withLockedPosition(!1).reapplyLastPosition(),_t.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(De,Fe){this._focusMonitor&&De?this._focusMonitor.focusVia(this._element,De,Fe):this._element.nativeElement.focus(Fe)}updatePosition(){var De;null===(De=this._overlayRef)||void 0===De||De.updatePosition()}_destroyMenu(De){if(!this._overlayRef||!this.menuOpen)return;const Fe=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===De||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,Fe instanceof O?(Fe._resetAnimation(),Fe.lazyContent?Fe._animationDone.pipe((0,Nt.h)(_t=>"void"===_t.toState),(0,_e.q)(1),(0,ct.R)(Fe.lazyContent._attached)).subscribe({next:()=>Fe.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),Fe.lazyContent&&Fe.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let De=0,Fe=this.menu.parentMenu;for(;Fe;)De++,Fe=Fe.parentMenu;this.menu.setElevation(De)}}_setIsMenuOpen(De){this._menuOpen=De,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(De)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const De=this._getOverlayConfig();this._subscribeToPositions(De.positionStrategy),this._overlayRef=this._overlay.create(De),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new to({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(De){this.menu.setPositionClasses&&De.positionChanges.subscribe(Fe=>{const _t="start"===Fe.connectionPair.overlayX?"after":"before",Gt="top"===Fe.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(_t,Gt)):this.menu.setPositionClasses(_t,Gt)})}_setPosition(De){let[Fe,_t]="before"===this.menu.xPosition?["end","start"]:["start","end"],[Gt,an]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[Ln,zt]=[Gt,an],[ci,Re]=[Fe,_t],wt=0;this.triggersSubmenu()?(Re=Fe="before"===this.menu.xPosition?"start":"end",_t=ci="end"===Fe?"start":"end",wt="bottom"===Gt?8:-8):this.menu.overlapTrigger||(Ln="top"===Gt?"bottom":"top",zt="top"===an?"bottom":"top"),De.withPositions([{originX:Fe,originY:Ln,overlayX:ci,overlayY:Gt,offsetY:wt},{originX:_t,originY:Ln,overlayX:Re,overlayY:Gt,offsetY:wt},{originX:Fe,originY:zt,overlayX:ci,overlayY:an,offsetY:-wt},{originX:_t,originY:zt,overlayX:Re,overlayY:an,offsetY:-wt}])}_menuClosingActions(){const De=this._overlayRef.backdropClick(),Fe=this._overlayRef.detachments(),_t=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,W.of)(),Gt=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Nt.h)(an=>an!==this._menuItemInstance),(0,Nt.h)(()=>this._menuOpen)):(0,W.of)();return(0,P.T)(De,_t,Gt,Fe)}_handleMousedown(De){(0,v.X6)(De)||(this._openedBy=0===De.button?"mouse":void 0,this.triggersSubmenu()&&De.preventDefault())}_handleKeydown(De){const Fe=De.keyCode;(Fe===Q.K5||Fe===Q.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(Fe===Q.SV&&"ltr"===this.dir||Fe===Q.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(De){this.triggersSubmenu()?(De.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Nt.h)(De=>De===this._menuItemInstance&&!De.disabled),ut(0,H)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof O&&this.menu._isAnimating?this.menu._animationDone.pipe((0,_e.q)(1),ut(0,H),(0,ct.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new nn(this.menu.templateRef,this._viewContainerRef)),this._portal}}return nt.\u0275fac=function(De){return new(De||nt)(k.Y36(xi),k.Y36(k.SBq),k.Y36(k.s_b),k.Y36(de),k.Y36(Qs,8),k.Y36(Sr,10),k.Y36(Tn.Is,8),k.Y36(v.tE),k.Y36(k.R0b))},nt.\u0275dir=k.lG2({type:nt,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(De,Fe){1&De&&k.NdJ("click",function(Gt){return Fe._handleClick(Gt)})("mousedown",function(Gt){return Fe._handleMousedown(Gt)})("keydown",function(Gt){return Fe._handleKeydown(Gt)}),2&De&&k.uIk("aria-expanded",Fe.menuOpen||null)("aria-controls",Fe.menuOpen?Fe.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),nt})(),Ft=(()=>{class nt extends It{}return nt.\u0275fac=function(){let Le;return function(Fe){return(Le||(Le=k.n5z(nt)))(Fe||nt)}}(),nt.\u0275dir=k.lG2({type:nt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[k.qOj]}),nt})(),Yt=(()=>{class nt{}return nt.\u0275fac=function(De){return new(De||nt)},nt.\u0275mod=k.oAB({type:nt}),nt.\u0275inj=k.cJS({providers:[Qe],imports:[[Rn.ez,vn.BQ,vn.si,Io],jn,vn.BQ]}),nt})()},6360:(vt,Ke,m)=>{m.d(Ke,{Qb:()=>kt,PW:()=>er});var v=m(4893),h=m(2313),Q=m(1777);const k=!1;function se(Ct){return new v.vHH(3e3,k)}function Ve(){return"undefined"!=typeof window&&void 0!==window.document}function ct(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Nt(Ct){switch(Ct.length){case 0:return new Q.ZN;case 1:return Ct[0];default:return new Q.ZE(Ct)}}function un(Ct,me,be,We,Tt={},Qt={}){const fn=[],cn=[];let wn=-1,ni=null;if(We.forEach(Hi=>{const ro=Hi.offset,ao=ro==wn,pi=ao&&ni||{};Object.keys(Hi).forEach(fo=>{let Lo=fo,hs=Hi[fo];if("offset"!==fo)switch(Lo=me.normalizePropertyName(Lo,fn),hs){case Q.k1:hs=Tt[fo];break;case Q.l3:hs=Qt[fo];break;default:hs=me.normalizeStyleValue(fo,Lo,hs,fn)}pi[Lo]=hs}),ao||cn.push(pi),ni=pi,wn=ro}),fn.length)throw function _e(Ct){return new v.vHH(3502,k)}();return cn}function Jt(Ct,me,be,We){switch(me){case"start":Ct.onStart(()=>We(be&&St(be,"start",Ct)));break;case"done":Ct.onDone(()=>We(be&&St(be,"done",Ct)));break;case"destroy":Ct.onDestroy(()=>We(be&&St(be,"destroy",Ct)))}}function St(Ct,me,be){const We=be.totalTime,Qt=en(Ct.element,Ct.triggerName,Ct.fromState,Ct.toState,me||Ct.phaseName,null==We?Ct.totalTime:We,!!be.disabled),fn=Ct._data;return null!=fn&&(Qt._data=fn),Qt}function en(Ct,me,be,We,Tt="",Qt=0,fn){return{element:Ct,triggerName:me,fromState:be,toState:We,phaseName:Tt,totalTime:Qt,disabled:!!fn}}function pn(Ct,me,be){let We;return Ct instanceof Map?(We=Ct.get(me),We||Ct.set(me,We=be)):(We=Ct[me],We||(We=Ct[me]=be)),We}function Xt(Ct){const me=Ct.indexOf(":");return[Ct.substring(1,me),Ct.substr(me+1)]}let ze=(Ct,me)=>!1,At=(Ct,me,be)=>[],Kt=null;function nn(Ct){const me=Ct.parentNode||Ct.host;return me===Kt?null:me}(ct()||"undefined"!=typeof Element)&&(Ve()?(Kt=(()=>document.documentElement)(),ze=(Ct,me)=>{for(;me;){if(me===Ct)return!0;me=nn(me)}return!1}):ze=(Ct,me)=>Ct.contains(me),At=(Ct,me,be)=>{if(be)return Array.from(Ct.querySelectorAll(me));const We=Ct.querySelector(me);return We?[We]:[]});let yt=null,Ht=!1;function jt(Ct){yt||(yt=function _n(){return"undefined"!=typeof document?document.body:null}()||{},Ht=!!yt.style&&"WebkitAppearance"in yt.style);let me=!0;return yt.style&&!function Nn(Ct){return"ebkit"==Ct.substring(1,6)}(Ct)&&(me=Ct in yt.style,!me&&Ht&&(me="Webkit"+Ct.charAt(0).toUpperCase()+Ct.substr(1)in yt.style)),me}const In=ze,it=At;let bt=(()=>{class Ct{validateStyleProperty(be){return jt(be)}matchesElement(be,We){return!1}containsElement(be,We){return In(be,We)}getParentElement(be){return nn(be)}query(be,We,Tt){return it(be,We,Tt)}computeStyle(be,We,Tt){return Tt||""}animate(be,We,Tt,Qt,fn,cn=[],wn){return new Q.ZN(Tt,Qt)}}return Ct.\u0275fac=function(be){return new(be||Ct)},Ct.\u0275prov=v.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),Zt=(()=>{class Ct{}return Ct.NOOP=new bt,Ct})();const pt="ng-enter",ei="ng-leave",dt="ng-trigger",ke=".ng-trigger",ft="ng-animating",Me=".ng-animating";function ot(Ct){if("number"==typeof Ct)return Ct;const me=Ct.match(/^(-?[\.\d]+)(m?s)/);return!me||me.length<2?0:on(parseFloat(me[1]),me[2])}function on(Ct,me){return"s"===me?1e3*Ct:Ct}function Tn(Ct,me,be){return Ct.hasOwnProperty("duration")?Ct:function Mi(Ct,me,be){let Tt,Qt=0,fn="";if("string"==typeof Ct){const cn=Ct.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===cn)return me.push(se()),{duration:0,delay:0,easing:""};Tt=on(parseFloat(cn[1]),cn[2]);const wn=cn[3];null!=wn&&(Qt=on(parseFloat(wn),cn[4]));const ni=cn[5];ni&&(fn=ni)}else Tt=Ct;if(!be){let cn=!1,wn=me.length;Tt<0&&(me.push(function j(){return new v.vHH(3100,k)}()),cn=!0),Qt<0&&(me.push(function Y(){return new v.vHH(3101,k)}()),cn=!0),cn&&me.splice(wn,0,se())}return{duration:Tt,delay:Qt,easing:fn}}(Ct,me,be)}function xn(Ct,me={}){return Object.keys(Ct).forEach(be=>{me[be]=Ct[be]}),me}function tn(Ct,me,be={}){if(me)for(let We in Ct)be[We]=Ct[We];else xn(Ct,be);return be}function bn(Ct,me,be){return be?me+":"+be+";":""}function mt(Ct){let me="";for(let be=0;be<Ct.style.length;be++){const We=Ct.style.item(be);me+=bn(0,We,Ct.style.getPropertyValue(We))}for(const be in Ct.style)Ct.style.hasOwnProperty(be)&&!be.startsWith("_")&&(me+=bn(0,jn(be),Ct.style[be]));Ct.setAttribute("style",me)}function Xe(Ct,me,be){Ct.style&&(Object.keys(me).forEach(We=>{const Tt=ln(We);be&&!be.hasOwnProperty(We)&&(be[We]=Ct.style[Tt]),Ct.style[Tt]=me[We]}),ct()&&mt(Ct))}function Dn(Ct,me){Ct.style&&(Object.keys(me).forEach(be=>{const We=ln(be);Ct.style[We]=""}),ct()&&mt(Ct))}function An(Ct){return Array.isArray(Ct)?1==Ct.length?Ct[0]:(0,Q.vP)(Ct):Ct}const Te=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ae(Ct){let me=[];if("string"==typeof Ct){let be;for(;be=Te.exec(Ct);)me.push(be[1]);Te.lastIndex=0}return me}function ht(Ct,me,be){const We=Ct.toString(),Tt=We.replace(Te,(Qt,fn)=>{let cn=me[fn];return me.hasOwnProperty(fn)||(be.push(function x(Ct){return new v.vHH(3003,k)}()),cn=""),cn.toString()});return Tt==We?Ct:Tt}function Mt(Ct){const me=[];let be=Ct.next();for(;!be.done;)me.push(be.value),be=Ct.next();return me}const Ge=/-+([a-z0-9])/g;function ln(Ct){return Ct.replace(Ge,(...me)=>me[1].toUpperCase())}function jn(Ct){return Ct.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qn(Ct,me,be){switch(me.type){case 7:return Ct.visitTrigger(me,be);case 0:return Ct.visitState(me,be);case 1:return Ct.visitTransition(me,be);case 2:return Ct.visitSequence(me,be);case 3:return Ct.visitGroup(me,be);case 4:return Ct.visitAnimate(me,be);case 5:return Ct.visitKeyframes(me,be);case 6:return Ct.visitStyle(me,be);case 8:return Ct.visitReference(me,be);case 9:return Ct.visitAnimateChild(me,be);case 10:return Ct.visitAnimateRef(me,be);case 11:return Ct.visitQuery(me,be);case 12:return Ct.visitStagger(me,be);default:throw function w(Ct){return new v.vHH(3004,k)}()}}function ii(Ct,me){return window.getComputedStyle(Ct)[me]}function ui(Ct,me){const be=[];return"string"==typeof Ct?Ct.split(/\s*,\s*/).forEach(We=>function Ti(Ct,me,be){if(":"==Ct[0]){const wn=function yi(Ct,me){switch(Ct){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(be,We)=>parseFloat(We)>parseFloat(be);case":decrement":return(be,We)=>parseFloat(We)<parseFloat(be);default:return me.push(function ye(Ct){return new v.vHH(3016,k)}()),"* => *"}}(Ct,be);if("function"==typeof wn)return void me.push(wn);Ct=wn}const We=Ct.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==We||We.length<4)return be.push(function he(Ct){return new v.vHH(3015,k)}()),me;const Tt=We[1],Qt=We[2],fn=We[3];me.push(to(Tt,fn));"<"==Qt[0]&&!("*"==Tt&&"*"==fn)&&me.push(to(fn,Tt))}(We,be,me)):be.push(Ct),be}const Ni=new Set(["true","1"]),Ai=new Set(["false","0"]);function to(Ct,me){const be=Ni.has(Ct)||Ai.has(Ct),We=Ni.has(me)||Ai.has(me);return(Tt,Qt)=>{let fn="*"==Ct||Ct==Tt,cn="*"==me||me==Qt;return!fn&&be&&"boolean"==typeof Tt&&(fn=Tt?Ni.has(Ct):Ai.has(Ct)),!cn&&We&&"boolean"==typeof Qt&&(cn=Qt?Ni.has(me):Ai.has(me)),fn&&cn}}const Pn=new RegExp("s*:selfs*,?","g");function Ei(Ct,me,be){return new Wi(Ct).build(me,be)}class Wi{constructor(me){this._driver=me}build(me,be){const We=new co(be);return this._resetContextStyleTimingState(We),Qn(this,An(me),We)}_resetContextStyleTimingState(me){me.currentQuerySelector="",me.collectedStyles={},me.collectedStyles[""]={},me.currentTime=0}visitTrigger(me,be){let We=be.queryCount=0,Tt=be.depCount=0;const Qt=[],fn=[];return"@"==me.name.charAt(0)&&be.errors.push(function F(){return new v.vHH(3006,k)}()),me.definitions.forEach(cn=>{if(this._resetContextStyleTimingState(be),0==cn.type){const wn=cn,ni=wn.name;ni.toString().split(/\s*,\s*/).forEach(Hi=>{wn.name=Hi,Qt.push(this.visitState(wn,be))}),wn.name=ni}else if(1==cn.type){const wn=this.visitTransition(cn,be);We+=wn.queryCount,Tt+=wn.depCount,fn.push(wn)}else be.errors.push(function f(){return new v.vHH(3007,k)}())}),{type:7,name:me.name,states:Qt,transitions:fn,queryCount:We,depCount:Tt,options:null}}visitState(me,be){const We=this.visitStyle(me.styles,be),Tt=me.options&&me.options.params||null;if(We.containsDynamicStyles){const Qt=new Set,fn=Tt||{};We.styles.forEach(cn=>{if(vo(cn)){const wn=cn;Object.keys(wn).forEach(ni=>{Ae(wn[ni]).forEach(Hi=>{fn.hasOwnProperty(Hi)||Qt.add(Hi)})})}}),Qt.size&&(Mt(Qt.values()),be.errors.push(function T(Ct,me){return new v.vHH(3008,k)}()))}return{type:0,name:me.name,style:We,options:Tt?{params:Tt}:null}}visitTransition(me,be){be.queryCount=0,be.depCount=0;const We=Qn(this,An(me.animation),be);return{type:1,matchers:ui(me.expr,be.errors),animation:We,queryCount:be.queryCount,depCount:be.depCount,options:Di(me.options)}}visitSequence(me,be){return{type:2,steps:me.steps.map(We=>Qn(this,We,be)),options:Di(me.options)}}visitGroup(me,be){const We=be.currentTime;let Tt=0;const Qt=me.steps.map(fn=>{be.currentTime=We;const cn=Qn(this,fn,be);return Tt=Math.max(Tt,be.currentTime),cn});return be.currentTime=Tt,{type:3,steps:Qt,options:Di(me.options)}}visitAnimate(me,be){const We=function Li(Ct,me){let be=null;if(Ct.hasOwnProperty("duration"))be=Ct;else if("number"==typeof Ct)return Mo(Tn(Ct,me).duration,0,"");const We=Ct;if(We.split(/\s+/).some(Qt=>"{"==Qt.charAt(0)&&"{"==Qt.charAt(1))){const Qt=Mo(0,0,"");return Qt.dynamic=!0,Qt.strValue=We,Qt}return be=be||Tn(We,me),Mo(be.duration,be.delay,be.easing)}(me.timings,be.errors);be.currentAnimateTimings=We;let Tt,Qt=me.styles?me.styles:(0,Q.oB)({});if(5==Qt.type)Tt=this.visitKeyframes(Qt,be);else{let fn=me.styles,cn=!1;if(!fn){cn=!0;const ni={};We.easing&&(ni.easing=We.easing),fn=(0,Q.oB)(ni)}be.currentTime+=We.duration+We.delay;const wn=this.visitStyle(fn,be);wn.isEmptyStep=cn,Tt=wn}return be.currentAnimateTimings=null,{type:4,timings:We,style:Tt,options:null}}visitStyle(me,be){const We=this._makeStyleAst(me,be);return this._validateStyleAst(We,be),We}_makeStyleAst(me,be){const We=[];Array.isArray(me.styles)?me.styles.forEach(fn=>{"string"==typeof fn?fn==Q.l3?We.push(fn):be.errors.push(function z(Ct){return new v.vHH(3002,k)}()):We.push(fn)}):We.push(me.styles);let Tt=!1,Qt=null;return We.forEach(fn=>{if(vo(fn)){const cn=fn,wn=cn.easing;if(wn&&(Qt=wn,delete cn.easing),!Tt)for(let ni in cn)if(cn[ni].toString().indexOf("{{")>=0){Tt=!0;break}}}),{type:6,styles:We,easing:Qt,offset:me.offset,containsDynamicStyles:Tt,options:null}}_validateStyleAst(me,be){const We=be.currentAnimateTimings;let Tt=be.currentTime,Qt=be.currentTime;We&&Qt>0&&(Qt-=We.duration+We.delay),me.styles.forEach(fn=>{"string"!=typeof fn&&Object.keys(fn).forEach(cn=>{if(!this._driver.validateStyleProperty(cn))return void be.errors.push(function I(Ct){return new v.vHH(3009,k)}());const wn=be.collectedStyles[be.currentQuerySelector],ni=wn[cn];let Hi=!0;ni&&(Qt!=Tt&&Qt>=ni.startTime&&Tt<=ni.endTime&&(be.errors.push(function H(Ct,me,be,We,Tt){return new v.vHH(3010,k)}()),Hi=!1),Qt=ni.startTime),Hi&&(wn[cn]={startTime:Qt,endTime:Tt}),be.options&&function Ye(Ct,me,be){const We=me.params||{},Tt=Ae(Ct);Tt.length&&Tt.forEach(Qt=>{We.hasOwnProperty(Qt)||be.push(function V(Ct){return new v.vHH(3001,k)}())})}(fn[cn],be.options,be.errors)})})}visitKeyframes(me,be){const We={type:5,styles:[],options:null};if(!be.currentAnimateTimings)return be.errors.push(function K(){return new v.vHH(3011,k)}()),We;let Qt=0;const fn=[];let cn=!1,wn=!1,ni=0;const Hi=me.steps.map(Ss=>{const Os=this._makeStyleAst(Ss,be);let ts=null!=Os.offset?Os.offset:function Pi(Ct){if("string"==typeof Ct)return null;let me=null;if(Array.isArray(Ct))Ct.forEach(be=>{if(vo(be)&&be.hasOwnProperty("offset")){const We=be;me=parseFloat(We.offset),delete We.offset}});else if(vo(Ct)&&Ct.hasOwnProperty("offset")){const be=Ct;me=parseFloat(be.offset),delete be.offset}return me}(Os.styles),Jo=0;return null!=ts&&(Qt++,Jo=Os.offset=ts),wn=wn||Jo<0||Jo>1,cn=cn||Jo<ni,ni=Jo,fn.push(Jo),Os});wn&&be.errors.push(function N(){return new v.vHH(3012,k)}()),cn&&be.errors.push(function M(){return new v.vHH(3200,k)}());const ro=me.steps.length;let ao=0;Qt>0&&Qt<ro?be.errors.push(function P(){return new v.vHH(3202,k)}()):0==Qt&&(ao=1/(ro-1));const pi=ro-1,fo=be.currentTime,Lo=be.currentAnimateTimings,hs=Lo.duration;return Hi.forEach((Ss,Os)=>{const ts=ao>0?Os==pi?1:ao*Os:fn[Os],Jo=ts*hs;be.currentTime=fo+Lo.delay+Jo,Lo.duration=Jo,this._validateStyleAst(Ss,be),Ss.offset=ts,We.styles.push(Ss)}),We}visitReference(me,be){return{type:8,animation:Qn(this,An(me.animation),be),options:Di(me.options)}}visitAnimateChild(me,be){return be.depCount++,{type:9,options:Di(me.options)}}visitAnimateRef(me,be){return{type:10,animation:this.visitReference(me.animation,be),options:Di(me.options)}}visitQuery(me,be){const We=be.currentQuerySelector,Tt=me.options||{};be.queryCount++,be.currentQuery=me;const[Qt,fn]=function Ci(Ct){const me=!!Ct.split(/\s*,\s*/).find(be=>":self"==be);return me&&(Ct=Ct.replace(Pn,"")),Ct=Ct.replace(/@\*/g,ke).replace(/@\w+/g,be=>ke+"-"+be.substr(1)).replace(/:animating/g,Me),[Ct,me]}(me.selector);be.currentQuerySelector=We.length?We+" "+Qt:Qt,pn(be.collectedStyles,be.currentQuerySelector,{});const cn=Qn(this,An(me.animation),be);return be.currentQuery=null,be.currentQuerySelector=We,{type:11,selector:Qt,limit:Tt.limit||0,optional:!!Tt.optional,includeSelf:fn,animation:cn,originalSelector:me.selector,options:Di(me.options)}}visitStagger(me,be){be.currentQuery||be.errors.push(function W(){return new v.vHH(3013,k)}());const We="full"===me.timings?{duration:0,delay:0,easing:"full"}:Tn(me.timings,be.errors,!0);return{type:12,animation:Qn(this,An(me.animation),be),timings:We,options:null}}}class co{constructor(me){this.errors=me,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vo(Ct){return!Array.isArray(Ct)&&"object"==typeof Ct}function Di(Ct){return Ct?(Ct=xn(Ct)).params&&(Ct.params=function Ri(Ct){return Ct?xn(Ct):null}(Ct.params)):Ct={},Ct}function Mo(Ct,me,be){return{duration:Ct,delay:me,easing:be}}function Yi(Ct,me,be,We,Tt,Qt,fn=null,cn=!1){return{type:1,element:Ct,keyframes:me,preStyleProps:be,postStyleProps:We,duration:Tt,delay:Qt,totalTime:Tt+Qt,easing:fn,subTimeline:cn}}class Bo{constructor(){this._map=new Map}get(me){return this._map.get(me)||[]}append(me,be){let We=this._map.get(me);We||this._map.set(me,We=[]),We.push(...be)}has(me){return this._map.has(me)}clear(){this._map.clear()}}const $o=new RegExp(":enter","g"),ss=new RegExp(":leave","g");function xi(Ct,me,be,We,Tt,Qt={},fn={},cn,wn,ni=[]){return(new Ii).buildKeyframes(Ct,me,be,We,Tt,Qt,fn,cn,wn,ni)}class Ii{buildKeyframes(me,be,We,Tt,Qt,fn,cn,wn,ni,Hi=[]){ni=ni||new Bo;const ro=new Zo(me,be,ni,Tt,Qt,Hi,[]);ro.options=wn,ro.currentTimeline.setStyles([fn],null,ro.errors,wn),Qn(this,We,ro);const ao=ro.timelines.filter(pi=>pi.containsAnimation());if(Object.keys(cn).length){let pi;for(let fo=ao.length-1;fo>=0;fo--){const Lo=ao[fo];if(Lo.element===be){pi=Lo;break}}pi&&!pi.allowOnlyTimelineStyles()&&pi.setStyles([cn],null,ro.errors,wn)}return ao.length?ao.map(pi=>pi.buildKeyframes()):[Yi(be,[],[],[],0,0,"",!1)]}visitTrigger(me,be){}visitState(me,be){}visitTransition(me,be){}visitAnimateChild(me,be){const We=be.subInstructions.get(be.element);if(We){const Tt=be.createSubContext(me.options),Qt=be.currentTimeline.currentTime,fn=this._visitSubInstructions(We,Tt,Tt.options);Qt!=fn&&be.transformIntoNewTimeline(fn)}be.previousNode=me}visitAnimateRef(me,be){const We=be.createSubContext(me.options);We.transformIntoNewTimeline(),this.visitReference(me.animation,We),be.transformIntoNewTimeline(We.currentTimeline.currentTime),be.previousNode=me}_visitSubInstructions(me,be,We){let Qt=be.currentTimeline.currentTime;const fn=null!=We.duration?ot(We.duration):null,cn=null!=We.delay?ot(We.delay):null;return 0!==fn&&me.forEach(wn=>{const ni=be.appendInstructionToTimeline(wn,fn,cn);Qt=Math.max(Qt,ni.duration+ni.delay)}),Qt}visitReference(me,be){be.updateOptions(me.options,!0),Qn(this,me.animation,be),be.previousNode=me}visitSequence(me,be){const We=be.subContextCount;let Tt=be;const Qt=me.options;if(Qt&&(Qt.params||Qt.delay)&&(Tt=be.createSubContext(Qt),Tt.transformIntoNewTimeline(),null!=Qt.delay)){6==Tt.previousNode.type&&(Tt.currentTimeline.snapshotCurrentStyles(),Tt.previousNode=xo);const fn=ot(Qt.delay);Tt.delayNextStep(fn)}me.steps.length&&(me.steps.forEach(fn=>Qn(this,fn,Tt)),Tt.currentTimeline.applyStylesToKeyframe(),Tt.subContextCount>We&&Tt.transformIntoNewTimeline()),be.previousNode=me}visitGroup(me,be){const We=[];let Tt=be.currentTimeline.currentTime;const Qt=me.options&&me.options.delay?ot(me.options.delay):0;me.steps.forEach(fn=>{const cn=be.createSubContext(me.options);Qt&&cn.delayNextStep(Qt),Qn(this,fn,cn),Tt=Math.max(Tt,cn.currentTimeline.currentTime),We.push(cn.currentTimeline)}),We.forEach(fn=>be.currentTimeline.mergeTimelineCollectedStyles(fn)),be.transformIntoNewTimeline(Tt),be.previousNode=me}_visitTiming(me,be){if(me.dynamic){const We=me.strValue;return Tn(be.params?ht(We,be.params,be.errors):We,be.errors)}return{duration:me.duration,delay:me.delay,easing:me.easing}}visitAnimate(me,be){const We=be.currentAnimateTimings=this._visitTiming(me.timings,be),Tt=be.currentTimeline;We.delay&&(be.incrementTime(We.delay),Tt.snapshotCurrentStyles());const Qt=me.style;5==Qt.type?this.visitKeyframes(Qt,be):(be.incrementTime(We.duration),this.visitStyle(Qt,be),Tt.applyStylesToKeyframe()),be.currentAnimateTimings=null,be.previousNode=me}visitStyle(me,be){const We=be.currentTimeline,Tt=be.currentAnimateTimings;!Tt&&We.getCurrentStyleProperties().length&&We.forwardFrame();const Qt=Tt&&Tt.easing||me.easing;me.isEmptyStep?We.applyEmptyStep(Qt):We.setStyles(me.styles,Qt,be.errors,be.options),be.previousNode=me}visitKeyframes(me,be){const We=be.currentAnimateTimings,Tt=be.currentTimeline.duration,Qt=We.duration,cn=be.createSubContext().currentTimeline;cn.easing=We.easing,me.styles.forEach(wn=>{cn.forwardTime((wn.offset||0)*Qt),cn.setStyles(wn.styles,wn.easing,be.errors,be.options),cn.applyStylesToKeyframe()}),be.currentTimeline.mergeTimelineCollectedStyles(cn),be.transformIntoNewTimeline(Tt+Qt),be.previousNode=me}visitQuery(me,be){const We=be.currentTimeline.currentTime,Tt=me.options||{},Qt=Tt.delay?ot(Tt.delay):0;Qt&&(6===be.previousNode.type||0==We&&be.currentTimeline.getCurrentStyleProperties().length)&&(be.currentTimeline.snapshotCurrentStyles(),be.previousNode=xo);let fn=We;const cn=be.invokeQuery(me.selector,me.originalSelector,me.limit,me.includeSelf,!!Tt.optional,be.errors);be.currentQueryTotal=cn.length;let wn=null;cn.forEach((ni,Hi)=>{be.currentQueryIndex=Hi;const ro=be.createSubContext(me.options,ni);Qt&&ro.delayNextStep(Qt),ni===be.element&&(wn=ro.currentTimeline),Qn(this,me.animation,ro),ro.currentTimeline.applyStylesToKeyframe(),fn=Math.max(fn,ro.currentTimeline.currentTime)}),be.currentQueryIndex=0,be.currentQueryTotal=0,be.transformIntoNewTimeline(fn),wn&&(be.currentTimeline.mergeTimelineCollectedStyles(wn),be.currentTimeline.snapshotCurrentStyles()),be.previousNode=me}visitStagger(me,be){const We=be.parentContext,Tt=be.currentTimeline,Qt=me.timings,fn=Math.abs(Qt.duration),cn=fn*(be.currentQueryTotal-1);let wn=fn*be.currentQueryIndex;switch(Qt.duration<0?"reverse":Qt.easing){case"reverse":wn=cn-wn;break;case"full":wn=We.currentStaggerTime}const Hi=be.currentTimeline;wn&&Hi.delayNextStep(wn);const ro=Hi.currentTime;Qn(this,me.animation,be),be.previousNode=me,We.currentStaggerTime=Tt.currentTime-ro+(Tt.startTime-We.currentTimeline.startTime)}}const xo={};class Zo{constructor(me,be,We,Tt,Qt,fn,cn,wn){this._driver=me,this.element=be,this.subInstructions=We,this._enterClassName=Tt,this._leaveClassName=Qt,this.errors=fn,this.timelines=cn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=wn||new Gn(this._driver,be,0),cn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(me,be){if(!me)return;const We=me;let Tt=this.options;null!=We.duration&&(Tt.duration=ot(We.duration)),null!=We.delay&&(Tt.delay=ot(We.delay));const Qt=We.params;if(Qt){let fn=Tt.params;fn||(fn=this.options.params={}),Object.keys(Qt).forEach(cn=>{(!be||!fn.hasOwnProperty(cn))&&(fn[cn]=ht(Qt[cn],fn,this.errors))})}}_copyOptions(){const me={};if(this.options){const be=this.options.params;if(be){const We=me.params={};Object.keys(be).forEach(Tt=>{We[Tt]=be[Tt]})}}return me}createSubContext(me=null,be,We){const Tt=be||this.element,Qt=new Zo(this._driver,Tt,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Tt,We||0));return Qt.previousNode=this.previousNode,Qt.currentAnimateTimings=this.currentAnimateTimings,Qt.options=this._copyOptions(),Qt.updateOptions(me),Qt.currentQueryIndex=this.currentQueryIndex,Qt.currentQueryTotal=this.currentQueryTotal,Qt.parentContext=this,this.subContextCount++,Qt}transformIntoNewTimeline(me){return this.previousNode=xo,this.currentTimeline=this.currentTimeline.fork(this.element,me),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(me,be,We){const Tt={duration:null!=be?be:me.duration,delay:this.currentTimeline.currentTime+(null!=We?We:0)+me.delay,easing:""},Qt=new ds(this._driver,me.element,me.keyframes,me.preStyleProps,me.postStyleProps,Tt,me.stretchStartingKeyframe);return this.timelines.push(Qt),Tt}incrementTime(me){this.currentTimeline.forwardTime(this.currentTimeline.duration+me)}delayNextStep(me){me>0&&this.currentTimeline.delayNextStep(me)}invokeQuery(me,be,We,Tt,Qt,fn){let cn=[];if(Tt&&cn.push(this.element),me.length>0){me=(me=me.replace($o,"."+this._enterClassName)).replace(ss,"."+this._leaveClassName);let ni=this._driver.query(this.element,me,1!=We);0!==We&&(ni=We<0?ni.slice(ni.length+We,ni.length):ni.slice(0,We)),cn.push(...ni)}return!Qt&&0==cn.length&&fn.push(function J(Ct){return new v.vHH(3014,k)}()),cn}}class Gn{constructor(me,be,We,Tt){this._driver=me,this.element=be,this.startTime=We,this._elementTimelineStylesLookup=Tt,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(be),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(be,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(me){const be=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||be?(this.forwardTime(this.currentTime+me),be&&this.snapshotCurrentStyles()):this.startTime+=me}fork(me,be){return this.applyStylesToKeyframe(),new Gn(this._driver,me,be||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(me){this.applyStylesToKeyframe(),this.duration=me,this._loadKeyframe()}_updateStyle(me,be){this._localTimelineStyles[me]=be,this._globalTimelineStyles[me]=be,this._styleSummary[me]={time:this.currentTime,value:be}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(me){me&&(this._previousKeyframe.easing=me),Object.keys(this._globalTimelineStyles).forEach(be=>{this._backFill[be]=this._globalTimelineStyles[be]||Q.l3,this._currentKeyframe[be]=Q.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(me,be,We,Tt){be&&(this._previousKeyframe.easing=be);const Qt=Tt&&Tt.params||{},fn=function Io(Ct,me){const be={};let We;return Ct.forEach(Tt=>{"*"===Tt?(We=We||Object.keys(me),We.forEach(Qt=>{be[Qt]=Q.l3})):tn(Tt,!1,be)}),be}(me,this._globalTimelineStyles);Object.keys(fn).forEach(cn=>{const wn=ht(fn[cn],Qt,We);this._pendingStyles[cn]=wn,this._localTimelineStyles.hasOwnProperty(cn)||(this._backFill[cn]=this._globalTimelineStyles.hasOwnProperty(cn)?this._globalTimelineStyles[cn]:Q.l3),this._updateStyle(cn,wn)})}applyStylesToKeyframe(){const me=this._pendingStyles,be=Object.keys(me);0!=be.length&&(this._pendingStyles={},be.forEach(We=>{this._currentKeyframe[We]=me[We]}),Object.keys(this._localTimelineStyles).forEach(We=>{this._currentKeyframe.hasOwnProperty(We)||(this._currentKeyframe[We]=this._localTimelineStyles[We])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(me=>{const be=this._localTimelineStyles[me];this._pendingStyles[me]=be,this._updateStyle(me,be)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const me=[];for(let be in this._currentKeyframe)me.push(be);return me}mergeTimelineCollectedStyles(me){Object.keys(me._styleSummary).forEach(be=>{const We=this._styleSummary[be],Tt=me._styleSummary[be];(!We||Tt.time>We.time)&&this._updateStyle(be,Tt.value)})}buildKeyframes(){this.applyStylesToKeyframe();const me=new Set,be=new Set,We=1===this._keyframes.size&&0===this.duration;let Tt=[];this._keyframes.forEach((cn,wn)=>{const ni=tn(cn,!0);Object.keys(ni).forEach(Hi=>{const ro=ni[Hi];ro==Q.k1?me.add(Hi):ro==Q.l3&&be.add(Hi)}),We||(ni.offset=wn/this.duration),Tt.push(ni)});const Qt=me.size?Mt(me.values()):[],fn=be.size?Mt(be.values()):[];if(We){const cn=Tt[0],wn=xn(cn);cn.offset=0,wn.offset=1,Tt=[cn,wn]}return Yi(this.element,Tt,Qt,fn,this.duration,this.startTime,this.easing,!1)}}class ds extends Gn{constructor(me,be,We,Tt,Qt,fn,cn=!1){super(me,be,fn.delay),this.keyframes=We,this.preStyleProps=Tt,this.postStyleProps=Qt,this._stretchStartingKeyframe=cn,this.timings={duration:fn.duration,delay:fn.delay,easing:fn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let me=this.keyframes,{delay:be,duration:We,easing:Tt}=this.timings;if(this._stretchStartingKeyframe&&be){const Qt=[],fn=We+be,cn=be/fn,wn=tn(me[0],!1);wn.offset=0,Qt.push(wn);const ni=tn(me[0],!1);ni.offset=oo(cn),Qt.push(ni);const Hi=me.length-1;for(let ro=1;ro<=Hi;ro++){let ao=tn(me[ro],!1);ao.offset=oo((be+ao.offset*We)/fn),Qt.push(ao)}We=fn,be=0,Tt="",me=Qt}return Yi(this.element,me,this.preStyleProps,this.postStyleProps,We,be,Tt,!0)}}function oo(Ct,me=3){const be=Math.pow(10,me-1);return Math.round(Ct*be)/be}class Wo{}class Is extends Wo{normalizePropertyName(me,be){return ln(me)}normalizeStyleValue(me,be,We,Tt){let Qt="";const fn=We.toString().trim();if(vs[be]&&0!==We&&"0"!==We)if("number"==typeof We)Qt="px";else{const cn=We.match(/^[+-]?[\d\.]+([a-z]*)$/);cn&&0==cn[1].length&&Tt.push(function D(Ct,me){return new v.vHH(3005,k)}())}return fn+Qt}}const vs=(()=>function Ks(Ct){const me={};return Ct.forEach(be=>me[be]=!0),me}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dr(Ct,me,be,We,Tt,Qt,fn,cn,wn,ni,Hi,ro,ao){return{type:0,element:Ct,triggerName:me,isRemovalTransition:Tt,fromState:be,fromStyles:Qt,toState:We,toStyles:fn,timelines:cn,queriedElements:wn,preStyleProps:ni,postStyleProps:Hi,totalTime:ro,errors:ao}}const wr={};class $s{constructor(me,be,We){this._triggerName=me,this.ast=be,this._stateStyles=We}match(me,be,We,Tt){return function Gs(Ct,me,be,We,Tt){return Ct.some(Qt=>Qt(me,be,We,Tt))}(this.ast.matchers,me,be,We,Tt)}buildStyles(me,be,We){const Tt=this._stateStyles["*"],Qt=this._stateStyles[me],fn=Tt?Tt.buildStyles(be,We):{};return Qt?Qt.buildStyles(be,We):fn}build(me,be,We,Tt,Qt,fn,cn,wn,ni,Hi){const ro=[],ao=this.ast.options&&this.ast.options.params||wr,fo=this.buildStyles(We,cn&&cn.params||wr,ro),Lo=wn&&wn.params||wr,hs=this.buildStyles(Tt,Lo,ro),Ss=new Set,Os=new Map,ts=new Map,Jo="void"===Tt,io={params:Object.assign(Object.assign({},ao),Lo)},Do=Hi?[]:xi(me,be,this.ast.animation,Qt,fn,fo,hs,io,ni,ro);let Ro=0;if(Do.forEach(Ms=>{Ro=Math.max(Ms.duration+Ms.delay,Ro)}),ro.length)return dr(be,this._triggerName,We,Tt,Jo,fo,hs,[],[],Os,ts,Ro,ro);Do.forEach(Ms=>{const Ps=Ms.element,lr=pn(Os,Ps,{});Ms.preStyleProps.forEach(gr=>lr[gr]=!0);const Er=pn(ts,Ps,{});Ms.postStyleProps.forEach(gr=>Er[gr]=!0),Ps!==be&&Ss.add(Ps)});const Cs=Mt(Ss.values());return dr(be,this._triggerName,We,Tt,Jo,fo,hs,Do,Cs,Os,ts,Ro)}}class ks{constructor(me,be,We){this.styles=me,this.defaultParams=be,this.normalizer=We}buildStyles(me,be){const We={},Tt=xn(this.defaultParams);return Object.keys(me).forEach(Qt=>{const fn=me[Qt];null!=fn&&(Tt[Qt]=fn)}),this.styles.styles.forEach(Qt=>{if("string"!=typeof Qt){const fn=Qt;Object.keys(fn).forEach(cn=>{let wn=fn[cn];wn.length>1&&(wn=ht(wn,Tt,be));const ni=this.normalizer.normalizePropertyName(cn,be);wn=this.normalizer.normalizeStyleValue(cn,ni,wn,be),We[ni]=wn})}}),We}}class qs{constructor(me,be,We){this.name=me,this.ast=be,this._normalizer=We,this.transitionFactories=[],this.states={},be.states.forEach(Tt=>{this.states[Tt.name]=new ks(Tt.style,Tt.options&&Tt.options.params||{},We)}),Bs(this.states,"true","1"),Bs(this.states,"false","0"),be.transitions.forEach(Tt=>{this.transitionFactories.push(new $s(me,Tt,this.states))}),this.fallbackTransition=function Co(Ct,me,be){return new $s(Ct,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fn,cn)=>!0],options:null,queryCount:0,depCount:0},me)}(me,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(me,be,We,Tt){return this.transitionFactories.find(fn=>fn.match(me,be,We,Tt))||null}matchStyles(me,be,We){return this.fallbackTransition.buildStyles(me,be,We)}}function Bs(Ct,me,be){Ct.hasOwnProperty(me)?Ct.hasOwnProperty(be)||(Ct[be]=Ct[me]):Ct.hasOwnProperty(be)&&(Ct[me]=Ct[be])}const Qs=new Bo;class ir{constructor(me,be,We){this.bodyNode=me,this._driver=be,this._normalizer=We,this._animations={},this._playersById={},this.players=[]}register(me,be){const We=[],Tt=Ei(this._driver,be,We);if(We.length)throw function $(Ct){return new v.vHH(3503,k)}();this._animations[me]=Tt}_buildPlayer(me,be,We){const Tt=me.element,Qt=un(0,this._normalizer,0,me.keyframes,be,We);return this._driver.animate(Tt,Qt,me.duration,me.delay,me.easing,[],!0)}create(me,be,We={}){const Tt=[],Qt=this._animations[me];let fn;const cn=new Map;if(Qt?(fn=xi(this._driver,be,Qt,pt,ei,{},{},We,Qs,Tt),fn.forEach(Hi=>{const ro=pn(cn,Hi.element,{});Hi.postStyleProps.forEach(ao=>ro[ao]=null)})):(Tt.push(function X(){return new v.vHH(3300,k)}()),fn=[]),Tt.length)throw function pe(Ct){return new v.vHH(3504,k)}();cn.forEach((Hi,ro)=>{Object.keys(Hi).forEach(ao=>{Hi[ao]=this._driver.computeStyle(ro,ao,Q.l3)})});const ni=Nt(fn.map(Hi=>{const ro=cn.get(Hi.element);return this._buildPlayer(Hi,{},ro)}));return this._playersById[me]=ni,ni.onDestroy(()=>this.destroy(me)),this.players.push(ni),ni}destroy(me){const be=this._getPlayer(me);be.destroy(),delete this._playersById[me];const We=this.players.indexOf(be);We>=0&&this.players.splice(We,1)}_getPlayer(me){const be=this._playersById[me];if(!be)throw function re(Ct){return new v.vHH(3301,k)}();return be}listen(me,be,We,Tt){const Qt=en(be,"","","");return Jt(this._getPlayer(me),We,Qt,Tt),()=>{}}command(me,be,We,Tt){if("register"==We)return void this.register(me,Tt[0]);if("create"==We)return void this.create(me,be,Tt[0]||{});const Qt=this._getPlayer(me);switch(We){case"play":Qt.play();break;case"pause":Qt.pause();break;case"reset":Qt.reset();break;case"restart":Qt.restart();break;case"finish":Qt.finish();break;case"init":Qt.init();break;case"setPosition":Qt.setPosition(parseFloat(Tt[0]));break;case"destroy":this.destroy(me)}}}const Sr="ng-animate-queued",c="ng-animate-disabled",de=[],oe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},et="__ng_removed";class xt{constructor(me,be=""){this.namespaceId=be;const We=me&&me.hasOwnProperty("value");if(this.value=function Fe(Ct){return null!=Ct?Ct:null}(We?me.value:me),We){const Qt=xn(me);delete Qt.value,this.options=Qt}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(me){const be=me.params;if(be){const We=this.options.params;Object.keys(be).forEach(Tt=>{null==We[Tt]&&(We[Tt]=be[Tt])})}}}const It="void",Ft=new xt(It);class Yt{constructor(me,be,We){this.id=me,this.hostElement=be,this._engine=We,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+me,ci(be,this._hostClassName)}listen(me,be,We,Tt){if(!this._triggers.hasOwnProperty(be))throw function ne(Ct,me){return new v.vHH(3302,k)}();if(null==We||0==We.length)throw function ce(Ct){return new v.vHH(3303,k)}();if(!function Gt(Ct){return"start"==Ct||"done"==Ct}(We))throw function ue(Ct,me){return new v.vHH(3400,k)}();const Qt=pn(this._elementListeners,me,[]),fn={name:be,phase:We,callback:Tt};Qt.push(fn);const cn=pn(this._engine.statesByElement,me,{});return cn.hasOwnProperty(be)||(ci(me,dt),ci(me,dt+"-"+be),cn[be]=Ft),()=>{this._engine.afterFlush(()=>{const wn=Qt.indexOf(fn);wn>=0&&Qt.splice(wn,1),this._triggers[be]||delete cn[be]})}}register(me,be){return!this._triggers[me]&&(this._triggers[me]=be,!0)}_getTrigger(me){const be=this._triggers[me];if(!be)throw function we(Ct){return new v.vHH(3401,k)}();return be}trigger(me,be,We,Tt=!0){const Qt=this._getTrigger(be),fn=new Le(this.id,be,me);let cn=this._engine.statesByElement.get(me);cn||(ci(me,dt),ci(me,dt+"-"+be),this._engine.statesByElement.set(me,cn={}));let wn=cn[be];const ni=new xt(We,this.id);if(!(We&&We.hasOwnProperty("value"))&&wn&&ni.absorbOptions(wn.options),cn[be]=ni,wn||(wn=Ft),ni.value!==It&&wn.value===ni.value){if(!function hn(Ct,me){const be=Object.keys(Ct),We=Object.keys(me);if(be.length!=We.length)return!1;for(let Tt=0;Tt<be.length;Tt++){const Qt=be[Tt];if(!me.hasOwnProperty(Qt)||Ct[Qt]!==me[Qt])return!1}return!0}(wn.params,ni.params)){const Lo=[],hs=Qt.matchStyles(wn.value,wn.params,Lo),Ss=Qt.matchStyles(ni.value,ni.params,Lo);Lo.length?this._engine.reportError(Lo):this._engine.afterFlush(()=>{Dn(me,hs),Xe(me,Ss)})}return}const ao=pn(this._engine.playersByElement,me,[]);ao.forEach(Lo=>{Lo.namespaceId==this.id&&Lo.triggerName==be&&Lo.queued&&Lo.destroy()});let pi=Qt.matchTransition(wn.value,ni.value,me,ni.params),fo=!1;if(!pi){if(!Tt)return;pi=Qt.fallbackTransition,fo=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:me,triggerName:be,transition:pi,fromState:wn,toState:ni,player:fn,isFallbackTransition:fo}),fo||(ci(me,Sr),fn.onStart(()=>{Re(me,Sr)})),fn.onDone(()=>{let Lo=this.players.indexOf(fn);Lo>=0&&this.players.splice(Lo,1);const hs=this._engine.playersByElement.get(me);if(hs){let Ss=hs.indexOf(fn);Ss>=0&&hs.splice(Ss,1)}}),this.players.push(fn),ao.push(fn),fn}deregister(me){delete this._triggers[me],this._engine.statesByElement.forEach((be,We)=>{delete be[me]}),this._elementListeners.forEach((be,We)=>{this._elementListeners.set(We,be.filter(Tt=>Tt.name!=me))})}clearElementCache(me){this._engine.statesByElement.delete(me),this._elementListeners.delete(me);const be=this._engine.playersByElement.get(me);be&&(be.forEach(We=>We.destroy()),this._engine.playersByElement.delete(me))}_signalRemovalForInnerTriggers(me,be){const We=this._engine.driver.query(me,ke,!0);We.forEach(Tt=>{if(Tt[et])return;const Qt=this._engine.fetchNamespacesByElement(Tt);Qt.size?Qt.forEach(fn=>fn.triggerLeaveAnimation(Tt,be,!1,!0)):this.clearElementCache(Tt)}),this._engine.afterFlushAnimationsDone(()=>We.forEach(Tt=>this.clearElementCache(Tt)))}triggerLeaveAnimation(me,be,We,Tt){const Qt=this._engine.statesByElement.get(me),fn=new Map;if(Qt){const cn=[];if(Object.keys(Qt).forEach(wn=>{if(fn.set(wn,Qt[wn].value),this._triggers[wn]){const ni=this.trigger(me,wn,It,Tt);ni&&cn.push(ni)}}),cn.length)return this._engine.markElementAsRemoved(this.id,me,!0,be,fn),We&&Nt(cn).onDone(()=>this._engine.processLeaveNode(me)),!0}return!1}prepareLeaveAnimationListeners(me){const be=this._elementListeners.get(me),We=this._engine.statesByElement.get(me);if(be&&We){const Tt=new Set;be.forEach(Qt=>{const fn=Qt.name;if(Tt.has(fn))return;Tt.add(fn);const wn=this._triggers[fn].fallbackTransition,ni=We[fn]||Ft,Hi=new xt(It),ro=new Le(this.id,fn,me);this._engine.totalQueuedPlayers++,this._queue.push({element:me,triggerName:fn,transition:wn,fromState:ni,toState:Hi,player:ro,isFallbackTransition:!0})})}}removeNode(me,be){const We=this._engine;if(me.childElementCount&&this._signalRemovalForInnerTriggers(me,be),this.triggerLeaveAnimation(me,be,!0))return;let Tt=!1;if(We.totalAnimations){const Qt=We.players.length?We.playersByQueriedElement.get(me):[];if(Qt&&Qt.length)Tt=!0;else{let fn=me;for(;fn=fn.parentNode;)if(We.statesByElement.get(fn)){Tt=!0;break}}}if(this.prepareLeaveAnimationListeners(me),Tt)We.markElementAsRemoved(this.id,me,!1,be);else{const Qt=me[et];(!Qt||Qt===oe)&&(We.afterFlush(()=>this.clearElementCache(me)),We.destroyInnerAnimations(me),We._onRemovalComplete(me,be))}}insertNode(me,be){ci(me,this._hostClassName)}drainQueuedTransitions(me){const be=[];return this._queue.forEach(We=>{const Tt=We.player;if(Tt.destroyed)return;const Qt=We.element,fn=this._elementListeners.get(Qt);fn&&fn.forEach(cn=>{if(cn.name==We.triggerName){const wn=en(Qt,We.triggerName,We.fromState.value,We.toState.value);wn._data=me,Jt(We.player,cn.phase,wn,cn.callback)}}),Tt.markedForDestroy?this._engine.afterFlush(()=>{Tt.destroy()}):be.push(We)}),this._queue=[],be.sort((We,Tt)=>{const Qt=We.transition.ast.depCount,fn=Tt.transition.ast.depCount;return 0==Qt||0==fn?Qt-fn:this._engine.driver.containsElement(We.element,Tt.element)?1:-1})}destroy(me){this.players.forEach(be=>be.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,me)}elementContainsData(me){let be=!1;return this._elementListeners.has(me)&&(be=!0),be=!!this._queue.find(We=>We.element===me)||be,be}}class nt{constructor(me,be,We){this.bodyNode=me,this.driver=be,this._normalizer=We,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Tt,Qt)=>{}}_onRemovalComplete(me,be){this.onRemovalComplete(me,be)}get queuedPlayers(){const me=[];return this._namespaceList.forEach(be=>{be.players.forEach(We=>{We.queued&&me.push(We)})}),me}createNamespace(me,be){const We=new Yt(me,be,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,be)?this._balanceNamespaceList(We,be):(this.newHostElements.set(be,We),this.collectEnterElement(be)),this._namespaceLookup[me]=We}_balanceNamespaceList(me,be){const We=this._namespaceList,Tt=this.namespacesByHostElement,Qt=We.length-1;if(Qt>=0){let fn=!1;if(void 0!==this.driver.getParentElement){let cn=this.driver.getParentElement(be);for(;cn;){const wn=Tt.get(cn);if(wn){const ni=We.indexOf(wn);We.splice(ni+1,0,me),fn=!0;break}cn=this.driver.getParentElement(cn)}}else for(let cn=Qt;cn>=0;cn--)if(this.driver.containsElement(We[cn].hostElement,be)){We.splice(cn+1,0,me),fn=!0;break}fn||We.unshift(me)}else We.push(me);return Tt.set(be,me),me}register(me,be){let We=this._namespaceLookup[me];return We||(We=this.createNamespace(me,be)),We}registerTrigger(me,be,We){let Tt=this._namespaceLookup[me];Tt&&Tt.register(be,We)&&this.totalAnimations++}destroy(me,be){if(!me)return;const We=this._fetchNamespace(me);this.afterFlush(()=>{this.namespacesByHostElement.delete(We.hostElement),delete this._namespaceLookup[me];const Tt=this._namespaceList.indexOf(We);Tt>=0&&this._namespaceList.splice(Tt,1)}),this.afterFlushAnimationsDone(()=>We.destroy(be))}_fetchNamespace(me){return this._namespaceLookup[me]}fetchNamespacesByElement(me){const be=new Set,We=this.statesByElement.get(me);if(We){const Tt=Object.keys(We);for(let Qt=0;Qt<Tt.length;Qt++){const fn=We[Tt[Qt]].namespaceId;if(fn){const cn=this._fetchNamespace(fn);cn&&be.add(cn)}}}return be}trigger(me,be,We,Tt){if(_t(be)){const Qt=this._fetchNamespace(me);if(Qt)return Qt.trigger(be,We,Tt),!0}return!1}insertNode(me,be,We,Tt){if(!_t(be))return;const Qt=be[et];if(Qt&&Qt.setForRemoval){Qt.setForRemoval=!1,Qt.setForMove=!0;const fn=this.collectedLeaveElements.indexOf(be);fn>=0&&this.collectedLeaveElements.splice(fn,1)}if(me){const fn=this._fetchNamespace(me);fn&&fn.insertNode(be,We)}Tt&&this.collectEnterElement(be)}collectEnterElement(me){this.collectedEnterElements.push(me)}markElementAsDisabled(me,be){be?this.disabledNodes.has(me)||(this.disabledNodes.add(me),ci(me,c)):this.disabledNodes.has(me)&&(this.disabledNodes.delete(me),Re(me,c))}removeNode(me,be,We,Tt){if(_t(be)){const Qt=me?this._fetchNamespace(me):null;if(Qt?Qt.removeNode(be,Tt):this.markElementAsRemoved(me,be,!1,Tt),We){const fn=this.namespacesByHostElement.get(be);fn&&fn.id!==me&&fn.removeNode(be,Tt)}}else this._onRemovalComplete(be,Tt)}markElementAsRemoved(me,be,We,Tt,Qt){this.collectedLeaveElements.push(be),be[et]={namespaceId:me,setForRemoval:Tt,hasAnimation:We,removedBeforeQueried:!1,previousTriggersValues:Qt}}listen(me,be,We,Tt,Qt){return _t(be)?this._fetchNamespace(me).listen(be,We,Tt,Qt):()=>{}}_buildInstruction(me,be,We,Tt,Qt){return me.transition.build(this.driver,me.element,me.fromState.value,me.toState.value,We,Tt,me.fromState.options,me.toState.options,be,Qt)}destroyInnerAnimations(me){let be=this.driver.query(me,ke,!0);be.forEach(We=>this.destroyActiveAnimationsForElement(We)),0!=this.playersByQueriedElement.size&&(be=this.driver.query(me,Me,!0),be.forEach(We=>this.finishActiveQueriedAnimationOnElement(We)))}destroyActiveAnimationsForElement(me){const be=this.playersByElement.get(me);be&&be.forEach(We=>{We.queued?We.markedForDestroy=!0:We.destroy()})}finishActiveQueriedAnimationOnElement(me){const be=this.playersByQueriedElement.get(me);be&&be.forEach(We=>We.finish())}whenRenderingDone(){return new Promise(me=>{if(this.players.length)return Nt(this.players).onDone(()=>me());me()})}processLeaveNode(me){var be;const We=me[et];if(We&&We.setForRemoval){if(me[et]=oe,We.namespaceId){this.destroyInnerAnimations(me);const Tt=this._fetchNamespace(We.namespaceId);Tt&&Tt.clearElementCache(me)}this._onRemovalComplete(me,We.setForRemoval)}(null===(be=me.classList)||void 0===be?void 0:be.contains(c))&&this.markElementAsDisabled(me,!1),this.driver.query(me,".ng-animate-disabled",!0).forEach(Tt=>{this.markElementAsDisabled(Tt,!1)})}flush(me=-1){let be=[];if(this.newHostElements.size&&(this.newHostElements.forEach((We,Tt)=>this._balanceNamespaceList(We,Tt)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let We=0;We<this.collectedEnterElements.length;We++)ci(this.collectedEnterElements[We],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const We=[];try{be=this._flushAnimations(We,me)}finally{for(let Tt=0;Tt<We.length;Tt++)We[Tt]()}}else for(let We=0;We<this.collectedLeaveElements.length;We++)this.processLeaveNode(this.collectedLeaveElements[We]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(We=>We()),this._flushFns=[],this._whenQuietFns.length){const We=this._whenQuietFns;this._whenQuietFns=[],be.length?Nt(be).onDone(()=>{We.forEach(Tt=>Tt())}):We.forEach(Tt=>Tt())}}reportError(me){throw function He(Ct){return new v.vHH(3402,k)}()}_flushAnimations(me,be){const We=new Bo,Tt=[],Qt=new Map,fn=[],cn=new Map,wn=new Map,ni=new Map,Hi=new Set;this.disabledNodes.forEach(ji=>{Hi.add(ji);const bi=this.driver.query(ji,".ng-animate-queued",!0);for(let eo=0;eo<bi.length;eo++)Hi.add(bi[eo])});const ro=this.bodyNode,ao=Array.from(this.statesByElement.keys()),pi=zt(ao,this.collectedEnterElements),fo=new Map;let Lo=0;pi.forEach((ji,bi)=>{const eo=pt+Lo++;fo.set(bi,eo),ji.forEach(rs=>ci(rs,eo))});const hs=[],Ss=new Set,Os=new Set;for(let ji=0;ji<this.collectedLeaveElements.length;ji++){const bi=this.collectedLeaveElements[ji],eo=bi[et];eo&&eo.setForRemoval&&(hs.push(bi),Ss.add(bi),eo.hasAnimation?this.driver.query(bi,".ng-star-inserted",!0).forEach(rs=>Ss.add(rs)):Os.add(bi))}const ts=new Map,Jo=zt(ao,Array.from(Ss));Jo.forEach((ji,bi)=>{const eo=ei+Lo++;ts.set(bi,eo),ji.forEach(rs=>ci(rs,eo))}),me.push(()=>{pi.forEach((ji,bi)=>{const eo=fo.get(bi);ji.forEach(rs=>Re(rs,eo))}),Jo.forEach((ji,bi)=>{const eo=ts.get(bi);ji.forEach(rs=>Re(rs,eo))}),hs.forEach(ji=>{this.processLeaveNode(ji)})});const io=[],Do=[];for(let ji=this._namespaceList.length-1;ji>=0;ji--)this._namespaceList[ji].drainQueuedTransitions(be).forEach(eo=>{const rs=eo.player,Vs=eo.element;if(io.push(rs),this.collectedEnterElements.length){const Es=Vs[et];if(Es&&Es.setForMove){if(Es.previousTriggersValues&&Es.previousTriggersValues.has(eo.triggerName)){const _a=Es.previousTriggersValues.get(eo.triggerName),ur=this.statesByElement.get(eo.element);ur&&ur[eo.triggerName]&&(ur[eo.triggerName].value=_a)}return void rs.destroy()}}const Ds=!ro||!this.driver.containsElement(ro,Vs),zr=ts.get(Vs),Xr=fo.get(Vs),zs=this._buildInstruction(eo,We,Xr,zr,Ds);if(zs.errors&&zs.errors.length)return void Do.push(zs);if(Ds)return rs.onStart(()=>Dn(Vs,zs.fromStyles)),rs.onDestroy(()=>Xe(Vs,zs.toStyles)),void Tt.push(rs);if(eo.isFallbackTransition)return rs.onStart(()=>Dn(Vs,zs.fromStyles)),rs.onDestroy(()=>Xe(Vs,zs.toStyles)),void Tt.push(rs);const ns=[];zs.timelines.forEach(Es=>{Es.stretchStartingKeyframe=!0,this.disabledNodes.has(Es.element)||ns.push(Es)}),zs.timelines=ns,We.append(Vs,zs.timelines),fn.push({instruction:zs,player:rs,element:Vs}),zs.queriedElements.forEach(Es=>pn(cn,Es,[]).push(rs)),zs.preStyleProps.forEach((Es,_a)=>{const ur=Object.keys(Es);if(ur.length){let jr=wn.get(_a);jr||wn.set(_a,jr=new Set),ur.forEach(Jr=>jr.add(Jr))}}),zs.postStyleProps.forEach((Es,_a)=>{const ur=Object.keys(Es);let jr=ni.get(_a);jr||ni.set(_a,jr=new Set),ur.forEach(Jr=>jr.add(Jr))})});if(Do.length){const ji=[];Do.forEach(bi=>{ji.push(function ut(Ct,me){return new v.vHH(3505,k)}())}),io.forEach(bi=>bi.destroy()),this.reportError(ji)}const Ro=new Map,Cs=new Map;fn.forEach(ji=>{const bi=ji.element;We.has(bi)&&(Cs.set(bi,bi),this._beforeAnimationBuild(ji.player.namespaceId,ji.instruction,Ro))}),Tt.forEach(ji=>{const bi=ji.element;this._getPreviousPlayers(bi,!1,ji.namespaceId,ji.triggerName,null).forEach(rs=>{pn(Ro,bi,[]).push(rs),rs.destroy()})});const Ms=hs.filter(ji=>Hn(ji,wn,ni)),Ps=new Map;Ln(Ps,this.driver,Os,ni,Q.l3).forEach(ji=>{Hn(ji,wn,ni)&&Ms.push(ji)});const Er=new Map;pi.forEach((ji,bi)=>{Ln(Er,this.driver,new Set(ji),wn,Q.k1)}),Ms.forEach(ji=>{const bi=Ps.get(ji),eo=Er.get(ji);Ps.set(ji,Object.assign(Object.assign({},bi),eo))});const gr=[],la=[],ul={};fn.forEach(ji=>{const{element:bi,player:eo,instruction:rs}=ji;if(We.has(bi)){if(Hi.has(bi))return eo.onDestroy(()=>Xe(bi,rs.toStyles)),eo.disabled=!0,eo.overrideTotalTime(rs.totalTime),void Tt.push(eo);let Vs=ul;if(Cs.size>1){let zr=bi;const Xr=[];for(;zr=zr.parentNode;){const zs=Cs.get(zr);if(zs){Vs=zs;break}Xr.push(zr)}Xr.forEach(zs=>Cs.set(zs,Vs))}const Ds=this._buildAnimation(eo.namespaceId,rs,Ro,Qt,Er,Ps);if(eo.setRealPlayer(Ds),Vs===ul)gr.push(eo);else{const zr=this.playersByElement.get(Vs);zr&&zr.length&&(eo.parentPlayer=Nt(zr)),Tt.push(eo)}}else Dn(bi,rs.fromStyles),eo.onDestroy(()=>Xe(bi,rs.toStyles)),la.push(eo),Hi.has(bi)&&Tt.push(eo)}),la.forEach(ji=>{const bi=Qt.get(ji.element);if(bi&&bi.length){const eo=Nt(bi);ji.setRealPlayer(eo)}}),Tt.forEach(ji=>{ji.parentPlayer?ji.syncPlayerEvents(ji.parentPlayer):ji.destroy()});for(let ji=0;ji<hs.length;ji++){const bi=hs[ji],eo=bi[et];if(Re(bi,ei),eo&&eo.hasAnimation)continue;let rs=[];if(cn.size){let Ds=cn.get(bi);Ds&&Ds.length&&rs.push(...Ds);let zr=this.driver.query(bi,Me,!0);for(let Xr=0;Xr<zr.length;Xr++){let zs=cn.get(zr[Xr]);zs&&zs.length&&rs.push(...zs)}}const Vs=rs.filter(Ds=>!Ds.destroyed);Vs.length?wt(this,bi,Vs):this.processLeaveNode(bi)}return hs.length=0,gr.forEach(ji=>{this.players.push(ji),ji.onDone(()=>{ji.destroy();const bi=this.players.indexOf(ji);this.players.splice(bi,1)}),ji.play()}),gr}elementContainsData(me,be){let We=!1;const Tt=be[et];return Tt&&Tt.setForRemoval&&(We=!0),this.playersByElement.has(be)&&(We=!0),this.playersByQueriedElement.has(be)&&(We=!0),this.statesByElement.has(be)&&(We=!0),this._fetchNamespace(me).elementContainsData(be)||We}afterFlush(me){this._flushFns.push(me)}afterFlushAnimationsDone(me){this._whenQuietFns.push(me)}_getPreviousPlayers(me,be,We,Tt,Qt){let fn=[];if(be){const cn=this.playersByQueriedElement.get(me);cn&&(fn=cn)}else{const cn=this.playersByElement.get(me);if(cn){const wn=!Qt||Qt==It;cn.forEach(ni=>{ni.queued||!wn&&ni.triggerName!=Tt||fn.push(ni)})}}return(We||Tt)&&(fn=fn.filter(cn=>!(We&&We!=cn.namespaceId||Tt&&Tt!=cn.triggerName))),fn}_beforeAnimationBuild(me,be,We){const Qt=be.element,fn=be.isRemovalTransition?void 0:me,cn=be.isRemovalTransition?void 0:be.triggerName;for(const wn of be.timelines){const ni=wn.element,Hi=ni!==Qt,ro=pn(We,ni,[]);this._getPreviousPlayers(ni,Hi,fn,cn,be.toState).forEach(pi=>{const fo=pi.getRealPlayer();fo.beforeDestroy&&fo.beforeDestroy(),pi.destroy(),ro.push(pi)})}Dn(Qt,be.fromStyles)}_buildAnimation(me,be,We,Tt,Qt,fn){const cn=be.triggerName,wn=be.element,ni=[],Hi=new Set,ro=new Set,ao=be.timelines.map(fo=>{const Lo=fo.element;Hi.add(Lo);const hs=Lo[et];if(hs&&hs.removedBeforeQueried)return new Q.ZN(fo.duration,fo.delay);const Ss=Lo!==wn,Os=function Ze(Ct){const me=[];return Ot(Ct,me),me}((We.get(Lo)||de).map(Ro=>Ro.getRealPlayer())).filter(Ro=>!!Ro.element&&Ro.element===Lo),ts=Qt.get(Lo),Jo=fn.get(Lo),io=un(0,this._normalizer,0,fo.keyframes,ts,Jo),Do=this._buildPlayer(fo,io,Os);if(fo.subTimeline&&Tt&&ro.add(Lo),Ss){const Ro=new Le(me,cn,Lo);Ro.setRealPlayer(Do),ni.push(Ro)}return Do});ni.forEach(fo=>{pn(this.playersByQueriedElement,fo.element,[]).push(fo),fo.onDone(()=>function De(Ct,me,be){let We;if(Ct instanceof Map){if(We=Ct.get(me),We){if(We.length){const Tt=We.indexOf(be);We.splice(Tt,1)}0==We.length&&Ct.delete(me)}}else if(We=Ct[me],We){if(We.length){const Tt=We.indexOf(be);We.splice(Tt,1)}0==We.length&&delete Ct[me]}return We}(this.playersByQueriedElement,fo.element,fo))}),Hi.forEach(fo=>ci(fo,ft));const pi=Nt(ao);return pi.onDestroy(()=>{Hi.forEach(fo=>Re(fo,ft)),Xe(wn,be.toStyles)}),ro.forEach(fo=>{pn(Tt,fo,[]).push(pi)}),pi}_buildPlayer(me,be,We){return be.length>0?this.driver.animate(me.element,be,me.duration,me.delay,me.easing,We):new Q.ZN(me.duration,me.delay)}}class Le{constructor(me,be,We){this.namespaceId=me,this.triggerName=be,this.element=We,this._player=new Q.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(me){this._containsRealPlayer||(this._player=me,Object.keys(this._queuedCallbacks).forEach(be=>{this._queuedCallbacks[be].forEach(We=>Jt(me,be,void 0,We))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(me.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(me){this.totalTime=me}syncPlayerEvents(me){const be=this._player;be.triggerCallback&&me.onStart(()=>be.triggerCallback("start")),me.onDone(()=>this.finish()),me.onDestroy(()=>this.destroy())}_queueEvent(me,be){pn(this._queuedCallbacks,me,[]).push(be)}onDone(me){this.queued&&this._queueEvent("done",me),this._player.onDone(me)}onStart(me){this.queued&&this._queueEvent("start",me),this._player.onStart(me)}onDestroy(me){this.queued&&this._queueEvent("destroy",me),this._player.onDestroy(me)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(me){this.queued||this._player.setPosition(me)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(me){const be=this._player;be.triggerCallback&&be.triggerCallback(me)}}function _t(Ct){return Ct&&1===Ct.nodeType}function an(Ct,me){const be=Ct.style.display;return Ct.style.display=null!=me?me:"none",be}function Ln(Ct,me,be,We,Tt){const Qt=[];be.forEach(wn=>Qt.push(an(wn)));const fn=[];We.forEach((wn,ni)=>{const Hi={};wn.forEach(ro=>{const ao=Hi[ro]=me.computeStyle(ni,ro,Tt);(!ao||0==ao.length)&&(ni[et]=Qe,fn.push(ni))}),Ct.set(ni,Hi)});let cn=0;return be.forEach(wn=>an(wn,Qt[cn++])),fn}function zt(Ct,me){const be=new Map;if(Ct.forEach(cn=>be.set(cn,[])),0==me.length)return be;const Tt=new Set(me),Qt=new Map;function fn(cn){if(!cn)return 1;let wn=Qt.get(cn);if(wn)return wn;const ni=cn.parentNode;return wn=be.has(ni)?ni:Tt.has(ni)?1:fn(ni),Qt.set(cn,wn),wn}return me.forEach(cn=>{const wn=fn(cn);1!==wn&&be.get(wn).push(cn)}),be}function ci(Ct,me){var be;null===(be=Ct.classList)||void 0===be||be.add(me)}function Re(Ct,me){var be;null===(be=Ct.classList)||void 0===be||be.remove(me)}function wt(Ct,me,be){Nt(be).onDone(()=>Ct.processLeaveNode(me))}function Ot(Ct,me){for(let be=0;be<Ct.length;be++){const We=Ct[be];We instanceof Q.ZE?Ot(We.players,me):me.push(We)}}function Hn(Ct,me,be){const We=be.get(Ct);if(!We)return!1;let Tt=me.get(Ct);return Tt?We.forEach(Qt=>Tt.add(Qt)):me.set(Ct,We),be.delete(Ct),!0}class $n{constructor(me,be,We){this.bodyNode=me,this._driver=be,this._normalizer=We,this._triggerCache={},this.onRemovalComplete=(Tt,Qt)=>{},this._transitionEngine=new nt(me,be,We),this._timelineEngine=new ir(me,be,We),this._transitionEngine.onRemovalComplete=(Tt,Qt)=>this.onRemovalComplete(Tt,Qt)}registerTrigger(me,be,We,Tt,Qt){const fn=me+"-"+Tt;let cn=this._triggerCache[fn];if(!cn){const wn=[],ni=Ei(this._driver,Qt,wn);if(wn.length)throw function Ie(Ct,me){return new v.vHH(3404,k)}();cn=function Ar(Ct,me,be){return new qs(Ct,me,be)}(Tt,ni,this._normalizer),this._triggerCache[fn]=cn}this._transitionEngine.registerTrigger(be,Tt,cn)}register(me,be){this._transitionEngine.register(me,be)}destroy(me,be){this._transitionEngine.destroy(me,be)}onInsert(me,be,We,Tt){this._transitionEngine.insertNode(me,be,We,Tt)}onRemove(me,be,We,Tt){this._transitionEngine.removeNode(me,be,Tt||!1,We)}disableAnimations(me,be){this._transitionEngine.markElementAsDisabled(me,be)}process(me,be,We,Tt){if("@"==We.charAt(0)){const[Qt,fn]=Xt(We);this._timelineEngine.command(Qt,be,fn,Tt)}else this._transitionEngine.trigger(me,be,We,Tt)}listen(me,be,We,Tt,Qt){if("@"==We.charAt(0)){const[fn,cn]=Xt(We);return this._timelineEngine.listen(fn,be,cn,Qt)}return this._transitionEngine.listen(me,be,We,Tt,Qt)}flush(me=-1){this._transitionEngine.flush(me)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let es=(()=>{class Ct{constructor(be,We,Tt){this._element=be,this._startStyles=We,this._endStyles=Tt,this._state=0;let Qt=Ct.initialStylesByElement.get(be);Qt||Ct.initialStylesByElement.set(be,Qt={}),this._initialStyles=Qt}start(){this._state<1&&(this._startStyles&&Xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xe(this._element,this._initialStyles),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ct.initialStylesByElement.delete(this._element),this._startStyles&&(Dn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dn(this._element,this._endStyles),this._endStyles=null),Xe(this._element,this._initialStyles),this._state=3)}}return Ct.initialStylesByElement=new WeakMap,Ct})();function No(Ct){let me=null;const be=Object.keys(Ct);for(let We=0;We<be.length;We++){const Tt=be[We];yo(Tt)&&(me=me||{},me[Tt]=Ct[Tt])}return me}function yo(Ct){return"display"===Ct||"position"===Ct}class $i{constructor(me,be,We,Tt){this.element=me,this.keyframes=be,this.options=We,this._specialStyles=Tt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=We.duration,this._delay=We.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const me=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,me,this.options),this._finalKeyframe=me.length?me[me.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(me,be,We){return me.animate(be,We)}onStart(me){this._onStartFns.push(me)}onDone(me){this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(me=>me()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}setPosition(me){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=me*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const me={};if(this.hasStarted()){const be=this._finalKeyframe;Object.keys(be).forEach(We=>{"offset"!=We&&(me[We]=this._finished?be[We]:ii(this.element,We))})}this.currentSnapshot=me}triggerCallback(me){const be="start"==me?this._onStartFns:this._onDoneFns;be.forEach(We=>We()),be.length=0}}class Xo{validateStyleProperty(me){return jt(me)}matchesElement(me,be){return!1}containsElement(me,be){return In(me,be)}getParentElement(me){return nn(me)}query(me,be,We){return it(me,be,We)}computeStyle(me,be,We){return window.getComputedStyle(me)[be]}animate(me,be,We,Tt,Qt,fn=[]){const wn={duration:We,delay:Tt,fill:0==Tt?"both":"forwards"};Qt&&(wn.easing=Qt);const ni={},Hi=fn.filter(ao=>ao instanceof $i);(function Jn(Ct,me){return 0===Ct||0===me})(We,Tt)&&Hi.forEach(ao=>{let pi=ao.currentSnapshot;Object.keys(pi).forEach(fo=>ni[fo]=pi[fo])}),be=function qn(Ct,me,be){const We=Object.keys(be);if(We.length&&me.length){let Qt=me[0],fn=[];if(We.forEach(cn=>{Qt.hasOwnProperty(cn)||fn.push(cn),Qt[cn]=be[cn]}),fn.length)for(var Tt=1;Tt<me.length;Tt++){let cn=me[Tt];fn.forEach(function(wn){cn[wn]=ii(Ct,wn)})}}return me}(me,be=be.map(ao=>tn(ao,!1)),ni);const ro=function Fi(Ct,me){let be=null,We=null;return Array.isArray(me)&&me.length?(be=No(me[0]),me.length>1&&(We=No(me[me.length-1]))):me&&(be=No(me)),be||We?new es(Ct,be,We):null}(me,be);return new $i(me,be,wn,ro)}}var Go=m(9808);let So=(()=>{class Ct extends Q._j{constructor(be,We){super(),this._nextAnimationId=0,this._renderer=be.createRenderer(We.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(be){const We=this._nextAnimationId.toString();this._nextAnimationId++;const Tt=Array.isArray(be)?(0,Q.vP)(be):be;return Vi(this._renderer,null,We,"register",[Tt]),new bs(We,this._renderer)}}return Ct.\u0275fac=function(be){return new(be||Ct)(v.LFG(v.FYo),v.LFG(Go.K0))},Ct.\u0275prov=v.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class bs extends Q.LC{constructor(me,be){super(),this._id=me,this._renderer=be}create(me,be){return new Rs(this._id,me,be||{},this._renderer)}}class Rs{constructor(me,be,We,Tt){this.id=me,this.element=be,this._renderer=Tt,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",We)}_listen(me,be){return this._renderer.listen(this.element,`@@${this.id}:${me}`,be)}_command(me,...be){return Vi(this._renderer,this.element,this.id,me,be)}onDone(me){this._listen("done",me)}onStart(me){this._listen("start",me)}onDestroy(me){this._listen("destroy",me)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(me){this._command("setPosition",me)}getPosition(){var me,be;return null!==(be=null===(me=this._renderer.engine.players[+this.id])||void 0===me?void 0:me.getPosition())&&void 0!==be?be:0}}function Vi(Ct,me,be,We,Tt){return Ct.setProperty(me,`@@${be}:${We}`,Tt)}const Hs="@.disabled";let Ys=(()=>{class Ct{constructor(be,We,Tt){this.delegate=be,this.engine=We,this._zone=Tt,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),We.onRemovalComplete=(Qt,fn)=>{const cn=null==fn?void 0:fn.parentNode(Qt);cn&&fn.removeChild(cn,Qt)}}createRenderer(be,We){const Qt=this.delegate.createRenderer(be,We);if(!(be&&We&&We.data&&We.data.animation)){let Hi=this._rendererCache.get(Qt);return Hi||(Hi=new ra("",Qt,this.engine),this._rendererCache.set(Qt,Hi)),Hi}const fn=We.id,cn=We.id+"-"+this._currentId;this._currentId++,this.engine.register(cn,be);const wn=Hi=>{Array.isArray(Hi)?Hi.forEach(wn):this.engine.registerTrigger(fn,cn,be,Hi.name,Hi)};return We.data.animation.forEach(wn),new To(this,cn,Qt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(be,We,Tt){be>=0&&be<this._microtaskId?this._zone.run(()=>We(Tt)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Qt=>{const[fn,cn]=Qt;fn(cn)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([We,Tt]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ct.\u0275fac=function(be){return new(be||Ct)(v.LFG(v.FYo),v.LFG($n),v.LFG(v.R0b))},Ct.\u0275prov=v.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class ra{constructor(me,be,We){this.namespaceId=me,this.delegate=be,this.engine=We,this.destroyNode=this.delegate.destroyNode?Tt=>be.destroyNode(Tt):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(me,be){return this.delegate.createElement(me,be)}createComment(me){return this.delegate.createComment(me)}createText(me){return this.delegate.createText(me)}appendChild(me,be){this.delegate.appendChild(me,be),this.engine.onInsert(this.namespaceId,be,me,!1)}insertBefore(me,be,We,Tt=!0){this.delegate.insertBefore(me,be,We),this.engine.onInsert(this.namespaceId,be,me,Tt)}removeChild(me,be,We){this.engine.onRemove(this.namespaceId,be,this.delegate,We)}selectRootElement(me,be){return this.delegate.selectRootElement(me,be)}parentNode(me){return this.delegate.parentNode(me)}nextSibling(me){return this.delegate.nextSibling(me)}setAttribute(me,be,We,Tt){this.delegate.setAttribute(me,be,We,Tt)}removeAttribute(me,be,We){this.delegate.removeAttribute(me,be,We)}addClass(me,be){this.delegate.addClass(me,be)}removeClass(me,be){this.delegate.removeClass(me,be)}setStyle(me,be,We,Tt){this.delegate.setStyle(me,be,We,Tt)}removeStyle(me,be,We){this.delegate.removeStyle(me,be,We)}setProperty(me,be,We){"@"==be.charAt(0)&&be==Hs?this.disableAnimations(me,!!We):this.delegate.setProperty(me,be,We)}setValue(me,be){this.delegate.setValue(me,be)}listen(me,be,We){return this.delegate.listen(me,be,We)}disableAnimations(me,be){this.engine.disableAnimations(me,be)}}class To extends ra{constructor(me,be,We,Tt){super(be,We,Tt),this.factory=me,this.namespaceId=be}setProperty(me,be,We){"@"==be.charAt(0)?"."==be.charAt(1)&&be==Hs?this.disableAnimations(me,We=void 0===We||!!We):this.engine.process(this.namespaceId,me,be.substr(1),We):this.delegate.setProperty(me,be,We)}listen(me,be,We){if("@"==be.charAt(0)){const Tt=function Qr(Ct){switch(Ct){case"body":return document.body;case"document":return document;case"window":return window;default:return Ct}}(me);let Qt=be.substr(1),fn="";return"@"!=Qt.charAt(0)&&([Qt,fn]=function aa(Ct){const me=Ct.indexOf(".");return[Ct.substring(0,me),Ct.substr(me+1)]}(Qt)),this.engine.listen(this.namespaceId,Tt,Qt,fn,cn=>{this.factory.scheduleListenerCallback(cn._data||-1,We,cn)})}return this.delegate.listen(me,be,We)}}let qe=(()=>{class Ct extends $n{constructor(be,We,Tt){super(be.body,We,Tt)}ngOnDestroy(){this.flush()}}return Ct.\u0275fac=function(be){return new(be||Ct)(v.LFG(Go.K0),v.LFG(Zt),v.LFG(Wo))},Ct.\u0275prov=v.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();const kt=new v.OlP("AnimationModuleType"),ri=[{provide:Q._j,useClass:So},{provide:Wo,useFactory:function Ue(){return new Is}},{provide:$n,useClass:qe},{provide:v.FYo,useFactory:function Be(Ct,me,be){return new Ys(Ct,me,be)},deps:[h.se,$n,v.R0b]}],Vn=[{provide:Zt,useFactory:()=>new Xo},{provide:kt,useValue:"BrowserAnimations"},...ri],so=[{provide:Zt,useClass:bt},{provide:kt,useValue:"NoopAnimations"},...ri];let er=(()=>{class Ct{static withConfig(be){return{ngModule:Ct,providers:be.disableAnimations?so:Vn}}}return Ct.\u0275fac=function(be){return new(be||Ct)},Ct.\u0275mod=v.oAB({type:Ct}),Ct.\u0275inj=v.cJS({providers:Vn,imports:[h.b2]}),Ct})()},2313:(vt,Ke,m)=>{m.d(Ke,{b2:()=>ze,q6:()=>pn,se:()=>$});var v=m(9808),h=m(4893);class Q extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class k extends Q{static makeCurrent(){(0,v.HT)(new k)}onAndCancel(Te,Ae,ht){return Te.addEventListener(Ae,ht,!1),()=>{Te.removeEventListener(Ae,ht,!1)}}dispatchEvent(Te,Ae){Te.dispatchEvent(Ae)}remove(Te){Te.parentNode&&Te.parentNode.removeChild(Te)}createElement(Te,Ae){return(Ae=Ae||this.getDefaultDocument()).createElement(Te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Te){return Te.nodeType===Node.ELEMENT_NODE}isShadowRoot(Te){return Te instanceof DocumentFragment}getGlobalEventTarget(Te,Ae){return"window"===Ae?window:"document"===Ae?Te:"body"===Ae?Te.body:null}getBaseHref(Te){const Ae=function se(){return R=R||document.querySelector("base"),R?R.getAttribute("href"):null}();return null==Ae?null:function Y(Ye){j=j||document.createElement("a"),j.setAttribute("href",Ye);const Te=j.pathname;return"/"===Te.charAt(0)?Te:`/${Te}`}(Ae)}resetBaseElement(){R=null}getUserAgent(){return window.navigator.userAgent}getCookie(Te){return(0,v.Mx)(document.cookie,Te)}}let j,R=null;const V=new h.OlP("TRANSITION_ID"),w=[{provide:h.ip1,useFactory:function x(Ye,Te,Ae){return()=>{Ae.get(h.CZH).donePromise.then(()=>{const ht=(0,v.q)(),Mt=Te.querySelectorAll(`style[ng-transition="${Ye}"]`);for(let Ge=0;Ge<Mt.length;Ge++)ht.remove(Mt[Ge])})}},deps:[V,v.K0,h.zs3],multi:!0}];class D{static init(){(0,h.VLi)(new D)}addToWindow(Te){h.dqk.getAngularTestability=(ht,Mt=!0)=>{const Ge=Te.findTestabilityInTree(ht,Mt);if(null==Ge)throw new Error("Could not find testability for element.");return Ge},h.dqk.getAllAngularTestabilities=()=>Te.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>Te.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(ht=>{const Mt=h.dqk.getAllAngularTestabilities();let Ge=Mt.length,ln=!1;const jn=function(Jn){ln=ln||Jn,Ge--,0==Ge&&ht(ln)};Mt.forEach(function(Jn){Jn.whenStable(jn)})})}findTestabilityInTree(Te,Ae,ht){if(null==Ae)return null;const Mt=Te.getTestability(Ae);return null!=Mt?Mt:ht?(0,v.q)().isShadowRoot(Ae)?this.findTestabilityInTree(Te,Ae.host,!0):this.findTestabilityInTree(Te,Ae.parentElement,!0):null}}let F=(()=>{class Ye{build(){return new XMLHttpRequest}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const f=new h.OlP("EventManagerPlugins");let T=(()=>{class Ye{constructor(Ae,ht){this._zone=ht,this._eventNameToPlugin=new Map,Ae.forEach(Mt=>Mt.manager=this),this._plugins=Ae.slice().reverse()}addEventListener(Ae,ht,Mt){return this._findPluginFor(ht).addEventListener(Ae,ht,Mt)}addGlobalEventListener(Ae,ht,Mt){return this._findPluginFor(ht).addGlobalEventListener(Ae,ht,Mt)}getZone(){return this._zone}_findPluginFor(Ae){const ht=this._eventNameToPlugin.get(Ae);if(ht)return ht;const Mt=this._plugins;for(let Ge=0;Ge<Mt.length;Ge++){const ln=Mt[Ge];if(ln.supports(Ae))return this._eventNameToPlugin.set(Ae,ln),ln}throw new Error(`No event manager plugin found for event ${Ae}`)}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)(h.LFG(f),h.LFG(h.R0b))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class z{constructor(Te){this._doc=Te}addGlobalEventListener(Te,Ae,ht){const Mt=(0,v.q)().getGlobalEventTarget(this._doc,Te);if(!Mt)throw new Error(`Unsupported event target ${Mt} for event ${Ae}`);return this.addEventListener(Mt,Ae,ht)}}let I=(()=>{class Ye{constructor(){this._stylesSet=new Set}addStyles(Ae){const ht=new Set;Ae.forEach(Mt=>{this._stylesSet.has(Mt)||(this._stylesSet.add(Mt),ht.add(Mt))}),this.onStylesAdded(ht)}onStylesAdded(Ae){}getAllStyles(){return Array.from(this._stylesSet)}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),H=(()=>{class Ye extends I{constructor(Ae){super(),this._doc=Ae,this._hostNodes=new Map,this._hostNodes.set(Ae.head,[])}_addStylesToHost(Ae,ht,Mt){Ae.forEach(Ge=>{const ln=this._doc.createElement("style");ln.textContent=Ge,Mt.push(ht.appendChild(ln))})}addHost(Ae){const ht=[];this._addStylesToHost(this._stylesSet,Ae,ht),this._hostNodes.set(Ae,ht)}removeHost(Ae){const ht=this._hostNodes.get(Ae);ht&&ht.forEach(K),this._hostNodes.delete(Ae)}onStylesAdded(Ae){this._hostNodes.forEach((ht,Mt)=>{this._addStylesToHost(Ae,Mt,ht)})}ngOnDestroy(){this._hostNodes.forEach(Ae=>Ae.forEach(K))}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)(h.LFG(v.K0))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function K(Ye){(0,v.q)().remove(Ye)}const N={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M=/%COMP%/g,W="%COMP%",J=`_nghost-${W}`,he=`_ngcontent-${W}`;function Se(Ye,Te,Ae){for(let ht=0;ht<Te.length;ht++){let Mt=Te[ht];Array.isArray(Mt)?Se(Ye,Mt,Ae):(Mt=Mt.replace(M,Ye),Ae.push(Mt))}return Ae}function Ie(Ye){return Te=>{if("__ngUnwrap__"===Te)return Ye;!1===Ye(Te)&&(Te.preventDefault(),Te.returnValue=!1)}}let $=(()=>{class Ye{constructor(Ae,ht,Mt){this.eventManager=Ae,this.sharedStylesHost=ht,this.appId=Mt,this.rendererByCompId=new Map,this.defaultRenderer=new X(Ae)}createRenderer(Ae,ht){if(!Ae||!ht)return this.defaultRenderer;switch(ht.encapsulation){case h.ifc.Emulated:{let Mt=this.rendererByCompId.get(ht.id);return Mt||(Mt=new ne(this.eventManager,this.sharedStylesHost,ht,this.appId),this.rendererByCompId.set(ht.id,Mt)),Mt.applyToHost(Ae),Mt}case 1:case h.ifc.ShadowDom:return new ce(this.eventManager,this.sharedStylesHost,Ae,ht);default:if(!this.rendererByCompId.has(ht.id)){const Mt=Se(ht.id,ht.styles,[]);this.sharedStylesHost.addStyles(Mt),this.rendererByCompId.set(ht.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)(h.LFG(T),h.LFG(H),h.LFG(h.AFp))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class X{constructor(Te){this.eventManager=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Te,Ae){return Ae?document.createElementNS(N[Ae]||Ae,Te):document.createElement(Te)}createComment(Te){return document.createComment(Te)}createText(Te){return document.createTextNode(Te)}appendChild(Te,Ae){Te.appendChild(Ae)}insertBefore(Te,Ae,ht){Te&&Te.insertBefore(Ae,ht)}removeChild(Te,Ae){Te&&Te.removeChild(Ae)}selectRootElement(Te,Ae){let ht="string"==typeof Te?document.querySelector(Te):Te;if(!ht)throw new Error(`The selector "${Te}" did not match any elements`);return Ae||(ht.textContent=""),ht}parentNode(Te){return Te.parentNode}nextSibling(Te){return Te.nextSibling}setAttribute(Te,Ae,ht,Mt){if(Mt){Ae=Mt+":"+Ae;const Ge=N[Mt];Ge?Te.setAttributeNS(Ge,Ae,ht):Te.setAttribute(Ae,ht)}else Te.setAttribute(Ae,ht)}removeAttribute(Te,Ae,ht){if(ht){const Mt=N[ht];Mt?Te.removeAttributeNS(Mt,Ae):Te.removeAttribute(`${ht}:${Ae}`)}else Te.removeAttribute(Ae)}addClass(Te,Ae){Te.classList.add(Ae)}removeClass(Te,Ae){Te.classList.remove(Ae)}setStyle(Te,Ae,ht,Mt){Mt&(h.JOm.DashCase|h.JOm.Important)?Te.style.setProperty(Ae,ht,Mt&h.JOm.Important?"important":""):Te.style[Ae]=ht}removeStyle(Te,Ae,ht){ht&h.JOm.DashCase?Te.style.removeProperty(Ae):Te.style[Ae]=""}setProperty(Te,Ae,ht){Te[Ae]=ht}setValue(Te,Ae){Te.nodeValue=Ae}listen(Te,Ae,ht){return"string"==typeof Te?this.eventManager.addGlobalEventListener(Te,Ae,Ie(ht)):this.eventManager.addEventListener(Te,Ae,Ie(ht))}}class ne extends X{constructor(Te,Ae,ht,Mt){super(Te),this.component=ht;const Ge=Se(Mt+"-"+ht.id,ht.styles,[]);Ae.addStyles(Ge),this.contentAttr=function ye(Ye){return he.replace(M,Ye)}(Mt+"-"+ht.id),this.hostAttr=function fe(Ye){return J.replace(M,Ye)}(Mt+"-"+ht.id)}applyToHost(Te){super.setAttribute(Te,this.hostAttr,"")}createElement(Te,Ae){const ht=super.createElement(Te,Ae);return super.setAttribute(ht,this.contentAttr,""),ht}}class ce extends X{constructor(Te,Ae,ht,Mt){super(Te),this.sharedStylesHost=Ae,this.hostEl=ht,this.shadowRoot=ht.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ge=Se(Mt.id,Mt.styles,[]);for(let ln=0;ln<Ge.length;ln++){const jn=document.createElement("style");jn.textContent=Ge[ln],this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(Te){return Te===this.hostEl?this.shadowRoot:Te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Te,Ae){return super.appendChild(this.nodeOrShadowRoot(Te),Ae)}insertBefore(Te,Ae,ht){return super.insertBefore(this.nodeOrShadowRoot(Te),Ae,ht)}removeChild(Te,Ae){return super.removeChild(this.nodeOrShadowRoot(Te),Ae)}parentNode(Te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Te)))}}let ue=(()=>{class Ye extends z{constructor(Ae){super(Ae)}supports(Ae){return!0}addEventListener(Ae,ht,Mt){return Ae.addEventListener(ht,Mt,!1),()=>this.removeEventListener(Ae,ht,Mt)}removeEventListener(Ae,ht,Mt){return Ae.removeEventListener(ht,Mt)}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)(h.LFG(v.K0))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const we=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ve={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let ct=(()=>{class Ye extends z{constructor(Ae){super(Ae)}supports(Ae){return null!=Ye.parseEventName(Ae)}addEventListener(Ae,ht,Mt){const Ge=Ye.parseEventName(ht),ln=Ye.eventCallback(Ge.fullKey,Mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(Ae,Ge.domEventName,ln))}static parseEventName(Ae){const ht=Ae.toLowerCase().split("."),Mt=ht.shift();if(0===ht.length||"keydown"!==Mt&&"keyup"!==Mt)return null;const Ge=Ye._normalizeKey(ht.pop());let ln="";if(we.forEach(Jn=>{const qn=ht.indexOf(Jn);qn>-1&&(ht.splice(qn,1),ln+=Jn+".")}),ln+=Ge,0!=ht.length||0===Ge.length)return null;const jn={};return jn.domEventName=Mt,jn.fullKey=ln,jn}static getEventFullKey(Ae){let ht="",Mt=function Nt(Ye){let Te=Ye.key;if(null==Te){if(Te=Ye.keyIdentifier,null==Te)return"Unidentified";Te.startsWith("U+")&&(Te=String.fromCharCode(parseInt(Te.substring(2),16)),3===Ye.location&&ut.hasOwnProperty(Te)&&(Te=ut[Te]))}return lt[Te]||Te}(Ae);return Mt=Mt.toLowerCase()," "===Mt?Mt="space":"."===Mt&&(Mt="dot"),we.forEach(Ge=>{Ge!=Mt&&Ve[Ge](Ae)&&(ht+=Ge+".")}),ht+=Mt,ht}static eventCallback(Ae,ht,Mt){return Ge=>{Ye.getEventFullKey(Ge)===Ae&&Mt.runGuarded(()=>ht(Ge))}}static _normalizeKey(Ae){return"esc"===Ae?"escape":Ae}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)(h.LFG(v.K0))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const pn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:v.bD},{provide:h.g9A,useValue:function un(){k.makeCurrent(),D.init()},multi:!0},{provide:v.K0,useFactory:function St(){return(0,h.RDi)(document),document},deps:[]}]),Xt=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Jt(){return new h.qLn},deps:[]},{provide:f,useClass:ue,multi:!0,deps:[v.K0,h.R0b,h.Lbi]},{provide:f,useClass:ct,multi:!0,deps:[v.K0]},{provide:$,useClass:$,deps:[T,H,h.AFp]},{provide:h.FYo,useExisting:$},{provide:I,useExisting:H},{provide:H,useClass:H,deps:[v.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:T,useClass:T,deps:[f,h.R0b]},{provide:v.JF,useClass:F,deps:[]}];let ze=(()=>{class Ye{constructor(Ae){if(Ae)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Ae){return{ngModule:Ye,providers:[{provide:h.AFp,useValue:Ae.appId},{provide:V,useExisting:h.AFp},w]}}}return Ye.\u0275fac=function(Ae){return new(Ae||Ye)(h.LFG(Ye,12))},Ye.\u0275mod=h.oAB({type:Ye}),Ye.\u0275inj=h.cJS({providers:Xt,imports:[v.ez,h.hGG]}),Ye})();"undefined"!=typeof window&&window},5861:(vt,Ke,m)=>{function v(Q,k,R,se,j,Y,V){try{var x=Q[Y](V),w=x.value}catch(D){return void R(D)}x.done?k(w):Promise.resolve(w).then(se,j)}function h(Q){return function(){var k=this,R=arguments;return new Promise(function(se,j){var Y=Q.apply(k,R);function V(w){v(Y,se,j,V,x,"next",w)}function x(w){v(Y,se,j,V,x,"throw",w)}V(void 0)})}}m.d(Ke,{Z:()=>h})},5864:(vt,Ke,m)=>{var v=([h])=>m.v(Ke,vt.id,"9e81f4c9da452632",{"./snowflakejs_bg.js":{__wbindgen_string_new:h.h4,__wbindgen_object_drop_ref:h.ug,__wbg_log_3445347661d4505e:h.JV,__wbindgen_throw:h.Or}});m.a(vt,h=>{var k=h([m(2082)]);return k.then?k.then(v):v(k)},1)}},vt=>{vt(vt.s=4431)}]);